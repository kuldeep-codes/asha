<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Finance and operations apps and associated apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>By taking advantage of Dynamics 365 capabilities, you can make better
decisions by improving business outcomes with data-driven insights and
recommendations, build customer relationships with meaningful
engagements, and operate more efficiently by automating and optimizing
everyday tasks.</p>
<h2 id="dynamics-365-applications">Dynamics 365 applications</h2>
<p>Several Dynamics 365 applications exist in the ecosystem. All the
applications can work on their own, together, and with existing business
systems.</p>
<h3 id="sales">Sales</h3>
<p>The sales applications for Dynamics 365 help businesses prioritize the
right prospects, build relationships, and increase sales. These
applications include:</p>
<ul>
<li>Dynamics 365 Sales</li>
<li>Microsoft Relationship Sales Solution (MRSs)</li>
<li>Dynamics 365 Sales Insights</li>
<li>Dynamics 365 Customer Insights</li>
<li>Dynamics 365 Product Visualize</li>
</ul>
<h3 id="service">Service</h3>
<p>Dynamics 365 services helps your agents and technicians meet your
customer service expectations by offering applications that enable them
to optimize performance, view customer insights, and quickly solve problems. These applications are:</p>
<ul>
<li>Dynamics 365 Customer Service</li>
<li>Dynamics 365 Field Service</li>
<li>Dynamics 365 Remote Assistant</li>
<li>Dynamics 365 Project Service Automation</li>
<li>Dynamics 365 Customer Insights</li>
<li>Dynamics 365 Virtual Agent for Customer Service</li>
<li>Dynamics 365 Customer Service Insights</li>
</ul>
<h3 id="marketing">Marketing</h3>
<p>Businesses must be able to reach their customers by targeting the right
buyers, managing multi-channel marketing campaigns, and creating
sales-ready leads. Dynamics 365 offers several marketing applications
that enable your business to reach your customers. These applications
include:</p>
<ul>
<li>Dynamics 365 Customer Insights - Journeys</li>
<li>Dynamics 365 Market Insights</li>
<li>Dynamics 365 Customer Insights</li>
<li>Adobe Marketing Cloud</li>
</ul>
<h3 id="finance-and-operations-apps">Finance and operations apps</h3>
<p>More than ever, organizations need the ability to optimize their retail
and supply chain operations and seamlessly connect to their back-office
data. Microsoft offers a cloud-based enterprise resource planning (ERP)
and retail solution that enables these organizations to meet these
needs.</p>
<ul>
<li>Finance and operations apps</li>
<li>Dynamics 365 Commerce</li>
</ul>
<h3 id="dynamics-365-human-resources">Dynamics 365 Human Resources</h3>
<p>The way we work, and the workplace, have fundamentally changed—and yet, for many businesses HR processes have not. When workforce practices are disconnected, the result is lower employee engagement and higher turnover rates. Employee disruption ultimately impacts the organization through a lack of product innovation, expensive operational errors, less satisfied customers, and suboptimal financial results.</p>
<p>Dynamics 365 Human Resources helps HR professionals get the workforce insights needed to build data-driven employee experiences across multiple areas:</p>
<ul>
<li>Compensation</li>
<li>Benefits</li>
<li>Leave and absence</li>
<li>Compliance</li>
<li>Payroll</li>
<li>Performance feedback</li>
<li>Training and certification</li>
<li>Self-service programs</li>
</ul>
<p>Dynamics 365 Human Resources connects people and operations data to ensure businesses can optimize workforce costs and take better care of employees.</p>
<h2 id="microsoft-power-platform">Microsoft Power Platform</h2>
<p>Microsoft Power Platform empowers people and organizations to innovate and
create applications for your business and connect to Dynamics 365
applications and external applications. The three applications
that make up Microsoft Power Platform include:</p>
<ul>
<li><p><strong>Power Apps</strong> - Allows you to build powerful apps that meet
the needs your business, including task automation, data management,
and application extension functionality. All of this can be done
without writing a single line of code. By using Microsoft Dataverse, Power Apps enables you to consolidate business
data from multiple data sources.</p>
</li>
<li><p><strong>Power BI</strong> - The reporting and analytics application that allows
you to embed intelligence into your applications. These visuals can
be built with your Dynamics 365 data to help you make sense of your
data and discover new insights to help decision making within the
business.</p>
</li>
<li><p><strong>Power Automate</strong> - This service automates your business processes. With
more than 200 services included out of the box, Power Automate
enables you to create automated workflows that connect to services
both inside and outside of Dynamics 365 applications. This
application can provide guidance to ensure data and process
consistency throughout your organization. You can start from the beginning or use one of hundreds of available templates.</p>
</li>
</ul>
<h2 id="components-and-architecture-of-finance-and-operations-apps">Components and architecture of finance and operations apps</h2>
<p>Before you begin developing for finance and operations apps, you need to understand the major components and architecture of the application.
The application stack for Dynamics 365 is divided into platform models
and application-specific models. This module explores both the platform and application-specific models and their importance when developing for the application.</p>
<p>The architecture and developer experience for finance and operations apps is modeled to support a cloud-based application.</p>
<p>The division of the application stack for finance and operations apps allows
you to develop and customize the application by using the base foundation
models. The model-based development also drives how to develop for
finance and operations apps by using extensions, a less intrusive approach to
development compared to over layering.</p>
<p>To further understand this concept, consider the three key models in finance and operations apps:</p>
<ul>
<li><p><strong>Application suite</strong> - This is the largest out-of-the-box
model. This model includes much of the metadata in the main
navigational areas of the application, including modules such as
Accounts receivable, Accounts payable, and Warehouse management.</p>
</li>
<li><p><strong>Application foundation</strong> - This includes metadata that
comprises organizational modeling, number sequences in the system,
global address book, and source documentation.</p>
</li>
<li><p><strong>Application platform</strong> - This contains runtime and data
access metadata, workflow and services, the Dynamics 365 client and
presentation, and SSRS reporting.</p>
</li>
</ul>
<h2 id="developer-environment">Developer environment</h2>
<p>Visual Studio is the integrated development environment (IDE) that is
used for all finance and operations apps development. As a developer, you
will work in your own development environment with access to Visual
Studio, which enables you to access all the developer tools and
components, including source control by using Azure DevOps. Because
multiple developers are generally developing for the application at a
single time, Azure DevOps is required for source control. This topic
is discussed in further detail in <a data-linktype="absolute-path" href="/en-us/training/modules/manage-source-code-version-control-finance-operations/?azure-portal=true">Manage source code by using version control in finance and operations apps</a>.</p>
<p>At a high level, it's important to understand that you will use Visual
Studio to develop for finance and operations apps, manage
code on your team with source control by using Azure DevOps, perform builds and testing, and create deployable packages.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Finance + Operations on-premises and cloud-based finance and operations apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can deploy finance and operations apps in the cloud, or Finance + Operations (on-premises). As a
developer, it's important for you to understand the difference between these architectures. Depending on the type of deployment that your organization chooses, architecture and the application capabilities might vary.</p>
<h2 id="cloud-architecture">Cloud architecture</h2>
<p>Cloud deployments offer a service that is fully managed by Microsoft. By
choosing a cloud deployment, the application is simple to scale up or down, depending on the needs of the business, with data centers that are all managed by Microsoft. Cloud architecture has several benefits, including shorter implementation, fewer required customizations, and a reduced cost for IT infrastructure.</p>
<p>Cloud deployments allow customers to stay current in a consistent,
predictable, and seamless manner. This cadence, which allows continuous
updates of the application, aims to lower upgrade costs, provide
everyone access to the latest capabilities, improve performance, and
offer a better support experience.</p>
<p>The architecture for cloud deployment includes several main components:</p>
<ul>
<li><p><strong>Subscription</strong> - A subscription to finance and operations apps gives
you an online cloud environment.</p>
</li>
<li><p><strong>Licenses</strong> - Customers must purchase subscription licenses (SLs)
for their organization or for their affiliates' employees and
on-site agents, vendors, or contractors who directly or indirectly
access finance and operations apps. finance and operations apps are licensed
through Volume Licensing and the Cloud Solution Provider (CSP)
program. See <a data-linktype="external" href="https://go.microsoft.com/fwlink/?LinkId=866544&amp;clcid=0x409">Microsoft Dynamics 365 Licensing guide</a> for more information.</p>
</li>
<li><p><strong>Microsoft Entra ID</strong> - Microsoft Entra ID is the multi-tenant,
cloud-based directory and identity management service from Microsoft
that combines core directory services, application access
management, and identity protection in a single solution. Finance
and operations uses Microsoft Entra ID as the store for identity. Access to Microsoft Entra ID is provided as part of a subscription to finance and operations apps.</p>
</li>
<li><p><strong>Tenant</strong> - In Microsoft Entra ID, a tenant represents an organization. This is a dedicated instance of the Microsoft Entra ID service that an organization receives and owns when it creates a relationship with Microsoft (for example, by signing up for a Microsoft cloud service such as Azure, Intune, or Microsoft 365). Every Microsoft Entra tenant is distinct and separate from other Microsoft Entra tenants.</p>
</li>
<li><p><strong>Microsoft 365 Admin help center</strong> - A subscription management portal that
Microsoft 365 provides for administrators. It's used to provide
management functions through Microsoft Entra ID and subscriptions. As
part of these management functions, it provides information about
service health.</p>
</li>
<li><p><strong>Lifecycle Services</strong> - Is a collaboration portal that
provides an environment and a set of regularly updated services that
can help you manage the application lifecycle of your finance and
operations implementations.</p>
</li>
<li><p><strong>Azure DevOps</strong> - Used primarily for code version control and to
deploy a build environment. Azure DevOps is also used to track
support incidents, such as work items in Azure DevOps that are
submitted to Microsoft through cloud-powered support, and to
integrate the Business Process Modeler (BPM) library hierarchy into
your Azure DevOps project as a hierarchy of work items. Azure DevOps
is also used during code upgrades.</p>
</li>
</ul>
<p>Finance and operations apps use many features of the Azure platform, such as
Azure Storage, networking, monitoring, and Azure SQL Database. Shared
services put into operation and orchestrate the application lifecycle of
the environments. Together, Azure functionality and Lifecycle Services offer a robust
cloud service.</p>
<h2 id="on-premises-architecture">On-premises architecture</h2>
<p>Finance + Operations can be deployed on-premises. This means that the
application is deployed locally within the customer's datacenter, and
the datacenter is managed by the customer. It's important to remember
that because an on-premises deployment is locally deployed, system
requirements, hardware sizing, and functionality of the application
differs from cloud deployments.</p>
<p>When an on-premises deployment is selected, the application servers and
the Microsoft SQL Server database are run in the customer's datacenter.
Identical to a cloud deployment, Lifecycle Services is used to manage the on-premises
deployment. To build and manage an enterprise-class, high-scale
application, on-premises deployments use Microsoft Azure Server Service
standalone clusters. The Service Fabric standalone clusters can be
installed on any machine that is running Windows Server. There are two
types of clusters: one for sandboxes and one for production
environments. Application Object Servers (AOS), Financial Reports
Designer (formally named Management Reporter), and SQL Server Reporting
Services (SSRS) are roles that are deployed in both the production and
sandbox clusters.</p>
<p>When deciding which type of deployment your organization should use, you
should consider the overall approach of the implementation and
the management of the infrastructure. Additional considerations include
the organizational preferences to meet regulatory and compliance needs
of the business. With a cloud deployment, the structure is completely
managed by Microsoft. With an on-premises deployment, the customer takes
on more responsibility and has additional costs. Examples of additional
costs could include standing up your own infrastructure, configuring a
high-availability disaster recovery solution, standing up sandbox
environments, and managing the infrastructure.</p>
<p>Keep in mind that there are differences in features
that are available for cloud and on-premises deployments. Microsoft
offers a list of specific features that differ from each of the
deployment types. For more information, see the Summary unit at the end of this module.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Development and deployment processes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>An AOT package is a deployment and compilation unit of one or more
models that can be applied to a finance and operations apps environment. A
deployable package can consist of several models that contain the
metadata, binaries, reports, and other resources. The deployable package
is used for deployment of code and customizations to the sandbox, test,
and production environments for the application.</p>
<h2 id="development-and-deployment-process">Development and deployment process</h2>
<p>Before you begin developing for finance and operations apps, make sure that you understand the developer and deployment process, which will help make these processes run smoothly.</p>
<p><img alt="Diagram of the developer and deployment process." data-linktype="relative-path" src="./rawmb500/media_deploy_process.png"/></p>
<p>All developers for the application work in an individual environment that includes the Visual Studio application. As a reminder, Visual Studio is the integrative development environment (IDE) that is used to develop for Dynamics 365. Deployable packages are created in Visual Studio and then deployed to sandbox, test, and production environments by using Lifecycle Services.</p>
<p>When finishing your code and customizations in Visual Studio, you must make a few considerations. If several developers are on one project, you should perform a Get Latest process to merge all new code that has been checked in by the other developers, and then perform a local build
to ensure that your code will not disturb what is in the Azure DevOps repository.</p>
<p>When both processes have been performed, you can check in your code by using Team Explorer, which is connected to Azure DevOps. The code that is checked in will be built in Azure DevOps by using a build pipeline, and this will create a deployable package. Generally, you will not deploy your own code. By using Lifecycle Services, you can apply a deployable package by using the <strong>Apply updates</strong> tool.</p>
<h3 id="create-a-deployable-package-in-visual-studio">Create a deployable package in Visual Studio</h3>
<p>We recommend that you use a build environment to create a
deployable package, though these can be created in a developer
environment.</p>
<p>When code is complete and builds successfully, you can follow these
steps to create a deployable package in Visual Studio:</p>
<ol>
<li><p>In Visual Studio, select <strong>Extensions &gt; Dynamics 365</strong>.</p>
</li>
<li><p>Select <strong>Deploy &gt; Create Deployment Package</strong>.</p>
<p><img alt="Graphic of the Create deployment package dialog.
" data-linktype="relative-path" src="./rawmb500/media_create_deployment_package.png"/></p>
</li>
<li><p>In the <strong>Create Deployment Package</strong> dialog, select the packages
that contain the models that you want to deploy.</p>
</li>
<li><p>You can select the <strong>Referenced packages</strong> drop-down arrow to view
all the dependent models of the models that are selected.</p>
</li>
<li><p>In the <strong>Package file location</strong> field, you can select the ellipsis '…' to select where you want to save the package file.</p>
</li>
<li><p>When you have selected all the models for the deployable package, select <strong>Create</strong>. A zip file will be saved to the location that you specified.</p>
</li>
</ol>
<h2 id="production-deployment">Production deployment</h2>
<p>To deploy to production, customers can schedule a downtime that will determine when an update will be applied to the production environment by Microsoft. To schedule downtime to apply updates to the environment, the package must have been applied to at least one sandbox environment in the same project. You can submit a service request for this in Lifecycle Services.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">The user interface</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>As a developer, you should explore the finance and operations apps user interface and become familiar with the functionality in the application. By exploring the user interface, you can develop better code to help users complete their tasks. When you begin using finance and operations apps, you will notice that Dynamics 365 has a familiar appearance and behavior across the entire Dynamics 365 ecosystem.</p>
<p>Functionality in the finance and operations apps user interface provides
key components that enable you to work more efficiently.</p>
<ul>
<li><strong>Navigation search</strong> - Any page that is accessed by using the  <strong>Navigation pane</strong> menu (the left-most pane) is also available from the <strong>Search</strong> field. You can press <strong>Alt + G</strong> to move focus to the <strong>Search</strong> field, and then type the name of the finance and operations apps page. The <strong>Search</strong> field spans the top of the application user interface.</li>
<li><strong>Action search</strong> - While every action that is provided on a page can be manually accessed from the keyboard, pages often have a lot of actions. The Action search functionality allows you to quickly and efficiently perform actions that you know the names of and with just a few keystrokes. You can press <strong>Alt + G</strong> to move focus to the <strong>Search</strong> field, and then start typing the name of the action. Usually after a few letters, the action you are looking for will be high in the results list.</li>
<li><strong>Workspaces</strong> - Workspaces enable users to be more productive in their daily tasks by providing a single page that they can work from to perform the operations they do daily. Several workspaces come out of the box with finance and operations apps. Workspaces can also be created and modified in the user interface with no development.</li>
<li><strong>User personalization</strong> - Users can personalize pages in finance and operations apps. Many types of personalization exist, including user options, where you can select a color theme and time zone. Personalization can also be used to change the way the user interface is displayed. For example, a user can specify how pages display when they are first opened. Personalization can also modify the appearance of a page. For example, you can hide, move, and rearrange columns on a grid. Note that user personalization is for that specific user, regardless of the type of personalization.</li>
<li><strong>Task recorder</strong> - In finance and operations apps, the Task recorder focuses on high-responsiveness, a flexible extensibility application programming interface, and seamless integrations with consumers of business process recordings. The Task recorder has integrations with the Lifecycle Services Business process modeler (BPM) tool, which enables you to create business process diagrams from task recordings for analyzing and designing applications. You can use task recordings to create guided experiences through a business process, generate training documents that feature screenshots of the user interface at each step, and build tests that validate your code.</li>
<li><strong>Office integrations</strong> - Several Office integrations that are offered in finance and operations apps help increase productivity. Office interactions include the Excel Data Connector add-in. This add-in allows you to export data from finance and operations apps to a Microsoft Excel workbook, including adding, modifying, and deleting records. The add-in also has a Workbook Designer that enables you to design an editable custom export workbook that contains an entity and set of fields. Other office integrations include document management to save records to the Azure Blob Storage.</li>
</ul>
<p>Watch this video to learn more about the user interface in finance and operations apps.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=8dee1e0a-c472-4b57-a6a3-320a72f40a60"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Reporting capabilities</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>As a developer, you might need to develop reporting to meet the needs of
the business. Therefore, you should understand the types of reporting in finance and operations apps and their capabilities so that you can determine the type of report that should be developed.</p>
<p>Several reporting options are available for you to use, including SSRS, Power BI, and Financial Reporting.</p>
<h2 id="ssrs-reporting">SSRS reporting</h2>
<p>Reports can be defined simply as any visualization of a structured data
set. This might include transactional data that is presented in a tabular layout and advanced graphical views of aggregate information. To account for this broad definition, finance and operations apps offers several tools to
produce reports that satisfy complex business requirements. One of these
tools is SSRS.</p>
<p><a data-linktype="relative-path" href="media/ssrs-report.svg#lightbox"><img alt="Screenshot of the Vendor aging SSRS report." data-linktype="relative-path" src="./rawmb500/media_ssrs_report.png"/></a></p>
<p>SSRS reports provide the following advantages:</p>
<ul>
<li>Back-office document management capabilities, including email
support, scheduled batch implementations, and print archive
functionality.</li>
<li>Parameterized views with drill-through navigation to finance and operations apps pages and other reports.</li>
<li>Production of precision documents for compliance with local
regulatory business practices.</li>
</ul>
<h2 id="power-bi">Power BI</h2>
<p>Finance and operations apps let you pin tiles, dashboards, and reports from
your PowerBI.com account to workspaces. You can configure Power BI by navigating to <strong>System administration &gt; Setup &gt; PowerBI.com configuration.</strong></p>
<p>Finance and operations apps delivers interactive reports that are integrated into application workspaces. Workspaces can use rich
infographics and visuals that are supported by Power BI. These
infographics and visuals include many controls that are provided by
third parties. Therefore, workspaces can provide a highly visual,
interactive experience. You can interact with data by selecting or
touching visuals on the page to see cause and effect, and you can perform simple what-if operations without leaving the workspace.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following does a deployable package not contain?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Source code</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Metadata</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Binaries</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Application models</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>What types of reporting are available for finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>SQL Server Reporting Services (SSRS)</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Financial Reports</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>All options</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which part of the user interface is used to create business process diagrams?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Navigation Pane</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Business Process Modeler</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Task Recorder</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>User Options</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Dynamics 365 ecosystem offers an extensive cloud-based solution that
enables your organization to optimize business processes and enables
employees to work more efficiently and be more productive. The applications that are part of Dynamics 365 can work independently or together.</p>
<p>As a developer, you need to understand these core concepts. By
having this basic understanding of the Dynamics 365 ecosystem,
architecture, implementation strategies, development and deployment
processes, user interface functionality, and reporting options, you can
customize the system to meet the needs of your business.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Microsoft Dataverse</td>
<td><a data-linktype="absolute-path" href="/en-us/power-apps/maker/common-data-service/data-platform-intro/?azure-portal=true">What is Dataverse?</a></td>
</tr>
<tr>
<td>Cloud deployment architecture components</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/imp-lifecycle/architecture-overview/?azure-portal=true">finance and operations apps application architecture</a></td>
</tr>
<tr>
<td>Cloud vs. on-premises feature differences</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/get-started/cloud-prem-comparison/?azure-portal=true">Comparison of cloud and on-premises features</a></td>
</tr>
<tr>
<td>Using tab sequence in action search</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/get-started/action-search/?azure-portal=true">Action search</a></td>
</tr>
<tr>
<td>Personalize the user experience in the finance and operations apps user interface</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/personalize-finance-operations/?azure-portal=true">Personalize finance and operations apps</a></td>
</tr>
<tr>
<td>Using the task recorder in finance and operations apps</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/task-recorder/?azure-portal=true">Task recorder resources</a></td>
</tr>
<tr>
<td>SQL Server Reporting Services (SSRS) reporting</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/SSRS-report/?azure-portal=true">SQL Server Reporting Services (SSRS) reports that are available</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Differentiate cloud and on-premises architecture</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>An understanding of the underlying architecture of finance and operations will help you appreciate the rich functionality
of the user interface. Some architecture components can vary between
cloud and on-premises deployments. The on-premises deployment is named Dynamics 365 Finance + Operations (on-premises).</p>
<p>Cloud deployments offer a service that is fully managed by Microsoft,
while on-premises deployments are deployed locally within a customer's
datacenter. Methodologies differ between cloud-hosted and on-premises
deployments. The deployment that a business uses will be based on who the
desired data trustee is and who will manage the application lifecycle.</p>
<h2 id="finance-and-operations-apps-cloud-deployment">Finance and operations apps cloud deployment</h2>
<p>A cloud deployment provides multiple benefits, including reduced
implementation time, lower hardware and infrastructure costs, and
less invasive development. One of the main benefits of choosing a
cloud deployment is that the ERP service is fully managed by Microsoft.
Therefore, cloud deployments are a software as a service (SaaS) offering. This enables organizations to easily scale up or down depending
on the needs of the business. Cloud deployments also allow customers to
stay current in a consistent, predictable, and seamless manner. This
cadence, which allows continuous updates of the application, aims to
lower upgrade costs, provide everyone access to the latest capabilities,
improve performance, and offer a better support experience.</p>
<h2 id="finance--operations-on-premises-deployment">Finance + Operations (on-premises) deployment</h2>
<p>When deciding which type of deployment your organization should use, you
should consider the overall approach of the implementation and
the management of the infrastructure. Additional considerations include
the organizational preferences to meet regulatory and compliance needs
of the business. In these types of situations, an on-premises deployment
might be chosen.</p>
<p>Organizations that choose to deploy Finance + Operations also need to take ownership of various tasks that would have otherwise been carried out by Microsoft. These tasks include configuring
high-availability solutions, disaster recovery solutions, and sandbox
environments. Keep in mind that there are functionality differences between on-premises deployments and cloud deployments.</p>
<p>For more information about the differences between cloud and on-premises architecture, see the link in the <strong>Summary</strong> unit at the end of this module.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Elements, models, and packages</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Elements, models, and packages represent the structural hierarchy in
Visual Studio for finance and operations. Elements either exist out of
the box in the application explorer (AOT) in Visual Studio, or they can be
created. Elements are metadata and source files, such as base
enumerations and tables. A <strong>Finance Operations</strong> project is used to
organize and manage elements within a model. Models contain zero or more
elements. For example, the warehouse management model is a group of
elements that make up the warehouse management solution.</p>
<p><img alt="Diagram of the elements of the technical architecture." data-linktype="relative-path" src="./rawmb500/media_elements_to_packages_1.png"/></p>
<p>All models belong to packages, which can then be packaged together to
create a deployable package and then deployed by using Lifecycle Services. A deployable package contains one or multiple packages that are used for runtime environments. Wizards in Visual Studio are used to create models and projects, and the designer window is used to customize elements within projects and models.</p>
<p>Deployable packages are deployed to finance and operations environments. These packages contain models that, in many cases, represent
the modules that are visible in the user interface, such as Accounts payable. The models contain the elements that represent every field, menu, and page that is found in the user interface. These elements are created and managed in Visual Studio. Therefore, source control using Azure DevOps is required for finance and operations development.</p>
<p>The following image shows the <strong>Application Explorer</strong> window in Visual
Studio.</p>
<p><img alt="Screenshot of the Application Explorer window in VisualStudio." data-linktype="relative-path" src="./rawmb500/media_application_explorer_1.png"/></p>
<h2 id="create-a-new-model">Create a new model</h2>
<p>To create a new model, follow these steps</p>
<ol>
<li>In Visual Studio, select <strong>Extensions</strong> in the top menu</li>
<li>Select <strong>Dynamics 365 &gt; Model Management &gt; Create model</strong> to open the <strong>Create model</strong> wizard.</li>
<li>Enter the <strong>Model name</strong>, <strong>Model publisher</strong>, <strong>layer</strong>,    <strong>Model description</strong>, and <strong>Model display name</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>Select <strong>Create new package</strong>. This will create a model that builds    into its own assembly. This should be used to store elements that    extend the application.</li>
<li>Select <strong>Next</strong>.</li>
<li>Select the referenced models. Reference models provide access to all    the elements that are located inside of the other models. The <strong>Application Suite, Application Platform</strong> and <strong>Application Foundation</strong> will give you access to most of the elements.</li>
<li>Select <strong>Next</strong>.</li>
<li>On the <strong>Summary</strong> step, verify that the information is correct.</li>
<li>Optionally, select <strong>Create new project</strong> to create a project when the model is created.</li>
<li>Optionally, select <strong>Make this my default model for new
projects</strong>.</li>
<li>Select <strong>Finish</strong>.</li>
</ol>
<h2 id="build-models">Build models</h2>
<p>Before you create a deployable package, you should perform a model build. You may also need to perform a model to resolve errors you might be getting while working on a development project. To build models, follow these steps.</p>
<ol>
<li>In Visual Studio, select <strong>Extensions</strong> in the top menu</li>
<li>Select <strong>Dynamics 365 &gt; Build models</strong>.</li>
<li>In the <strong>Packages</strong> list, select the packages that you want to build. The models that are related to the packages are listed in brackets.</li>
<li>Optionally, you can select <strong>Build referenced packages</strong> to build    dependent packages first.</li>
<li>On the <strong>Options</strong> tab, you can select from multiple build
processes. These processes increase the build time, so if you do not    need to run the process, leave the following options cleared.
<ul>
<li><strong>Build Pre-Compiled Forms</strong> - Static HTML is generated for each form during the build to allow faster rendering of forms at runtime.</li>
<li><strong>Build reports</strong> - Builds reports.</li>
<li><strong>Build Aggregate Measurements</strong> - Builds aggregate
measurements.</li>
<li><strong>Run Best Practice Checks</strong> - Best practice checks are
performed during the build.</li>
<li><strong>Synchronize database</strong> - Updates the SQL database schema        during the build.</li>
<li><strong>Build cross reference data</strong> - Data for the cross-reference        feature is updated to allow developers to find references to code and metadata.</li>
</ul>
</li>
<li>Select <strong>Build</strong>.</li>
<li>Expand the <strong>Details</strong> tab to see the build process details.</li>
</ol>
<p>Watch this video to learn more about metadata development in Visual Studio.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=4870d143-1d1b-4656-afda-6cbd0f3b8b15"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Application components and architecture</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps are based on a model-driven architecture. The core functionality and some major functional features are segregated into various models. Element-level dependency is defined among all these models, building a robust application architecture for finance and operations apps. Application architecture is divided into platform models and application-specific models.</p>
<h2 id="platform-models">Platform models</h2>
<p>The platform models are:</p>
<ul>
<li>Application platform</li>
<li>Application foundation</li>
<li>Test essentials</li>
</ul>
<h3 id="application-platform">Application platform</h3>
<p>Application platform is the core model to implement any functionality of finance and operations apps. Hence, this model is included as a referenced model by default when any custom model is created. It's not possible to remove the reference to this model.</p>
<p>The major application areas of the Application platform model are:</p>
<ul>
<li><p><strong>Runtime and Data access</strong> - The Application platform is the lowest model and contains the lowest level elements that communicate with the kernel.</p>
</li>
<li><p><strong>Workflow and services</strong> - Workflow is a common functionality in finance and operations apps that represents a business process. It defines how a document flows, or moves, through the system by showing who must complete a task, make a decision, or approve a document. Standard workflows are already available for all apps. You can build custom workflows on the framework as desired.</p>
<p>Application platform enables users to develop custom services for finance and operations apps. When a developer writes a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li>SOAP endpoint</li>
<li>JSON endpoint</li>
</ul>
<p>Finance and operations apps also provide for OData Service and REST Metadata service, both of which can be used for integration purposes.</p>
</li>
<li><p><strong>Client and Presentation</strong> - Finance and operations apps are designed to deal with complex business transactions in a user-friendly interface through different devices, such as laptops, tablets, or mobile phones. The web client, which users can access from their PC or laptop, is the most used interface. Several concepts are offered in the <strong>Presentation</strong> layer of the application, such as dashboard and workspace. These concepts are all configurable components that you can drill down to the core transaction in each module.</p>
</li>
<li><p><strong>SSRS reporting</strong> - Each module of finance and operations apps has major standard reports, which are developed in SQL Server Reporting Services (SSRS). SSRS can connect to the business data of finance and operations apps and can create custom reports by using two methods:</p>
<ul>
<li>Query based</li>
<li>Data provider</li>
</ul>
</li>
</ul>
<p>By using the query-based approach, you can develop simple reports. To develop complex business logic in reporting, the data provider approach is more appropriate.</p>
<h3 id="application-foundation">Application foundation</h3>
<p>The Application foundation model defines major functional features that are the foundation of other modules. The components of this model are the basic setup of the implementation.</p>
<ul>
<li><p><strong>Organization structure</strong> - An organization is a group of entities that work together to carry out a business process or achieve a goal. Organizational hierarchies represent the relationships between the organizations that make up the business. Different internal organizations are legal entities, operating units, and teams.</p>
<ul>
<li><p>A <strong>legal entity</strong> is the most important configuration of any implementation that represents a registered and legislated legal structure. Legal entities can enter into legal contracts and are required to prepare statements that report on their performance.</p>
</li>
<li><p>An <strong>operating unit</strong> is an organization that is used to divide the control of economic resources and operational processes in a business.</p>
</li>
<li><p>A <strong>team</strong> is an organization in which the members share a common responsibility, interest, or objective. Teams can't be used in organizational hierarchies.</p>
</li>
</ul>
</li>
<li><p><strong>Number sequence</strong> - Use this component to generate readable, unique identifiers for master data records and transaction records that require identifiers. Number sequence in finance and operations apps has a robust framework that can regulate numbering based on individual/shared legal entity/operating unit combined with the fiscal calendar period.</p>
</li>
<li><p><strong>Global address book</strong> - This component is a data model for contact information that's stored for all internal and external persons and organizations that the company interacts with. The data that's associated with party records includes the party's name, address, and contact information. It includes a directory of postal and electronic addresses of the organizations and individuals that interact with a business.</p>
<p>Depending on the business context, a person or an organization might play more than one role, and the same postal address and electronic address might be used for all roles. In this case, a change of address in one role should appear in all other roles. The global address book stores and handles addresses globally.</p>
</li>
<li><p><strong>Source document</strong> - The Source document framework provides functionality that's necessary to record business events and create accounting for the newly created document, such as accounting distributions and subledger journal entries.</p>
</li>
</ul>
<h3 id="test-essentials">Test essentials</h3>
<p>Finance and operations apps have a robust test framework that help conduct different testing procedures. You can create a test module to manage test code by using FormAdaptors. After the base test module is in place, you can import Task Recorder to generate test code. When you import a Task Recorder recording XML file, test code will be generated by using FormAdaptors.</p>
<p>FormAdaptors are wrapper classes over forms that provide strongly typed APIs that you can use to test form functionality. Pre-generated FormAdaptors are available for each package for built-in forms. In the test module, you can add reference to the corresponding FormAdaptors for packages along with the Test Essentials package reference, which has helper methods to run test code.</p>
<p>For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/testing-support/?azure-portal=true">Test projects in Visual Studio</a>.</p>
<h2 id="application-specific-models">Application-specific models</h2>
<p>Many application-specific models are available, including Application suite, Ledger, Retail, and Case management.</p>
<p>Standard models for different functional features are also available. Application suite is the most important model that covers major functionality.</p>
<h3 id="application-suite">Application suite</h3>
<p>Application suite sits on top of Application foundation, and it contains application-specific elements. The Application suite model contains components of Supply Chain Management, Human Resources, Finance, and more. For enhancement in those modules, new custom models are created that reference the Application suite.</p>
<h2 id="other-models">Other models</h2>
<p>Other models, such as Currency, Directory, Contacts, and more, cover individual functionalities that are available in the application stack. Based on the extensibility requirement, these models are referenced to enhance functional features.</p>
<h2 id="dynamics-365-product-suite">Dynamics 365 product suite</h2>
<p>Dynamics 365 is a business application that consists of several solutions, such as Sales, Marketing, Service, Finance, Commerce, and Supply Chain Management. The latter three are considered the finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Metadata management processes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations uses metadata to define elements. Metadata can be
used to search for elements like forms, tables, and code by using the
<strong>Metadata search</strong> feature. Metadata search can be accessed from <strong>Visual Studio &gt; Dynamics 365 &gt; Metadata search</strong>. Searching elements based on metadata allows you to find related elements.</p>
<p>For example, you might need to find a table but can’t remember the full
name. You know that "cust" is part of the name. You can use the metadata
search to find all the tables that have "cust" in the name. You can search elements based on the name of the element, type of element, model that the element is in, properties of the element, and code snippets.</p>
<p>The syntax for searching in the <strong>Metadata search</strong> is:</p>
<p><code>*&lt;filter_1&gt;:&lt;filter_1_value&gt; [&lt;filter_2&gt;:&lt;filter_2_value&gt;... &lt;filter_N&gt;:&lt;filter_N_value&gt;]*</code></p>
<p><img alt="Screenshot of metadata search in Visual
Studio." data-linktype="relative-path" src="./rawmb500/media_metadata_search_1.png"/></p>
<p>Keywords that you can use in the <strong>Metadata search</strong> include:</p>
<ul>
<li><strong>Name</strong> - Filter by element name. This is also the default filter  if no keyword is specified. A comma can be used to search for multiple element names.</li>
<li><strong>Type</strong> - Filter by element type. A comma can be used after an    element to specify sub elements.</li>
<li><strong>Model</strong> - Filter by model name. Each comma-separated value will    look for a model in your application.</li>
<li><strong>Property</strong> - Filters properties on forms. Each comma-separated    value should be a property on the form.</li>
<li><strong>Code</strong> - Filter code snippets. The code snippet should be in    quotes.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Source control processes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Developers rely on source control to track code changes and discover
differences among content that is created by various developers. Finance and operations uses Azure DevOps for source control, which is accessible
through a web browser or Visual Studio by using the Team Explorer.</p>
<h2 id="azure-devops-formerly-visual-studio-team-services">Azure DevOps, formerly Visual Studio Team Services</h2>
<p>Azure DevOps is a cloud-based offering, which is also backed
by a 99.9 percent service level agreement (SLA). While the core services are the same between cloud and on-premises, cloud also offers immediate access to new features, improved connectivity to remote locations, and simplified server management.</p>
<h2 id="azure-devops">Azure DevOps</h2>
<p>Azure DevOps is used as the source control service when developing for finance and operations apps. If you're upgrading from previous versions of Dynamics AX, you may be aware of Team Foundation Services for source control, this has been replaced by Azure DevOps. As a developer, you will need to ensure Azure DevOps is set up and configured before you start developing.</p>
<p>To enable source control through Azure DevOps, you need to go to
<a data-linktype="external" href="https://www.visualstudio.com/?azure-portal=true%22visualstudio.com%22">https://visualstudio.microsoft.com/</a>
and sign up for Azure DevOps to create
your account. When you create your account, you select a URL for
it. This will be the URL that you connect to from your
development computer when you configure source control. When your
account is created, or if you already have an account, create a new
project.</p>
<p>To configure your Visual Studio environment to connect to your team project, follow these
steps:</p>
<ol>
<li>Open <strong>Visual Studio</strong> as an administrator.</li>
<li>Open the <strong>Solution explorer</strong> if it isn't already displaying by selecting <strong>File &gt; Solution explorer</strong>.</li>
<li>Select the <strong>Team explorer</strong> tab at the bottom of the window.</li>
<li>Select <strong>Manage connections</strong>.</li>
<li>Select <strong>Connect to team project</strong>.</li>
<li>Select <strong>Servers…</strong>.</li>
<li>In the <strong>Add/Remove Team Foundation Server</strong> window, select <strong>Add</strong>.</li>
<li>Paste the URL for your Azure DevOps project in the <strong>Name</strong> or <strong>URL</strong> of <strong>Team Foundation Server</strong> field.</li>
</ol>
<div class="NOTE">
<p>Note</p>
<p>It will likely look like this example: <em>https://projectname.visualstudio.com</em></p>
</div>
<ol start="9">
<li>Select <strong>OK</strong>.</li>
<li>Select <strong>Close</strong>.</li>
<li>On the <strong>Connect to Team Foundation Server</strong> window, use the dropdown to select the project you just added.</li>
<li>Select <strong>Connect</strong>.</li>
</ol>
<p>When you are connected to the Team Foundation Server, you need to map your Azure DevOps project to your local model store and projects folders.</p>
<ol>
<li>Open the <strong>Source Control Explorer</strong> from <strong>Team Explorer</strong>.</li>
<li>In the <strong>Source Control Explorer</strong>, select the <strong>Workspace</strong> dropdown at the top ribbon of the explorer.</li>
<li>Select <strong>Workspaces..</strong> and you see a list of workspaces.</li>
<li>Select <strong>Edit</strong> for the first workspace you see.</li>
<li>Map the <strong>Metadata</strong> folder of your team project to the root folder of the model store on your local drive (this is typically K:/AosService/PackagesLocalDirectory).</li>
<li>Select <strong>Map</strong>.</li>
<li>On the next dialog, select <strong>No</strong>.</li>
<li>Repeat these steps for the <strong>Projects</strong> folder. You typically map the <strong>Projects</strong> folder to C:\Users[Admin Account name]\Documents\Visual Studio [VS Year]\Projects where <strong>Projects</strong> is a folder you create.</li>
</ol>
<p>When creating a new Visual Studio project, you can add the project to
source control. Source control enables version control on elements in
Visual Studio. Version control forces you to check code out while developers are making changes to code.</p>
<p><a data-linktype="relative-path" href="media/add-source-control.png#lightbox"> <img alt="Screenshot of the New Project page highlighting the Add to Source Control check box." data-linktype="relative-path" src="./rawmb500/media_add_source_control.png"/> </a></p>
<p>When you have finished making your changes, you must check in your changes.
Each check-in creates a new version of that element. This process allows other developers to see who made changes, what changes were made to an element, and when the changes were made. It also allows you to revert code to a previous version if errors are found in the current version. When you check in code, other developers can also then perform <strong>Get latest</strong> to merge all the latest available versions of the code.</p>
<p>When you perform a <strong>Get latest</strong>, you might come across some change
conflicts, where a new version of code conflicts with what you have
currently built in your code base. You can view and resolve conflict in
Visual Studio on the <strong>Resolve conflicts</strong> page.</p>
<p>Three panes are available on the <strong>Resolve conflicts</strong> page:</p>
<ul>
<li><strong>Left pane</strong> - Shows your current code</li>
<li><strong>Right pane</strong> - Displays the new code</li>
<li><strong>Bottom pane</strong> - Displays what the automatic merge code looks like</li>
</ul>
<p>You can select to accept the automatic merge or individually accept
which code is merged or overridden.</p>
<h2 id="branching-and-merging">Branching and merging</h2>
<p>Finance and operations uses branching to isolate individual software
assets, which allows you to work in parallel with other developers to
increase productivity. Branching requires more effort to merge
code. No defined rule exists for how branches are set up, but there's usually a Development, Test, and Production or Release branch. A Development branch is used
for code that isn't ready for testing; however, it's shared between
developers. Some larger teams might use multiple developer branches. The Test
branch is used to hold changes that are ready to be tested by other
users. The Production branch holds all the source code exactly as it's
deployed in the production environment.</p>
<p>You must create a deployable package to move code changes from one
environment to another. We recommend that you use a build environment to
create deployable packages that contain all changes. You can create
deployable packages from the development environment.</p>
<p>To create a deployable package, follow these steps:</p>
<ol>
<li>Select <strong>Dynamics 365 &gt; Deploy &gt; Create Deployment Package</strong>.</li>
<li>Select the packages that contain your models.</li>
<li>Enter a location to create the deployable package.</li>
<li>After the deployable package is created, sign in to Lifecycle Services.</li>
<li>Go to your Lifecycle Services project.</li>
<li>Select <strong>Asset Library</strong>.</li>
<li>Upload the deployable package that you created.</li>
</ol>
<p>To deploy a package to a nonproduction environment or a production
environment, you use Lifecycle Services. The process to deploy the package differs
between the two. Also, a deployment to a production environment requires
the package to successfully deploy to at least one sandbox environment
in the same project.</p>
<p>To deploy a package to a nonproduction environment, follow these steps:</p>
<ol>
<li>Open the <strong>Environment details</strong> view for the desired environment.</li>
<li>Select <strong>Maintain &gt; Apply updates</strong>.</li>
<li>Use the filter to select the package to apply.</li>
<li>Select <strong>Apply</strong>. The status in the upper-right corner of the <strong>Environment details</strong> view changes from Queued to In Progress.</li>
<li>When the package has been applied, the environment status changes to Deployed and the servicing status changes to Completed.</li>
</ol>
<p>To deploy a package to a production environment, follow these steps:</p>
<ol>
<li>Go to your project's asset library in Lifecycle Services.</li>
<li>On the <strong>Asset library</strong> page, select the <strong>Software deployable package</strong> tab, then select the package that you want to move to production,</li>
<li>Select <strong>Release candidate</strong>. This indicates that this package is ready for production deployment.</li>
<li>Select the package you wish to apply in your production environment, and then Select <strong>Schedule</strong> to submit a request to apply it.</li>
<li>Specify the <strong>date</strong> and <strong>time</strong> to schedule the package application.</li>
<li>Select <strong>Submit</strong>, and then select <strong>OK</strong> to confirm.</li>
<li>At the scheduled downtime, package deployment starts.</li>
<li>After the environment is serviced, you can monitor the status. The Servicing status field indicates the status of package application. Additionally, a progress indicator shows the number of steps that have been run, out of the total number of steps that are available.</li>
<li>After the deployment is successfully completed, the <strong>Servicing status</strong> field is set to <strong>Completed</strong>.</li>
</ol>
<div class="NOTE">
<p>Note</p>
<p>If package application isn't successfully completed, Microsoft investigates the issue. The Servicing status field indicates that package application has failed. The environment is rolled back to a good state.</p>
</div>
<p>While the production environment is being updated, the environment is unavailable. You can monitor the <strong>Servicing status</strong> field to monitor the status of the package application. When the deployment is
complete, the servicing status reads <strong>Completed</strong>. The deployable
package has now been applied to the production environment.</p>
<p>To learn more, review these resources:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/branching/?azure-portal=true">Branching overview</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/version-control-metadata-navigation/?azure-portal=true">Version control, metadata search, and navigation</a></li>
<li><a data-linktype="absolute-path" href="/en-us/azure/devops/repos/tfvc/effective-tfvc-branching-strategies-for-devops/?azure-portal=true">Choose a branching strategy with a DevOps mindset</a></li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Conform code to organization policies</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When coding, developers should be mindful of best practices to ensure that their code meets an organization's policies. When performing a build in Visual Studio, the system will run a best practices check, and the
output window will display best practice errors or warnings. Developers
can also choose to code their own best practice rules by using the Code
Best Practice Framework or by deriving a class from the
<strong>BestPracticeMetadataChecker</strong>. The Code Best Practice
Framework is used to analyze and diagnose problems with X++ source code.</p>
<p>Global best practices that you should consider when writing code include:</p>
<ul>
<li>Comments should be used in code so that others understand the purpose  and approach of the code. This is the best way for developers to communicate, and often multiple developers are modifying and maintaining code at the same time.</li>
<li>When creating new elements, you should use a naming standard with your organization.</li>
<li>Each element should have a label added in the <strong>Properties</strong> window to provide text for that element in the user interface.</li>
</ul>
<p>To learn more, see these resources:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/build-operations/?azure-portal=true">Build operations</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/author-best-practice-rules/?azure-portal=true">Write best practice rules</a></li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Overview of Lifecycle Services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Lifecycle Services is a tool that aids developers in managing the lifecycle of finance and operations implementations. To use Lifecycle Services, go to
<a data-linktype="external" href="https://lcs.dynamics.com/v2/?azure-portal=true">https://lcs.dynamics.com</a> and sign in with your Microsoft Entra ID credentials. Lifecycle Services provides several tools that you can use to deploy and maintain your cloud-based or on-premises environments.</p>
<p>For cloud-based solutions, Lifecycle Services has a tool named Cloud-hosted
environments. This tool can be used to deploy your finance and operations environments on Microsoft Entra ID. You can use the tool to select the
type of environment that you want to deploy: Demo, Developer, or Test. Based on your selection, the tool provisions the appropriate
number of virtual machines in Microsoft Entra ID with all the needed prerequisites
installed on them.</p>
<p>For on-premises implementations of finance and operations, you will need
to set up an on-premises project in Lifecycle Services. In your Lifecycle Services project, go to
<strong>Environment &gt; Sandbox &gt; Configure</strong>. In the primary domain
controller virtual machine, you will need to run this script in the
PowerShell:</p>
<p><code>.\Get-DeploymentSettings.ps1 -ConfigurationFilePath .\ConfigTemplate.xml</code></p>
<p>For new deployments, select your environment topology, and complete the wizard to start the deployment of your environment.</p>
<p>To deploy code to on-premises environments, follow these steps:</p>
<ol>
<li>Upload a deployable package to the Lifecycle Services Asset Library by going to the <strong>Software deployable package</strong> tab and selecting the plus (<strong>+</strong>)    button.</li>
<li>In your Lifecycle Services project, select either the sandbox or production
environment.</li>
<li>Select <strong>Configure</strong>.</li>
<li>In the deployment tool, enter the environment name.</li>
<li>Select <strong>Advanced settings</strong>.</li>
<li>Select the <strong>Customize solution assets</strong> tab.</li>
<li>In the <strong>Select the AOT packages to be deployed</strong> field, select the deployable package.</li>
<li>Select <strong>Done</strong>.</li>
<li>Redeploy the environment.</li>
</ol>
<p>Lifecycle Services also has tools to maintain your environment and implementation of finance and operations apps and Finance + Operations (on-premises), such as the following:</p>
<ul>
<li>Projects and methodologies that track tasks and milestones that are required to receive a production environment.</li>
<li>You can use Lifecycle Services to estimate the number of licenses that you will need.</li>
<li>You can monitor the status of environments from the <strong>Detailed    environment</strong> page.</li>
<li>There is an issue search to find existing workarounds and solutions    for common problems.</li>
<li>All upgrades and updates are scheduled through Lifecycle Services.</li>
<li>You can use Lifecycle Services to copy data from one environment to another.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following actions isn't a best practice to consider when coding?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Commenting code to communicate with other developers</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a naming standard for an organization</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Limit code comments to shorten text strings</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Each element should have a label assigned in the Properties window</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>When you deploy a cloud-based solution of finance and operations apps, which source control process is available?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Azure DevOps Services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Azure DevOps Server</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Visual Studio Team Foundation Server</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You notice some performance issues where certain tasks are taking longer than they should. When you investigate the performance issue, you find that there's a <strong>while</strong> select statement on a form that can be optimized. You suspect there might be other ´while select statements on forms that could be optimized as well. How can you use the metadata search to find the forms with ´while select statements?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Code:while</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Code:while type:form,method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Type:form,method while</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Name:while</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module you have learned that the underlying architecture of finance and operations apps, and Finance + Operations (on-premises), is comprised of
metadata, including elements, models, and packages. You have seen the foundation and work that goes into coding in Visual Studio for the
user interface. There are ways to manage source control for coding,
including Azure DevOps, and that coding should adhere to an
organization's best practices and policies.</p>
<p>Lifecycle Services is used throughout an implementation to manage a finance and operations apps deployment.</p>
<p>Deployments can be either cloud-based and hosted in Azure, or
on-premises at an organization's worksite.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Comparison of cloud and on-premises features</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/get-started/cloud-prem-comparison/?azure-portal=true">Comparison of cloud and on-premises features</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Designing the deployment of code and features is important to the
beginning, middle, and end of an implementation. When you consider these
concepts at the beginning of an implementation, it carries forward into
post go-live activities and can set up the entire project for success.
By designing patterns and practices for deploying code changes and
knowing the post-deployment activities, or tasks, needed for each
project, you will find it easier to make decisions and have knowledge of your environments for the best implementation experience.</p>
<p>By the end of this module, you will be able to identify and describe
code deployment processes and strategies by validating that they are a
fit for specific company requirements during the implementation of
finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify relevant business concepts</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When identifying business concepts that are relevant for building the design documentation for implementation, you need to consider a few important concepts that affect projects more often, such as the potential architecture and needs of the implementation.</p>
<p>You'll need to consider changes to the out-of-the-box system that
is required for business processes, the size of the company and transactions
throughout the year, seasonality and when your company is most active,
and other information that is relevant to the business, and
expectations.</p>
<p>It is important to be honest about numbers, possibilities,
and information in this phase of the process because it will
set you up for success. You are there to guide the business through the
licenses, subscriptions, and technical requirements that they will need
for the present and future.</p>
<p>Additional items to consider for development and design:</p>
<ul>
<li>Projected go-live date</li>
<li>Number of vendors, customers, users, and so on</li>
<li>Existing network requirements and architecture</li>
<li>Industry standards</li>
<li>Technical competency of client resources</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Evaluate functional specifications and create technical design documentation</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To understand the requirements for developing customizations for your implementation, you need to address the effects of implementing a new feature and how it might affect current functionality. You need to understand
existing processes and compare how you'll need to implement them in
the new system.</p>
<p><img alt="Diagram of potential effects implementing features." data-linktype="relative-path" src="./rawmb500/media_effects.png"/></p>
<p>These processes shouldn't be about the business requirements, but rather, be centered on the current state and how enhancements or changes will affect the overall system during the implementation. To design a new functional process, determine the needs and make sure that you know the step-by-step process to complete this development.</p>
<p>For example, if you have procurement processes that you want to automate
and don't currently use, you need to consider this new feature with the current state of the project and how it affects the other aspects of the system.</p>
<p>When you design the documentation for the functional specifications, the
more detailed the specifications are, the better idea you'll have of
the effort involved for the customizations and development.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify the technical gaps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The ability to understand the gaps in functionality between the old and
new systems is important for planning the design, to help determine new functionality and establish how and when it can be deployed.</p>
<p>For example, if the business creates and posts many sales orders, and the process that is currently in use requires extensive
functionality changes within Dynamics 365 Supply Chain Management, you must determine if you want to keep the same process or make
modifications to it. When that has been determined, you can focus on
whether it might be more pertinent to discuss how the system
functions out of the box and how a few changes can enhance the process
instead of conforming to dated and inefficient practices. In other
situations, it might be worth it to expend the effort and make more
customizations to the system for the previous process if it will enhance
the overall workflow.</p>
<p>When considering desired functionality, you should keep in mind the level of effort that is needed and the timeline of the project to ensure that the overall implementation is considered.</p>
<h2 id="identify-the-development-requirements-for-the-solution">Identify the development requirements for the solution</h2>
<p>After you have determined the gaps between the current and desired
functionality and the new features that are to be implemented, it is
important to identify the specific development requirements for each of
the solutions. You will need to address and understand the impacts of
each solution as you identify the requirements to ensure quality
planning and a smooth implementation.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Design patterns and practices for code deployments</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The ability to describe and identify appropriate design patterns and
practices for code deployments is beneficial to every project and will
set up the project for success with features and production support.</p>
<h2 id="branching-strategies">Branching strategies</h2>
<p>The idea for branching strategies is to get your configuration to create a good flow of code to production but to also enable you to work on multiple code projects at once.</p>
<p>Keeping your branching structure as simple as possible is imperative in helping to avoid over-complicating it unnecessarily. You’ll want to expand the strategy only as needed. You may need to have a more complex branching strategy if the implementation has a lot of customizations.</p>
<p>Generally, you will want to start with at least a three-branch strategy: one for development, one for testing, and one for releasing your code
to the production instance.</p>
<p><img alt="Diagram of a three branch branching strategy." data-linktype="relative-path" src="./rawmb500/media_branching.png"/></p>
<p>Each of the code branches will relate to
one or more environments in your implementation. For more complicated
branching strategies and different approaches or management strategies, see the reference links at the end of this module.</p>
<h2 id="code-deployment-flows">Code deployment flows</h2>
<p>Code deployment flows, while connected to the branches that the code is
built from, differ slightly depending on a few factors. You will want to
take into consideration what the code is used for. For example, perhaps the code needed to move to production as soon as possible to fix an error. Perhaps the code is needed for additional functionality that is not important for the immediate future. These are some considerations that will help you determine where to deploy your code.</p>
<p>In general, you'll want to move the code in environments, that is,
from development environments where it has been verified to a testing
environment where multiple users can run through the process that you have modified. After the code has been tested, you will want to move it to a release or staging environment that will prepare it to be moved to
production. In finance and operations apps, the code will need to be deployed
into a Tier 2 Standard and Acceptance Test environment, and then selected as a release candidate before it can be promoted to the production
environment to ensure that it has been validated.</p>
<p>In the branching and code flow strategies that you develop, you
will need to remember that these can change throughout the
implementation, but planning for the changes is imperative to keeping
the end goal of the implementation in mind.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">The process for deploying code changes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Understanding the process of code deployment is essential to
communication between technical and functional teams. Now that you have
learned about the flow of code, you will need to know how to deploy the
code to different environments to ensure that the flow is correct. Let's review the steps:</p>
<ol>
<li><p>After you have checked in code to the development branch, from your development environment, you will need to merge it to the testing branch. Check the reference links at the end of this module for more details on this exact process.</p>
</li>
<li><p>When the code has been merged into the testing branch, you will build the code in the corresponding Visual Studio DevOps pipeline. That process creates a .zip file that you will upload to the asset library and apply to an environment. To apply to an environment, make sure that you have uploaded the file into the asset library by going there in the Lifecycle Services project. Select the <strong>Software deployable package</strong> on the left. After the page has loaded, select the <strong>+</strong> (plus) button to name and select the file from Azure DevOps.</p>
</li>
<li><p>After the package is in the asset library, go to the environment's full detail page for which you want to deploy the package. To deploy the code, select <strong>Maintain &gt; Apply updates</strong> and apply the correct code package.</p>
</li>
<li><p>After you deploy code to an environment, there's an essential task to complete.</p>
</li>
<li><p>If the code completed, you need to go back to the <strong>Full details</strong> page of the environment, select <strong>History &gt; Environment changes</strong>, and then select the package that completed. Then, you can select <strong>Sign off</strong>. This process ensures that the package is complete, but you can also select the software deployable package as a release candidate for production if the package was applied to a Tier 2 Sandbox Acceptance Test environment.</p>
</li>
<li><p>If the environment that you deployed the code to was a testing environment, restart the process at the merge step for the next branch  and deploy to the next environment in your flow.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Finance and operations apps frameworks</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>It's important to understand the customization concepts of finance and operations apps and to master the skills to make those
customizations. With finance and operations apps, you can use the Task recorder
and Business process modeler tools to create user acceptance test
libraries. Additionally, you should also
know how to use the Data management framework.</p>
<h2 id="task-recorder">Task recorder</h2>
<p>Use the Task recorder tool to create multiple, in-depth, instructional
recordings of business processes in finance and operations apps that you
can use in various scenarios. For example, if you have a business user, go
through the process of creating a purchase order (PO). Then, upload that process into the asset library so that you can use it for training other resources. Use the recording with the Regression suite automation tool (RSAT) for regression testing scenarios and to share with other business users to ensure continuity across roles in the system.</p>
<h2 id="business-process-modeler">Business process modeler</h2>
<p>Use the Business process modeler tool to create user acceptance test libraries. You can create, view, and modify repeatable implementations that are based on libraries and flowcharts. Business process modeler helps you align the business processes for finance and operations apps with industry standard processes. Additionally, you can perform a fit-gap analysis between your business requirements and the default processes in the system, which helps you discover the development requirements.</p>
<h2 id="data-management-framework">Data management framework</h2>
<p>Use the Data management framework to manage data entity packages
in finance and operations apps. It uses a series of concepts to help you
set up and copy the configuration for new implementations. This feature is beneficial,
even if your team doesn't understand the structure of data or
dependencies, and it can lead to an easier implementation.</p>
<p>You can use all three frameworks to enhance implementations
from beginning to end, and you can use them in tandem to create an easier
step-by-step implementation strategy.</p>
<h2 id="implement-the-sysoperation-framework">Implement the SysOperation framework</h2>
<p>The SysOperation framework replaces the older RunBase framework, and it provides more extensibility. Both frameworks support the following capabilities:</p>
<ul>
<li>Parameters</li>
<li>Dialog user interface (UI)</li>
<li>Batch servers</li>
<li>Running operations interactively</li>
</ul>
<p>For finance and operations apps, we recommend that you use the SysOperation framework instead of the RunBase framework. Use SysOperation framework when a job should process or calculate something.</p>
<p>SysOperation consists of four main elements:</p>
<ul>
<li>Data contract class</li>
<li>Controller class</li>
<li>Service classUI</li>
<li>Builder class</li>
</ul>
<h3 id="data-contract-class">Data contract class</h3>
<p>The Data contract class indicates the attributes that are needed for the job, and the attributes automatically provide a dialog-based UI. The following code sample illustrates the Data contract class:</p>
<pre><code class="lang-xpp">[DataContractAttribute]
internal final class MySysOperationContract
{
    private ItemId      itemId;

    [DataMember, SysOperationLabel(literalStr("Item Id")), SysOperationHelpText(literalStr("Item Id help")), SysOperationDisplayOrder('1')]
    public ItemId parmItemId(ItemId _itemId = itemId)
    {
        itemId = _itemId;

        return itemId;
    }
}
</code></pre>
<h3 id="controller-class">Controller class</h3>
<p>The Controller class is the execution class, which contains information about the dialog, execution mode, progress bar, and other elements. The following code sample illustrates the Controller class:</p>
<pre><code class="lang-xpp">internal final class MySysOperationController extends SysOperationServiceController
{
    protected void new()
    {
        super(classStr(mySysOperationService), methodStr(MySysOperationService, process), SysOperationExecutionMode::Synchronous);
    }

    public ClassDescription defaultCaption()
    {
        return "My process job";
    }

    public static MySysOperationController construct(SysOperationExecutionMode _executionMode = SysOperationExecutionMode::Synchronous)
    {
        MySysOperationController controller;
        controller = new MySysOperationController();
        controller.parmExecutionMode(_executionMode);

        return controller;
    }

    public static void main(Args _args)
    {
        MySysOperationController controller;

        controller = MySysOperationController::construct();
        controller.parmArgs(_args);
        controller.startOperation();
    }
}
</code></pre>
<h3 id="service-class">Service class</h3>
<p>The Service class is the actual code that's processed or calculated. The following sample code illustrates the Service class:</p>
<pre><code class="lang-xpp">internal final class MySysOperationService extends SysOperationServiceBase
{
    public void process(MySysOperationContract _contract)
    {
        // do something

        ItemId itemId = _contract.parmItemId();

        Info(strFmt("%1", itemId));
    }
}
</code></pre>
<h3 id="ui-builder-class">UI Builder class</h3>
<p>The UI Builder class is only needed if the UI requires modification from the dynamically generated UI or if it has custom behavior.</p>
<h2 id="implement-the-sysextensionserializer">Implement the SysExtensionSerializer</h2>
<p>You can add fields to a table by using an extension. If you're adding more than 10 fields to a table extension, the compiler throws the best practice error. We recommend that you use the alternative way of creating a new table and adding a foreign key relation to the standard table. Maps are available to help you improve a developer’s processes. The <strong>SysExtensionSerializerMap</strong> and <strong>SysExtensionSerializerExtensionMap</strong> maps make the create, read, update, and delete (CRUD) operations automated to the custom table.</p>
<p>You can create a new table for your new fields, as the following image depicts.</p>
<p><a data-linktype="relative-path" href="media/sysextensionserializer-map.png#lightbox"><img alt="Screenshot of the My Cust Table showing the Sys Extension Serializer Map." data-linktype="relative-path" src="./rawmb500/media_sysextensionserializer_map.png"/></a></p>
<p>Consider the following details about implementing the <strong>SysExtensionSerializer</strong> extension:</p>
<ul>
<li><p>The <strong>CustTable</strong> field is an int64 (RecId).</p>
</li>
<li><p>It creates relation to the <strong>CustTable</strong> standard table and points to RecId on CustTable, as the following screenshot shows.</p>
<p><a data-linktype="relative-path" href="media/relation-standard-table.png#lightbox"><img alt="Screenshot of the Properties form showing the relation to the standard table." data-linktype="relative-path" src="./rawmb500/media_relation_standard_table.png"/></a></p>
</li>
<li><p>It creates mapping to map the <strong>SysExtensionSerializerExtensionMap</strong> field <strong>BaseRecId</strong> to a new table called <strong>MyCustTable</strong> and the <strong>CustTable</strong> field.</p>
</li>
<li><p>It creates an alternate key (Index) on the table for the <strong>CustTable</strong> field in the <strong>MyCustTable</strong> table. For the table property, the <strong>Replacement Key</strong> is set to the <strong>Alternate key</strong>, as the following screenshot shows.</p>
<p><a data-linktype="relative-path" href="media/alternate-key.png#lightbox"><img alt="Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key." data-linktype="relative-path" src="./rawmb500/media_alternate_key.png"/></a></p>
</li>
</ul>
<p>The <strong>SysExtensionSerializerMap</strong> contains methods for automatically inserting, updating, and performing many other functions. The standard <strong>CustTable</strong> table includes calls to the <strong>SysExtensionSerializer</strong> framework, which means that whenever a record in <strong>CustTable</strong> is updated, your table is also updated, as the following screenshot shows.</p>
<p><a data-linktype="relative-path" href="media/custtable-update.png#lightbox"><img alt="Screenshot showing the Cust Table." data-linktype="relative-path" src="./rawmb500/media_custtable_update.png"/></a></p>
<p>Using the <strong>SysExtensionSerializer</strong> framework fields helps you add a related table by following best practices and enabling CRUD functionality.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What is a guiding principle in creating a branching structure for your implementation?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Make it complicated</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Always keep it the same</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Keep it simple</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following features is used with the Regression Suite Automation (RSAT) Tool?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Task recorder</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data migration framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Software deployable packages</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which one of the following is not a relevant business concept to consider before and during an implementation of finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Number of users</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Number of transactions per month</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Seasonality</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Printing checks</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The design of branching strategies, code deployments, and consideration
of frameworks can be useful in determining a successful
implementation of finance and operations apps. To ensure that your
implementation is smooth, be sure to understand the concepts and needs
of your company, identify gaps, and create meaningful development
documentation.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Branching strategies in Azure DevOps</td>
<td><a data-linktype="absolute-path" href="/en-us/azure/devops/repos/tfvc/effective-tfvc-branching-strategies-for-devops/?azure-portal=true">Explore how to manage branching strategies with a DevOps mindset in Team Foundation Version Control (TFVC)</a></td>
</tr>
<tr>
<td>Regression Suite Automation Tool (RSAT)</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/using-task-guides-and-bpm-to-create-user-acceptance-tests/?azure-portal=true">Create and automate user acceptance tests</a></td>
</tr>
<tr>
<td>Business process modeler (BPM) tool</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/bpm-overview/?azure-portal=true">Business process modeler (BPM) in Lifecycle Services</a></td>
</tr>
<tr>
<td>Data entities and data packages</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/data-entities-data-packages/?azure-portal=true">Data management overview</a></td>
</tr>
<tr>
<td>Manage source code by using version control for finance and operations apps</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/manage-source-code-version-control-finance-operations/?azure-portal=true">Manage source code by using version control in finance and operations apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Lifecycle Services is your hub for environment management in the
cloud. Environment creation, updates, code deployments, and database refresh all take place within Lifecycle Services. Additionally, Lifecycle Services allows you to stop and start key services without having to open a remote desktop protocol (RDP) session.</p>
<p>This module will discuss the tools and functionality that are available in Lifecycle Services that are important to finance and operations apps development.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Perform support tasks</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Lifecycle Services offers several features to help you support the environments that
you're managing. From the <strong>Full details</strong> page of any environment, you
can restart key services, see changes that have been applied to the
environment, and access the back and front ends of the environment.</p>
<p><a data-linktype="relative-path" href="media/dashboard-1.png#lightbox"><img alt="Screenshot of the Lifecycle Services dashboard." data-linktype="relative-path" src="./rawmb500/media_dashboard_1.png"/></a></p>
<p>From the main menu, on the <strong>Full details</strong> page of any environment in
Lifecycle Services, select <strong>History</strong>, and then select <strong>Environment Changes</strong> from
the drop-down menu. The resulting page shows you every package that has
been applied from the Asset library to the environment, be that a
platform update, a code package, or a database maintenance task.</p>
<p>To apply code or updates to an environment, select <strong>Apply Updates</strong>
under the <strong>Maintain</strong> menu on the <strong>Full details</strong> page, and then
choose the relevant package from the list and select <strong>Apply</strong>.</p>
<p>For environments Tier 2 and up, the <strong>Move database</strong> option is also
available under the <strong>Maintain</strong> menu. This option allows you to export
a backup of the environment's database to the Asset library, import a
backup from the Asset library, or refresh the environment's database
directly from another Tier 2 environment. All processes run
automatically when they are queued to ensure repeatability and
reliability.</p>
<p>Another option that is available in environments Tier 2 and up is Restart
services, which allows you to remotely restart IIS, Batch, the Lifecycle Services
Diagnostic service, DIXF, or the Reporting server.</p>
<h2 id="additional-support">Additional support</h2>
<p>There are several ways you can get additional support in Lifecycle Services for finance and operations apps.</p>
<h3 id="dynamics-365-community">Dynamics 365 Community</h3>
<p>The Dynamics 365 Community is where you can engage with experts and peers that work with and use Dynamics 365 applications. Here you can read forums, blogs, access webinars, videos and find useful events. To get started using the Dynamics 365 Community, go to <a data-linktype="external" href="https://community.dynamics.com/?azure-portal=true">Welcome to Dynamics 365 Community</a> and log in with your Microsoft, work, or school account. You can explore the content with or without signing in. If you would like to post a question, comment, or receive email notifications, you will need to sign in.</p>
<h3 id="issue-search">Issue search</h3>
<p>In Lifecycle Services, you can use the Issue search tool to quickly search for Microsoft Knowledge Base (KB) articles, hotfixes, workarounds, and reported issues. Within the Issue search tool, you can also review current issues that are in process of being fixed for a specific functional area of Dynamics 365 finance and operations apps, and fixed issues.</p>
<p><a data-linktype="relative-path" href="media/issue-search-ss.png#lightbox"><img alt="An example of the current issues in the Issue search tool." data-linktype="relative-path" src="./rawmb500/media_issue_search_ss.png"/></a></p>
<p>To access and use the Issue search tool, open your project in Lifecycle Services, then select the <strong>Issue search</strong> tile. Here, you can search for an issue. Once you have typed a query, you will be able to search through any related content. To view information about the status of Lifecycle Services Issue search content, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/issue-search-lcs/?azure-portal=true">Issue search in Lifecycle Services</a>.</p>
<h3 id="more-information">More information</h3>
<p>To read more about how to manage the support experience, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/cloud-powered-support-lcs/?azure-portal=true">Manage support experiences for finance and operations apps</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Provision and manage environments</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The table of cloud-hosted environments on the <strong>Cloud-hosted
environments</strong> page of a project has an <strong>Add</strong> button that you can select to deploy
new environments.</p>
<p><a data-linktype="relative-path" href="media/cloud-1.png#lightbox"> <img alt=" Screenshot of the Cloud-hosted environments page." data-linktype="relative-path" src="./rawmb500/media_cloud_1.png"/> </a></p>
<p>When you select the name, application version,
platform version, and purpose of the environment that you want to deploy,
you should consider changing a few key settings:</p>
<ul>
<li><p><strong>VM type</strong> - Depends on your client's needs.</p>
</li>
<li><p><strong>Machine name</strong> - Makes your RDP window headers more
human-readable than a GUID.</p>
</li>
<li><p><strong>Data</strong> - If you don't want demo data, make sure that <strong>None</strong> is
selected.</p>
</li>
</ul>
<p>You can create, maintain, and delete cloud-hosted environments by using Lifecycle Services tools and components. Typically, you create a Lifecycle Service implementation project to host all cloud-hosted environments for a project. You can create cloud-hosted environments in Microsoft Azure with the Azure connector settings.</p>
<h2 id="configure-the-azure-connector">Configure the Azure connector</h2>
<p>To create cloud-hosted environments in Azure, use the configuration from Azure connector in Lifecycle Services. The first time that you configure settings for cloud-hosted environments, the system prompts you to configure the Azure connector. Then, it guides you to the Lifecycle Services project settings for Azure connectors.</p>
<p>A requirement for Azure connectors is that you must use an Azure subscription that’s a contributor for Dynamics Deployment Services. Then, you need to allow Lifecycle Services to use the Azure subscription. You can assign the contributor role for Dynamics Deployment Services by using Azure identity and access management (IAM) for the subscription in the Azure portal.</p>
<p>To configure the Azure connector, follow these steps:</p>
<ol>
<li>Select <strong>Add</strong> in project settings for Azure connectors to configure the requirement that allows you to create a new Azure connector in Lifecycle Services. A prompt for Microsoft Azure setup appears in Lifecycle Services.</li>
<li>Complete the <strong>Name</strong>, <strong>Azure subscription ID</strong>, and <strong>Azure subscription Microsoft Entra ID Tenant Domain (or ID)</strong> fields.</li>
<li>Lifecycle Services attempts to validate the Dynamics Deployment Services role and authorization. If validation is successful, you must select an Azure region that you plan to use for creating the cloud-hosted environment. If you select <strong>Connect</strong>, the system creates the new Azure connector.</li>
</ol>
<p>You can have more Azure connectors in Lifecycle Services, but one is always the default.</p>
<h2 id="configure-azure-devops">Configure Azure DevOps</h2>
<p>You can configure Microsoft Azure DevOps in the project settings in your Lifecycle Services project. You must configure this feature so that you can create a build pipeline when deploying a build and test environment.</p>
<p>Configuring Azure DevOps requires that you enter a URL for your organization in Azure DevOps and then select a DevOps project.</p>
<h2 id="create-a-cloud-hosted-environment">Create a cloud-hosted environment</h2>
<p>When you configure an Azure connector as a requirement for cloud-hosted environments, you can create environments.
To do so, follow these steps:</p>
<ol>
<li>In the <strong>Cloud-hosted environments</strong> menu, select <strong>Add</strong>.</li>
<li>Select the application version and platform for the cloud-hosted environment. Then, select your environment topology:
<ul>
<li><strong>DEMO</strong> - The system deploys an environment for demo purposes.</li>
<li><strong>DEVTEST</strong> - Two options are available:
<ul>
<li><strong>Build and test</strong> - The system deploys an environment for build and test. If your Azure DevOps is configurated for your Lifecycle Services project, the system creates a build pipeline in Azure DevOps by using this environment.</li>
<li><strong>Development</strong> - The system deploys an environment for development.</li>
</ul>
</li>
</ul>
</li>
<li>Configure an environment name, the size of your environment, and various <strong>Advanced</strong> settings:
<ul>
<li><strong>Environment name</strong> - Enter a logical name, depending on your company’s naming standard.</li>
<li><strong>Size</strong> - Virtual machine sizes vary in price and performance. Select the option based on your specific requirements.</li>
<li><strong>Advanced settings</strong> - Configure these settings as needed according to your project requirements:
<ul>
<li><strong>Customize SQL Database Configuration</strong> - Specify that a database with demo data deploys in your environment.</li>
<li><strong>Disk</strong> - Select disk space, premium storage, and type of storage. Costs vary depending on your selection.</li>
<li><strong>Customize virtual machine names</strong> - Specify name preferences.</li>
<li><strong>Power Platform Integration</strong> - Configure Microsoft Power Platform integration.
<div class="NOTE">
<p>Note</p>
<p>With tier 1 environments, you must complete this configuration during deployment, and you can’t change it after creation.</p>
</div>
</li>
<li><strong>Dynamics 365 for Finance and Operations</strong> - Select whether to publish the home page.</li>
<li><strong>Customize virtual network</strong> - Select whether to use a new or existing virtual network.</li>
</ul>
</li>
</ul>
</li>
<li>Select <strong>Next</strong> when you complete all configurations. The system should create your new environment. The environment creation can take a while (four to six hours). Your new cloud-hosted environment should have a status of <strong>Queued</strong> in the cloud-hosted environment list until it deploys. The <strong>Deployment</strong> status changes to <strong>Deploying</strong> during creation.</li>
</ol>
<h2 id="update-a-cloud-hosted-environment">Update a cloud-hosted environment</h2>
<p>You can update cloud-hosted environments to a new application and platform version by configuring details for the environment. To do so, follow these steps:</p>
<ol>
<li>View available updates from the <strong>Full details in the cloud hosted environment</strong> list.</li>
<li>Maintain your current environment configuration by selecting <strong>Maintain</strong> and <strong>Apply</strong> update options for the selected cloud-hosted environment. The <strong>Apply updates</strong> option lists all updates in the Lifecycle Services project Asset library.</li>
<li>Import updates from the global Asset library to your project’s Asset library by selecting <strong>Import</strong>, selecting the update, and then selecting <strong>Pick</strong>.</li>
<li>Select and confirm the software deployable package that you want to apply. The deployment status should change to <strong>Queued</strong> and then change to <strong>Servicing</strong> as the update proceeds.</li>
</ol>
<p>After your environment updates, the deployment status changes from <strong>Servicing</strong> to <strong>Deployed</strong>.</p>
<h2 id="start-and-stop-a-cloud-hosted-environment">Start and stop a cloud-hosted environment</h2>
<p>From the cloud-hosted environment list, you can start or stop an environment by following these processes:</p>
<ul>
<li>Start an environment by selecting it and then selecting <strong>Start</strong>. The deployment status changes to <strong>Starting</strong> and then changes to <strong>Deployed</strong>. Then, your environment is accessible.</li>
<li>If an environment’s deployment status is <strong>Deployed</strong>, you can stop it by selecting the environment in the cloud-hosted environment list and then selecting <strong>Stop</strong>. The deployment status changes to <strong>Stopping</strong> and then <strong>Stopped</strong>.</li>
<li>Delete a stopped environment by selecting it and then select <strong>Deallocate</strong>. Deallocation prepares the environment for deletion, and then you can delete it.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>You can start and stop cloud-hosted environments directly in Azure, but it doesn't update the deployment status in Lifecycle Services. Therefore, you can stop an environment with a status of <strong>Deployed</strong> directly in Azure, and then it won't be accessible.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage asset libraries</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The asset library is divided into many categories that contain
different kinds of files. Some of the types of files that you are most likely to use include:</p>
<ul>
<li><strong>BPM artifact</strong> - Documents pertaining to the Business process model (BPM).</li>
<li><strong>Database backup</strong> - Files that you can use to restore an SQL or Azure SQL database.</li>
<li><strong>Model</strong> - Prepackaged extensions that you can install on an    environment.</li>
<li><strong>Software deployable package</strong> - Packages that you built from Azure  DevOps of code that was developed in Visual Studio.</li>
</ul>
<p><a data-linktype="relative-path" href="media/asset-1.png#lightbox"> <img alt="Screenshot of the Lifecycle Services Asset library page." data-linktype="relative-path" src="./rawmb500/media_asset_1.png"/> </a></p>
<p>The asset library can grow in two ways:</p>
<ul>
<li><p>Use the <strong>Import</strong> button to bring in files that are
published by Microsoft or Independent Software Vendors (ISVs). This
opens a table that you can filter for the package you need. When you find the correct package, select it and confirm your import.</p>
</li>
<li><p>Add files to the asset library by uploading files
from your computer by using the <strong>Add</strong> button. Enter a name and
description for your asset and select <strong>Upload File</strong>, which will take you to another screen. Select <strong>Browse</strong> to open a File Explorer window, which you can use to locate the file. When you've made your  selection, use the <strong>Upload</strong> button to add the file to your asset.
With your asset complete, confirm it to add it to the library.</p>
</li>
</ul>
<p>The asset library also has a <strong>Delete</strong> button that lets you remove
items and an <strong>Edit</strong> button for modifying the name and description of
assets.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage the code update process</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you update the version of a finance and operations apps environment, your existing code might not always work as intended with the new application version.</p>
<p>The following best practices will help you navigate your custom code extensions during the update process:</p>
<ul>
<li>Have a code branch for development. As you continue to update, you'll need to update your custom code to be compatible with the update’s changes. Promote from this branch to a test branch to confirm that changes work as you update your environments. Do a local, full build on a cloud-hosted, development environment that has been updated to the latest version to see all Best Practice warnings and errors that need to be addressed before updating other environments. Redeploy other, non-development cloud-hosted environment topologies on the new version rather than updating in place.</li>
<li>Deploy the update to your Tier 2 environments, then your custom code package with all changes promoted from the Development environment. Test the application and custom code in the Tier 2 environment and address any resulting issues. This process will ensure no errors exist with custom code after the deployment of updates in your environments.</li>
</ul>
<p>Remember, when making code changes, to ensure that you are developing in a custom extension model. Having a custom model where you create extensions of existing Microsoft objects will automatically rename the extension file type to avoid compatibility issues with Microsoft code and objects that might change during an update.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following processes can't be performed from Lifecycle Services?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Deploy a new environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Update the code on an existing environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Restore an image of an environment.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Upgrade an environment to a new platform version.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which feature of Lifecycle Services can be used to export a backup of a database to the Asset library for environments that are Tier 2 or above?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Move database</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Apply updates</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Reporting server</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Environment changes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>To manage the Asset libraries, there are different file types that serve various functions. Which asset type contains multiple models in a prepackaged extension file that can be used to deploy code and application changes to an environment?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Database backup</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Software deployable package</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>BPM artifact</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Model</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>An organization wants to update its cloud-hosted environments. What should the organization do?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Perform manual updates by using a runbook.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Apply updates from the cloud-hosted environment list.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Select <strong>Apply updates</strong> from the <strong>Full details in the cloud hosted environment list</strong> page</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a software deployable package list from the Asset library.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Lifecycle Services helps you manage multiple environments as part of a finance and operations solution. It introduces standard deployment and update
practices to make your environments more supportable and allows you to
perform some support actions remotely. Lifecycle Services is your portal for
administering these environments, so becoming familiar with it will help
you greatly.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>An introduction to Lifecycle Services</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/get-started-lifecycle-services-finance-operations/?azure-portal=true">Get started with Lifecycle Services for finance and operations apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In finance and operations apps, you run your instances on
cloud environments, which require performance monitoring. Your Lifecycle
Services implementation has plenty of usable tools that help you
monitor and keep track of overall system health for every environment.
These tools help you observe anything that might affect your
server's performance. It is important to monitor this on a regular basis
to ensure that nothing is changing and everything looks healthy.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Diagnose performance issues by using Trace parser</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>By using Trace parser, you can consume traces, and analyze
performance in your finance and operations apps deployment. This ensures that you have an idea of what is currently happening in your deployed
environments and helps ensure that business users have the response time that they need for their daily processes.</p>
<p>This unit explores how to use the Trace parser to identify any current issues that are deployed in finance and operations apps environments.</p>
<h2 id="how-to-use-trace-parser">How to use Trace parser</h2>
<p>Trace parser is available in the <strong>PerfSDK</strong> folder on your
development environment deployments. When you have located the tool and
installed it in your development environment, you can create traces by
performing the actions that you want to analyze.</p>
<p>To capture a trace, you must first ensure that you have completed the list of tasks that you need to analyze to avoid having metadata and other
tasks included in your trace. You must also add the System tracing user
role to the user who needs to complete the trace. In the finance and operations user interface, go to <strong>System administration &gt; Users &gt;
Users</strong>. From there, you can select the user and select <strong>Assign roles</strong>
on the <strong>User's roles</strong> FastTab.</p>
<p>After you have added the System tracing user role, the assigned user can capture the trace. In the navigation bar at the top-right of the screen, select the question mark icon. In the drop-down menu that appears, select <strong>Trace</strong>. When the new screen appears, name the trace that you are going to capture and select <strong>Start trace</strong>. Perform all the actions that you need to capture and analyze before selecting <strong>Stop trace</strong>.</p>
<p>When you stop the trace, you can select <strong>Download trace</strong>, which stores the captured trace on your local machine, where you can analyze it
with the desktop version of Trace parser; however, it cannot be uploaded
later. If you choose <strong>Upload trace</strong>, Trace parser stores the trace in the cloud to download at a different time, but it is automatically deleted after seven days. Alternatively, the trace can be manually deleted from the <strong>Captured traces</strong> page.</p>
<div class="TIP">
<p>Tip</p>
<p>If your sequence of events for a trace takes more than a few minutes, we recommend that you take multiple, smaller traces to minimize the risk of losing data if the trace becomes too large to analyze in a timely manner.</p>
</div>
<h2 id="diagnose-issues-and-analyze-performance-by-using-trace-parser">Diagnose issues and analyze performance by using Trace parser</h2>
<p>By using Trace Parser, you can identify performance issues. Some of these performance issues may include long-running X++ methods, time-consuming SQL queries, or client server calls.</p>
<p>The captured trace can be opened to diagnose issues and analyze
performance of the tasks in multiple ways. The next step after
downloading the trace file is to open the Trace parser on your developer
environment or VHD. Trace parser is installed by default and is located in C:\Program Files (x86)\MicrosoftDynamicsAX\Microsoft.Dynamics.AX.Tracing.TraceParser.exe.</p>
<div class="NOTE">
<p>Note</p>
<p>Trace parser is only available on DevTest topology deployed environments, it is not available in Demo topology environments.</p>
</div>
<p>In the Trace parser, you can download and import the previously captured events. To do this, select the <strong>Download and import</strong> button in
the Trace parser to import the ETL file.</p>
<p>To view the traces and analyze them, select the <strong>Timeline</strong> tab to see
the timeline view. You can use the <strong>Select Grouping</strong> drop-down menu to
group content that is based on a variety of categories and event types, such as Customer ID, username, Session name, and so on. The groupings display timestamps of each event, total number of events, and the lowest event level in the grouping. You can also see the list of all events in a threaded or unthreaded view. Go to the <strong>Property</strong> grid for a selected event to see a timeline chart for all the selected events, filter events, and session analysis notes. In the <strong>Call tree</strong> view,
under the <strong>Call tree</strong> tab, you find the call tree for all X++
methods for the captured events. Additionally, on the <strong>X++</strong> tab is a list of all the X++ methods, and you can sort them by fields such as inclusive/exclusive durations, RPC, or database calls.</p>
<h2 id="scenario">Scenario:</h2>
<p>Contoso USA users are experiencing performance issues when they try to post a payment journal. The time it takes for the journal to post is taking much longer than it should. As a developer for Contoso USA, you have been tasked to diagnose why posting payment journals is taking so long.</p>
<p>Follow these steps to investigate the performance issues:</p>
<ol>
<li>Log in to finance and operations apps and start a trace from the <strong>Help and support</strong> menu.</li>
<li>Name the trace.</li>
<li>Select <strong>Start</strong>.</li>
<li>Perform the business operation that you are diagnosing. In this case, you would post a payment journal.</li>
<li>Stop the trace.</li>
<li>Download the trace. It is important to keep in mind that when the trace is downloaded, it is deleted.</li>
<li>Select <strong>Upload trace</strong>. You should receive a message in the Action center that the trace is uploaded.</li>
<li>Return to the <strong>Tracing</strong> main menu</li>
<li>Select <strong>Captured traces</strong>. The captured traces page opens with the trace you captured.</li>
<li>Now you can launch Trace Parser, import the trace, and analyze.</li>
</ol>
<p>Before you can analyze a trace, you need to download the Trace Parser. To download the trace parser application, follow these steps:</p>
<ol>
<li>In your developer virtual machine, open File Explorer.</li>
<li>Find the Trace Parser .exe file. In most Tier 1 boxes, the download can be found in E:\AppRing3\10.0.8.10012\retail\Services\PerfSDK\Scripts.</li>
<li>When Trace Parser is downloaded, start it.</li>
<li>Register the database. To do this, specify the server name, and then name the database. See the following example:</li>
<li>Select <strong>Register</strong>.</li>
<li>Select <strong>Yes</strong> when you are asked if you want to create the database.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Load testing by using the Performance SDK</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A performance load test is performed when you need to test the
environment under normal, real-life load conditions. This will help the
system adjust and see how it runs under normal conditions of single or
multiple users. By the end of this unit, you will be able to run a load
test that will test performance under real-life load conditions. This
testing ensures that the code and business processes run as expected
with no errors under conditions such as when the environments are used by
all business users, in a normal manner, throughout the day. Some processes need to be tested under additional load testing conditions to make sure that the multi-user environment will not cause issues for any of your business processes.</p>
<h2 id="run-a-single-user-performance-test-with-the-performance-sdk">Run a single user performance test with the Performance SDK</h2>
<p>To start a performance test, follow these steps:</p>
<ol>
<li>Create a task recording of a business process. When the recording is saved as a developer recording, and the XML file is downloaded, you need to configure your development environment. The development environment setup requires the downloading of zip files, adding folders into the PerfSDK library, and configuring files.</li>
<li>Generate a C# performance test from the task recorder file that you  downloaded in Visual Studio. You will need to add references to specific DLLs and create new C# classes for the task recorder.</li>
<li>When the setup is completed, you will be able to run the single user testing in the <strong>Test Explorer</strong> through Visual Studio. Be sure to run your business process's end-to-end scenario first before you capture it to avoid slow or additional tasks while you are recording.</li>
<li>When you record your scenario in the task recorder, enter values  manually instead of selecting them from the drop-down lists to ensure that the tests can create data.</li>
<li>Replay your task recording before downloading it to make sure that every step was recorded. Restart Visual Studio if you don't see your  test case after the solution has been built.</li>
</ol>
<h2 id="set-up-azure-devops-for-multi-user-testing">Set up Azure DevOps for multi-user testing</h2>
<p>Before running a multi-user performance test, you need to verify several
prerequisites on your environment:</p>
<ul>
<li>Visual Studio Enterprise Edition will need to be in the development environment that you are using.</li>
<li>You need to have a tier-2 or above sandbox environment on the same application and platform update as your development environment.</li>
<li>You cannot proceed with multi-user testing without performing a single user test or having the C# testing classes generated for end-to-end scenarios.</li>
</ul>
<p>After you have verified that these prerequisites are performed, you can proceed to configure the finance and operations apps development environment. This requires downloading and configuring several certificates in the
environment. Then, you can prepare the <code>PerfSDKSample</code> solution for
the multi-user testing by installing, configuring the <code>.config file</code>, and running tests.</p>
<p>When the development environment has been properly configured, the
tier-2 or above sandbox must be prepared for multi-user testing. This
process includes installing the same certificates that were created for
the development environment on the tier-2 or above sandbox for all Application Object Servers (AOS) and ensuring that the users are created in the system.</p>
<h2 id="create-and-run-a-multi-user-performance-test-from-a-single-user-test">Create and run a multi-user performance test from a single user test</h2>
<p>To create and run a multi-user performance test, the preparation must be
complete. After completing the preparation, you need to go back to the development environment that you prepared and run the load test through Visual Studio. This step will launch the test and you will be able review the output in the Visual Studio interface to diagnose any performance issues that you might have.</p>
<p>For troubleshooting tips, see the references in the Summary unit at the end of this module.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Monitor performance by using SQL Insights</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>SQL performance tools are viewed in Lifecycle Services through the <strong>Environment
Monitoring</strong> page on the <strong>SQL Insights</strong> tab. Within this tab, you can
view <strong>Performance Metrics</strong>, <strong>Index Analysis</strong>, <strong>Live View</strong>,
<strong>Queries</strong>, and <strong>Actions</strong> for a specific environment.</p>
<p><img alt="screenshot of the Environment Monitoring page " data-linktype="relative-path" src="./rawmb500/media_performance.png"/></p>
<ul>
<li><strong>Performance Metrics</strong> - Shows you the most expensive queries that    were run in the system during a selected period based on duration in    milliseconds, logical input/output, execution count, CPU time in    milliseconds, and wait time. The data collection is pulled once daily and is stored for 30 days. On the <strong>Statement</strong> tab within <strong>Performance Metrics</strong>, you can view the query and download the query run plan.</li>
<li><strong>Index Analysis</strong> - Shows aggregated table and index information    from user scans, seeks, updates, and row count. You can view the trend for your selected index and additional table metrics.</li>
<li><strong>Live View</strong> - Shows you the current DTU and running and blocking statements.</li>
<li><strong>Queries</strong> - Shows a list of predefined queries that are used to retrieve metrics on an on-demand basis. Most queries are run synchronously to ensure that the results are returned instantaneously. If you're having performance issues, the query runs could cause a time-out    error. If this happens, select the option to turn off <strong>Use Fast Query</strong>    and rerun the query.</li>
<li><strong>Actions</strong> - Shows a list of predefined actions that you should use    to mitigate issues in sandbox and production environments. These    actions include adding or dropping an index, updating statistics on a table, rebuilding indices, terminating a blocking statement, and others. You can view environment history based on the action that was performed.</li>
</ul>
<h2 id="advanced-troubleshooting-with-sql-insights">Advanced troubleshooting with SQL Insights</h2>
<p>For advanced troubleshooting, you can view the raw information logs.
Before exporting the logs, you can use predefined queries to get the raw
logs for an issue to aid in your diagnostics and monitoring. The different types of predefined queries include slow queries,
deadlocks, crashes, and financial reporting issues.</p>
<p>In addition to raw logs, an advanced SQL troubleshooting tool enables performance analysis. These tools are similar to the DynPerf tool that is used in Microsoft Dynamics AX 2012. If you want more information on this, check the reference links in the Summary unit of this module.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create a SQL trace by using the SQL Profiler</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Another tool developers can use to test performance and diagnose performance issues is the SQL Profiler. You access the Profiler through the SQL Server management studio. Here you can exploit the server-side trace capabilities of the SQL Server Profiler to export a trace definition that you can use to create a collection that uses the Generic SQL Trace collector type.</p>
<div class="NOTE">
<p>Note</p>
<p>This tool can only be used on tier 1 Dynamics 365 instances</p>
</div>
<p>There are many reasons why you would want to use the SQL Profiler. For example, you may need to see all the long-running queries on the SQL server system, not just the long-running queries in finance and operations apps.</p>
<p>To access and use the SQL Profiler, follow these steps:</p>
<ol>
<li><p>In SQL Server Management Studio, open <strong>SQL Server Profiler</strong> from the <strong>Tools</strong> menu.</p>
</li>
<li><p>Connect to the database.</p>
</li>
<li><p>In the <strong>Trace Properties</strong> windows, name your trace.</p>
</li>
<li><p>When you have specified all properties, select <strong>Run</strong>.</p>
</li>
<li><p>While the SQL Profile trace is running, you perform the process or processes that are of concern.
For example, users may be experiencing slowness when adding data to the SalesTable. In this case, you will ask the user to perform the task, while the trace is running.</p>
</li>
<li><p>When the process is complete, stop the trace by selecting the <strong>Stop</strong> button in the menu.</p>
</li>
<li><p>Now you can analyze the trace by reviewing the trace results. The following screenshot shows what the trace looks like when it is stopped.</p>
<p><a data-linktype="relative-path" href="media/my-trace.png#lightbox"><img alt="Screenshot of My Trace window when a trace is stopped" data-linktype="relative-path" src="./rawmb500/media_my_trace.png"/></a></p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Monitor server health metrics in Lifecycle Services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Environment monitoring is a simple way to access current activity on
environments in your finance and operations apps implementation. By using the
<strong>Environment Monitoring</strong> and <strong>SQL Insights</strong> that come in a user-friendly dashboard, you can see measurements and diagnostics of
your environment's health. Within the <strong>Health metrics</strong> dashboard, some
issues are reported directly to the Microsoft Service Engineering Team
and some are mitigated immediately. If there are any concerns regarding
performance, this is a good way to gain insight into potential issues.
This unit examines how to view the health concerns for environments and determine how to mitigate many issues before they happen.</p>
<h2 id="types-of-health-checks-performed-with-health-metrics">Types of health checks performed with Health metrics</h2>
<p>Several types of health checks can be performed within the <strong>Health metrics</strong> interface, which you can use to make observations about your environment. The health checks span various services and components of the environments, including the following:</p>
<ul>
<li>AOS</li>
<li>Batch frameworks</li>
<li>Data Import/Export framework</li>
<li>Microsoft Azure SQL</li>
<li>Management reporter</li>
</ul>
<p>The checks are performed based on multiple data sources, like the
telemetry that is collected from the environments, the checks that are
done by a continuously monitoring watchdog service, CP counters, along
with other system-level counters that the environment produces. As previously mentioned, some health checks are reported to the Microsoft Service Engineering team for direct investigation.</p>
<h2 id="viewing-the-activity-log-and-the-user-load-in-the-activity-monitor">Viewing the activity log and the user load in the activity monitor</h2>
<p>On the <strong>Environment Monitoring</strong> page, select the <strong>Health metrics</strong>
tab to view the monitoring dashboard. Health metrics are collected for
all machines and components that relate to the environment that you selected in Lifecycle Services. The health metrics that you can view are CPU usage, available memory, errors logged per second, and batch heartbeat. You will be alerted about any abnormal activities in the metrics. Some alerts are taken care of by the system, but others will need you to take action to mitigate them.</p>
<p>The <strong>Activity</strong> tab contains several different charts and sections. The user interaction chart shows user activities on various
machines in the environment, as well as the SQL utilization trend. The
<strong>activity load</strong> section shows the various activities that were
performed on each machine, while the <strong>user load</strong> section shows all the
system users and the time that the user spent on a specific machine. If you hover over an activity in the activity load section, you can see an advanced look into the user's specific actions. You can also use filters on the page to narrow the information logs. Time duration, user, and search terms are only some of the filters that you can use to peer into the information for more comprehensive statistics. Note that the page doesn't load any data by default, and you must select a
time duration and then select <strong>Submit time</strong> for the data to show up.
The activity monitoring tool retains data for 30 days.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Use the Environment monitoring tool in Lifecycle Services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You will need a finance and operations apps project and environment installed
through Lifecycle Services  to perform this exercise. You will also need an account to access the Lifecycle Services page.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been tasked with checking the
Environment monitoring tool in Lifecycle Services, to ensure that the environment is running smoothly.</p>
<ol>
<li>In your browser, go to the <strong>Lifecycle Services</strong> homepage     (<a data-linktype="external" href="https://lcs.dynamics.com/v2/?azure-portal=true">https://lcs.dynamics.com/v2</a>).</li>
<li>Sign in by using your Lifecycle Services credentials.</li>
<li>Go to your project on the left side of the page.</li>
<li>In the <strong>Environments</strong> section of the page, select your environment name.</li>
<li>On the <strong>Environment details</strong> page, select <strong>Environment monitoring</strong> on the <strong>Monitoring</strong> FastTab.</li>
<li>On the <strong>Overview</strong> tab of the <strong>Environment  Monitoring</strong> page, you can access further information about the <strong>User load</strong>, <strong>Activity load</strong>, and <strong>User activity</strong>.</li>
<li>Select the <strong>Activity</strong> tab to view <strong>Raw logs</strong>.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What is the performance tool that can consume traces and analyze performance?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Performance SDK</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Health monitor</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>SQL Insights</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Trace parser</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You need to see an individual user’s activity on a specific environment. How would you accomplish this task?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Check the activity monitor in Lifecycle Services.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Use Visual Studio to run diagnostics.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Check the Full details page for an environment in Lifecycle Services.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>View the System administration module in finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Is it true that some diagnostics from Health metrics in Lifecycle Services are sent directly to the Microsoft Service Engineering team?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you learned how to discover, diagnose, and view various
performance issues within your finance and operations apps environments by using a multitude of tools from Trace parser to Health metrics in Lifecycle Services.</p>
<p>To have a successful onboarding and continuing experience, it is
helpful to know and troubleshoot health issues that occur in
your environments. With the help of the collection monitoring and
diagnostics tools in Lifecycle Services, the Trace parser's ability to perform load
testing, and the Performance SDK's help with task recordings for
performance in business processes, you can retain a holistic
view of the health of every environment.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trace parser overview</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/trace-parser/?azure-portal=true">Diagnose issues and analyze performance by using Trace parser</a></td>
</tr>
<tr>
<td>Trace parser tutorial</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/trace-trace-tutorial/?azure-portal=true">Take traces by using Trace parser</a></td>
</tr>
<tr>
<td>Performance SDK tutorial and setup guide</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/single-user-test-perf-sdk/?azure-portal=true">Single-user testing with Task recorder and the Performance SDK</a></td>
</tr>
<tr>
<td>SQL Insights overview and performance analysis</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/performancetroubleshooting/?azure-portal=true">Performance troubleshooting using tools in Lifecycle Services</a></td>
</tr>
<tr>
<td>Lifecycle Services health monitoring overview and information</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/monitoring-diagnostics/?azure-portal=true">Monitoring and diagnostics tools in Lifecycle Services</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Version control serves two purposes in the development pipeline.</p>
<ul>
<li>As a platform for sharing code across multiple workstations, version control allows you to collaborate with other developers on projects and features.</li>
<li>The same features also help you to separate stable code from code that is still under development.</li>
</ul>
<p>Of the many version control technologies that are available, we recommend and support Azure Repos by using Team Foundation Version Control Services for use with finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Configure Visual Studio to connect to Azure DevOps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains how to configure Visual Studio to connect to
the Team Foundation Version Control Services in Azure DevOps.</p>
<p>When you have a project in Azure DevOps to host your repository, you are
ready to connect with Visual Studio to start developing. Everything you
need to interact with Azure DevOps is found under the <strong>Team</strong> heading
on the menu bar or in the <strong>Team Explorer</strong> window.</p>
<p><a data-linktype="relative-path" href="media/team-explorer.png#lightbox"><img alt="Screenshot of the Team explorer window view." data-linktype="relative-path" src="./rawmb500/media_team_explorer.png"/></a></p>
<p>To connect to an Azure DevOps project from Visual Studio, follow these
steps:</p>
<ol>
<li>Select <strong>Manage Connections</strong> in the <strong>Team Explorer</strong> window or under the <strong>Team</strong> header on the menu bar. This option might appear simply as a green plug icon.</li>
<li>All the existing project connections from your local machine will be    available to select in the window that appears. Right-click and select <strong>Connect</strong> to make the connection.</li>
<li>In the window that opens in the <strong>Team Explorer</strong> window, select <strong>Manage Connections</strong>.</li>
<li>Select <strong>Connect to Team Project</strong>. This will open a new dialog box.</li>
<li>In the dialog box, select <strong>Servers</strong>.</li>
<li>This opens a new dialog box, where you will enter the Azure DevOps URL. If the URL looks like <code>clientname.visualstudio.com</code>, and it usually does, the remaining fields will be automatically populated.</li>
<li>After you confirm these settings, a new dialog box will prompt you to sign in to Azure DevOps.</li>
<li>When you have signed in, select the box for the desired Azure DevOps     project on the <strong>Team Projects</strong> pane.</li>
<li>Select <strong>Connect</strong>.</li>
<li>Select <strong>Advanced Configuration</strong> to open a dialog box for adjusting the parameters of your workspace mapping.</li>
<li>Select <strong>Advanced</strong> in this dialog box for more options.</li>
<li>Change the workspace from a <strong>Private</strong> workspace to a <strong>Public</strong> workspace.</li>
<li>In the <strong>Working folders</strong> table, remove all existing mappings.</li>
<li>On a new row of the table, map the <strong>Projects</strong> folder of the    desired branch of your Azure DevOps project to your local user's    <strong>Projects</strong> folder for Visual Studio.</li>
<li>On another row in the table, map the <strong>Metadata</strong> folder of the same    branch of your Azure DevOps project to the <strong>Packages Local Directory</strong>    folder of the <strong>AOS Service</strong> drive.</li>
<li>Select <strong>OK</strong>.</li>
<li>Select <strong>Close</strong> to exit all open dialog boxes.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Working in Visual Studio</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains how to check in code, merge code, resolve
conflicts, and roll back changes in Visual Studio.</p>
<h2 id="get-the-latest-version-and-check-in-code">Get the latest version and check in code</h2>
<p>When working with multiple developers or projects, you should validate
that your code includes the latest source control's version. To avoid
conflicts and ensure that the code is developed correctly, checking the
source is mandatory.</p>
<p>The Source Control Explorer is the view for all the code and objects that are checked into source control.</p>
<p>To open the Source Control Explorer, follow these steps:</p>
<ol>
<li><p>Select <strong>View</strong> on the menu bar of Visual Studio.</p>
</li>
<li><p>In the drop-down menu, select <strong>Other Windows</strong>.</p>
</li>
<li><p>From the available options, select <strong>Source Control Explorer</strong>.</p>
<p><a data-linktype="relative-path" href="media/source-control-explorer.png#lightbox"><img alt="Screenshot of the Source Control Explorer view." data-linktype="relative-path" src="./rawmb500/media_source_control_explorer.png"/></a></p>
</li>
</ol>
<p>To make sure that you are looking at the most recent checked-in version of
objects in the Source Control Explorer, right-click on the objects and
select <strong>Get Latest Version</strong>. Alternatively, you can do this at the folder level to
get all the updates.</p>
<p>You should always get the latest files from the branch that you are working in before checking in new changes. If someone else also pushes changes to the file that you are editing, this gives you an opportunity to reconcile your changes with theirs and make sure that all the features are working before the resulting changes are checked in.</p>
<p>To perform the check-in process, follow these steps:</p>
<ol>
<li>Select <strong>Pending Changes</strong> from the <strong>Team Explorer</strong> window.</li>
<li>Enter a check-in comment.</li>
<li>Select <strong>Check In</strong>.</li>
</ol>
<h2 id="merging-code-and-resolving-code-conflicts">Merging code and resolving code conflicts</h2>
<p>Sometimes, when you get the latest code from a branch into Visual
Studio, the code stored on the server has changes that are
different from the changes that you made locally. This is a merge conflict.</p>
<p>When Visual Studio encounters a merge conflict, it attempts to
resolve it automatically. Any such resolution is in the output log. If
any conflicts fail to resolve automatically, they appear in a new window that prompts you to tell Visual Studio what it
should do for each conflicting file.</p>
<p>The <strong>Resolve Conflicts</strong> window gives you the following options for
each file:</p>
<ul>
<li><strong>Take Source</strong> - Use the file that you pulled from source control,
erasing all your local changes.</li>
<li><strong>Keep Local</strong> - Keep your local file, losing any changes that are present in source control.</li>
<li><strong>Merge using Merge Tool</strong> - View both versions of the file
side by side, choosing to keep or discard each change in either
version, one at a time.</li>
</ul>
<p>You can't check in a changeset until there are no
unresolved merge conflicts, so mastering these tools is key to your
success as a member of a development team.</p>
<h2 id="roll-back-changes-in-visual-studio">Roll back changes in Visual Studio</h2>
<p>Everybody makes mistakes, and sometimes you need to roll back changes
that are checked into a source control branch.</p>
<p>In Visual Studio, this is simple to accomplish from the Source Control
Explorer. Right-click the branch that you want to roll back changes from
and select <strong>View History</strong>. This selection opens a new window, where you can see all the changesets that have been checked in to this branch. To roll back a changeset, right-click the changeset and select
<strong>Rollback Entire Changeset</strong>.</p>
<p><a data-linktype="relative-path" href="media/roll-back-changeset.png#lightbox"><img alt="Screenshot showing the Rollback Entire Changeset icon." data-linktype="relative-path" src="./rawmb500/media_roll_back_changeset.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage and perform code reviews</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Code reviews, or having one or more other developers approve your changes
before you check them in, are a helpful practice in keeping your repository stable.</p>
<p>To submit code for review from Visual Studio, follow these steps:</p>
<ol>
<li>Go to <strong>My Work</strong> in the <strong>Team Explorer</strong> window.</li>
<li>Make sure that all the changes you want to have reviewed are visible in the <strong>In Progress Work</strong> section.</li>
<li>In the <strong>In Progress Work</strong> section, select <strong>Request Review</strong>.</li>
<li>Enter any users that you would like to review your changes.</li>
<li>Enter a name and description for your changes.</li>
<li>Select <strong>Submit Request</strong>.</li>
<li>Optionally, you can name your shelveset and select <strong>Suspend</strong> so
that you can work on other changes while you wait for review.</li>
</ol>
<p>The code review appears in the <strong>Code Reviews</strong> section of <strong>My Work</strong>,
for you and for each of your reviewers.</p>
<p>To perform a code review, follow these steps:</p>
<ol>
<li>Right-click <strong>code review request</strong>.</li>
<li>Select <strong>Open</strong>.</li>
<li>Select <strong>Accept</strong> to let the requestor know that you have agreed to review their work.</li>
<li>Open each file in the shelveset and use the <strong>Difference</strong> window to see the changes side by side with the original file contents.</li>
<li>In the <strong>Team Explorer</strong> window, add any comments that you have to the relevant files. Comments link to a text selection, like in a Microsoft 365 document, so be aware of that when you add each new comment.</li>
<li>When you have reviewed each file, select <strong>Send Comments</strong> to let the reviewer know what changes you have recommended.</li>
<li>If you have no comments, select <strong>Close Review</strong> and indicate that the changes passed your review so that the reviewer knows to check them in.</li>
</ol>
<p>If you happen to make a mistake, perhaps your code reviewer will catch that mistake and send you one or more comments. To view and address these
comments, follow these steps:</p>
<ol>
<li>Go to the <strong>My Work</strong> page in <strong>Team Explorer</strong>.</li>
<li>If you suspended your work after submitting it for review, select it    in the <strong>Suspended Work</strong> section.</li>
<li>Select <strong>Resume</strong>.</li>
<li>Right-click <strong>Code review request</strong>.</li>
<li>Select <strong>Open</strong>.</li>
<li>Select each comment to view the relevant code and incorporate the review feedback.</li>
<li>After you have addressed the feedback in a comment, select the box for that comment to indicate that you have done so.</li>
<li>Depending upon your team's practices and the scope of the changes that you make in response to feedback, you might want to submit a new code review after you have addressed all of the comments.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You're setting up Visual Studio to connect to Azure DevOps on a machine that hosts a finance and operations apps environment. Which of the following actions should you do?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Set the permissions of the workspace to Public Workspace (limited).</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Map the folder for the branch in source control to the local Visual Studio documents Projects folder.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Map the Metadata folder for the branch in source control to the Packages Local Directory folder of the AOS drive.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Set the location of the workspace to Server.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Suppose you used Get Latest Version to bring updated files from source control into Visual Studio, and you suspect that local changes you wanted to keep were removed during an auto-merge. Which of the following actions can you do to troubleshoot the issue?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Roll back the changesets that you pulled from source control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Go to Pending Changes in Team Explorer for a list of differences between your workspace and source control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Use the Undo button to restore the changes that you wanted to keep.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Check the Output window in Visual Studio for logs of which files are automerged.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which of the following source control features is not accessible from Visual Studio?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Checking in your pending changes.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Submitting and responding to code review requests.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Rolling back changesets from source control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Creating a new Azure DevOps project.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Visual Studio integrates with Azure DevOps to help you to collaborate
with other developers and protect the integrity of your stable builds.</p>
<p>The integration of Visual Studio and Azure DevOps lets you:</p>
<ul>
<li>Connect an Azure DevOps project to finance and operations apps.</li>
<li>View, get, and roll back changes.</li>
<li>Resolve merge conflicts to avoid losing work.</li>
<li>Conduct code reviews to ensure that your source is the best it can    be.</li>
</ul>
<p>Bringing all these features together lets you, the developer, handle all your duties in one place. Mastering them will help your projects run smoothly and improve your ability to contribute to a development team.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps provide many tools that you can
use to test new code upgrades or customizations. As a developer, it's important that you use the test frameworks when designing changes to the code base. Not doing so introduces a level of risk every time the new system is used.</p>
<p>The test framework in finance and operations apps provides a structured approach to validate code functionality. By incorporating automated testing into your development process, you can:</p>
<ul>
<li><strong>Ensure code quality</strong> - Validate that your changes work as intended and align with business requirements.</li>
<li><strong>Detect regressions early</strong> - Identify issues introduced by code changes before they affect production environments.</li>
<li><strong>Improve deployment confidence</strong> - Prevent deployment of incomplete or problematic code into critical environments.</li>
</ul>
<p>Using the test framework helps streamline development and deployment cycles, ensuring a smoother experience for end-users.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Unit test framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use the SysTest Framework to write
unit test code, integrate the tests, and then run the test to automate
code testing. You can set up the SysTest Framework to create unit test
from code. You can also import Task recorder recordings into Visual
Studio to generate test code. More information about the Task
recorder is provided later in this module.</p>
<p>Your test can then be integrated into a test module which can be used to
manage test code. Adding the test module
to the source control allows you to integrate your test with the
build process. This addition runs your test code during the build to verify that all functionality is working as expected.</p>
<p>You can also run the test code individually. Running test codes is a repeatable process so, when the test class is created, you can run it multiple times. These iterations allow you to continuously validate your code changes. Additionally, quickly running tests to validate if your functionality still works after another developer has modified the element is key for productivity.</p>
<p>The option to rerun tests can also be beneficial to your
organization's productivity during upgrades that are released by Microsoft. Instead of requiring user resources to regression test all the
functionality from the user interface, you can run these unit tests that
will enter the required data and run testing processes to determine if
functionality is performing as expected.</p>
<p><a data-linktype="relative-path" href="media/unit-test.png#lightbox"><img alt="Diagram of the Unit test model process from author tests, integrate tests and then run tests." data-linktype="relative-path" src="./rawmb500/media_unit_test.png"/></a></p>
<h2 id="exercise--work-with-the-test-case-framework">Exercise – Work with the test case framework</h2>
<div class="NOTE">
<p>Note</p>
<p>To successfully complete this exercise, you must be using a finance and operations apps demo environment with the Contoso demo data and Fleet management module data.</p>
</div>
<p>To deploy the sample data set for Fleet management, follow these steps.</p>
<ol>
<li>In finance and operations apps, go to <strong>Fleet management &gt; Setup &gt; Fleet setup</strong>.</li>
<li>In the <strong>Data</strong> tab, select the <strong>Create</strong> button to generate the sample data set for Fleet management.</li>
<li>A message displays when the data is created successfully.</li>
</ol>
<p><a data-linktype="relative-path" href="media/sample-data.png#lightbox"><img alt="Screenshot of the Sample data created message." data-linktype="relative-path" src="./rawmb500/media_sample_data.png"/></a></p>
<p>First, you create a new project to run a unit test in. To create a new project, follow these steps.</p>
<ol>
<li>Open Visual Studio as an administrator.</li>
<li>Select <strong>File &gt; New &gt; Project</strong>.</li>
<li>In the <strong>Create a new project</strong> page, search for the Finance Operations project template.
<img alt="Screenshot of the Create a new project page." data-linktype="relative-path" src="./rawmb500/media_create_new_project.png"/></li>
<li>Select the <strong>Finance and Operations Project template</strong>, then select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> field, enter <strong>MyTestCase</strong>.</li>
<li>Select <strong>Create</strong>.</li>
<li>In the Solution explorer window, right click the <strong>MyTestCase</strong> project, and select <strong>Properties</strong>.</li>
<li>In the <strong>Properties</strong> page, set the <strong>Model</strong> to <strong>Fleet management</strong>.</li>
<li>Select <strong>Apply</strong>, then select <strong>OK</strong>.</li>
</ol>
<p>Now, you must add a class to your project, to do this follow these steps.</p>
<ol>
<li><p>Right click <strong>MyTestCase</strong> in the Solution explorer, then select <strong>Add &gt; New item</strong>.</p>
</li>
<li><p>If the <strong>Add new item</strong> page shows in compact view like the following image, select <strong>Show all templates</strong>.</p>
<p><a data-linktype="relative-path" href="media/view.png#lightbox"><img alt="Screenshot of the compact view." data-linktype="relative-path" src="./rawmb500/media_view.png"/></a></p>
</li>
<li><p>Expand the <strong>Dynamics 365 Items</strong> node in the left pane, and select <strong>Code</strong>.</p>
</li>
<li><p>In the <strong>Name</strong> field, enter <strong>MyTestClass1</strong>.</p>
</li>
<li><p>Select <strong>Add</strong> to add the class to your project.</p>
</li>
</ol>
<p>Next, you write code that will run a test when ran in Visual Studio, to do this follow these steps.</p>
<ol>
<li><p>In the Code editor, enter the following code:</p>
<pre><code class="lang-xpp">//Test unit class must be public and extend the SysTestCase class
class MyTestClass1 extends SysTestCase
{
public void setup()
{
    // Reset the test data to be sure things are clean
    FMDataHelper::main(null);
}

[SysTestMethodAttribute]
// Using the [SysTestMethodAttribute] because the name of the class does not begin with “Test”.
public void testFMTotalsEngine()
{
    FMRental rental;
    FMTotalsEngine fmTotals;
    FMRentalTotal fmRentalTotal;
    FMRentalCharge rentalCharge;
    FMRentalTotal expectedtotal;
    str rentalID = '000022';

    // Find a known rental
    rental = FMRental::find(rentalID);

    // Get the rental charges associated with the rental
    // Data is seeded randomly, so this will change for each run
    select sum(ExtendedAmount) from rentalCharge
     where rentalCharge.RentalId == rental.RentalId;

    fmTotals = FMTotalsEngine::construct();
    fmTotals.calculateRentalVehicleRate(rental);

    // Get the totals from the engine
    fmRentalTotal = fmTotals.totals(rental);

    // Set the expected amount
    expectedTotal = rental.VehicleRateTotal + rentalCharge.ExtendedAmount;

    this.assertEquals(expectedTotal,fmRentalTotal);

}

[SysTestMethodAttribute]
public void testFMCarValidateField()
{
    FMCarClass fmCar;

    fmCar.NumberOfDoors = -1;
    this.assertFalse(fmCar.validateField(Fieldnum("FMCarClass", "NumberOfDoors")));
}

}
</code></pre>
</li>
<li><p>Save the class. Two test cases are available in the Test Explorer.</p>
</li>
<li><p>If the Test explorer is not visible, select <strong>View &gt; Test explorer</strong> in Visual Studio.
<a data-linktype="relative-path" href="media/test-explorer.png#lightbox"><img alt="Screenshot of the Test explorer." data-linktype="relative-path" src="./rawmb500/media_test_explorer.png"/></a></p>
</li>
<li><p>Right-click the <strong>MyTestCase</strong> project in Solution Explorer and select <strong>Build</strong>.</p>
</li>
<li><p>In the Test explorer window, select the <strong>Test tube</strong> icon to view your tests, then select the <strong>Play</strong> icon to run your tests.<br/>
<a data-linktype="relative-path" href="media/test-icons.png#lightbox"><img alt="Screenshot showing the test icons." data-linktype="relative-path" src="./rawmb500/media_test_icons.png"/></a></p>
</li>
<li><p>You can view the results of your test in the Text explorer window.
<a data-linktype="relative-path" href="media/test-complete.png#lightbox"><img alt="Screenshot showing the completed test." data-linktype="relative-path" src="./rawmb500/media_test_complete.png"/></a></p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Acceptance test library</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Acceptance test library (ATL) is an X++ test library that allows
developers to create consistent test data. It makes test code more
readable, and methods that create test data become more easily
discovered. ATL also supports high performance of test cases. You can use
the classes within the ATL to create repeatable tests that will write
test data and run processes by using that data. This feature can simplify some of the more complicated data setup and processes that would be required testing through the user interface (UI).</p>
<p>When creating classes and methods in ATL, you must follow rigid
structuring and naming. Classes are grouped into the following concepts:</p>
<ul>
<li><strong>Navigation</strong> - Discover entities and test data methods.</li>
<li><strong>Test data methods</strong> - These methods are used to set up test data.</li>
<li><strong>Entities</strong> - Represent data and associated behavior that is perceived as a single unit.</li>
<li><strong>Creators</strong> - Let you create specific test data.</li>
<li><strong>Commands</strong> - Run business operations.</li>
<li><strong>Queries</strong> - Find entities.</li>
<li><strong>Specifications</strong> - Describe expected entities at the end of the test.</li>
</ul>
<p>The ATL code generator quickly creates and updates new ATL entities,
queries, and specifications based on tables and data entities.</p>
<p><img alt="Screenshot of the generate alt entity page." data-linktype="relative-path" src="./rawmb500/media_alt.png"/></p>
<p>The following steps help you create an ATL entity class by using the code
generation:</p>
<ol>
<li>In Visual Studio, open the table you want to use in the Designer window.</li>
<li>On the <strong>Addins</strong> menu, select <strong>Generate ATL Entity</strong>.</li>
<li>Select the fields that should be included in the ATL Entity class.</li>
<li>Select <strong>Add</strong>.</li>
<li>Rename the entity and fields as needed.</li>
<li>Select <strong>Generate</strong> to create the class.</li>
</ol>
<p>To create an ATL query class by using the wizard, follow these steps:</p>
<ol>
<li>In Visual Studio, open the table you want to use in the Designer window.</li>
<li>On the <strong>Addins</strong> menu, select <strong>Generate ATL Query</strong>.</li>
<li>Select the fields and relations that should be included in the ATL
Query class.</li>
<li>Select <strong>Add</strong>.</li>
<li>Rename the entity, fields, and the relations as needed.</li>
<li>Select <strong>Generate</strong> to create the class.</li>
</ol>
<p>To create an ATL Specification class by using the wizard, follow these
steps:</p>
<ol>
<li>In Visual Studio, open the table you want to use in the Designer window.</li>
<li>On the <strong>Addins</strong> menu, select <strong>Generate ATL Specification</strong>.</li>
<li>Select the fields that should be included in the ATL Specification
class.</li>
<li>Select <strong>Add</strong>.</li>
<li>Rename the specification and fields as needed.</li>
<li>Select <strong>Generate</strong> to create the class.</li>
</ol>
<p>To learn more about the Acceptance test library (ATL), go to  <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/acceptance-test-library/?azure-portal=true">Acceptance test library resources</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Task recorder</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Task recorder helps users write
test cases that represent a business process task or business process.
It focuses on high-responsiveness, a flexible extensibility application programming interface (API), and seamless integrations with consumers of business process recordings.</p>
<p>The Task recorder is integrated with the Lifecycle Services
business process modeler (BPM) tool so that users can produce business
process diagrams from recordings to design their applications. Additionally, the Task recorder can auto-generate application verification tests and play back previously-recorded processes.</p>
<p>The Task recorder records the user actions including button selections, value entry, and navigation.</p>
<p>To see how to create and consume a Task recording as a developer for testing, watch this video.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=37dfbb87-3f6a-4bea-bf11-7e0f55e595a4"></iframe></div>
<p>To create a task recording, follow these steps:</p>
<ol>
<li>We recommend that you refresh the browser before each new recording
to create a new user session. Refreshing your browser will restart
the Task recorder if you already have it open. This will provide the
most stable recording experience and prevent unwanted changes to an
existing task recording.</li>
<li>Select <strong>Settings &gt; Task recorder</strong>.</li>
<li>Select <strong>Create recording</strong>.</li>
<li>Enter a name of the recording and select <strong>Start</strong>. The Task recorder immediately enters Recording mode. The pane will display information and controls that are related to the process of recording.</li>
<li>Run through a process. As you go through forms, select buttons, and enter data, steps are added to the task recording.</li>
<li>Select <strong>Stop</strong>.</li>
</ol>
<p>You can download and save a task recording in different ways:</p>
<ul>
<li><strong>Task recording package</strong> - This can be used to play a task guide,
maintain the recording, or edit the recording's annotation.</li>
<li><strong>Raw recording file</strong> - This is used for developer scenarios, such
as test code generation.</li>
<li><strong>BPM file</strong> - This creates a Word document with the recorded steps,
as well as any screenshots that were captured.</li>
<li><strong>Save the recording to the Lifecycle Services library</strong> - If the Lifecycle Services library is
set as a Help library, you will be able to find the task guide by
searching the <strong>Help</strong> menu.</li>
</ul>
<p>The Task recorder can automatically run steps of an existing
recording. You can also use Maintenance mode to update an existing
recording with additional or adjusted steps. When Maintenance mode is
complete, a new recording is produced that contains the original steps and the new steps. Keep in mind that any steps that are not run during
maintenance are not included in the new recording.</p>
<p>To maintain a recording that you have saved locally as a file with the ".axtr" extension,
follow these steps:</p>
<ol>
<li>Open the <strong>Task recorder</strong> pane.</li>
<li>Select <strong>Maintain a recording</strong>.</li>
<li>Select <strong>It is in a file I can upload</strong> to load the Task recorder package (.axtr).</li>
<li>Select <strong>Start</strong>. The Task recorder begins recording in Maintenance  mode.</li>
</ol>
<p>While in Maintenance mode, you can choose from several controls to
maintain a task recording:</p>
<ul>
<li><strong>Step</strong> - Run the next step. Any open lookups, drop dialogs,   or Action Pane tabs might be dismissed when you use <strong>Step</strong>. In  situations where open lookups, drop dialogs, or Action   Pane tabs are being used, choose the <strong>Play</strong> option instead.</li>
<li><strong>Play</strong> - Run the remaining steps sequentially until playback  is paused. While you are playing the recording, the <strong>Play</strong> button will become a <strong>Pause</strong> button to pause the playback. If a step cannot be performed, it will be skipped and automatically paused.</li>
<li><strong>Play until</strong> - This works like the <strong>Play</strong> option, but you can select the step that the playback will stop at.</li>
</ul>
<p>Additional features are available for you to edit the recording that simplifies the maintenance process.
If you open <strong>Settings &gt; Task Recorder &gt; Edit recording</strong>, you can insert steps without re-recording the entire file, move steps without re-recording the entire file, and collapse the recording name and description fields to view more steps.</p>
<p>To edit a recording, use the following procedures.</p>
<h2 id="insert-step">Insert step</h2>
<ol>
<li>Select the step after which you want the new step to be inserted.</li>
<li>Go to the page that you need to record, and the <strong>Insert step</strong> option will appear.</li>
<li>Select <strong>Insert Step</strong>. The Task recorder will switch to Record mode.</li>
<li>Perform the step.</li>
<li>Select <strong>Stop</strong>. You can repeat this step as needed.</li>
<li>Select <strong>Done editing</strong>.</li>
<li>Save or publish the task recording.</li>
</ol>
<h2 id="move-steps-under-a-sub-task">Move steps under a sub task</h2>
<ol>
<li>Select the step after which you want to move.</li>
<li>Select <strong>Move step after</strong>.</li>
<li>Select the step or sub-task step that you want to move the step or    sub-task step after.</li>
<li>Select <strong>Done editing</strong> and save the task or publish the task guide when you are done.</li>
</ol>
<h2 id="import-a-task-recorder-recording-into-visual-studio">Import a Task Recorder recording into Visual Studio</h2>
<p>You can import a Task Recorder recording into Visual Studio to generate
test code. The task recording will be imported as an XML file, and the
test code is generated from it by using <code>FormAdaptors</code>.</p>
<p>To import a task recording into Visual Studio, follow these steps:</p>
<ol>
<li>Record a scenario by using <strong>Task Recorder</strong>.</li>
<li>In Visual Studio, select the <strong>Dynamics 365</strong> menu.</li>
<li>Select <strong>Add-ins &gt; Import Task Recording</strong>.</li>
<li>Select the module that you want to import the task recording to.</li>
<li>Select the XML file for the recording.</li>
<li>Test code will be generated based on the <strong>SysTestAdapter</strong> and
<strong>FormAdaptor</strong>. (This code can be viewed in the Visual Studio IDE.)</li>
<li>Set up Visual Studio options for test discovery and implementation.</li>
<li>From the menu options, select <strong>Test &gt; Windows &gt; Test Explorer</strong>.
Tests from test code will be available for you to select from.</li>
<li>Select the test and select <strong>Run &gt; Execute selected</strong>.</li>
</ol>
<p>The Task recorder feature includes additional advanced recording options. One option is the advance grid row selection. To ensure that the
correct grid row is selected during test playback, the filter criteria
needs to be explicitly defined. While you are recording, after you have opened a form that contains a grid and have selected a record, the Task recorder grid row selection dialog will appear. The dialog will have a filter pane pre-populated with the Task recorder's best guess. You can manually define the filter or use the best guess and apply the filter to the recording.</p>
<p>The Task recorder's <strong>Rollback changes to business data</strong> option can
revert business data that is created during recording when recording is
complete. This option can be used primarily to create task recordings for
tests. The rollback option only affects records that are created during the recording session. This is only available on non-production environments where the Test tools have been installed.</p>
<p>You can play the task guide <strong>On-rails</strong>. Users can play the task guide
to be prompted about what step to complete next. When the step is
completed, the task guide will automatically progress to the next step.
These <em>rails</em> prevent the user from selecting elements other than the
element that is identified in the task guide.</p>
<p>Additionally, if the task guide finds that a necessary element for the
step is not visible or not on the form on the user interface, an error
state occurs. A message will prompt describing the issue. The user can
then find the element and continue with the task guide. If you use the <strong>Next step</strong> and <strong>Previous step</strong> options to move through the task guide, you can sometimes prompt an error state if the previous or next step refers to an element that is not on the current form. You can also use the <strong>See more</strong> button to expand the task guide to see additional information, such as an example value or a note.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Best Practices tool</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Best practices can be used to keep X++ code clean and uniform so that future developers can easily read the code to see what customizations have been done. Additionally, best practices can help keep code in
line for future upgrades to alleviate issues. To enable a best practice
check, you can go to <strong>Visual Studio &gt; Extensions &gt; Dynamics 365 &gt; Options &gt; Best
Practices</strong> and view the best practices for each model. You can also
turn off best practices for specific models on the <strong>Best
Practices</strong> page.</p>
<p><img alt="Screenshot of the Visual studio best practices page." data-linktype="relative-path" src="./rawmb500/media_best_practices.png"/></p>
<p>The best practice check is run during the build. In the <strong>Results</strong> window,
you can see all the best practice issues and the location of each issue. You can also run the best practice check from the command prompt. You can run best practices for all forms, specific elements, all items in a model, and items in all models and then write the output to a log file. The following list shows some code snippets for how to run best practices against different elements in the command prompt.</p>
<ul>
<li><p><strong>Run best practice on all forms in a module</strong> - <code>xppbp     -module:FleetManagement form:*</code></p>
</li>
<li><p><strong>Run best practice on specific elements</strong> - <code>xppbp  -module:FleetManagement class:MyClass form:MyForm</code></p>
</li>
<li><p><strong>Run best practice on all items in the model (and only for this one model in the module)</strong> - <code>xppbp -module:FleetManagement -model:FleetManagement -all</code></p>
</li>
<li><p><strong>Run best practice on all items in all models in the module</strong> - <code>xppbp -module:FleetManagement -all</code></p>
</li>
<li><p><strong>Write the best practice output to log files</strong> - <code>xppbp -module:FleetManagement -all -xmllog=Log.xml -log=Log.txt</code></p>
</li>
</ul>
<p>You can suppress best practice checks for each model. To do this, you
can right-click your project and select <strong>Edit best practice
suppressions</strong>. This will open an XML file where you can suppress best
practices. You will need to add the model that you want to suppress by using the tags <code>DiagnosticType</code>, <code>Severity</code>, <code>Path</code>, <code>Moniker</code>, and <code>Justification</code>. You should be able to copy the information
from the model's BuildModelResult.xml that is created during the build
into the <strong>Edit Best Practice Suppressions XML</strong> file. The justification
message might need to be modified to be more meaningful.</p>
<pre><code class="lang-xml">&lt;Diagnostic&gt;
	 &lt;DiagnosticType&gt;BestPractices&lt;/DiagnosticType&gt;
	 &lt;Severity&gt;Warning&lt;/Severity&gt;
	 &lt;Path&gt;AxForm/AssetWarehouseTransfer/Design&lt;/Path&gt;
	 &lt;Moniker&gt;BPErrorFormDesignPatternUnspecified&lt;/Moniker&gt;
	 &lt;Justification&gt;Microsoft surely assigns a pattern  soon.&lt;/Justification&gt;
&lt;/Diagnostic&gt;
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify various categories and types of errors</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Error statements are developed before testing to dictate what should be
displayed when a test passes or fails. You can handle errors by using the
<code>Throw</code>, <code>Try...catch</code>, <code>Finally</code>, and <code>Retry</code> statements to handle exceptions. An exception is a regulated jump away from the code run.</p>
<p>The <code>throw</code> keyword is used to throw an exception enum
value. For example, the statement <code>throw Exception::error;</code>
would be used to throw an error exception. We recommend that you use the
<code>Global::error</code> method instead of the <code>Exception::error</code>. The <code>Global::error</code> can write a message to the Infolog when an error exception is thrown and convert a label automatically into text. You can also write the <code>Global::error("Error message.")</code> as <code>error("Error message.")</code>.</p>
<p>The <code>try...catch</code> keywords are used to process a thrown
exception through the catch. The code is run in the <code>try</code> code block.
If an error is thrown, the code will jump to run the catch code blocks
sequentially to see if the thrown error is specified to handle the
error. It is a common practice to have the first catch statement handle
the <code>Exception::Error</code> enum value and leave one catch blank
to catch any unspecified error. The <code>Finally</code> keyword can be
used with the <code>Try...catch</code> statement. The code in the
<code>finally</code> code block will run when the code leaves the <code>try</code> block
either normally or because of an error. See the following code example.</p>
<pre><code class="lang-xpp">try
{
  // Code here.
}
catch (Exception::Numeric)
{
  info("Caught a Numeric exception.");
}
catch
{
  info("Caught an exception.");
}
finally
{
  // Executed no matter how the try block exits.
}
</code></pre>
<p>The <code>retry</code> keyword can only be written in a
<code>catch</code> block. This causes the code to jump back to the
first line in the <code>try</code> code block. A <code>retry</code>
should be used when the issue can be fixed through code. The
<code>retry</code> gives the code an additional chance to succeed and
will display an Infolog when the <code>try</code> block started to run. You must
make sure that the <code>retry</code> statement does not cause an infinite
loop. We recommend that you include a variable in the <code>try</code>
block to test if you are in an infinite loop.</p>
<p>You can throw several error exceptions:</p>
<ul>
<li><strong>Break</strong> - The user pressed Break or Ctrl + C.</li>
<li><strong>CLRError</strong> - The error occurred while the CLR functionality was
being used.</li>
<li><strong>CodeAccessSecurity</strong> - An error occurred while the
<code>CodeAccessPermission.demand</code> method was being used.</li>
<li><strong>DDEerror</strong> - An error occurred while the DDE system class was
being used.</li>
<li><strong>Deadlock</strong> - A database deadlock occurred because several
transactions are waiting for each other.</li>
<li><strong>DuplicateKeyException</strong> - An error occurred in a transaction that
is using Optimistic Concurrency Control. The transaction can be
retried.</li>
<li><strong>DuplicateKeyExceptionNotRecovered</strong> - An error occurred in a
transaction that is using Optimistic Concurrency Control. The code
won't be retried, and this exception cannot be caught
in a transaction.</li>
<li><strong>Error</strong> - A fatal error occurred. The transaction has been
stopped.</li>
<li><strong>Internal</strong> - An internal error occurred in the development
system.</li>
<li><strong>Numeric</strong> - An error occurred when the <code>str2int</code>,
<code>str2int64</code>, or <code>str2num</code> function was used.</li>
<li><strong>UpdateConflict</strong> - An error occurred in a transaction during an
update.</li>
<li><strong>UpdateConflictNotRecovered</strong> - An error occurred in a transaction
during an update. This exception cannot be retried.</li>
<li><strong>TransientSQLConnectionError</strong> - An error occurred during the
query run. The transaction will be canceled. This exception
will not be caught within a transaction.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Configure the testing environment and prepare data</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Accurate data is key to measuring the success of code. You will need to
set up the test environment and prepare data to be tested in Visual
Studio. You will also need to deploy a testing environment for users to
test customization to code. A testing environment should be a Tier-1
environment to perform unit tests in. To learn more about deploying an
environment, review the <a data-linktype="absolute-path" href="/en-us/training/modules/explore-technical-architecture-finance-operations/?azure-portal=true">Explore the technical architecture of finance and operations apps</a> module.</p>
<p>To prepare the test environment with proper data, you can use the <strong>Data management</strong> workspace (<strong>System administration &gt; Data management</strong>).</p>
<p><a data-linktype="relative-path" href="media/data-management.png#lightbox"> <img alt="Screenshot of the data management workspace." data-linktype="relative-path" src="./rawmb500/media_data_management.png"/> </a></p>
<p>The data management tool uses data entities that represent the data of
one or more tables. You can create a data project to import data into
one or more entities. The data that is pushed into the entity will be pushed to the main table of finance and operations apps. You can import data through multiple file types, including .csv, .xlsx, .txt, or a package. A
package holds several data import files with metadata to specify the
sequence in which the import files are inserted into the system.</p>
<p>You can also use Lifecycle Services with the data management framework to
import the configurations and data between environments.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Run unit tests</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Large projects can have multiple developers who are creating code in their own environments. Before pushing code changes to production, unit tests should be performed to verify the code. Unit tests must follow specific syntax. The class must extend the <code>SysTestCase</code> class. Test
methods must be public, cannot have parameters, must return void, and
need to be decorated with the <code>SysTestMethod</code>.</p>
<p>The test method can include other methods that do not follow
these rules. Test methods typically have three distinct methods:
arrange, act, and assert. The arrange method sets up all the variables.
The act method does some processing. The assert method verifies if the
result is expected. You can use the <code>setup()</code> method that is
built into the framework to arrange the variables that will be used throughout the test methods. For example, if you have a variable
<code>currencyAmt</code> that is used in multiple test methods, instead
of creating a variable for <code>currencyAmt</code> in each test
method, you would only need to create it in the <code>setup()</code>
method.</p>
<p>You can choose from several different assert methods to verify the
test. <code>AssertEquals()</code> is the most common, but other methods are available, such as <code>assertTrue()</code> and <code>assertNotNull()</code>. You can also use the code <code>this.parmExceptionExpected(true)</code> to assert that an error
thrown is the correct behavior.</p>
<p>After the test class is created, you can right-click the class and
select <strong>Run tests</strong>. This selection will open the unit test toolbar. Using unit tests can be a fast and reliable way to develop code. Over time, you will build new tests as new functionality is added. This allows you to quickly run these unit tests to make sure that everything works as expected. For information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/systest-filtering/?azure-portal=true">SysTest Filtering using class and method attributes</a>.</p>
<p><a data-linktype="relative-path" href="media/run-tests.png#lightbox"> <img alt="Screenshot of the Visual studio run tests option." data-linktype="relative-path" src="./rawmb500/media_run_tests.png"/> </a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Document and fix issues</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Visual Studio comes with a debugger that examines code as it is
run. Debuggers are often used by developers to catch errors in
code. When debugging, you can see value pulls, queries that are
called, and a call stack of all the classes and methods that have been
run. You can also watch specific variables to track the value. In
addition to identifying errors, you can use the debugger to better
understand how the code manipulates variable values and the order in which certain processes are run. This can help you gain a better understanding of certain processes, like seeing what validations are made during item entry.</p>
<p>To use the Visual Studio debugger, you will need to set break points and
a startup object in your project. A breakpoint is a designation in the
code where the code implementation will stop when running in the debugger. A breakpoint is represented as a red dot by the line number of the code. You can set as many breakpoints as needed, but excessive breakpoints can make debugging take a long time due to the code constantly starting and stopping. The debugger toolbar contains options where you can set breakpoints, remove breakpoints, and remove all breakpoints.</p>
<p><a data-linktype="relative-path" href="media/add-break-point.png#lightbox"> <img alt="Animation showing how to add a break point." data-linktype="relative-path" src="./rawmb500/media_add_break_point.png"/></a></p>
<p>When the code comes to a break point, you can also select options in the
debugger toolbar to <strong>Step Into</strong> the code line by line. Doing so will
also go into any method calls in the code. You can <strong>Step Over</strong> to
proceed to the next line without going into any method calls. You can
also <strong>Step Out</strong>, which will run the current function to completion.
With the <strong>Run</strong> button, you can continue running the implementation until completion or until the code comes to another breakpoint. The debugger tool also has a <strong>Stop</strong> tool to end the running code and exit the debugger mode.</p>
<p>The startup object is needed to tell what class to run when you start
the debugger. You can select the startup object by right-clicking an
object in your project and then selecting <strong>Set as Startup Object</strong>.
Usually, this is a form or class. When you decide to run the debugger for
the object, from the <strong>Debug</strong> menu, select <strong>Start</strong> and a new window will open, running the startup object that you have selected.</p>
<p><img alt="Screenshot of Set as startup object selected." data-linktype="relative-path" src="./rawmb500/media_set_start_up_object.png"/></p>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/build-debug-project/?azure-portal=true">Build and debug projects</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following is not a function of the Task recorder?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Create task guides of a process that users can follow.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Generate unit tests in Visual Studio.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Periodically run to automatically complete a task.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Create on-rails playback that limits users to only be able to select elements within the task recording.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You are running the debugger. The breakpoint comes to a line saying custTable.insert(). How can you descend into the Insert method?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Select the Step Into button.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Select the Step Over button.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Select the Step Out button.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Testing and validating processes is crucial to
the success of your implementation. Often, challenges occur with
acquiring the resources, time, or proper data that is needed to test new
customizations. Using the test framework to create unit tests can help
automate repeatable testing. If new customizations are created, these
tests can be rerun to ensure that all functionality is maintained.</p>
<p>The test framework can be used with the Task recorder to create tests
based on the task guide that is recorded. Additionally, you can use these task guides to follow the correct processes.</p>
<p>Other tools in finance and operations apps can help ensure that code is
written with best practices. Using best practices can help ensure that
your code is following Microsoft's guidelines and is more future proof
to future releases that might make some functionality obsolete.</p>
<p>As errors occur, you can use the exception handling to handle various
errors, allow for graceful error correction, and provide a message to
users on what an error is and how to resolve it. The debugger can be used
to examine the code to see exactly what the code is doing and what
data is being used. Finance and operations apps provides several tools for you to test processes and handle errors.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>Learn about data task automation for power users.</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/data-task-automation/?azure-portal=true">Data task automation</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit introduces the capabilities of the various reporting tools in finance and operations apps and when to use them.</p>
<p>The five reporting experiences are:</p>
<ul>
<li><p><strong>Operational views</strong> - Show specific data that is needed for the
organization. This includes creating reports that can be customized
to show analytical data and transactional views.</p>
</li>
<li><p><strong>Business documents</strong> - Reports that are used to capture and exchange processed business data. This includes regulatory documents and
documents that capture business transactions, such as sales
invoices.</p>
</li>
<li><p><strong>Analytical tools and visualizations</strong> - Present the data in a way
that allows users to manipulate and explore their data. Creating a view of customer sales for each quarter could be an example of an analytical report.</p>
</li>
<li><p><strong>Electronic reporting</strong> - Can be used to configure formats for
electronic documents. This tool is used often with tax reporting,
electronic invoicing, or any report that would need to be sent
electronically.</p>
</li>
<li><p><strong>Financial reporting</strong> - Provides in-depth accounting management
tools based on financial activity across a company. Financial
reporting includes documents such as balance sheets and cash flow.</p>
</li>
</ul>
<p>Because the reporting tools address different reporting needs, you
must determine when each reporting tool should be used.</p>
<p>Use an operational view if you need a report that is intended for the organization to monitor data and transactions. If the report does not need to be shared or printed, and if data should be near real time.</p>
<p>You should use a business document when you need a report for the back office to show real-time transactional data. The data needs to be distributed as a file through email or printers. If you need to let users create their own views to
explore near real-time data quickly by using dashboards, tiles, and
visualizations, you should consider using analytical tools and
visualizations such as Power BI.</p>
<p>Electronic reporting should be used if the user needs to be able to create real-time reports on transactional data that allow electronic transfer and use Microsoft Excel export capabilities. The financial reporting tool should be considered when accounting reports need to be created for financial officers, and the reports need printing and Excel export capabilities.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify report data sources and supporting classes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Reports use data sources to pull data. SQL Server Reporting Services
(SSRS) and Power BI are two reporting tools that use data sources. This unit covers the creation and modification of data sources for these reporting tools.</p>
<p>SSRS uses data sets that are defined by a data source. You can assign a data source to an SSRS report through Visual Studio.</p>
<p><img alt="Diagram of Data sources that can be assigned to an S S R S report." data-linktype="relative-path" src="./rawmb500/media_data_sources.png"/></p>
<p>In the report parameters, you can select the data source for the data set and the data source type. The data source type can be the following:</p>
<ul>
<li><p><strong>Query</strong> - A query data source type uses an existing query or a new query.</p>
</li>
<li><p><strong>Business logic</strong> – Use this type to get a data source other than finance and operations apps.</p>
</li>
<li><p><strong>Report data provider class</strong> – You can use this type when a query cannot be used alone. In this case, additional logic is needed to run the report. Along with the RDP class, a contract class is also needed to define the report parameters.</p>
</li>
<li><p><strong>Enum provider</strong> – An AX enum provider can be used when the report parameter is an Enum type to filter the report view.</p>
</li>
</ul>
<p>If you need to modify a data source, you will
need to extend the tables or RDP classes to make modifications.</p>
<p>Power BI can connect to data sources, ranging from files, databases,
other Power BI datasets and data flows, Azure databases, online
services, and even web URLs.</p>
<p><img alt="Diagram of the data sources that Power B I can connect to." data-linktype="relative-path" src="./rawmb500/media_power_bi_data.png"/></p>
<p>Use the following procedure to connect to a
data source to create a Power BI report.</p>
<ol>
<li><p>In the Power BI toolbar, select the <strong>Get Data</strong> button. The most
common data sources are displayed, but you can select more to get
access to the entire list.</p>
</li>
<li><p>After you have selected the data source, select <strong>Connect</strong>.</p>
</li>
<li><p>A connection window is displayed where you can specify the data
connection and enter any required credentials. Select <strong>OK</strong>.</p>
</li>
<li><p>The <strong>Navigator</strong> page will appear. You can either select the <strong>Load</strong> button to load all the data, or you can select <strong>Edit</strong> to modify the query.</p>
</li>
</ol>
<p>When you have completed these steps, Power BI will be connected to a data source that you can use to create reports and data visualizations.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement reporting security requirements</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps have several ways to restrict user access to
reports. Authorization is used to grant access to elements of the
program through security permissions. Security permissions are combined
into privileges, which are then combined into duties. Permissions,
privileges, and duties can be added to a role and assigned to a user.
You can use this role-based security to grant user access to reports that are based on roles.</p>
<p>You can view security roles that are assigned to users from the <strong>Security configuration</strong> page in finance and operations apps. By
selecting a role on this page, you can view the duties, privileges, and
permissions that are related to the role. You can access the Security configuration page by going to <strong>System administration &gt; Security &gt; Security configuration</strong></p>
<p><a data-linktype="relative-path" href="media/security-1.svg#lightbox"><img alt="Screenshot of the Security configuration page." data-linktype="relative-path" src="./rawmb500/media_security_1.png"/></a></p>
<p>Data security is used to deny user access to tables,
fields, and rows in the database. Data security uses the extensible data
security framework (XDS) to control access to transactional data by
assigning data security policies to security roles. These policies can
restrict access to data, based on either the effective date or user
data. We recommend that you use the extensible data security to help secure data.</p>
<p>In addition to these security options, the Table Permissions Framework
can help protect data and is enforced by the Application Object Server (AOS). The Table Permissions Framework allows you to grant or deny Create, Read, Update, or Delete (CRUD) permissions to the data in a table. You can use this to give certain roles access to view and manipulate certain datasets.</p>
<p>For instance, you might want a salesperson to be able to view
and update a customer, but might want to deny them access to create
new customers or delete existing customers. To do this, you need to
grant the Read and Update permissions and deny Create and Delete
permissions for that role on the customer table.</p>
<h2 id="table-permissions-framework-example">Table permissions framework example</h2>
<p>Table Permissions Framework adds table-level security that verifies user
rights regardless of the request origin. For example, consider
the following scenario:</p>
<ol>
<li>ABC Corporation implemented finance and operations apps. Users can access data within the application.</li>
<li>The administrator configured a security role named Management.
Members of this role have access to sensitive financial data. One of
the tables that stores the sensitive financial data is named
ManagerFinancialData. Previously, this table was added as part of a
customization for the application.</li>
<li>The administrator configures the ManagerFinancialData table so that
AOS must authorize all operations for that table.</li>
<li>Before allowing Read access to data in the ManagerFinancialData
table, AOS will verify that the user is a member of the
Management role and that members of that role have permissions to
read the data. If the user is not a member of the Management role,
AOS will deny the read operation.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Publish a report</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>After an SSRS report is created, it must be deployed before you can
access it in finance and operations apps. You can deploy reports from the
PowerShell or from Visual Studio. Deploying reports from PowerShell
can be useful if you need to deploy a report in an environment that does
not have access to Visual Studio. However, you should not do this in a
Production environment.</p>
<p>You can deploy either all reports or a specific report from the
PowerShell. To deploy all reports, open the PowerShell as an
administrator and run the following command:</p>
<pre><code class="lang-powershell">*C:\AosService\PackagesLocalDirectory\Plugins\AxReportVmRoleStartupTask\DeployAllReportsToSSRS.ps1 -PackageInstallLocation \"C:\AosService\PackagesLocalDirectory\" *
</code></pre>
<p>Depending on the environment that you are using, the drive might vary. Generally, the drive is C:\, L:\, or K:\.</p>
<p>To run a specific report, you need the report name. Though you will open
the PowerShell as an administrator, you will run the following command line instead:</p>
<pre><code class="lang-powershell">*C:\AosService\PackagesLocalDirectory\Plugins\AxReportVmRoleStartupTask\DeployAllReportsToSSRS.ps1 -Module ApplicationSuite -ReportName TaxVatRegister.Report*
</code></pre>
<p>To deploy a report from Visual Studio, you will need to add the report
to your project. Right-click the report and select the <strong>Deploy</strong>
option.</p>
<p><a data-linktype="relative-path" href="media/deploy-report.png#lightbox"><img alt="Screenshot of the Visual Studio Solution Explorer page showing the Deploy Reports option." data-linktype="relative-path" src="./rawmb500/media_deploy_report.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab – Set authorization requirements on database tables</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>You want to enable the Table Permissions Framework for a specific table
in the Application Object Tree (AOT).</p>
<h2 id="enable-the-aosauthorization-property">Enable the AOSAuthorization property</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Select <strong>Run as administrator</strong> to open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Start creating a new project by opening the <strong>File</strong> menu and selecting <strong>New &gt; Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog box, ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementClassProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select  <strong>Projects</strong>.</li>
<li>Ensure the check boxes are selected for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Right-click your project in the Solution Explorer.</li>
<li>Select <strong>Add &gt; New item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> on the left pane, select <strong>Data Model</strong>, and then select <strong>Table</strong>.</li>
<li>Name the table <strong>MyTable</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>With <strong>MyTable</strong> open in the designer, right-click the main node of the table and select <strong>Properties</strong>.</li>
<li>In the <strong>Properties</strong> window, find the <strong>AOS Authorization</strong>  property. This property is set to <strong>None</strong> by default.</li>
<li>Select the drop-down icon in the AOS Authorization property, where you will see six options:
<ul>
<li>None</li>
<li>CreateDelete</li>
<li>UpdateDelete</li>
<li>CreateUpdateDelete</li>
<li>CreateReadUpdateDelete</li>
<li>Read</li>
</ul>
</li>
<li>Select <strong>CreateReadUpdateDelete</strong>.</li>
<li>Select <strong>Save MyTable</strong>.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to create a report that a power user can create to explore data. The creation of the report should only take a few minutes and needs to allow the user to create charts and dashboards. This report does not need to be printed, sent by email, or exported to a file. What reporting tool should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Operational views</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Business documents</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Analytical tools and visualizations</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Financial reporting</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You are implementing finance and operations apps and need to grant and deny user access to certain data and menu items. What tools are available that will allow you to do this?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Role-based security</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Extensible data security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Table permissions framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>All the above</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>What are some reasons to deploy a report from the PowerShell?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>You can deploy all the reports at once, and you can deploy reports in environments that are not Production and do not have Visual Studio.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>There is no reason to deploy reports from PowerShell. They should always be deployed from Visual Studio.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>PowerShell can be used to deploy reports in the Production environment.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>If you want to deploy reports to finance and operations apps, you must use PowerShell.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Understanding the types of reporting tools and which reports should be
used is important to creating meaningful reports for your organization.
While you might have the correct report type, you will need to make sure that you have the correct data. Creating and modifying data sources let you get the correct data. By using the security features, you can grant access and restrict access that users might have to certain reports and data.</p>
<p>When the report is finished and security is created for the report, you
can deploy the report to finance and operations apps by using PowerShell or
Visual Studio.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>With a downloadable virtual hard disk (VHD) for finance and operations apps, you can:</p>
<ul>
<li><p>Download it to develop on, ensuring that no issues will occur with other pieces of architecture or your implementation.</p>
</li>
<li><p>Use it for extra testing.</p>
</li>
</ul>
<p>Therefore, a VHD is a useful tool to know how to create and update. The VHD environment is hosted on your own computer, with a server that's hosted in Microsoft Azure, or any other on-premises architecture. You can download the VHD files from Lifecycle Services.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Set up a VHD for first-time use</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Your first step is to locate the files for the VHD, which you can access from the Asset library of Lifecycle Services. To find the Asset library, select the dropdown menu in the upper-left corner, as shown in the following screenshot.</p>
<p>The files that you need will be under the asset type <strong>Downloadable VHD</strong>. On the <strong>Downloadable VHD</strong> files page, an <strong>IMPORT</strong> button will display, which allows you to import the version of VHD that you’re trying to set up.</p>
<p>The versions that are available from Microsoft vary depending on the latest version that’s available of the application overall.</p>
<p>To set up the VHD for first-time use, select the <strong>IMPORT</strong> button and then add all parts of the VHD by selecting the <strong>Pick</strong> button in the sidebar for each part of the VHD.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/virtual-disk-download.png#lightbox"><img alt="Screenshot highlighting how to import and pick a downloadable virtual hard disk." data-linktype="relative-path" src="./rawmb500/media_virtual_disk_download.png"/></a></p>
</div>
<p>Then, download the parts of the VHD by selecting the highlighted text for each part of the VHD.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Set up and manage a downloadable VHD for development</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>After you’ve downloaded the VHD files, double-click the <strong>part01</strong> file because it contains the .exe file that will extract all compressed files (part02 – part09) and will create a single virtual hard disk (.vhd) file. However, before the VHD file is created, you’ll need to accept the license agreement and specify a destination folder before selecting the <strong>Extract</strong> button.</p>
<h2 id="enable-hyper-v-in-windows">Enable Hyper-V in Windows</h2>
<p>Before you can run the VHD, you’ll need to ensure that Hyper-V is enabled on your computer. To do so, go to the search bar in the start menu, enter <strong>Turn windows features on or off</strong>, and then select the result that matches this text. After you’ve opened the result, find the <strong>Hyper-V</strong> folder and check whether it’s ready or not. By completing this action, you’ll ensure that the system will also check all folders inside that folder.</p>
<p>After you’ve checked the <strong>Hyper-V</strong> folder, select the <strong>OK</strong> button. You’ll need to wait for the installation to complete if it wasn’t already installed on your computer. After installation is complete, you’ll need to restart your computer.</p>
<h2 id="set-up-a-new-hyper-v-virtual-machine">Set up a new Hyper-V virtual machine</h2>
<p>After you’ve verified that Hyper-V has been installed and set up correctly, you’ll want to ensure that a virtual machine (VM) is set up correctly. To set up your new VM, open the Hyper-V application. When you’re in the Hyper-V Manager, select <strong>New &gt; Virtual Machine</strong>.</p>
<p>The <strong>Before You Begin</strong> screen will appear, where you’ll select the <strong>Next</strong> button to set up a virtual machine with a custom configuration.</p>
<p>On the next page, enter a name for your virtual machine and then select the <strong>Next</strong> button again. Select a generation (usually, <strong>generation 1</strong> should work for the purposes of this exercise), and then select <strong>Next</strong>.</p>
<p>Next, you’ll need to enter how much memory the VM can use. At this point, you should specify at least 8 gigabytes (GB), or 8,000 megabytes MB, of memory, if not more. Otherwise, your Dynamics 365 development environment might be slow. Keep in mind the amount of memory that this VM will use from your computer.</p>
<p>Then, in the <strong>Configure Networking</strong> section, set the <strong>Connection</strong> setting to <strong>Default Switch</strong>. This setting controls the system’s access to the internet.</p>
<p>In the <strong>Connect Virtual Hard Disk</strong> section, you’ll attach the VHD file that you previously created to the VM. To do so, you’ll need to select the <strong>Use an Existing Virtual Hard Drive</strong> option, select the <strong>Browse</strong> button, and then point it to wherever you had saved your VHD file. Then, select <strong>Next</strong> to go to the final summary screen.</p>
<p>The final <strong>Summary</strong> page gives you an overview of the VM that you’re about to set up with the information that you entered. You can return and change your entries if something doesn’t appear correct. Select <strong>Finish</strong> to finish setting up your VM.</p>
<h2 id="set-up-visual-studio-microsoft-sql-server-management-studio-and-more">Set up Visual Studio, Microsoft SQL Server Management Studio, and more</h2>
<p>After you’ve finished installing and setting up the virtual hard disk (VHD), you’ll need to ensure that the programs are installed and set up that you will need for finance and operations apps development, data querying, and access to the application. Because this environment isn’t connected to Lifecycle Services for status and isn’t deployed like other cloud hosted environments, a few differences occur in this process.</p>
<p>Search for <strong>Visual Studio</strong> in the Windows search bar and then open the program as an administrator. You’ll need to sign in to Visual Studio with an account that has a Microsoft Visual Studio license. Though a trial is available, most trials end quickly, so we recommend that you license Visual Studio to ensure long-term use on your virtual machine. After you’ve signed in, you can change the settings and personalize the application. Additionally, you can connect it to your organization’s Microsoft Azure DevOps website through the <strong>Team Explorer</strong> window inside of Visual Studio.</p>
<p>This approach can be useful if you have code that’s been developed by other resources and you want to test it or continue making changes on your new virtual machine. Keep in mind that you’ll also need to restore a database over the VHD to have any relevant data. Otherwise, you’ll be testing the development of your organization with demo data that’s provided from Microsoft. Both scenarios have benefits and drawbacks based on your needs as an owner of the virtual machine.</p>
<p>Using SQL Server Management Studio is a simpler way to ensure that the virtual machine is set up correctly because you can open the application and select <strong>Connect to the database</strong>. From that point, you can select <strong>AXDB</strong>, and then you can query the data as necessary.</p>
<p>Many who use these environments need custom or production data restored on the environment for accurate troubleshooting or development. If you want to restore the database with a copy from the Production environment, you’ll need to first restore the database from Production over to a Tier2 or above environment and then export the database by using the Microsoft supported processes.</p>
<p>To learn about the process for exporting and importing databases from your Lifecycle Services managed environments, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/database/dbmovement-operations/?azure-portal=true">Database movement operations home page</a>.</p>
<p>Microsoft Excel and other products exist on the virtual machine as well; we suggest that you review the different programs that are available. For example, you can license Microsoft Excel with use of an Office 365 account by signing in to the application.</p>
<p>Additionally, you can install other applications that might be necessary for your development or testing processes. You can install applications, such as Microsoft Power BI Desktop, Insomnia for API management, and other integrations for finance and operations apps, on the virtual machine. You might need to allocate more space or memory from your local server for this process.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Upgrade the VHD</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>As you continue to work on the virtual hard disk (VHD) and use it with your Lifecycle Services deployed environments, updates happen and make the local VHD out of date in comparison. Therefore, you might want to update your VHD to keep up with the environments in Lifecycle Services as they continue to move from version to version. The process to update the environments is similar to the process of deploying code packages to a Development topology environment that’s deployed from Lifecycle Services. For that reason, the process should be familiar to more technical resources.</p>
<p>Your first step is to download the newest version of your update from Lifecycle Services in the Asset library onto the VHD.  To do this, sign in to Lifecycle Services by using your credentials. In the Lifecycle Services project, select an environment. On the <strong>Environment</strong> page, go to <strong>Available updates</strong>.</p>
<p>Make sure that the .zip file is unlocked after it’s downloaded. To do so, locate the .zip file in your downloads, right-click the file, and then select <strong>Properties</strong>. The properties window contains a checkbox that you’ll need to select.</p>
<p>When you’re finished, select <strong>OK</strong>.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/zip-properties.png#lightbox"><img alt="Screenshot showing the Properties windows of a .zip file that contains a checkbox." data-linktype="relative-path" src="./rawmb500/media_zip_properties.png"/></a></p>
</div>
<p>After you’ve unlocked the .zip file, you’ll need to extract its contents to a place on the VHD’s local drive. A good place to put these files is <strong>C:/Temp</strong> because it’s accessible from the command prompt and simple to navigate to. After the files are extracted in a secondary location, you’ll need to go to that folder. Open the Command Prompt tool as an administrator, from File Explorer or separately, and then go to the same folder.</p>
<p>When in the folder, run the following command:</p>
<p><code>AXUpdateInstaller.exe devinstall</code></p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/admin-command-prompt.png#lightbox"><img alt="Screenshot showing how to run the command when you are in a folder." data-linktype="relative-path" src="./rawmb500/media_admin_command_prompt.png"/></a></p>
</div>
<p>This process might take some time; it runs through the entire devinstall playbook that’s located inside the package that was downloaded. After the process has completed, you’ll need to complete a compile and sync through Visual Studio to ensure that the VHD is set up and operational after the update.</p>
<p>For more information, see: <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/deployment/install-deployable-package/?azure-portal=true">Install deployable packages from the command line</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise – Install a virtual machine</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this exercise scenario, you're a developer at a company and need to download the virtual hard disk (VHD). You want to use your local resources on your laptop to run the VHD and to ensure that you can use it at your convenience. You're already in Lifecycle Services and have downloaded the files from the Asset library into your downloads folder, and Hyper-V has been enabled on your computer.</p>
<p>To install the virtual machine, follow these steps:</p>
<ol>
<li><p>Go to the <strong>Downloads</strong> folder on your laptop.</p>
</li>
<li><p>Double-click the <strong>part01</strong> file to extract the compressed files (part02 -- part09) and create a single virtual hard disk (.vhd) file. Make sure that you note the location of this file for Step 10.</p>
</li>
<li><p>Open Hyper-V Manager.</p>
</li>
<li><p>Select <strong>New &gt; Virtual Machine</strong>.</p>
</li>
<li><p>Select <strong>Next</strong>.</p>
</li>
<li><p>Specify the <strong>Name</strong> and <strong>Location</strong> by entering a name for your virtual machine, and then select <strong>Next</strong>.</p>
</li>
<li><p>Specify the <strong>Generation</strong> by selecting <strong>Generation 1</strong> and then select <strong>Next</strong>.</p>
</li>
<li><p>Assign memory by entering <strong>12000</strong>, selecting the <strong>Use Dynamic Memory for this Virtual Machine</strong> checkbox, and then selecting <strong>Next</strong>.</p>
</li>
<li><p>Set up the networking by setting the <strong>Connection</strong> to <strong>Default Switch</strong> and then selecting <strong>Next</strong>.</p>
</li>
<li><p>Connect the virtual hard disk by selecting <strong>Use an existing virtual hard disk</strong> and then selecting <strong>Browse</strong>.</p>
</li>
<li><p>Go to the .vhd file that you created in Step 2.</p>
</li>
<li><p>Select <strong>Open</strong> to select the .vhd file and then select <strong>Next</strong>.</p>
</li>
<li><p>Select <strong>Finish</strong> and your virtual machine should be set up and ready for use.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Where is the downloadable VHD located in Dynamics 365 Lifecycle Services?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>In the Business Process Modeler section</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>In the Asset library</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Under the environment’s full details page</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>What installation process is like updating the VHD’s finance and operations apps version?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Installing Excel</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Installing a deployable package on a cloud-hosted development environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Installing Visual Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>How do you restore a copy of your Production environment database over the local database on the VHD?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>You can’t; this process isn’t supported.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>You’ll download the database file directly from Production and can overwrite the local database.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You’ll follow the directions for database operations that are provided by Microsoft to first restore the database from Production to a Tier 2/UAT environment through Lifecycle Services and then export it.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you’ve learned how to download and update a virtual hard disk (VHD) for finance and operations apps. Because you can use this environment for development and to work alongside the application, you also learned how to set up SQL Server Management Studio, Visual Studio, and more to use the VHD.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>While users are typically working in the user interface, developers work in Visual Studio in their own developer environment. Developers use Visual Studio to create and customize elements and perform other developer operations. The new developer environment allows developers to work in their own environment while still having the ability to collaborate and work with other developers and teams by using source control. The Element Designer is used to create elements, while the Application Explorer is used to manage elements.</p>
<p>It is important to synchronize any data changes with the database to
Ensure that all elements are up to date in the Application Object Tree (AOT).</p>
<p><a data-linktype="relative-path" href="media/visual-studio.png#lightbox"><img alt="Screenshot of the Visual Studio user interface." data-linktype="relative-path" src="./rawmb500/media_visual_studio.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and build projects</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Creating a project in Visual Studio is essential for organizing, managing, and deploying your code effectively. It groups related elements, manages dependencies, and controls builds, making it easier to navigate your solution. Projects also integrate with source control for version tracking, allow debugging and testing within Visual Studio, and prepare code for deployment to production or test environments. This structured approach streamlines development and reduces errors, ensuring your customizations work seamlessly with Dynamics 365. Projects in Visual Studio contain elements, which are stored as metadata when they are built. The metadata is then used by the application to run your extensions.</p>
<p>In Visual Studio, a <strong>solution</strong> is a container that organizes one or more related projects, allowing you to manage them as a single unit. Solutions help developers coordinate multiple projects, which may represent different parts of an application, such as business logic, UI components, and services. By grouping projects within a solution, you can build, debug, and deploy them together, ensuring consistency across the entire application. Solutions also facilitate dependency management and make it easier to navigate complex projects with shared code, providing a centralized workspace for development.</p>
<p>To create a new project, go to <strong>File</strong> &gt; <strong>New</strong> &gt; <strong>Project</strong>, or hold <strong>Ctrl + Shift</strong> while pressing the <strong>N</strong> key. In the project wizard, name your project and make sure to select the model
where it belongs. The model is difficult to change when you start adding
files to the project, so getting it right early on is crucial.</p>
<p>The <strong>New project</strong> wizard also lets you select dependencies if you know
which models you might be using or extending elements from. If not, you
can edit the model dependencies list later as you add elements. It's important to ensure that that model is correct from the start, as it will be difficult to change after files are added to the project.</p>
<h2 id="build-rebuild-and-clean">Build, rebuild, and clean</h2>
<p>To compile your code, you have multiple options: you can build, rebuild, or clean your project from the <strong>Solution Explorer</strong> by right-clicking and selecting the desired option. A <em>build</em> compiles any changes, a <em>rebuild</em> compiles all components from scratch, and <em>clean</em> removes previous build outputs, preparing for a fresh build. You can also access these options from the <strong>Build</strong> menu in Visual Studio.</p>
<p><img alt="Screenshot of the Visual Studio Build menu." data-linktype="relative-path" src="./rawmb500/media_build.png"/></p>
<p>Watch this video to learn how to create a new project in Visual Studio.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=8259afe8-e4b2-46d6-af49-2e8c159ba4cc"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and use label files</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use label files to store text localizations for a user interface (UI).
To fully support multiple languages for a UI, the best practice is to use labels for all text that’s used in the UI, including:</p>
<ul>
<li>Properties such as <strong>Label</strong>, <strong>Description</strong>, and <strong>Help</strong> text.</li>
<li>Information, warnings, or errors that might be returned in the UI.</li>
</ul>
<p>You can create and modify labels in Microsoft Visual Studio. We don’t recommend that you change standard labels. Rather, you should create your own customized labels.</p>
<h2 id="create-label-files">Create label files</h2>
<p>Before you can use labels, you need to create them in a label file.</p>
<p>To find all current labels, go to <strong>Application Explorer</strong> &gt; <strong>Label Files</strong>. Typically, the labels are named as the module in Dynamics 365 (one label file for Accounts Payable, one for Accounts Receivable, and similar). You should create one label file for each language.</p>
<p>The naming and numbering of label files depend on the policies that you’re using for development.</p>
<p>Best practices for label files are to use a clear name, such as the solution name, and then use a descriptive label ID for each one.</p>
<p>To add label files to a project, follow these steps:</p>
<ol>
<li><p>Go to the <strong>Solution Explorer</strong> window and right-click the project or activate the context menu, and then select <strong>Add</strong>. <strong>New Item</strong>.</p>
</li>
<li><p>Select <strong>Label and Resources</strong>, <strong>Label file</strong>. The Label file Wizard will appear, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/label-file-wizard.png#lightbox"><img alt="Screenshot of the Label file Wizard." data-linktype="relative-path" src="./rawmb500/media_label_file_wizard.png"/></a></p>
</li>
<li><p>Enter a value in <strong>Label file ID</strong>, and then select <strong>Next</strong> to select languages, but you can add them later, too. A summary preview of the label file creation process displays.</p>
</li>
<li><p>If your entries appear correct, select <strong>Next</strong>. In Solution Explorer, notice that one label file for each language is created in your project, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/summary-preview.png#lightbox"><img alt="Screenshot of the summary preview." data-linktype="relative-path" src="./rawmb500/media_summary_preview.png"/></a></p>
</li>
</ol>
<p>To add labels into a label file, follow these steps:</p>
<ol>
<li><p>Open the file in the designer, which lists all labels for a label file and language, see the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/label-file.png#lightbox"><img alt="Screenshot of the file designer and the selection of a CustName label file." data-linktype="relative-path" src="./rawmb500/media_label_file.png"/></a></p>
</li>
<li><p>To create a label, select <strong>New</strong>. A new row for labels is created.</p>
</li>
<li><p>Enter a <strong>Label ID</strong> and a label. We recommend that you add a description, such as a task number. Examples of good label names to use are as follows:</p>
<ul>
<li><strong>Label file name</strong> - MyLabelFile</li>
<li><strong>Label ID</strong> - CustName</li>
<li><strong>Label string</strong> - My cust name</li>
</ul>
</li>
<li><p>If you’re supporting more than one language, you need to create a <strong>Label ID</strong> for applicable languages in each label file.</p>
</li>
</ol>
<p>You can’t use label files unless you build them.</p>
<h2 id="use-label-files">Use label files</h2>
<p>All text in a UI should have a label created. You need to set up some labels on a property and other elements in X++.</p>
<p>The simplest way to use a label is to find it in the label file by following these steps:</p>
<ol>
<li>Open the label file in Application Explorer or Solution Explorer in the designer.</li>
<li>Copy the row with the label (right-click or activate the context menu, and then select <strong>Copy</strong> or Ctrl+C).</li>
<li>Go to the property or X++ and paste (right-click or activate the context menu, and then select <strong>Paste</strong> or Ctrl+V).</li>
</ol>
<p>The following example shows how the inserted label should appear:</p>
<p><strong>@MyLabelFile:CustName (Label File Id and Label Id)</strong></p>
<p>The language that you use for a label is dependent on the functionality. Typically, you would use the language from the user; occasionally, a language-specific label is used, such as using English for an invoice to an English customer.</p>
<p>The following code sample illustrates how labels in X++ might appear:</p>
<pre><code class="lang-xpp">internal final class MyRunnableClassLabel
{
   /// &lt;summary&gt;
   /// Class entry point. The system will call this method when a designated menu 
   /// is selected or when execution starts and this class is set as the startup class.
   /// &lt;/summary&gt;
   /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
   public static void main(Args _args)
   {
       Info(strFmt('@MyLabelFile:CustName'));
   }
 
}
</code></pre>
<p>You can’t extend labels out of the box, but you can create a label in the label wizard with the <strong>postfix _Extension</strong>, such as <strong>Sys_Extension</strong>. Use the language that you want, and then create a label that has the same <strong>Label ID</strong> as in the <strong>Sys label</strong> file, giving it a new text. Now, the system uses the newly created label instead of the standard label.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage metadata by using the Application Explorer</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In Visual Studio, all objects that define the application's structure and functionality-such as tables, forms, classes, and workflows-are stored within the Application Object Tree (AOT). The AOT serves as a centralized repository, organizing these elements for easy access and management during development and customization. Metadata in existing models is available in the Application Explorer  as well.</p>
<h1 id="metadata-types">Metadata types</h1>
<p>The metadata types include:</p>
<ul>
<li><strong>Extended Data Types (EDTs)</strong> - If you have programmed before, you might think of these as primitive types: Boolean, String, Real, Integer, Globally Unique Identifier (GUID), Container, Time, Date, and Enum.</li>
<li><strong>Enums</strong> - A type with a value that is chosen from a predefined list. One example might be a weekday, which must be one of Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, or Sunday. An enum has great value because the enum values are stored as enum values in the database, rather than the full string value.</li>
<li><strong>Tables</strong> - Organize data into rows and columns.</li>
<li><strong>Forms</strong> -  User interface elements that get their own page in finance and operations apps.</li>
<li><strong>Data entities</strong> - An abstraction of database tables that are used for integrations, data import/export, and more.</li>
</ul>
<p>The Application Explorer contains the Application Object Tree (AOT),
which has two views: the model view and the classic view.
To access these views, right-click the <strong>AOT</strong> node and select <strong>model view</strong> or <strong>classic view</strong>.</p>
<h1 id="model-view">Model view</h1>
<p>The model view organizes metadata by the model that contains it, which is useful when you are browsing for elements that are related to a certain model's features.</p>
<p><a data-linktype="relative-path" href="media/model-view.png#lightbox"><img alt="Screenshot of the Application Object Tree model view." data-linktype="relative-path" src="./rawmb500/media_model_view.png"/></a></p>
<h1 id="classic-view">Classic view</h1>
<p>The classic view groups metadata elements by their type, which is more helpful when you know what kind of element that you need but not which module contains it.</p>
<p><a data-linktype="relative-path" href="media/classic-view.png#lightbox"><img alt="Screenshot of the Application Object Tree classic view." data-linktype="relative-path" src="./rawmb500/media_classic_view.png"/></a></p>
<p>There are more elements in <strong>Application Explorer</strong> that are specific to building solutions, including:</p>
<ul>
<li><strong>Analytics</strong> - Use for aggregate dimensions, measurements, and Key Performance Indicators (KPIs).</li>
<li><strong>Label files</strong> - Use in both properties and in X++ code. Label files are categorized per language.</li>
<li><strong>Reports</strong> - Defined in the system, you must ensure the SSRS reports are published before using them.</li>
<li><strong>Resources</strong> - Use for extensible controls. Can be saved pictures, HTML, and JavaScript.</li>
<li><strong>Configuration</strong> - License codes and configuration keys that you define in the configuration.</li>
<li><strong>Security</strong> - Security roles, duties, privileges, and policies.</li>
<li><strong>References</strong> - .NET Framework assemblies from a dynamics link library (dll).</li>
<li><strong>Services</strong> - Custom services and service groups.</li>
</ul>
<h1 id="use-queries-to-find-objects-in-the-aot">Use queries to find objects in the AOT</h1>
<p>If these views aren't sufficient to help you find the elements that you need, you can also filter the AOT by entering the field name, followed by a colon and a space, and then followed by a value. If you are looking for a recently created element, but cannot find what you need, try using the <strong>Refresh</strong> button to make sure that the AOT has the latest data.</p>
<p>To view the types of filters you can use in the AOT, select the <strong>Search</strong> field and begin typing in the Application explorer. The list of filters and a list of previously searched terms will appear.</p>
<p><a data-linktype="relative-path" href="media/aot-filter.png#lightbox"><img alt="Screenshot of the Application Object Tree filter." data-linktype="relative-path" src="./rawmb500/media_aot_filter.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Build deployment packages</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To apply your code changes to a non-development environment, build a Software Deployable Package (SDP) and upload it to Lifecycle
Services. This allows for a reliable and repeatable code
application process as your code gets closer to production.</p>
<p>To build an SDP from Visual Studio, follow these steps.</p>
<ol>
<li>Go to <strong>Builds</strong> in Team Explorer.</li>
<li>Right-click the desired build definition.</li>
<li>Select <strong>Queue New Build</strong>.</li>
<li>In the browser window that opens, sign in to Azure DevOps (unless you are automatically signed in).</li>
<li>Use the <strong>Queue</strong> button to open the build queue dialog box.</li>
<li>Enter any parameters that you need to in the dialog box.</li>
<li>Select <strong>Confirm</strong> to queue the build.</li>
</ol>
<p>When the build completes, the logs and the built code are available to download. The code is available as just the models that it includes, or
as what Azure DevOps calls an AX Deployable Runtime. The AX Deployable
Runtime is an SDP. All these downloads are accessible by using the
<strong>Artifacts</strong> button on a completed build's status page.</p>
<p>You can use Visual Studio to monitor and track your Azure DevOps builds.
From the <strong>Builds</strong> screen of Team Explorer, your active builds are
visible in the <strong>My Builds</strong> section. Each entry notes the time of the
last status change, such as "started 20 minutes ago" or "completed 6
seconds ago." When the build completes, you can download the resulting
AX Deployable Runtime from the connected Azure DevOps project site and
upload it to the Lifecycle Services Asset Library.</p>
<p>Watch the following video to learn about creating a deployable package.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=ddcfa344-d72b-4948-b66c-4619a2457e35"></iframe></div>
<p>To learn more about deployment packages, use these resources:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/deployment/create-apply-deployable-package/?azure-portal=true">Create deployable packages of models</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/deployment/install-deployable-package/?azure-portal=true">Install deployable packages from the command line</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/continuous-delivery-home-page/?azure-portal=true">Continuous delivery home page</a></li>
<li><a data-linktype="absolute-path" href="/en-us/business-applications/playbook/FusionOps-for-Dynamics-365-Finance/DevSecOps/CI_Pipeline#set-up-the-git-repository">Set up the Git Repository</a></li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Synchronize data changes with the database</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you add or change elements, you must synchronize the
database so that it knows in which fields (columns) that it needs to store these elements. To do that, select <strong>Synchronize Database</strong> from the <strong>Dynamics 365</strong> menu and then use the <strong>Synchronize</strong> button in the
dialog box.</p>
<p>You can also select <strong>Synchronize Database on Build</strong> on the <strong>Options</strong>
tab of the <strong>Build Models</strong> dialog box to automatically synchronize the
database after a successful build. This option is handy  because you will need to synchronize immediately after building.</p>
<p>Sometimes, an out-of-sync database will cause finance and operations apps to throw SQL errors. This problem can often be resolved with a successful database sync. Synchronizing the database with locally built code is necessary when you are bringing data onto a new machine.</p>
<p>The following screenshots show the different options for synchronizing both your project and the overall code base with the database.</p>
<ul>
<li><p>Project</p>
<p><img alt="Screenshot of the synchronize database option for a project." data-linktype="relative-path" src="./rawmb500/media_database_sync_project.png"/></p>
</li>
<li><p>Code base</p>
<p><img alt="Screenshot of the synchronize database option for the code base." data-linktype="relative-path" src="./rawmb500/media_database_sync_code_base.png"/></p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create new elements</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>If you are a developer for Dynamics 365, you may need to create new elements to meet the requirements of a customization or modification being made to the application. Creating a new object allows developers to tailor the system to meet specific business needs not covered by standard features. New objects like tables, forms, and classes enable custom data storage, workflows, and logic, ensuring the application aligns closely with unique organizational requirements.</p>
<p>The Element Designer is the central development tool in Visual Studio, where you use it to edit and configure elements. New elements can be created and modified here, and existing elements within the AOT can be extended to fit specific needs within this window.</p>
<p>Creating a new element starts in the <strong>Solution Explorer</strong> window:</p>
<ol>
<li>Right-click the project and select <strong>Add new item</strong>.</li>
<li>This opens a dialog box where you can choose what kind of object to add and then give it a name. When you have confirmed your choices, the element will appear in the <strong>Solution Explorer</strong> window.</li>
<li>Select the element in the <strong>Solution Explorer</strong> window, which will bring it into the Element Designer for editing.</li>
<li>To extend an element from the AOT, right-click it and select
<strong>Extend</strong>. This will add it to the <strong>Solution Explorer</strong> window.</li>
</ol>
<p>The appearance of the Element Designer varies by the type of element but generally contains a hierarchical view of the element data and related elements or code. You can drag and drop elements into this view, where they are structurally appropriate, and view the properties of any selected node in the <strong>Properties</strong> window. By right-clicking code elements, you can open them in a code editor to make modifications by using the coding features that you are used to seeing in Visual Studio, such as Intellisense.</p>
<p>Forms have their own layout, which consists of three windows:</p>
<ul>
<li><strong>Form Designer</strong> - Contains a hierarchical view of the form's structure.</li>
<li><strong>Normal Element Designer</strong> - For the selected node in the view.</li>
<li><strong>Pattern Designer</strong>- Helps you match the existing form layouts and UI conventions in finance and operations apps. When you start building a form, you can apply a pattern by right-clicking the form node in the Form Designer and selecting <strong>Apply Pattern</strong>. This populates the pattern's requirements in the Pattern Designer so that you know what you need to add to complete the form.</li>
</ul>
<p>The image below is an example of the Form element designer.</p>
<p><a data-linktype="relative-path" href="media/element-designer.png#lightbox"><img alt="Screenshot of an example of the Form Element designer." data-linktype="relative-path" src="./rawmb500/media_element_designer.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a project and add an element</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer is a new employee at the Fleet
Management company. The developer needs to create their own project in Visual Studio to begin developing new elements. The developer has been tasked with creating a new Extended Data Type (EDT) for vehicle color.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Select <strong>Run as administrator</strong> to open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure that the correct project settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Ensure that the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-new-vehicle-color-edt">Create a new vehicle color EDT</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project
<strong>FleetManagementProject (ISV) [Fleet Management]</strong>. (In this lab, (ISV) and [Fleet Management] denote parameters of the project or object)</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong> and then select <strong>Data Types</strong>.</li>
<li>On the middle pane, select <strong>EDT String</strong>.</li>
<li>Enter <strong>FMVehicleColor</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>.</li>
<li>The <strong>FMVehicleColor</strong> EDT will now be open in the element designer window.</li>
<li>Right-click the <strong>FMVehicleColor (ISV) [Fleet Management]</strong> heading in the element designer and select <strong>Properties</strong>.</li>
<li>In the <strong>Label</strong> property, enter <strong>Vehicle color</strong>.</li>
<li>In the <strong>String Size</strong> property, enter <strong>20</strong> to allow 20 characters to be entered for a color.</li>
<li>Perform a build by right-clicking the <strong>FleetManagementProject (ISV) [Fleet Management]</strong> project in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to change how the VendorInvoiceLineEntity functions. Which of the following actions should you take to start?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a new entity and copy all the properties from VendorInvoiceLineEntity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Extend VendorInvoiceLineEntity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Overlayer your changes on the existing VendorInvoiceLineEntity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Edit VendorInvoiceLineEntity directly.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>When does your code become available locally in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>When you save it</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>When you shelve your changes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>When you check in your changes to source control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>When you build it.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You extended a table to add fields in Visual studio, you performed a build, but you aren't seeing the new fields that you added to the table. Which of the following actions should you perform to ensure your table extension updates, and displays on the table?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Debug the table code</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Database synchronization</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Run a code analysis on the solution</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a deployable package</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Visual Studio is the development home for finance and operations apps. It
allows you to find, and extend existing functionality, or create your
own. It also lets you have your changes available to test locally as soon as you build and synchronize.</p>
<p>In this module, you learned how to perform the following tasks in Visual
Studio:</p>
<ul>
<li>Create and build projects</li>
<li>Manage metadata by using the Application Explorer</li>
<li>Build deployment packages</li>
<li>Synchronize data changes with the database</li>
<li>Use the Element Designer to create elements</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>X++ has a user-friendly memory management model that is identical to .NET. A few areas where X++ differs from other managed languages are:</p>
<ul>
<li>Strong data access statements</li>
<li>Tight integration with system and user metadata</li>
<li>A strong extensibility story with Pre/Post event handlers and chain of command</li>
<li>Case insensitivity, meaning that "While," "while," and "WHILE" are the same (C# is case-sensitive)</li>
</ul>
<p>X++ includes existing application classes for programming different
business processes that can be easily extended for customizations.</p>
<p>X++ shares many keywords from SQL, and you can access data directly by
using table objects and views. These objects allow data access and
manipulation directly from code. The compiler checks the code against a
set of established best practices.</p>
<p>In addition, finance and operations apps support
interoperability between classes that are written in X++ and any other .NET Framework language.</p>
<p>To start programming, you will need access to a finance and operations apps
developer environment and Visual Studio, you will also need a Visual Studio license.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement base types and operators</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains the different data types and operators that are used in X++.</p>
<h2 id="data-types">Data types</h2>
<p>Primitive data types are the most common data types that you encounter. The primitive data types are: <code>anytype</code>, <code>boolean</code>, <code>date</code>,
<code>enum</code>, <code> guid</code>, <code>int</code>, <code>int64</code>, <code>real</code>, <code>str</code>,<code>timeOfday</code>, and <code>utcdatetime</code>.</p>
<ul>
<li><strong>Date</strong> - This data type contains the day, month, and year. You can write out the date as literals by using the format day\month\year. The year must be entered as four digits. The dates must be within the January 1, 1900 and December 31, 2154 range. We recommend that you use <code>utcDateTime</code> instead of <code>Date</code> because it combines <code>date</code>, <code>timeOfDay</code>, and time zone information into a single data type.</li>
<li><strong>Enumerations (enums)</strong> - Are a named list of literals. For example, there's an enum called <code>NoYes</code>, with a list of literals No and Yes. Each literal can also be represented by a number. The first literal has the number 0, the next literal has the number 1, and so on. You can also provide your own values in the enum metadata. To reference an enum value, you would use the enum name followed by two colons and the name of the literal. Considering the <code>NoYes</code> enum again, to reference the Yes literal, you would write <strong><code>NoYes::Yes</code></strong>.</li>
<li><strong>GUID</strong> - This data type is a globally unique identifier (GUID) value. A <code>GUID</code> number is unique across all computers and networks.</li>
<li><strong>Int</strong> - These values are 32-bit wide integer signed numbers that don't include a decimal place. There's no support for unsigned integer    types.</li>
<li><strong>Int64</strong> - A larger, signed integer data type that works like the <code>int</code> data type, except that it's 64 bits wide compared to 32 bits. The <code>int64</code> type has a greater range for larger numbers.</li>
<li><strong>Real</strong> - These data types hold number values with decimals.</li>
<li><strong>Str</strong> - This data type contains values that are a string of characters. The <code>str</code> value must be wrapped in double quotation marks ("text") or single quotation marks ('text').</li>
<li><strong>TimeOfday</strong> - This data type is an integer value that represents the number of seconds that passed since midnight.</li>
<li><strong>Utcdatetime</strong> - This data type is a combination of the <code>date</code> type and the <code>timeOfday</code> data type. The format is yyyy-mm-ddThh:mm:ss with the    default value being 1900-01-01T00:00:00.</li>
</ul>
<h3 id="composite-data-types">Composite data types</h3>
<p>Along with primitive data types, there are composite data types.
Composite data types include arrays, containers, classes, delegates, and tables.</p>
<ul>
<li><strong>Arrays</strong> - Contain a list of items that have the same data type. You can retrieve an element in the array with an integer index. You can use arrays in different ways. Dynamic arrays are open and fixed-length arrays specify a certain length. Partly on disk arrays can be dynamic or fixed, with an option to determine how many items are held in memory.</li>
<li><strong>Containers</strong> - Are dynamic collections of primitive items or other    containers. Containers can be useful to pass different types of    values, but they aren't ideal when used in processes that frequently change the size or contents.</li>
<li><strong>Classes</strong> - Can be used as a data type to declare an instance of a    class within a method.</li>
<li><strong>Delegates</strong> - Can be defined on a method, table, form, or query. When a delegate is called, it also calls their subscriber methods.    Delegates never return a value and have a default value of <em>no handlers added</em>, which means nothing is called when you call them.</li>
<li><strong>Tables</strong> - Can be used to declare an instance of a table. Once a table instance is declared, you can manipulate the data within the table.
We recommend that the table variable has the same name as the table, but you should use camel casing. For example, the table EcoResProduct    would be declared by using camel casing as ecoResProduct.</li>
</ul>
<h3 id="user-defined-data-types">User-defined data types</h3>
<p>Extended data types (EDT) are user-defined types that are based on the
<code>boolean</code>,<code> int</code>, <code>int64</code>, <code>real</code>, <code>str</code>, <code>date</code>, and
<code>container</code> data types. EDTs can be used on variables, method parameters, and field declarations. User-defined data types offer significant benefits, such as reusing type definitions, including assigned labels and string lengths. They make code easier to read because the EDT name can be defined by the user. Therefore, instead of using just <code>str</code>, you could use an EDT named <em>Color</em>, which would be a more meaningful name. You can also set certain properties on the EDT that all instances of that type use. Additionally, you can create hierarchies for EDTs so an EDT can inherit the properties of a parent.</p>
<h2 id="variables">Variables</h2>
<p>Variables are identifiers that designate a storage location where a value of a data type is stored. The size, precision, default value, and conversion functions depend on the variable's data type. Variables can be declared anywhere in a code block in a method; they don't have to be declared at the beginning of a method.</p>
<p>In a class, member (global) variables and local variables have different scopes. Global variables can be used throughout the instance (excluding static methods) of the class, while local variables are only available within the scope of the class method.</p>
<p>When you declare a variable, you must assign the data type and then assign the variable name. At this point, you can assign a value or leave it open to set the value. The following procedure is an example of declaring a variable.</p>
<ol>
<li>Declare the data type inline and within code. In this example, use <strong>str</strong> for string data type.</li>
<li>Name the variable. It must start with a letter or underscore. We recommend using meaningful names for variables that follow camel case. Camel case is where you don't capitalize the first letter of the name, but each word or abbreviation that follows the first in the phrase is capitalized (for example, purchaseOrderLine). Spacing or punctuation isn't permitted.</li>
<li>If you're assigning a value, add the equal sign and the value of the variable. String values must be either surrounded by double quotation marks or by single quotation marks for hard-coded text. It's best practice to use labels in strings, excluding the few exceptions where this isn't feasible. Single quotation marks around hard-coded text suppress the best practice error that you would get for not using a label.</li>
<li>End the declaration with a semicolon.</li>
</ol>
<pre><code class="lang-xpp">str customerName;

	or

str customerName = "Name";
</code></pre>
<p>Watch the following video to learn how to declare a variable.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=244c6d92-177b-4657-ba4d-d83b53984932"></iframe></div>
<h2 id="operators">Operators</h2>
<p>Operators are used to compute values. The different types of
operators include assignment operators, arithmetic operators, and relational operators.</p>
<p>Assignment operators can change the value of the variable or field.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>Assigns the value after the equal sign to the variable before.</td>
<td>Int i = 1;</td>
</tr>
<tr>
<td>+=</td>
<td>Assigns the current variable value plus the value after the equal sign.</td>
<td>int I ; I += 1;</td>
</tr>
<tr>
<td>++</td>
<td>Increments the variable by 1.</td>
<td>int I; i++;</td>
</tr>
<tr>
<td>-=</td>
<td>Assigns the current variable value minus the expression after the equal sign.</td>
<td>int I; I -= 1;</td>
</tr>
<tr>
<td>--</td>
<td>Decrements the variable by 1.</td>
<td>int I; i--;</td>
</tr>
</tbody>
</table>
<p>Arithmetic operators are used to make numeric calculations.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;&lt;</td>
<td>The left shift operator multiplies the left value by 2 by the number of times equal to the value on the right.</td>
<td>int a = 1 &lt;&lt; 2 (this equals 1*2*2.)</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>The right shift operator divides the left value by 2 by the number of times equal to the value on the right.</td>
<td>int a = 1 &gt;&gt; 2 (this equals 1/2/2.)</td>
</tr>
<tr>
<td>*</td>
<td>This operator multiplies operands.</td>
<td>int a = 1*2</td>
</tr>
<tr>
<td>/</td>
<td>This operator divides the left value by the right value.</td>
<td>int a = 1/2</td>
</tr>
<tr>
<td>div</td>
<td>The integer division operator performs an integer division of the left value and the right value.</td>
<td>int a = 20 div 6 (This returns a division of 3 with a remainder of 2. A = 3)</td>
</tr>
<tr>
<td>mod</td>
<td>The integer remainder operator returns the remainder of an integer of the left value and the right value.</td>
<td>int a = 20 mod 6 (This returns a division of 3 with a remainder of 2. A = 2)</td>
</tr>
<tr>
<td>~</td>
<td>The not operator performs a binary not operation.</td>
<td>int a = ~1 (This returns -2.)</td>
</tr>
<tr>
<td>&amp;</td>
<td>The binary AND operator performs a binary operation on the left and right value. This returns the bits in common.</td>
<td>int a = 1 &amp; 3 (This returns 1.)</td>
</tr>
<tr>
<td>^</td>
<td>The binary XOR operator performs a binary XOR operation on the left and right value. This returns the bits set in one, but not the other.</td>
<td>int a = 1 ^ 3 (This returns 2.)</td>
</tr>
<tr>
<td>|</td>
<td>The binary OR operator performs a binary operation on the left and right value. This returns the bits set in either.</td>
<td>int a = 1 | 3 (This returns 3.)</td>
</tr>
<tr>
<td>+</td>
<td>The plus operator adds operands.</td>
<td>int a = 1 + 4 (This returns 5.)</td>
</tr>
<tr>
<td>-</td>
<td>The minus operator subtracts the left or right values.</td>
<td>int a = 4 - 1 (This returns 3.)</td>
</tr>
<tr>
<td>?</td>
<td>The ternary operator takes three values. If value 1 is true, value 2 is returned. Else, value 3 is returned.</td>
<td>int a = (x &gt; 3) ? 1:5 (If x is greater than 3, then return 1, else return 5.)</td>
</tr>
</tbody>
</table>
<p>Relational operators are used in X++ to compare the values between variable values of similar types. Some limitations with complex data types such as GUIDs apply.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Like</td>
<td>This operator is exclusively used in SQL statements and returns true if the criteria are found within the second value. For example, select a table where a field such as ‘12*’ returns all rows from a table where the field values start with 12.</td>
</tr>
<tr>
<td>==</td>
<td>Returns true if the values are equal.</td>
</tr>
<tr>
<td>!=</td>
<td>Returns true if the first value isn't equal to the second value.</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Returns true if the first value is greater than or equal to the second value.</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Returns true if the first value is less than or equal to the second value.</td>
</tr>
<tr>
<td>&gt;</td>
<td>Returns true if the first value is greater than the second value.</td>
</tr>
<tr>
<td>&lt;</td>
<td>Returns true if the first value is less than the second value.</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>Returns true if the first and second value are true.</td>
</tr>
<tr>
<td>||</td>
<td>Returns true if the first or second value is true.</td>
</tr>
<tr>
<td>!</td>
<td>Returns true if the value is false, and it returns false if the value is true.</td>
</tr>
</tbody>
</table>
<p>A ternary operator allows you to evaluate if an expression is true or
false to get a result. This is like an <code>if</code> statement, which is
discussed in the Use conditional and iterative statements and Exception
handling units. However, where an <code>if</code> statement provides conditional
branching for the code that is being run, the ternary operator result can be assigned to a variable. The following example checks if the variable x is equal to 5. If it's equal to 5, then the ternary operator assigns the value <strong>Yes</strong> to the result variable.
If x doesn't equal 5, the ternary operator assigns the value <strong>No</strong> to the result variable.</p>
<pre><code class="lang-xpp">result = (x==5) ? "Yes" : "No";
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Common structured programming constructs of X++</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>X++ uses classes to define data and create objects. The data that is defined in a class represents the state of the object and is stored in variables. Classes also contain methods, which will tell the object what to do.</p>
<p>The first piece of a class is the class declaration. The class
declaration holds the name of the class, the instance variables, and
other modifiers. In X++, all classes are treated as public, even if they're not explicitly declared. However, you can control the accessibility of methods within those classes using access modifiers like <strong>private</strong>, <strong>protected</strong>, and <strong>public</strong>. It's best practice to provide one of the following modifiers.</p>
<ul>
<li><strong>Private</strong> - Restricts access to methods and variables so that they can only be accessed within the same class.</li>
<li><strong>Protected</strong> - Allows methods and variables to be accessed within the same class and by subclasses.</li>
<li><strong>Public</strong> - Allows methods and variables to be accessed from any other class.</li>
</ul>
<p>The following is an example of a class declaration plus declaration of a member variable:</p>
<pre><code class="lang-xpp">public class CustomerDetails
{
    private str custName;
}
</code></pre>
<p>Classes must be instantiated before they can be used. The following example demonstrates how to create an instance of the <em>TruckLoad</em> class with another class, <em>Truck</em>. In the `createNewTruckLoad method of the <em>Truck</em> class, a variable of type <em>TruckLoad</em> is declared. An instance of the TruckLoad object is then created using the default constructor new and returned to the caller.</p>
<p>The instance method <em>shipTruckLoad</em> will accept an instance of the <em>TruckLoad</em> class to perform a shipping operation on that instance as well as a static method to calculate a total weight.</p>
<pre><code class="lang-xpp">public class Truck
{
	public TruckLoad createNewTruckLoad()
	{
		TruckLoad myTruckLoad = new TruckLoad();
		return myTruckLoad;
	}
	public void shipTruckLoad(TruckLoad _truckLoad)
	{
		_truckLoad.ship();
	}
	public static int calcTotalWeight(int  netWeight,int tareWeight)
	{
		return netWeight+tareWeight;
	}
}
</code></pre>
<p>Methods can be as follows:</p>
<ul>
<li><p><strong>Instance methods (or object methods)</strong> - Are embedded in the
object that was created from a class. The object must be instantiated before you can use this method. An instance method can access the instance and static state, whereas a static method can only access the static state.</p>
</li>
<li><p><strong>Static methods (also known as class methods)</strong> - You do not need
to instantiate an object to use these methods. You can declare a
method as static with the keyword <code>static</code>. A specific type of
static method is the Main method, which can be called directly from
a menu option.</p>
</li>
</ul>
<p>Methods are made up of a signature and a body. The method header holds
the method's name, return type, method modifiers, and parameters. If
there is no return type, then the keyword <code>void</code> is used. The body
holds the variable declarations, method declarations, and statements.</p>
<p>The following is an example of a method. The method is a public method that returns a real data type. The method is called ReturnCalculation. It
also has a real data type parameter <code>_expression1</code>. Parameters should
begin with "_" to easily identify parameters within the code.</p>
<pre><code class="lang-xpp">public real ReturnCalculation(real _expression1)
{
	real expression2 = 2;
	return _expression1 * expression2;
}
</code></pre>
<p>Now, you can collect all the different pieces of a class to create your
own class.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Collection classes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>X++ in finance and operations apps provides distinct types of constructs that you can use to store data:</p>
<ul>
<li><strong>Composite types</strong> - Refer to arrays and containers, which are excellent for storing primitive types.</li>
<li><strong>Collection classes</strong> - Refer to arrays, lists, maps, sets, and <em>structs</em> (short for <strong>structures</strong>), which you can use to store primitive types and objects to maximize performance.</li>
</ul>
<p>You can convert a collection into an array, which is why it’s a composite type of construct and can be a collection class.</p>
<p>Collection classes can contain any data type, including objects, and they provide reliable performance. X++ includes several collection classes:</p>
<ul>
<li><strong>Array</strong> - Includes a collection class and composite data type, and the class resembles the array type in X++.</li>
<li><strong>List</strong> - Contains a list, in sequential order, of one data type. You can use the addStart and addEnd methods to insert values.</li>
<li><strong>Map</strong> - Contains a list with a key to another value for a specified data type.</li>
<li><strong>Set</strong> - Contains values for a single data type. A value can exist only once, and you can check whether a value is already in the set. You can use the remove method to remove a value from a set class.</li>
<li><strong>Struct</strong> - Contains values for multiple data types.</li>
</ul>
<h2 id="collection-class-list">Collection class: List</h2>
<p>The <strong>List</strong> collection class contains values for a single data type, which you set up when you construct the list, in a sequential order. You can add values to the beginning (addStart) or at the end (addEnd), and you can use <code>ListEnumerator</code> or <code>ListIterator</code> to traverse values, as the following code sample shows.</p>
<pre><code class="lang-xpp">internal final class CollectionClassListJob 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        List list = new List(Types::Integer);

        list.addEnd(10);
        list.addEnd(20);
        list.addStart(30);

        // traverse values using ListIterator

        ListIterator listI = new ListIterator(list);

        while (listI.more())
        {
            Info(strFmt('%1', listI.value()));

            listI.next();
        }

        // traverse value using ListEnumerator

        ListEnumerator listE = list.getEnumerator();

        while (listE.moveNext())
        {
            Info(strFmt('%1',listE.current()));
        }
    }

}
</code></pre>
<p>This code returns 30, 10, and 20, and it uses <code>ListIterator</code> and <code>ListEnumerator</code> to traverse values that you inserted at the start and end of the list. You can insert the same value multiple times, but you can’t check whether it already exists in the list.</p>
<h2 id="collection-class-map">Collection class: Map</h2>
<p>The <strong>Map</strong> collection class has values associated to a key, while a single data type specifies the key-value pair.</p>
<p>Similar to the <strong>List</strong> collection class, you can use <code>MapEnumerator</code> or <code>MapIterator</code> to traverse the map’s key-value pair, and you can check whether a key value already exists and look up specific key values, as the following code sample shows.</p>
<pre><code class="lang-xpp">internal final class CollectionClassMapJob 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {   
        Map myMap = new Map(Types::Integer, Types::String);

        myMap.insert(10, 'Key value 10');

        myMap.insert(20, 'Key value 20');

        MapEnumerator mapE = myMap.getEnumerator();

        while (mapE.moveNext())
        {
            Info(strFmt('Key = %1 Value = %2', 0,0));
        }

        if (! myMap.exists(30))
        {
            myMap.add(30, 'Key value 30');
        }

        Info(strFmt('%1', myMap.lookup(30)));
        
    }

}
</code></pre>
<p>This code shows two types for a map: key value and a specified value. You can add items by using the <code>insert</code> method, and you can traverse all item sets. To check if a key already exists, use the <code>exists</code> method and then the <code>lookup</code> method to find its value. If you insert an item that has an existing value, you overwrite it.</p>
<p>A typical use case for maps is storing virtual fields in a form when you're working in the form.</p>
<h2 id="collection-class-set">Collection class: Set</h2>
<p>The <strong>Set</strong> collection class is a list of values for a single data type. The value is the key and the value, so you can test if an item already exists. For lists and maps, you can use a <code>SetEnumerator</code> or <code>SetIterator</code> to traverse values in the set, and you can check if a value already exists.</p>
<pre><code class="lang-xpp">internal final class CollectionClassSetJob 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        Set         mySet = new Set(Types::Int64);

        SalesPool   salesPool;

        while select salesPool
        {
            if (mySet.in(salesPool.RecId))
            {
                continue;
            }

            // do some code

            mySet.add(salesPool.RecId);
        }
    }
}
</code></pre>
<p>This code adds <strong>RecIds</strong> for the <strong>SalesPool</strong> table into a map. If <strong>RecId</strong> is in the set already, the code continues with the next record.
Sets are good for small lists that you use to check values. For example, it could be a set with active inventory dimensions, and you could check if the ledger is actively using that set.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use X++ to write SQL statements</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use SQL statements in X++ to retrieve and manipulate data in the Finance and operations database.</p>
<h2 id="select-statements">Select statements</h2>
<p>You can use <code>select</code> statements to choose what data is retrieved from
the database. In a <code>select</code> statement, you must define the table you retrieve data from and which field. You can use conditions to further filter the data, and select the sequence in which the data is listed.</p>
<p>The <code>select</code> statement contains the keyword <strong>select</strong> and parameters. Parameters contain the pieces of the <code>select</code> statement that determine how and what data is retrieved.</p>
<p>The following is an example of the <code>select</code> statement syntax:</p>
<pre><code class="lang-xpp">Select [FindOptions] [FieldList] from [Table] [Options] [OrderByClause] [WhereClause] [JoinClause] method()
</code></pre>
<p>The <strong>Find options</strong> parameters give additional options for retrieving
data. For example, <code>crossCompany</code> retrieves data across legal entities,
<code>firstOnly</code> retrieves only the first record, <code>firstOnly10</code> only fetches
the first ten records, and <code>forUpdate</code> selects the data with a lock.</p>
<p>The <strong>Field list</strong> specifies which data to retrieve. You can also use aggregate functions, like <code>sum</code>, <code>avg</code>, <code>minof</code>, <code>maxof</code> or
<code>count</code>.</p>
<p>After the <strong>Field list</strong>, the keyword "from" is used, followed by the
table to retrieve from. You can then include options to sequence or group the data by using "order by" and "group by" keywords. The <code>where</code> clause uses expressions to define the criteria for the statement.</p>
<p>Here's an example of a select statement. This statement retrieves all account numbers from the CustTable.</p>
<pre><code class="lang-xpp">	Select AccountNum from custtable;
</code></pre>
<p>You can add parameters to make more complex <code>select </code>statements. In
this example, doing so retrieves all the records from CustTable where the
AccountNum values are greater than 1000 and less than 2000. The records are also sorted by the AccountNum values in descending order.</p>
<pre><code class="lang-xpp">Select forUpdate  CustTable order by AccountNum desc
	where custTable.accountNum &gt; '1000'
	&amp;&amp; custTable.accountNum &lt; '2000';
</code></pre>
<h2 id="join-methods">Join methods</h2>
<p>A <code>join</code> can be used to combine more tables to a <code>select</code> statement. You can use relational operators such as <code>equal to</code>, <code>not equal to</code>, <code>greater than</code>, <code>less than</code> in <code>where</code> clauses in <code>select</code> statements.</p>
<p>The following is an example of a <code>join</code> statement. The statement joins a SalesLine record to the related SalesTable where the sales ID on the sales line matches the sales table sales ID.</p>
<p>A <code>select</code> statement returns all records, and remaining records can be
fetched by using a <code>next</code> statement.</p>
<p>A <code>while select</code> statement loops through every record that matches the select criteria, which is common for data manipulation.</p>
<pre><code class="lang-xpp">SalesTable SalesTable;
SalesLine SalesLine;

// Select with join (first query)
select SalesLine
     join SalesTable
     where SalesLine.SalesId == SalesTable.SalesId;

{
     // Process the results of the select
     info(strFmt("SalesId: %1, ItemId: %2, CustAccount: %3",
SalesLine.SalesId, SalesLine.ItemId, SalesTable.CustAccount));
}
// While select with join (second query)
while select SalesLine
     join SalesTable
     where SalesLine.SalesId == SalesTable.SalesId

{ 
// Process each record in the while loop 
Info(strFmt("Processing SalesId: %1, ItemId: %2, CustAccount: %3",
salesLine.SalesId, salesLine.ItemId, salesTable.CustAccount));
}
</code></pre>
<p>In the following example, instead of retrieving the first record that matches the criteria, the <code>while select</code> statement loops through each record where the criterion is true. In the code below, all account numbers that begin with <strong>US</strong> are retrieved, and the <strong>CreditMax</strong> for each record is updated to <strong>5000</strong>.</p>
<pre><code class="lang-xpp">{
    CustTable custTable;

while select forUpdate custTable
      where custTable.AccountNum like 'US*'
      {
      custTable.CreditMax = 5000;
      custTable.update();

Info(strFmt("Account number %1 has been updated", custTable.AccountNum));
      }
}
</code></pre>
<h2 id="insert-methods">Insert methods</h2>
<p>Insert methods can be used to add a new record to a table. Insert methods only insert the columns that are selected by the query. You can override the insert method's validations and processes by using the
<code>doInsert()</code> method. The <code>insert_recordset</code> statement can insert
multiple records by copying the records from one table and inserting them into another.</p>
<p>Insert methods need <code>ttsBegin</code> and <code>ttsCommit</code> to ensure that the data insertion process is handled as a single transaction.</p>
<p>The following is an example of using an <code>insert</code> method statement to create a new customer.</p>
<pre><code class="lang-xpp">{
FMCustomer fmCustomer;

ttsBegin;  
fmCustomer.FirstName = "John";
fmCustomer.LastName = "Doe";
fmCustomer.Email = "JohnDoe@microsoft.com";
fmCustomer.CellPhone = "555-555-5555";
fmCustomer.insert();
ttsCommit;

Info("New customer has been created.");
}
</code></pre>
<h2 id="update-methods">Update methods</h2>
<p>Update methods can change existing values on a table record. To update a
record, you must use a <code>select forUpdate</code> command to indicate that the
records are for update. Update methods also need to be wrapped in a
<code>ttsbegin</code> and <code>ttscommit</code> statement. You can also use the
<code>update_recordset</code> to update multiple records at the same time.</p>
<p>The following is an example of using an <code>update</code> method and the <code>update_recordset</code> statement.</p>
<pre><code class="lang-xpp">{
    FMCustomer fmcustomer;
    select forUpdate fmcustomer
    where fmcustomer.firstname == 'John';
    ttsbegin;
    fmcustomer.firstname = 'Johnny';
    fmcustomer.update();
    ttscommit;

    Info("Record has been updated");
}

</code></pre>
<h2 id="delete-methods">Delete methods</h2>
<p>Delete methods can remove an existing record from a table. You
can use the <code>doDelete()</code> method to override the standard <code>delete</code> method
behavior. You can also delete multiple records simultaneously with the <code>delete_from</code> statement. Delete Methods also need to be wrapped in a <code>ttsBegin</code> and <code>ttsCommit</code> statement, where you delete the data.</p>
<p>The following is an example of using a <code>delete</code> method statement to delete a customer.</p>
<pre><code class="lang-xpp">{
     FMCustomer fmcustomer;
     select forUpdate fmcustomer
     where fmcustomer.firstname == 'Johnny';
     ttsbegin;
     fmcustomer.delete();
     ttscommit;
     info("Record has been removed");
 }

</code></pre>
<p>You can use this information as the building blocks to create more
complex queries.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use conditional and iterative statements</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Conditional statements are used to determine if a block of code should
be run. Different conditional statements have different advantages
and uses depending on the situation. The four conditional statements are: if, if...else, switch, and ternary operators.</p>
<h2 id="if-statement">If statement</h2>
<p>The <code>if</code> statement evaluates whether an expression is true. If the
expression is true, it runs the set of statements that are listed in the braces. In the following <code>if</code> statement, the statement checks
the expression in parentheses. In this case, the statement checks if the
variable x is equal to 5. If the expression is true, then the code in
the braces runs. If the expression is false, the code in the braces
is skipped. The <code>if</code> statement takes exactly one statement to run. The
braces can contain a list of statements that are enclosed into one
statement, called a compound statement.</p>
<pre><code class="lang-xpp">if (x == 5)
{
	info('x equals five');
}
</code></pre>
<h2 id="ifelse-statement">If...else statement</h2>
<p>You can set statements to run when the expression is false by using
the <code>if...else</code> statement. You can create a normal <code>if</code> statement, but
at the end of the <code>if</code> statement, you use the keyword <code>else</code>
followed by brackets, as shown in the following example. You can add more code in the brackets that runs when the expression in the <code>if</code>
statement is false. In the following example, the statement checks if x is equal to 5. If it is, it runs the info x statement. If it is not
equal to 5, it runs the info "X does not equal 5" statement.</p>
<pre><code class="lang-xpp">if (x == 5)
{
	info('x equals five');
}
else
{
	info('x does not equal five');
}
</code></pre>
<p>You can use operators in the condition’s relational operators to
determine if the expression is true or false. You can use the operators
&amp;&amp; and || in your expressions to determine if two or more expressions
must be true, or only one expression out of many must be true.
Additionally, you can nest <code>if</code> statements to check for multiple
expressions, but if you are nesting multiple <code>if</code> statements, you might want to consider a switch statement.</p>
<h2 id="switch-statement">Switch statement</h2>
<p>A <code>switch</code> statement is a multibranch conditional statement that is
checked against multiple cases. If one of the case values are equal to
the switch expression, then the case statement is run. The case
statements use a break statement to tell the code to stop running the
switch statement, which will prevent the next statement from being run.
You can also set a default statement if no case expressions match. The following example shows a switch statement where the value for
variable x is checked against different cases. If x is 5, then it runs
the code under that case until it comes to a break statement. If x is 10, it runs the code under that case. If x is not 5 or 10, it runs the
code under the default statement.</p>
<pre><code class="lang-xpp">switch (x)
{
	case 5:
		//do something
		break;
	case 10:
		//do something
		break;
	default:
		//do something
		break;
}
</code></pre>
<h2 id="using-iterative-statements">Using iterative statements</h2>
<p>Iterative statements, or loops, repeat a statement block until a condition has been satisfied. These types of iterative statements are used in X++.</p>
<p>Loops are repetitive constructs. X++ has three kinds of loops:</p>
<ul>
<li>while</li>
<li>do...while</li>
<li>for</li>
</ul>
<p>Loops can be combined with the following:</p>
<ul>
<li>break statements</li>
<li>continue statements</li>
</ul>
<h2 id="while-loops">While loops</h2>
<p>A <code>while</code> loop enables you to repeatedly run one statement or a
compound statement if a condition is true. The statement is run
from zero (not at all) to many times, depending on how many times the
condition evaluates to true. This contrasts with a <code>do...while</code> loop,
where the statements are always run at least once before the condition is evaluated.</p>
<pre><code class="lang-xpp">int loopCount = 1;
container cont;

while (loopCount &lt;= conlen(cont))
{
	print conpeek(cont,loopCount);
	loopCount = loopCount + 1;
}
</code></pre>
<h2 id="dowhile-loops">Do...while loops</h2>
<p>The <code>do...while</code> loop is like the <code>while</code> loop but differs in that
the condition follows the statements. The statements are always
performed at least once. The <code>do...while</code> loop is well suited for
tasks that always must be done at least once, for example, to get
parameters for a report.</p>
<pre><code class="lang-xpp">int findPower(real _value)
	{
		int ex=-1;
		real curVal;

		do
		{
			ex += 1;
			curVal = power(10, ex);
		}

		while (_value &gt; curVal);

		return ex;
	}
</code></pre>
<h2 id="for-loops">For loops</h2>
<p>The <code>for</code> loop is similar to the <code>while</code> loop, but has the
following additions:</p>
<ul>
<li>The initial value to a control variable can be assigned.</li>
<li>It contains a statement for updating the variable.</li>
</ul>
<p>These additions make it especially useful for traversing lists,
containers, and arrays because they have a fixed number of elements. You
can also apply a statement to each element and increment your way
through the elements, setting the condition to test for the last
element.</p>
<pre><code class="lang-xpp">for (int i=1; i&lt;=100; i+=1)
{
	print ra[i];
}
</code></pre>
<h2 id="break-statements">Break statements</h2>
<p>X++ provides a <code>break</code> statement for the following:</p>
<ul>
<li>Terminating loops</li>
<li>Separation of case statements in a switch statement</li>
</ul>
<p>When used within a <code>while</code>, <code>do...while</code>, or <code>for</code> loop, the loop
is terminated and implementation continues from the statement that follows the loop, as shown in the following example.</p>
<pre><code class="lang-xpp">mainMenu = SysDictMenu::newMainMenu();
enum = mainMenu.getEnumerator();
found = false;

while (enum.moveNext())
{
	menuItem = enum.current();
	if (menuItem.label() == parentDictsecuritykey.label())
	{
		found = true;
		break;
	}
}
if (found) //Belongs in Navigation Pane.
{
	...
}
</code></pre>
<p>When break is used within
a <a data-linktype="absolute-path" href="/en-us/dynamicsax-2012/developer/switch-statements/?azure-portal=true">Switch Statement</a> statement,
the running of the case branch terminates and the statement that follows
the switch is run as shown in the following example.</p>
<pre><code class="lang-xpp">switch (Debtor.AccountNo)
{
	case "1000":  do_something;
			break;
	case "2000": do_something_else;
			break;
	default: default_statement; 
			break;
}
</code></pre>
<p>If the Debtor account number is 1000, the program runs
<code>do_something</code> and then continues running after the switch
statement. If you have a break within a loop, you need to break out of the loop. If you have a continue within a loop, it ends the current iteration and reevaluates the loop condition.</p>
<p>Watch the following video to learn about conditional statements:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=fd282c33-cbea-4aa7-879b-0372e0c08ed5"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exception handling</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>While conditional statements are great for handling the running of
different code blocks, exception handling is used to deal with errors.
Statements like <code>throw</code>, <code>try...catch</code>, <code>finally</code>, and <code>retry</code>
can be used to handle exceptions. An exception is a way for the code to
jump away from the runnable code when an error occurs.</p>
<p>The throw statement can be used to give an error exception. A throw
statement can specify an exception enum value, but it is best practice
to use the global error, info, or warning methods. This method allows
you to use a label to display to the user in an Infolog, as shown in the following example:</p>
<pre><code class="lang-xpp">throw error("This is an error.");
</code></pre>
<p>Here is what an error, warning, and info message looks like in the user interface:</p>
<p><img alt="Screenshot showing error, warning, and info messages." data-linktype="relative-path" src="./rawmb500/media_error_1.png"/></p>
<p>Static methods on the Global class can be called without the <code>Global::</code> prefix, so the <code>Global::error</code> method can also be called as shown in the following example:</p>
<pre><code class="lang-xpp">error("This is an error.");
</code></pre>
<p>You can also use a <code>try...catch</code> statement to process some code in the
try block, and then use the catch block to handle an exception if it
occurs. In the following example, the <code>try</code> block runs some code. If a
numeric exception occurs, the first <code>catch</code> block gives an info
message to display: "Found a Numeric." The second <code>catch</code> block
handles any other errors that might be found. You should only catch
exceptions that you know your code inside the <code>try</code> block might throw. All other exceptions should rise to the next stack frame.</p>
<pre><code class="lang-xpp">try
{
	//Run some code that might throw a numeric or other type of exception.
}
catch (Exception::Numeric)
{
	info('Found a Numeric exception.');
}
catch
{
	info('Caught an exception');
	retry;
}
finally
{
        // Executed no matter how the try block exits.
}
</code></pre>
<p>A <code>retry</code> can be written in a catch block to jump back to the first
line of code within the try block. This can be used if the issue in the
implementation can be fixed by code in the catch block. Then, the try block will run again to give it a second chance to succeed. Make sure that the retry does not cause an infinite loop. A <code>finally</code> clause can be
added to a <code>try...catch</code> statement. Statements in the <code>finally</code>
clause are run when the implementation of the code leaves the <code>try</code>
block. The statements in the <code>finally</code> block will run no matter
how the <code>try</code> block exits.</p>
<p>If an exception is not handled, then the call to the current method is
unraveled and the exception will be handled, or not handled, in the
caller's scope.</p>
<h2 id="user-messages">User messages</h2>
<p>By using the <strong>Message()</strong> API, you can have more control over the lifecycle of a message, you can explicitly add and remove messages. This can be used if you need validation messages removed at times other than when a save boundary has been crossed, or for displaying an informational message about a specific aspect of the user’s experience that is directly related to data validation.</p>
<p>Let’s look at an example:</p>
<pre><code class="lang-xpp">messageId = Message::Add(MessageSeverity::Informational, "The customer is marked as inactive");
</code></pre>
<p>In this example, the message can then be cleared when a new record is shown on the page.</p>
<p>In addition to using the <strong>Message()</strong> API, you can use the <code>Message::AddAction()</code> method so you can embed an action within a message that is sent to the message bar. This method supports adding a single action that is associated with a display or action menu item, that can then be visualized as a <strong>Link</strong> button.</p>
<p>In the following example, a message is triggered for a system administrator letting them know that a batch job is not running and then exposes an action to go directly to the <strong>Batch jobs</strong> page.</p>
<pre><code class="lang-xpp">MenuItemMessageAction actionData = new MenuItemMessageAction();

actionData.MenuItemName("BatchJob");

str jsonData = FormJsonSerializer::serializeClass(actionData);

int64 messageId = Message::AddAction(MessageSeverity::Informational, "The Test batch job is not currently running", "Go to Batch jobs", MessageActionType::DisplayMenuItem, jsonData);
</code></pre>
<p>Here is the output:</p>
<p><img alt="Screenshot showing the  output message The test batch job is not currently running." data-linktype="relative-path" src="./rawmb500/media_add_action_method_ss.png"/></p>
<h2 id="exceptions-inside-transactions">Exceptions inside transactions</h2>
<p>If an exception is thrown inside a transaction, the transaction is
automatically aborted (a <code>ttsAbort</code> operation occurs). This applies
for exceptions that are thrown manually and for exceptions that are thrown by the system.</p>
<p>When an exception is thrown inside a <code>ttsBegin - ttsCommit</code>
transaction block, no catch statement inside that transaction block can
process the exception. Instead, the innermost catch statements that are
outside the transaction block are the first catch statements to be
tested.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use const values</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Constant values can be used to define a variable and assign it a value
that does not change. You can define a constant variable by adding the
keyword <code>const</code> before defining a variable. The following example shows
how to make a variable a constant variable.</p>
<pre><code class="lang-xpp">const str constantVariable = "Value";
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement global functions in X++</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can implement global functions as static methods in the Global class, and you can use them in an application.</p>
<h2 id="create-new-global-functions-in-x">Create new global functions in X++</h2>
<p>To create new global functions with a code extension of the Global class, follow these steps:</p>
<ol>
<li><p>Find the <strong>Global</strong> class in Application Explorer.</p>
</li>
<li><p>Right-click the <strong>Global</strong> class to open the context menu, and then select <strong>Create Code Extension</strong>.</p>
<div class="NOTE">
<p>Note</p>
<p>The <strong>Global</strong> class belongs to the Application Platform model, and your model must reference it.</p>
</div>
<p>A code extension is now created in your project.</p>
</li>
<li><p>The <strong>Global</strong> class is static, so you must use the <strong>static</strong> modifier in the class description.</p>
</li>
<li><p>Add the new method as a static method. The following example shows a new global method:</p>
<pre><code class="lang-xpp"> [ExtensionOf(classStr(Global))] 
 final static class Global_MB500_Extension
 {
     /// &lt;summary&gt;
     /// Add a with b
     /// &lt;/summary&gt;
     /// &lt;param name="a"&gt;
     /// First number to add
     /// &lt;/param&gt;
     /// &lt;param name="b"&gt;
     /// Second number to add.
     /// &lt;/param&gt;
     /// &lt;returns&gt;
     /// A + B.
     /// &lt;/returns&gt;
     static real addAandB(real a, real b)
     {
         return a + b;
     }
 }
</code></pre>
</li>
<li><p>Build your project by using the new global function.</p>
</li>
</ol>
<h2 id="extend-a-global-function">Extend a global function</h2>
<p>You can extend existing global functions by using Chain of Command.
The following example shows an extended method that uses Chain of Command:</p>
<pre><code class="lang-xpp">   /// &lt;summary&gt; 
   /// Add MB-500 to formCaption
   /// &lt;/summary&gt;
   /// &lt;param name="formName"&gt;
   /// formName
   /// &lt;/param&gt;
   /// &lt;returns&gt;
   /// MB-500 form caption.
   /// &lt;/returns&gt;
   static str formCaption(FormName formName)
   {
       str txt = next formCaption(formName);

       return 'MB-500 ' + txt;
   }
</code></pre>
<p>The system extends the <code>formCaption</code> method and then returns <strong>MB-500</strong> and the normal <code>formCaption</code>.</p>
<h2 id="call-a-new-global-function">Call a new global function</h2>
<p>You can call global functions without using the class name. Normally, the syntax for using static methods is <code>className::MethodName</code>, such as <code>MyClass::MyMethod</code>.
However, you can call all global functions by using only the method name.</p>
<p>The following example shows a call to your newly created global function:</p>
<pre><code class="lang-xpp">internal final class RunnableClass1 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        real    mySum = addAandB(100, 500);

        Info(strFmt("%1", mySum));
    }

}
</code></pre>
<p>Global functions are straightforward to use, and you don’t need to enter the class name in code.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use X++ runtime functions for common tasks</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>X++ provides several system functions that can be run with code. These
functions run business operations, container operations, conversions,
date operations, mathematical operations, reflection operations, session
operations, and string operations.</p>
<ul>
<li><strong>Business operations</strong> - Enter financial data and calculate financial formulas.</li>
<li><strong>Container operations</strong> - Run functions to manipulate the container    data type.</li>
<li><strong>Conversions</strong> - Translate the data from one type to another data type.</li>
<li><strong>Date operations</strong> - Manipulate the date data type.</li>
<li><strong>Mathematical operations</strong> - Used to perform additional calculations.</li>
<li><strong>Reflection operations</strong> - Access an object's metadata and return other metadata for the object.</li>
<li><strong>Session operations</strong> - Change or report current user connection to    finance and operations apps.</li>
<li><strong>String operations</strong> - Like the date operations, string operations can manipulate the string data type.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Call .NET libraries by using X++ code</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps projects in Visual Studio contain X++ code that
interacts smoothly with code that is written in other .NET languages.</p>
<p>You can create a reference from a finance and operations apps project to a C# class library, or to any type of C# project that generates an assembly, by following these steps:</p>
<ol>
<li>Perform a build of the C# project before your finance and operations apps project that references and depends on it.</li>
<li>Finance and operations apps comprehends the references and ensures that  the C# assemblies are deployed correctly to the cloud before being run.</li>
<li>Add a C# class library project and a Unified Operations project to your solution by selecting the <strong>File</strong> menu in Visual Studio and  selecting <strong>New &gt; Project</strong>. When a Finance Operations project is created, a <strong>References</strong> folder is automatically created within it.</li>
<li>You can add a reference to a C# project or other .NET assemblies within Solution Explorer. Right-click the <strong>References</strong> folder and  select <strong>Add Reference</strong>.</li>
<li>A reference element is then added to your project and a .dll file is copied to the bin folder of your package.</li>
</ol>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/consume-external-web-service/?azure-portal=true">Consume external web services</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to create and assign a data type to a variable. The variable should only have access to a defined list of values <strong>Invent</strong>, <strong>Sale</strong>, and <strong>Purchase</strong>. Which data type should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The string data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>The enum data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The integer data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>The container composite data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You need a conditional statement that checks if a variable equals <strong>In progress</strong>, <strong>Completed</strong>, or <strong>Canceled</strong>. Different code needs to run, depending on what the variable equals. A default block of code needs to run if the variable doesn't equal any of the values. What conditional statement is most appropriate?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Error handling</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A ternary operation</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>If statement</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Switch statement</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>An error is sometimes thrown in a certain try…catch block. You know that the issue can be fixed within the code during the error handling code block. What statement could you use when the error is found to run the code again?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The throw statement should be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>The finally statement should be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The retry statement could be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A business system function should be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>You want to call a new global function to use in an application that someone else created by using extensions. What recommended method should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Call it the same way that you would call other static methods on a class by using the following syntax <code>&lt;ClassName&gt;::&lt;MethodName&gt;</code>.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Call it by using only the method name.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a new global function with extensions blocked.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>You created a new form with a grid that lists records. The grid has a virtual field that should save the value for each record temporarily, and you want to ensure that you’re using the correct collection class. What is the recommended collection class?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>List collection class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Map collection class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Set collection class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Several pieces of X++ code come together to perform tasks.</p>
<ul>
<li>Variables can be used with a data type to assign values to an object.</li>
<li>Operators and global functions compare, manipulate, and calculate the variable values.</li>
<li>Methods are written to perform specific tasks with those variables.</li>
<li>Conditional statements determine the flow of code within those  methods.</li>
<li>Error handling deals with exceptions that might occur during the code runtime.</li>
</ul>
<p>All these pieces are tied together within a class to perform processes. With the knowledge gained in this module, you can begin developing in finance and operations apps by using X++.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Object-oriented programming (OOP) is a programming paradigm that is
modeled around objects and how you manipulate them. Objects can be
physical objects, such as a car or a bicycle, or more abstract concepts,
such as messages, collections, and parameters. Objects have attributes
(data) and behavior (methods).</p>
<p>When developing with an object-oriented language, you will first need to
define the objects to manipulate and how they relate to each
other. Finance and operations apps are developed by using the
object-oriented language X++, which provides system classes for a broad
range of system programming areas. This module will discuss concepts for
object-oriented programming so you can develop customizations in finance
and operations.</p>
<p>In this module, you will learn the basic concepts of object-oriented-programming because as a finance and operations apps developer, X++ is the programming language used for development and it is an object-oriented language.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Explore inheritance and abstract classes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Inheritance and abstract classes are two important programming
constructs that are found in object-oriented programming languages. These
concepts are used to create parent-child relationships between classes.
Inheritance allows a subclass to extend a super class. The subclass inherits all the attributes and methods of the
super class. Subclasses can also override the behavior of or add
more functionality to methods that are inherited from the super class.</p>
<h2 id="inheritance">Inheritance</h2>
<p>To better understand the concept of inheritance in object-oriented programming, lets review a real-world example. In this example, <strong>Vehicle</strong> is the parent class. There are many different types of vehicles, for instance: cars, buses, and trucks. In this scenario, <strong>Vehicle</strong> is the parent class. Cars, buses, and trucks are derived classes that inherit from <strong>Vehicle</strong>. The <strong>Vehicle</strong> class has characteristics that  are shared across all the vehicle types (speed, color, and gears for example). The characteristics for each of the vehicles types may be different. For instance, a truck might have all-wheel drive, but a car does not.</p>
<p><img alt="Diagram of the Inheritance from the Vehicle parent class to the car, bus, and truck derived classes." data-linktype="relative-path" src="./rawmb500/media_inheritance.png"/></p>
<h3 id="example">Example</h3>
<p>The following example demonstrates how a class uses inheritance. The
Car class extends the Vehicle class to get the height and width but
also adds the number of passengers variable.</p>
<pre><code class="lang-xpp">class Vehicle
   {
	// Instance fields.
 		real height;
  		real width;
	// Constructor to initialize fields height and width.
	new(real _height, real _width)
   	{
    height = _height;
		  width = _width;
  	}
   }
</code></pre>
<pre><code class="lang-xpp">class Car extends Vehicle
	{
	  // Additional instance field numberOfPassengers. Fields height and width are inherited.
 	  int numberOfPassengers;

	 // Constructor is overridden to initialize numberOfPassengers.
	 new(real _height, real _width, int _numberOfPassengers)
 	 {
	   // Initialize the fields.
	   super(_height, _width);
 	   numberOfPassengers = _numberOfPassengers;
 	 }
	}
</code></pre>
<h2 id="abstract">Abstract</h2>
<p>Abstract classes are identified by the keyword <em>abstract</em>. They cannot
be instantiated but require a subclass that is inherited from the
abstract class. Abstract classes are used to implement a concept that
the subclass will then complete. Abstract methods can also be declared
in abstract classes. Abstract methods do not allow code or declarations
in the method. A subclass must extend the abstract class to use the
abstract method.</p>
<h3 id="example-1">Example</h3>
<p>The following is an example of an abstract class. The Car class extends the abstract class Vehicle. This allows the Car class to override the
<code>printInfo()</code> method and it allows you to add functionality
to the <code>operate()</code> method that was not included in the
abstract class.</p>
<pre><code class="lang-xpp">abstract class Vehicle
{
      str owner;
      int age;

	void printInfo()
      {
    	Info(strfmt("%1, %2",owner, age));
      }
    abstract void operate()
    {
    }
 }
</code></pre>
<pre><code class="lang-xpp">class Car extends Vehicle
{
     str model;
     void printInfo()
     {
            // overriding default functionality
            Info(strfmt("%1, %2, %3",owner, age, model));
     }
   void operate()
   {
        Info('running');
   }
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use attributes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Attributes represent or store metadata about the behaviors of classes
and methods. An attribute can be attached by simply typing the name of
the attribute that is enclosed in square brackets before the declaration of class/function where it needs to be applied.</p>
<h3 id="example">Example</h3>
<p>For example, the <code>SysObsoleteAttribute(message,setError)</code> attribute can be used on methods or classes that should no longer be used. During the build process, the user will be notified with a detailed message that appears in the output windows. The first parameter is the
message, and the second parameter indicates if an error (true)
or a warning (false) is to be set. You can have the compiler reject or display a warning.</p>
<p>If the API is no longer functioning, set <code>isError = true</code> in the
<code>SysObsoleteAttribute</code> attribute so the compiler will report any use of
that API as a compiler error</p>
<pre><code class="lang-xpp"> [SysObsoleteAttribute("The Automobile class might have faster performance.", false)]
 internal class Bicycle
 {
    // Members of the Bicycle class go here.
 }

</code></pre>
<h2 id="attribute-classes">Attribute classes</h2>
<p>Attributes can also be created by using attribute classes. To create an
attribute class, extend the <code>SysAttribute</code> class by adding
<code>extend SysAttribute</code> at the end of your class declaration.
You can then decorate a class with the attribute that was created from the attribute class. You can specify the attribute parameters from the
constructor. In the following code, the <code>PracticeAttribute</code>
attribute class is created, and then the <code>RegularClass</code> class uses
<code>PracticeAttribute</code> as an attribute.</p>
<h3 id="example-1">Example</h3>
<p>The following example shows the declaration and design of an ordinary
attribute class that you could create.</p>
<pre><code class="lang-xpp"> public class PracticeAttribute extends SysAttribute
 {
   // Fields in the classDeclaration.
   StartEnd startEndEnum;
   str reason;
 }
</code></pre>
<pre><code class="lang-xpp">   // Constructor.
   public void new(StartEnd _startEndEnum, str _reason)
  {
    startEndEnum = _startEndEnum;
    reason = _reason;
  }
</code></pre>
<pre><code class="lang-xpp">[PracticeAttribute(StartEnd::End, "Use the RegularClass class at the end.")]
 public class RegularClass
 {
    [PracticeAttribute(Startend::Start, "Use the rehearse method at the start.")]
	public int rehearse()
    {
      // Logic goes here.
        int rehearse;
        return rehearse;
    }
      // More fields and methods belong here.
 }
</code></pre>
<p>Attributes have many uses, including the following:</p>
<ul>
<li>Using the <code>WebMethod</code> attribute in Web services to indicate if the method should be callable over the Simple Object Access Protocol (SOAP) to exchange information.</li>
<li>Using <code>DLLImportAttribute</code> to call unmanaged code.</li>
<li>Describing the title, version, description, or trademark of an assembly.</li>
<li>Describing how to map between classes, members, and eXtensible Markup Language (XML) nodes for serialization.</li>
<li>Describing the security requirements for methods.</li>
<li>Specifying characteristics to enforce security.</li>
<li>Getting information about the caller to a method.</li>
</ul>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-classes-methods/?azure-portal=true">Classes and methods</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement Chain of Command</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Chain of Command (CoC) is a functionality for class extensions. You can
use CoC to wrap X++ code around methods that are defined in the base class. CoC allows you to customize standard classes without using event
handlers. This function allows you to add custom logic that will run
before and/or after the standard code runs. You can only extend the
logic of public and protected methods. When you wrap a method, you can also access the base class's protected methods, public methods, and
variables. It is important to understand this concept, as base code cannot be changed in Dynamics 365 finance and operations apps development.</p>
<p>To use CoC, you need to create a new class that uses the same name as
the class that you are extending with <code>_Extension</code> added to
the name as a suffix. The class declaration also needs to use the
<strong>final</strong> keyword to indicate that it cannot be further inherited from.
Finally, the <code>ExtensionOf</code> attribute must be used when you are
declaring the class. You can then reuse the same method declaration from
the base class in the extended class. Inside the extended method, you
can add your custom code. You are required to use the <strong>next</strong> keyword
to create a CoC. The next command will call the next method in the Chain
of Command. When no more methods exist in the chain, the original (in other words, extended) method is called.</p>
<h3 id="example">Example</h3>
<p>The following code example shows how the class must be declared to
use CoC. When the <code>ExampleClass.doSomething()</code> method is
called, the code will first run all the code before the next
keyword. Then, the original code in the
<code>ExampleClass.doSomething()</code> method will run. Finally, all
code after the next keyword will run.</p>
<pre><code class="lang-xpp">[ExtensionOf(classStr(ExampleClass))]
final class ExampleClass_Extension
{
   str doSomething(int arg)
   {
     // Custom logic before standard code.
     var s = next doSomething(arg);
     // Custom logic after standard code.
     return s;
   }
}

</code></pre>
<p>Certain methods cannot be wrapped by using CoC. If the
method uses a hookable attribute that is set to false,
<code>[Hookable(false)]</code>, or a wrappable attribute that is set to
false, <code>[Wrappable(false)]</code>, the method cannot be wrapped.
Methods that use the final keyword cannot be wrapped in an extension class. Private methods are also excluded from extensibility.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement X++ scoping and access identifiers</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Scope is the area where an item is located or can be accessed. X++ variables and methods are within a defined scope. The scope can be set by the placement of declaration and the use of access identifiers.</p>
<p>Access identifiers are <code>[public]</code>, <code>[protected]</code>, and <code>[private]</code>.</p>
<ul>
<li><strong>Public</strong> - Methods that are declared as public can be called from
anywhere that the class is accessible. In addition, a public method can be overridden by a subclass unless the method is declared as final.</li>
<li><strong>Protected</strong> - Methods that are protected can be overridden in
subclasses. Methods that are declared as protected can be called
only from:
<ul>
<li>Methods in the class.</li>
<li>Methods in a subclass of the class that contains the
protected method.</li>
</ul>
</li>
<li><strong>Private</strong> - Methods that are declared as private can be called only from methods in the class where the private method is declared.
No private method can be overridden in a subclass. When you create a new method, the default accessor keyword that appears in the code
editor is private. Private is the most conservative default for maximum security.</li>
</ul>
<h2 id="internal">Internal</h2>
<p><em>Internal</em> is a keyword in X++. It has the same semantics as in C# see <a data-linktype="absolute-path" href="/en-us/dotnet/csharp/language-reference/keywords/internal/?azure-portal=true">internal (C# Reference)</a>.</p>
<p>When you select a class or method as internal, it can only be accessed from within the model where it's defined.</p>
<pre><code class="lang-xpp">internal class MyInternalClass
{
   internal void myInternalMethod()
   {
   }
}
</code></pre>
<p>Notice that you can also define internal methods on public classes.</p>
<h2 id="instance-variables">Instance variables</h2>
<p>Instance variables have a large scope and are also referred to as class fields in X++. These variables are declared in the class declaration and can be accessed from any method in the class and subclasses that extend the class, if they're declared public or protected.</p>
<h2 id="local-variables">Local variables</h2>
<p>Local variables have a small scope. These variables are defined in a method and can only be accessed in that method.</p>
<p>Parameters are a kind of local variable that is defined on a method.</p>
<p>To use a variable from one scope to another scope, the variable must be passed by using parameters. Methods can use multiple parameters. The parameters are treated like local variables and initialized with the value from the parameter in the method-call. In the following example, the class method has two parameters that give <em>method1</em> access to four variables. The instance variables <em>a</em> and <em>b</em> can be accessed, and the parameters <em>x</em> and <em>y</em> act like local variables. Using parameters allows values to be assigned to those parameters when the method is called. If <em>method1</em> is called by using the code <code>Test.method1(a,b);</code>, the <em>x</em> variable will be assigned the value <strong>Car</strong>, and the <em>y</em> variable will be assigned the value <strong>20</strong>. You can then use the values of the parameter variables to assign values to the instance variables <em>c</em> and <em>d</em>.</p>
<pre><code class="lang-xpp">class Test
{
   	 str a = "Car";
     int b = 20;
 	 str c;
 	 int d;

    void method1(str x, int y)
        {
          c = x;
          d = y;
        }
}
</code></pre>
<p>Keep in mind that when you pass a value through parameters, you don't by
default change the value of the original variable. The term for
this is "call by value" as opposed to "call by reference." Only the
local variable is changed.</p>
<h3 id="example">Example</h3>
<p>In the following example, <em>method2</em> has a local variable <em>a</em> with a value of 5. The first <code>info()</code> statement displays the value of <em>a</em>, which is 5. It calls <em>method1</em> and passes the value of its local variable <em>a</em>. <em>Method1</em> now has a different local variable <em>a</em>, with the value of 5. <em>Method1</em> then increments the value by one, making <em>a</em> the value of 2. The <code>info()</code> statement then displays the value of 2. The code will go back to <em>method2</em> and run the second <code>info()</code> statement and display a value of 5. This result is because even though the variable name is the same, and the scope is unique to their respective methods.</p>
<pre><code class="lang-xpp">class infoValue
{
     void method1(int a)
     {
       a = 1;       
       a = a ++;
       info(int2str(a));
     }

	  void method2()
      {
        int a = 5;
        info(int2str(a));
        this.method1(a);
        info(int2str(a));
      }
}

</code></pre>
<p>The following image shows how the <em>info</em> displays in the user interface.</p>
<p><img alt="This screenshot shows how the info method displays in the user
interface." data-linktype="relative-path" src="./rawmb500/media_info.png"/></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Interfaces</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>An <em>interface</em> is a specification for a set of public instance methods.
An interface defines and enforces similarities between unrelated classes
without having to derive one class from the other. All interfaces are
public, even if you don't explicitly add the <code>public</code> keyword in
front of the <code>interface</code> keyword in the <code>classDeclaration</code> code. The
methods on an interface are also public.</p>
<p>To create an interface, follow these steps:</p>
<ol>
<li>In Solution Explorer, right-click the project, and then select <strong>Add</strong>.</li>
<li>In the <strong>New Item</strong> dialog box, select <strong>Interface</strong> and then enter a name for the interface.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
<p>When you add the <code>implements</code> keyword on a class declaration, the
class must declare the methods that are specified by the interface. A
class declaration can implement multiple interfaces. List the
interfaces after the single occurrence of the <code>implements</code> keyword and
separate the interface names by using commas. All interface methods that
a class implements must be explicitly declared as <strong>public</strong> by using
the <code>public</code> keyword in the class. A class that implements an
interface must also be declared as <strong>public</strong>. An interface can extend
another interface by using the <code>extends</code> keyword. However, an
interface can't extend more than one interface.</p>
<h3 id="interface-example">Interface example</h3>
<p>In the following example, an <strong>Automobile</strong> class implements
an <strong>IDrivable</strong> interface. The <code>is</code> keyword is supported and lets you test whether a class implements an interface.</p>
<pre><code class="lang-xpp">public interface IDrivable
{
    public int getSpeed()
     {
     }

    public void setSpeed(int newSpeed)
     {
     }
}
</code></pre>
<pre><code class="lang-xpp">class Automobile implements IDrivable
 {
   int m_speed;

   public int getSpeed()
    {
         return m_speed;
    }

   public void setSpeed(int newSpeed)
    {
         m_speed = newSpeed;
    }
 }
</code></pre>
<pre><code class="lang-xpp">class UseAnAutomobile
 {
   void DriveAutomobile()
    {
       IDrivable yourIDrivable;
       Automobile myAutomobile;
       str sTemp = "object is not an IDrivable";
	
       myAutomobile = new Automobile();

       if (myAutomobile is IDrivable)
       {
          yourIDrivable = myAutomobile;
          yourIDrivable.setSpeed(42);
          sTemp = int2str(yourIDrivable.getSpeed());
       }

       Global::info(sTemp);
       return;
    }
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create an extension by using Chain of Command</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You are a developer that must make a customization to the
<code>CustTable</code> insert method. Upon customer creation, if the
customer credit rating is less than 200, then the customer should be
blocked for all delivery and invoicing. A prompt should appear to alert
the person who is entering the customer details.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>To get the most benefit from this exercise, we recommend that you have
the standard sample data available in finance and operations apps installed by using Lifecycle Services. You will also need a
developer environment and trial or permanent license for using Visual
Studio.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Open Visual Studio, running as an administrator, and open the <strong>File</strong> menu.</li>
<li>Select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>New Project</strong> dialog box, ensure that <strong>Dynamics 365</strong> is selected on the left pane under <strong>Templates</strong>.</li>
<li>On the middle pane, select <strong>Finance Operations</strong>.</li>
<li>Name the project <strong>ChainOfCommand</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Open the <strong>Dynamics 365</strong> menu in the ribbon.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select    <strong>Projects</strong>.</li>
<li>Select the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>In the <strong>Solution explorer</strong>, right-click your project name and select <strong>Properties</strong>.</li>
<li>In the properties page, change the <strong>Model</strong> field to <strong>Fleet Management</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Now you need to ensure you have the correct references.</li>
<li>Go to the <strong>Dynamics 365</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>In the <strong>Model name</strong> dropdown, select <strong>Fleet Management</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Selected references packages</strong> page, ensure <strong>Directory</strong> and <strong>Application</strong> Suite are checked.</li>
<li>Once finished, select <strong>Finish</strong>.</li>
</ol>
<h2 id="create-an-extension-of-a-method-in-the-custtable-class">Create an extension of a method in the CustTable class</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project
<strong>ChainOfCommand</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>In the left pane, select <strong>Dynamics 365 Items</strong>.</li>
<li>Select <strong>Class</strong> in the middle pane.</li>
<li>Enter <strong>CustTable_Extension</strong> as the name.</li>
<li>Select <strong>Add</strong>.</li>
<li>In the <strong>CustTable_Extension</strong> class, add the following code to set the field <strong>Invoicing and Delivery on hold</strong> to <strong>All</strong> and to display a message after the insert.</li>
</ol>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(CustTable))]
final class CustTable_Extension
{
    public void insert(DirPartyType _partyType, Name _name,boolean _updateCRM)
   {
        if (str2Int(this.creditRating) &lt; 200)
        {
            this.blocked = CustVendorBlocked::All;
			info("The customer has been placed on hold due to low credit rating. Please review.");
        }
        next insert();       
   } 
}
</code></pre>
<ol start="8">
<li><strong>Save</strong> the class.</li>
<li><strong>Build</strong> the project.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What methods can you extend to use Chain of Command?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Methods declared with the keyword final</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Private methods</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Protected and public methods</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Methods tagged with the attribute hookable(false)</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following statements is NOT true about variable declarations?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>You can use var to declare local variables for declarations of for loop counters</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>You can declare a variable wherever statements can be provided.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You can declare a variable after the variable is used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>You can declare variables in smaller scopes, outside which the variables can’t be referenced.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This module provided a basic overview of object-oriented
programming.</p>
<p>In this module, you learned that you can use core concepts like abstract classes, inheritance, and Chain of Command (CoC) to create a parent-child relationship between classes for customizations.</p>
<p>Attributes can be used to define and store metadata about classes and method. Attributes are used frequently with the CoC functionality.</p>
<p>You should also be aware of how scoping is used to determine which variable methods that you have access to use, and how to pass variable values between scopes by using parameters.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">ALM methodologies</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Application lifecycle management (ALM) has a broad perspective that continues until the application is no longer used. Methodologies for ALM can vary, so choosing the correct methodology for your needs is crucial for development. The goal of this module and ALM is to help increase developer productivity, improve collaboration between teams, and provide transparency for work items.</p>
<p>This unit explores the methodologies for ALM and helps you determine
which methodology should be used based on software development needs.</p>
<p>There are several approaches to ALM. Each methodology has advantages and
disadvantages, depending on the type of project and software being used.</p>
<p>The three common methodologies are Waterfall, Agile, and Spiral.</p>
<h2 id="waterfall-methodology">Waterfall methodology</h2>
<p><img alt="Diagram showing the five stages of the Waterfall methodology: requirements, system design, implementation, integration and testing, and maintenance." data-linktype="relative-path" src="./rawmb500/media_waterfall.jpg"/></p>
<p>The Waterfall methodology is a sequential approach. The project is
divided into different phases that flow from the previous phase to the
next phase until the project is finished. Each phase is thoroughly
documented with clear deliverables, reviews, and approvals. Usually,
the next phase in the Waterfall methodology does not start until the
previous phase is finished. For example, if you were to implement
finance and operations apps, all the requirements for every
integration would need to be defined before developers could begin
development.</p>
<p>The Waterfall methodology should be considered when the project is
simple, the requirements are known and well-defined, the full scope of
the project is not intended to change, and the project is implemented
all at once.</p>
<h2 id="agile-methodology">Agile methodology</h2>
<p><img alt="Cyclical diagram showing the six steps in the Agile methodology: Plan, design, develop, test, release, and feedback." data-linktype="relative-path" src="./rawmb500/media_agile.jpg"/></p>
<p>The Agile methodology is iterative and focuses on continuous feedback to
alter and add deliverables to the project. Unlike the Waterfall
methodology, the Agile phases can loop back into each other. This means
that different phases can be worked simultaneously. For example, if
requirements are defined for one integration, the developers can begin
working on that integration even if other integrations are still in a requirements-gathering phase. Usually, Agile projects are
separated into sprints, which have a defined duration (usually one or
two weeks). These sprints have a list of deliverables to be finished
during the sprint.</p>
<p>The Agile approach is useful when the requirements are unclear when the
project starts, additional requirements or deliverables are expected
over the lifecycle of the application, or if the project does not need
to be released all at once. Agile is also great for user-driven
projects, especially if the project team is fully devoted to the
project. Because the Agile approach involves many players who are working
on different pieces of the project at the same time, communication and
coordination of the project can be difficult. Therefore, it is beneficial to have the project team in the same location.</p>
<p>Because of the iterative nature of Agile, this method can be complex to
track. Work is frequently reprioritized when deliverables go past the
original sprint or if new sprints need to be added later.</p>
<h2 id="spiral-methodology">Spiral methodology</h2>
<p>Spiral methodology combines aspects of the Waterfall and Agile
methodologies. Spiral focuses on risk assessment by breaking up the
project into smaller segments or cycles. At the beginning of each cycle,
requirements and objectives are identified to create a prototype. Each
cycle goes through the same steps to create a prototype. At the end of a
cycle, the prototype is reviewed and the next cycle is planned.</p>
<p><img alt="Diagram of the four areas of the spiral: Determine objectives, identify and resolve risks, development and test, and plan next iteration." data-linktype="relative-path" src="./rawmb500/media_spiral.jpg"/></p>
<p>The Spiral methodology works well for large-scale, complex systems.
Proper risk assessment is required to identify risk areas for issues.
Without risk assessment, issues can appear in the software that might
increase costs.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Design and create models</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit reviews how to identify, apply, and manipulate a model, as
well as providing an overview of models and their importance in
development.</p>
<p>A model is a group of elements, including metadata and source files that
define a solution with customizations. These models are included in
packages, which can be turned into a deployable package. Finance and
operations uses deployable packages to deploy customizations and updates
to your environments.</p>
<h2 id="importance-of-models">Importance of models</h2>
<p>In finance and operations apps, models are mandatory for customizations.
Models can be thought of as a collection of Microsoft Visual Studio
projects. Projects can only be assigned to a single model. Models can
help identify where certain objects are stored. For example, a warehouse
management model will contain warehouse management-related objects. A
customized model can be created to hold all customizations that are made to the system.</p>
<h2 id="create-a-model">Create a model</h2>
<p>In Visual Studio, you can use the <strong>Create model</strong> wizard under the <strong>Dynamics 365</strong> button to create two types of models:</p>
<ul>
<li>A model that is deployed in its own package</li>
<li>A model that is part of an existing package</li>
</ul>
<p>A model in its own package can be used to create new model elements and
extend elements. You can also select reference models. Because this
model is compiled in its own assembly and binaries, it simplifies
deployment and the ALM.</p>
<p>A model that is part of an existing package lets you overlay source
code and metadata. However, overlaying source code can cause future
issues with deploying Microsoft updates. We recommend that you always
use extensions or create new elements.</p>
<p>You can also update model parameters in Visual Studio from the
<strong>Dynamics 365</strong> menu.</p>
<p>To do this, select <strong>Model Management</strong> and then select <strong>Update model
parameters</strong>. Then, select the model name to update the parameters
and dependencies of the model.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Plan the build, test, and quality control processes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit reviews development processes that you can use to manage the build, test, and quality control processes. It also provides information about how to plan for managing these processes.</p>
<h2 id="create-a-project-plan-for-builds">Create a project plan for builds</h2>
<p>Depending on the methodology that you choose, you need to select times and locations for builds. You also need to decide in what order your builds occur. For example, you wouldn't want to build your code from the Development environment to the Production environment without going through the Testing environment first.</p>
<p>You also need to consider how to handle development that doesn't pass testing because you need to roll back that development. This approach prevents you from promoting errors. You can use Microsoft Dynamics 365 Lifecycle Services to help manage your build from environment to environment.</p>
<p>For example, a build might roll back any code with errors from your Testing environment to your Development environment, promote the successful code from Testing to Production, and then finally promote your finished code from the Development environment to Testing.</p>
<h2 id="decide-what-environments-are-needed">Decide what environments are needed</h2>
<p>You should plan the selection of your environments at the beginning of the implementation. When planning your environments, you should:</p>
<ul>
<li>Decide the environment's purpose. Consider whether you plan to use the environments for development, system testing, user acceptance testing (UAT), or operations.</li>
<li>Consider the environment topology, such as <strong>Develop</strong> or <strong>Build and Test</strong>.</li>
<li>Consider the environment tier (Tier-1 or Tier-2).</li>
</ul>
<p>A Tier-1 environment is a single-box environment with all the components installed on the same server. A Tier-1 environment uses Microsoft SQL Server and is structured to maximize development efficiency. This tier isn't a good option for UAT or performance testing.</p>
<p>A Tier-2 or higher environment is a multiple-box environment with components that are installed on multiple servers. Instead of Microsoft SQL Server, Tier-2 environments use Microsoft Azure SQL Database. The architecture in this environment is the same as the Production environment, but it doesn't use disaster recovery. You should use this environment for UAT and performance testing.</p>
<p>The standard cloud offer for environments includes a Tier-1 environment for development and testing, a Tier-2 environment for UAT, and a production environment. The system provides these environments at different times:</p>
<ul>
<li><strong>Tier-2 environment</strong> - During the installation process.</li>
<li><strong>Tier-1 Develop and Test environment</strong> - When the Design phase starts and after you configure Microsoft Azure DevOps.</li>
<li><strong>Production environment</strong> - During production system readiness with Microsoft. You must request this environment through Lifecycle Services.</li>
</ul>
<p>You can also add another add-on environment for Tier-1 and Tier-2 environments if needed. Additionally, you can deploy Tier-1 environments as a
cloud-hosted environment or an environment image. Customers or partners manage the cloud-hosted environments. The environment image is an on-premises environment that uses a virtual hard disk.</p>
<p>You can select which environments you need and when you need them. You must summarize your required environment lists in a matrix for Microsoft.</p>
<p>You can use the environment plan to help choose the flow for building code in all your environments and to structure your ALM.</p>
<h2 id="plan-for-how-much-testing-is-required">Plan for how much testing is required</h2>
<p>While implementing finance and operations apps, you need to decide how to test your development for approval, who is testing, what criteria you use for approval, and how to track testing. You can use unit tests, regression tests, and performance testing to test the system.</p>
<p>Unit testing is useful for testing whether a specific piece of functionality is working. Unit testing doesn't check if the new code affects existing features in the system.</p>
<p>Regression testing runs a test against an entire process to make sure that existing features still function with the new development. For instance, if you make a modification to add functionality that's related to customers, you might want to perform regression tests to make sure that the new functionality doesn't interfere with existing functionality, such as sales orders.</p>
<p>You might also consider performance testing the system to make sure that the system is stable. To do so, have multiple users enter the system and perform high-volume taxing processes. This approach can help you find opportunities for increasing performance.</p>
<p>Finance and operations apps includes the Task recorder tool to help you document the steps of a process that a user takes. With Microsoft Azure DevOps, you can link
tasks to a development project solution. Then, you can use the task to track updates, testing documents, and other notes.</p>
<h2 id="source-control-and-quality-control-for-developers">Source control and quality control for developers</h2>
<p>Occasionally, several developers might be working in finance and operations apps simultaneously. To prevent developers from interfering with each other's work, you can set up source control with an Azure DevOps project.</p>
<p>The Azure DevOps project hosts the source code of your model, which allows users to check objects in and out. When checking out an object, you're telling the system that you're making changes. When you check in the object, the system creates a new version of that object.</p>
<p>Version control allows you to view previous changes that someone made. You can undo pending changes to the most recent checked-in changes. Additionally, you can select <strong>Get latest</strong> on objects, which pulls in the most recent checked-in version of the object. Developers should use this feature regularly to make sure that they're using the most up-to-date code.</p>
<p>To ensure quality among development, follow the Microsoft Dynamics 365 X++ best practices. Also, you might want to develop your own best practice, such as naming conventions, to keep all development standardized throughout the organization.</p>
<h2 id="select-a-version-control-system">Select a version control system</h2>
<p>In finance and operations apps, a version control system is mandatory. Azure DevOps supports Team Foundation Version Control (TFVC) and Git.</p>
<h3 id="azure-devops-team-foundation-version-control">Azure DevOps Team Foundation Version Control</h3>
<p>The Azure DevOps Team Foundation Version Control system is a one-version control system for finance and operations apps. It’s a centralized version control system, which means that developers work in one branch and have one version of each file on their development machines. Each branch belongs to a server workspace, and each developer works in a local workspace. When a developer checks in source code, they must ensure that they check in the latest version and resolve existing conflicts.</p>
<p>By default, TFVC repositories are deactivated in the <strong>Organization settings</strong> area of Azure DevOps. You need to activate the repositories before you can create a new Azure DevOps project with TFVC as the version control system.</p>
<p>To activate Team Foundation Version Control (TFVC) in your organization, follow these steps:</p>
<ol>
<li>Open Azure DevOps by going to <strong>dev.azure.com/&lt;your organization&gt;</strong>.</li>
<li>Select <strong>Organization settings</strong> in the lower-left corner of the dashboard.</li>
<li>Open <strong>Repos &gt; Repositories</strong>.</li>
<li>Turn off the <strong>Disable creation of TFVC repositories</strong> toggle in the <strong>All Repository Settings</strong> section.</li>
</ol>
<p><img alt="Screenshot of the All Repository Settings section, showing the Disable creation of TFVC repositories option." data-linktype="relative-path" src="./rawmb500/media_all_repositories_settings.png"/></p>
<p>You can create new Azure DevOps projects with TFVC as the version control system.</p>
<h3 id="git">Git</h3>
<p>Git is the recommended Microsoft default version control system for development.</p>
<p>While TFVC is a centralized version control system, Git is a distributed system. Each developer has their own copy of a source repository (or lightweight branch) and can commit changes into it. Developers can create new private branches and switch from one branch to another. In TFVC, it's more difficult to switch from one branch to another, and it often requires multiple development environments.</p>
<p>It’s important to note that you can migrate from TFVC to Git, and vice versa.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify upgrade scenarios and appropriate tools</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Upgrades, updates, and hotfixes can include moving to new product versions, code migration and upgrade, moving to an update, or deploying a hotfix.</p>
<ul>
<li>Upgrade from Microsoft Dynamics AX 2012 to finance and operations apps</li>
<li>Apply updates to an on-premises version of finance and operations apps</li>
<li>Apply updates to cloud version of finance and operations apps</li>
<li>Install hotfixes in development environments</li>
</ul>
<p>The processes for each type of upgrade are similar, but we recommend that you review the link provided with information on several types of upgrades. Always check the most recent info on upgrade using Microsoft Learn.
The process to upgrade from Microsoft Dynamics AX 2012 to finance and operations apps  is divided into three phases:</p>
<ol>
<li><p><strong>Analyze</strong> - The tasks in the analyzing phase assist you in estimating the effort that is needed for the upgrade. These tasks help you prepare a project plan. During the Analyze phase, developers receive several reports that aid in project estimation.</p>
</li>
<li><p><strong>Execute</strong> - After completing the tasks that are identified in the analyze phase, a resource needs to work on code and data upgrades in the Execute phase. Hotfixes related to each task need to be installed in the development machine.</p>
</li>
<li><p><strong>Validate</strong> - Validation is the last step before going live. During this phase, users must perform cutover testing, complete functional testing, and create a cutover plan.</p>
</li>
</ol>
<h2 id="apply-updates-to-an-on-premises-version-of-finance-and-operations-apps">Apply updates to an on-premises version of finance and operations apps</h2>
<p>Updates are applied as deployable packages to on-premises environments from Lifecycle Services. Depending on the type of update, users need to complete the following steps to generate a deployable package. Updates can be of type Platform binary update, Application binary update, or Application X++ update.</p>
<h2 id="apply-updates-to-the-cloud-version-of-finance-and-operations-apps">Apply updates to the cloud version of finance and operations apps</h2>
<p>For non-production environments, upgrades are started manually from the <strong>Maintain in Lifecycle Services environment</strong> page. For continuous updates to the production and sandbox, update settings under project settings must be configured in Lifecycle Services before going live.</p>
<p>For more information about upgrades and updates, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/upgrade-home-page/?azure-portal=true">Upgrades, updates, and hotfixes resources - Finance &amp; Operations</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Plan the release, change, and risk management processes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft releases regular updates to finance and operations apps. These
releases come in Platform and Application releases. They can
include updates to new functionality, bug fixes, or general system
performance improvements.</p>
<p>Releases are classified as upgrades and updates. Upgrades include moving
from one official release to the next release. For instance, an upgrade
would be from 7.1 to 7.3. An upgrade involves a code and data upgrade.
An update applies a binary package to an environment. This process has
lower downtime and does not include a data upgrade.</p>
<p>Before deploying any of the releases in your environment, consider
reading the
<a data-linktype="absolute-path" href="/en-us/dynamics365/release-plans/?azure-portal=true">Dynamics 365 and Microsoft Power Platform Release Plans</a> to discover what new updates are being added. This
will give you an idea of what areas will be affected.</p>
<p>You will need to know which version that you want to select for
upgrade. Because Microsoft removes the oldest version of the software
when a new version is released, we recommend that you always move to the
latest version available. This will give you two months to upgrade your
environments before that release is no longer available. For example, if
you start upgrading your environments to version x instead of the latest
version x.2, and Microsoft releases x.3 before you can upgrade your
production environment, version x will no longer be available for
you to upgrade your production environment.</p>
<p>You might run into compatibility issues if the release extends an
enumeration. The compiler will check if there are any custom
enumerations that are unsafe because of the integer value of a
non-extensible enumeration. This will need to be modified to compile.
Your model should reference top-level modules and sub modules. A
Microsoft change can add a new resource in an unreferenced sub module.
This can cause errors during the compile. Some methods or objects might
also be selected as obsolete, meaning that the object will be fully
deprecated eventually. If any customized code is selected for
deprecation, it should be investigated so that the expected code path can be fixed. Performing code reviews can help catch any issues with customized code early on.</p>
<h2 id="identify-risk">Identify risk</h2>
<p>Upgrades and updates to the system can bring a lot of change. It is
important to identify risk groups to identify specific risks to a
company. A business process owner should be selected to hold
responsibility for a specific risk. Some risks might include downtime
to upgrade the system, availability of resources to test, or additional
development. Applying some risk management skills might help reduce these
risks:</p>
<ol>
<li>Identify any potential threats.</li>
<li>Assess what areas are vulnerable to those threats.</li>
<li>Determine the likelihood, or risk, of areas that are being affected.</li>
<li>Identify ways to reduce the risk.</li>
<li>Prioritize the risk reduction plans.</li>
</ol>
<p>Using the release plans that Microsoft provides can help
determine what areas in finance and operations apps are changing and what changes are being made. To reduce the risk of a new release plan, you should have available resources to test the areas that are changing. Microsoft also has a Regression Suite Automation Tool (RSAT) to automate tests based on task recordings.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You're working on a project that has undefined requirements and new requirements are expected to occur during the project. What methodology would best suit this type of project?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Waterfall</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Agile</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Spiral</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>A new developer is joining the project team. You, as the project manager, must request a new environment for the developer to use. What kind of environment should you request?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A Tier 1 environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A Tier 2 environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A production environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Implementing the correct Application Lifecycle Management (ALM)
methodology will prepare you for the development process. Creating a
plan for builds and testing can increase productivity, and using
source control can ensure quality code. Additionally, identifying
risk will help mitigate any issues during new finance and operations apps
releases.</p>
<p>Whether you choose the Waterfall, Agile, or Spiral methodology, your
finance and operations apps implementation experience will be improved by
using ALM.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Extended Data Types (EDTs) and enumerations are essential components in finance and operations apps that enable developers to standardize, organize, and enhance the usability of data across the system. EDTs extend primitive data types with custom properties, making data structures more consistent and maintainable, while enumerations simplify the management of predefined sets of values. Together, these features contribute to a more efficient and user-friendly application experience.</p>
<p>While base enums and EDTs are not new to all developers, it's important
to understand how these data types are used in development for finance and operations apps.</p>
<p>In this module, you learn when to use base enums and EDTs and about the benefits of using each type.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extended data types and element properties</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>X++ data types are divided into primitive data types and composite data
types. In the AOT, you can create EDTs and base enums that build on the
primitive data types. The basic set of primitive data types in the
system maps to underlying data types that exist in the physical
database. These primitive data types can be expanded to create EDTs.</p>
<p>By design, finance and operations apps have a limited number of primitive data types. This limitation significantly reduces the number of data type conversions, improves data integrity, and creates a programming
language that is simpler to use.</p>
<p>The following primitive data types exist in the AOT and can be created
in Visual Studio:</p>
<ul>
<li><strong>Booleans</strong> - Can only contain the values "false" and "true."</li>
<li><strong>Dates</strong> - Contain the numbers for day, month, and year.</li>
<li><strong>Enums</strong> - An abbreviation for "enumerated text," or a set of literals.</li>
<li><strong>GUIDs</strong> - Globally unique identifiers.</li>
<li><strong>Integers</strong> - Numbers without a decimal point.</li>
<li><strong>Real</strong> - Numbers with a decimal point and are sometimes called decimals.</li>
<li><strong>String</strong> - A series of characters, such as a text block.</li>
<li><strong>TimeofDay</strong> - Contain the numbers for hour, minute, and second.</li>
<li><strong>UTCDateTime</strong> - Contain the numbers for year, month, day, hour, minute, and second.</li>
</ul>
<h2 id="benefits-of-using-edts">Benefits of using EDTs</h2>
<p>We recommend that you use EDTs in development for many reasons.</p>
<ul>
<li><p>Code is easier to read when you are using EDTs because the variables are named in a significant way. For example, you can declare a string variable to be called "Name" for a field where you want a user to
enter a name in the user interface.</p>
</li>
<li><p>The properties that you set for an EDT are used by all instances of
that type, which reduces work and promotes consistency. For
example, account numbers (<strong>AccountNum</strong> data type) have
the same properties throughout the system.</p>
</li>
<li><p>You can create hierarchies of EDTs, which inherit the properties
that are appropriate from the parent and change the other
properties. For example, the <strong>ItemCode</strong> EDT is used
as the basis for the <strong>MarkupItemCode</strong> and
<strong>PriceDiscItemCode</strong> EDTs. In the <strong>Properties</strong> window,
if you leave the display length and style set to <strong>Auto</strong> for an
EDT, finance and operations apps will make the best choice for how the
EDT is displayed. This will make the EDT flexible throughout the
system.</p>
</li>
<li><p>Most fields in the tables of finance and operations apps are based on EDTs.
After the EDT is created, it can be reused as many times as it is
needed in the application.</p>
</li>
<li><p>EDTs have various behaviors that you can use in your development. For example, EDTs can help enable lookup behavior on controls.  You can also enable these controls to have drop-down lists and lookup capabilities for multiline string controls. To learn more about this capability, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/lookups-controls/?azure-portal=true">Lookup controls</a>.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Base enums and element properties</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A base enum is a list of literals with an assigned value. You will need to create base enumerations in Visual Studio before you can use them in
X++ code. Enum values are represented internally as integers, and they are stored in the database as a number instead of the value, which is useful because it saves space. The first literal has the number 0, the next has the number 1, and so on.</p>
<p>Enums can be used as integers in expressions when you are writing code. Each literal or enumeration is assigned a text value through a label and name property. That property is displayed to users in the finance and operations user interface. The system automatically displays this conversion in the user interface, so no more programming is required on the forms that display to the user.</p>
<p>To add a base enum to your project, right-click your project, select <strong>Add &gt; New Item</strong>. Then, under <strong>Dynamics 365 Items</strong>, select <strong>Data Types &gt; Base Enum</strong>.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/base-enum.png#lightbox"><img alt="Screenshot showing how to add a base enum to your project in the Solution Explorer window." data-linktype="relative-path" src="./rawmb500/media_base_enum.png"/></a></p>
</div>
<h2 id="examples">Examples</h2>
<p>Many enumerable types are built into the standard finance
and operations apps. Each enum has various properties that
control the appearance and function of the base enum.</p>
<p>For example, the enum <strong>NoYes</strong> has two associated literals, where <strong>No</strong> has the value 0, and <strong>Yes</strong> has the value 1. Typically, this
type of enumeration appears as a selectable option in the finance and operations user interface. This is also referred to as the Boolean
primitive data type.</p>
<p>A base enum can appear as a drop-down menu in the user interface, where a user is presented a list of options and one can be selected
from the list.</p>
<p>A base enum can also be displayed as various buttons. When each button is selected, the user interface updates with new values or information that is related to the selected button.</p>
<h2 id="properties-and-elements">Properties and elements</h2>
<p>Defining properties for a base enum allows you to modify the look of the base enum in the finance and operations apps user interface. While the
process of adding a base enum to a project is constant, you can adjust the display length, style, label, and behaviors of the enum by using the
<strong>Properties</strong> window.</p>
<p>Elements that are added to a base enum are stored in the database as a numeric value. The first element that you add is stored as the value 0, the next element is stored as the value 1, and so on. You can use these numeric values as integers when writing X++ code. To give the numeric value a meaningful display name in the user interface, you will edit the <strong>Label</strong> property in the <strong>Properties</strong> window.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a base enumeration, add elements, and update properties</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been tasked with creating a new
base enumeration for the Fleet Management company. The company needs to
collect information about the vehicle type when a new vehicle is checked
in for service. They would like a drop-down list to use in the user
interface with the options for car, truck, SUV, and van.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Navigate to Visual Studio and right-click to <strong>Run as administrator</strong>.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>New Project</strong> dialog box, search for <strong>Finance Operations</strong>, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model Management &gt; Update model parameters</strong>.</li>
<li>Select the <strong>FleetManagement</strong> model from the <strong>Model name</strong> dropdown list.</li>
<li>Select <strong>Next</strong>, then select the <strong>ApplicationSuite</strong> in the <strong>Select referenced packages</strong> drop-down list.</li>
<li>Select <strong>Next</strong> until the form closes.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu again.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure the check boxes are selected for <strong>Organize projects by element type</strong> and   <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-base-enumeration-for-vehicle-type">Create a base enumeration for vehicle type</h2>
<ol>
<li><p>In the <strong>Solution Explorer</strong> window, right-click the project     <strong>FleetManagementProject (ISV) [Fleet Management]</strong>. (In this lab, (ISV) and [Fleet Management] denote parameters of the project or object)</p>
</li>
<li><p>Select <strong>Add &gt; New Item</strong>.</p>
</li>
<li><p>On the left pane, select <strong>Dynamics 365 Items</strong> and then select    <strong>Data Types</strong>.</p>
</li>
<li><p>Select <strong>Base Enum</strong>.</p>
</li>
<li><p>Enter  <strong>VehicleType</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Select <strong>Add</strong>. The VehicleType base enumeration will now be open in    the element designer window.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> heading in the element designer and    select <strong>Properties</strong>.</p>
</li>
<li><p>In the <strong>Properties</strong> window, in the <strong>Label</strong> field, enter
<strong>Vehicle type</strong>.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/vehicle-type.png#lightbox"><img alt="Screenshot showing the VehicleType property." data-linktype="relative-path" src="./rawmb500/media_vehicle_type.png"/></a></p>
</div>
</li>
</ol>
<h2 id="add-elements-to-the-new-base-enumeration">Add elements to the new base enumeration</h2>
<ol>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong>  base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>Car</strong> in the <strong>Name</strong> field and in the <strong>Label</strong> field.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>Truck</strong> in the <strong>Name</strong> field and in the <strong>Label</strong> field.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>SUV</strong> in the <strong>Name</strong> field  and in the <strong>Label</strong> field.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>Van</strong> in the <strong>Name</strong> field  and in the <strong>Label</strong> field.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/vehicle-types.png#lightbox"><img alt="Screenshot showing the three vehicle types." data-linktype="relative-path" src="./rawmb500/media_vehicle_types.png"/></a></p>
</div>
</li>
<li><p>Perform a build by right-clicking the project <strong>FleetManagementProject (ISV) [Fleet Management]</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>How are base enums represented and stored in the database?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A literal string value</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A numerical value</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>An alphabetical character</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A series of numerical and alphabetical characters</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>We recommend that you use EDTs whenever possible in coding for finance and operations apps. Which of these statements is not a benefit of using EDTs?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>EDTs are more easily compiled.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>EDTs are reusable throughout the system.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The code is easy to read.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Properties can be inherited from parent EDTs.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>A base enumeration can be viewed in multiple ways in the user interface of finance and operations apps. Which of the following is not an example of how a base enum can be viewed in the user interface?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Option buttons</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A slider bar</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A date field</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A drop-down menu</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Visual Studio contains many primitive data types, including base enums and EDTs.</p>
<p>EDTs are shown as text boxes, date fields, or numeric entries. We recommend that you use EDTs in development because they can be reused throughout the system and their code is easier to read. Base enums are represented as slider bars, drop-down menus, and option buttons.</p>
<p>Both EDTs and base enums can be pulled from the AOT in Visual Studio and added to a project, or you can create them through the <strong>Solution Explorer</strong> window. These data types are viewable in the user interface of finance and operations apps, by being added to tables and forms in Visual Studio.</p>
<p>After base enums and EDTs are created, they are usually added to a table to enable data capture.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The data model in finance and operations apps is the foundation of application development. It comprises key components such as tables, views, queries, and other elements that enable effective data management. All the data within these apps, whether related to company transactions, inventory, or journals, is stored in tables and maintained through the data model within Microsoft Visual Studio.</p>
<p>Understanding and working with these components is essential important for creating robust, scalable solutions.</p>
<p>This module provides you with the skills to build and manage data models, helping you to create efficient and functional finance and operations applications.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create tables and table fields</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Tables contain rows and columns, just like a spreadsheet. They are
stored in a database and work together to deliver data to the user
in outputs such as forms and reports. Tables can also contain metadata,
which is descriptive data such as system settings. Developers can
modify existing table properties and components through extensions, or they can create new tables.</p>
<p>Tables are made up of fields, which are organized into field groups. An
index can be created from fields within a table, and aids in data
retrieval. When data in one table is connected to another table, such as
customer information that is spread across multiple tables, you will
create a table relation between the two tables.</p>
<p>While many system tables exist, it's important to know how
to create new tables and fields so you can personalize the finance and operations apps experience. Tables are added to a project through the <strong>Solution Explorer</strong> window by right-clicking the project and selecting <strong>Add &gt; New item</strong>. You can then modify these tables through the table designer and <strong>Properties</strong> windows.</p>
<p>The screenshot below shows the CustTable (Customer Table).</p>
<p><img alt="Screenshot of the Customer Table which is called CustTable." data-linktype="relative-path" src="./rawmb500/media_cust_table.png"/></p>
<p>The <strong>Table designer</strong> window contains a top-level node with the table name,
and various components beneath it, such as:</p>
<ul>
<li><strong>Fields</strong> - Make up the data in the table and can be base
enumerations or extended data types.</li>
<li><strong>Field groups</strong> - Are logical groupings of physical
database fields. Groups can be used on forms and reports so that
when a modification is made to a field group, related objects are
automatically updated to reflect the new content of the group.</li>
<li><strong>Indexes</strong> - Are a method for speeding up retrieval of
data from a table.</li>
<li><strong>Relations</strong> - Define how a table relates to records in other tables.</li>
<li><strong>Delete actions</strong> - This node is used on tables that are
upgraded from earlier Microsoft Dynamics AX versions. It is used to detail what should happen when data in a related table is deleted. With finance and operations apps, delete actions are specified on the properties of a table relation.</li>
<li><strong>State machines</strong> - Enable you to perform state
transitions within the workflow without writing any additional code.
These are primarily used with workflows.</li>
<li><strong>Mappings</strong> - With a map, you can associate a map field with a field
in one or more tables. This enables you to use the same field name
to access fields with different names in different tables.</li>
<li><strong>Methods</strong> - Methods are pieces of code that are added to a table that can be run when certain events or changes in the data occur.</li>
<li><strong>Events</strong> - Are also pieces of code that are raised as
preceding and succeeding operations around base methods.</li>
</ul>
<p>Fields are added to a table by using a click-and-drag motion from your
project in the <strong>Solution Explorer</strong> window, or from the <strong>Application
Explorer</strong> window. Fields are commonly base enumerations (base enums) or
extended data types (EDTs). Because EDTs are reusable throughout the
system, it is beneficial to check the Application Object Tree (AOT) to
see if your desired field exists already before creating a new EDT and
adding it to your project. You can also add a field to a table by
right-clicking the table name in the table designer and adding a new
field. You would then specify in the <strong>Properties</strong> window which element you will be referencing for that field, such as a base enum or EDT.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Populate table and field properties</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When a new element, such as a table or field, is added to a project, we recommend that you update and modify the element's properties.</p>
<p><a data-linktype="relative-path" href="media/table-properties.png#lightbox"><img alt="Screenshot of the Properties page showing CustTable properties." data-linktype="relative-path" src="./rawmb500/media_table_properties.png"/></a></p>
<p>While many properties can be manipulated, only a few will commonly be used.</p>
<ul>
<li><strong>Table type</strong> - Determines if the table is considered a
regular database table or a temporary table, such as a TempDB or
InMemory table.</li>
<li><strong>Name</strong> - If used in a form to display in the user
interface as a page, the name is what the user will see on the page.
Names and labels should use camel case for consistency, but table
names will display in capital letters.</li>
<li><strong>Label</strong> - Will be added from a label file and is used
to identify the table in Visual Studio.</li>
<li><strong>Primary index</strong> - Specifies which field in the table should
be used as the primary index and is used for database optimization
purposes.</li>
<li><strong>Cluster index</strong> - Specifies the field by which the table
should be organized. This property should never be left blank.</li>
<li><strong>Configuration key</strong> - Allows a system administrator to
enable and disable certain parts of the application and ensures that
a table is removed when the key is disabled.</li>
<li><strong>Support inheritance</strong> - Determines whether the
table can become a base table by using inheritance. Setting this
property to <strong>Yes</strong> indicates that this table can be extended, or that it can inherit properties from an existing table.</li>
<li><strong>Extends</strong> - Used when the Support Inheritance
property is set to <strong>Yes</strong>. The Extends property chooses the base
table that will become the parent table to the current table.</li>
</ul>
<p>The following animation shows the <strong>Properties</strong> window for the CustTable that is opened from the <strong>Application Explorer</strong> window.</p>
<p><a data-linktype="relative-path" href="media/table-properties.gif#lightbox"><img alt="Animated gif of the Properties window for the CustTable opened from the Application Explorer window" data-linktype="relative-path" src="./rawmb500/media_table_properties.gif"/></a></p>
<p>Field properties are commonly adjusted at the element level instead of
within the table. For example, if you added an EDT as a field to a
table, you would open the EDT in the element designer to adjust
any properties before adding it to the table.</p>
<p>Base enum properties determine if the property should be displayed as a drop-down menu, option buttons, or a slider bar in the finance and operations apps user interface. EDT properties vary depending on the type of EDT, such as string, integer, or date. For a string EDT, for example, you can control how many characters can be entered in the text field. For a date EDT, you can choose if the month and day are listed as one or two numbers and if the year should be listed as two or four numbers. It is best practice to leave properties set to <strong>Auto</strong> so that the system can adjust the field as necessary in the user interface.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add fields, field groups, indexes, and relations</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you create a table and fields, you add those fields to
the table, and then create field groups to pool associated fields. Then, you drag fields, such as EDTs and enums, from the AOT or from your
project in Solution Explorer. If you do not define any field groups, by
default you only see data from two fields (the primary key and
description fields) in the primary table because these are indexed
automatically.</p>
<p>Field groups improve consistency in form design and reduces occurrences of users having to individually choose fields for form patterns. When a modification is made to a field group, such as a changed property or a new added field, any forms that contain that field group automatically updates to show the new changes. Field groups are added through the table designer by right-clicking the Field groups node to select a new group. Then, you can drag fields from your table into the various field groups that are listed under the Field groups node.</p>
<p>The following animation shows a field being selected and dragged from the
<strong>Application Explorer</strong> window to the <strong>Fields</strong> node of a new table in the <strong>Table designer</strong> window.</p>
<p><a data-linktype="relative-path" href="media/add-fields.gif#lightbox"><img alt="Animated gif of the CustTable in the Table designer window." data-linktype="relative-path" src="./rawmb500/media_add_fields.gif"/></a></p>
<h1 id="optimize-data-retrieval-with-table-indices-and-relations">Optimize data retrieval with table indices and relations</h1>
<p>Indices are created on a table to improve efficiency with data
retrieval. They are added by using the table designer. An index is defined by using one or more fields as the lookup criteria. When you are
determining which fields to use for the index, consider fields that are
often searched by a range or query, fields that are frequently used in
joins, or fields that are often used to order or group results.</p>
<p>The order of the columns in an index is important. For efficiency,
an index should be organized from the most granular column (highest
number of unique values) to the least granular column.</p>
<p><a data-linktype="relative-path" href="media/table-index.png#lightbox"><img alt="Screenshot of the CustTable highlighting the Table indexes." data-linktype="relative-path" src="./rawmb500/media_table_index.png"/></a></p>
<p>The three types of indices that are used in finance and operations apps are:</p>
<ul>
<li><strong>Primary index</strong> - Provides a unique key to each
record in a table. The property for <strong>Allow Duplicates</strong> must be set
to <strong>No</strong> because multiple values with the same result cannot exist. An example of a primary index is a phone number or account number.</li>
<li><strong>Clustered</strong> - This type of index organizes the data for a table
according to the order of the index. For example, the data in a
phone book is first sorted by last name and then by first name. For
each last and first name, there is a corresponding phone number. The
clustered index in this case would be the last name.</li>
<li><strong>Non-clustered</strong> - This type of index provides a way to quickly
reference data that is found in the clustered index by using a specified set of columns. An example of this is the index at the back of a textbook. You can look up a specific topic, and the index provides a list of page numbers that have information on that topic.</li>
</ul>
<p>Multiple tables are often used to collect data about a similar
subject. You can create a table relation on the primary table to define
how it is related to a secondary table. A relation is added on the
Relations node under the table heading in the Table designer window.
You can use table relations for several reasons, including associating rows in one table to another, creating auto joins in forms to join one table to another, looking up values in other tables, and validating data
by providing constraints.</p>
<p>When you are creating forms, it is common to have related tables as underlying data sources so that lookups can be performed. You can establish this relationship so you can access the information in both tables by using a common field, such as an account number. Relations can also be used to restrict the rows that are returned in a table.</p>
<p>The following table lists the different properties of relation notes.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Cardinality</td>
<td>NotSpecified, ZeroOne, ExactlyOne, ZeroMore,   OneMore</td>
<td>Specify   the cardinality between the current table and a related table.      The   relation between a header table and lines could be ZeroMore, meaning one   header exists and has zero-to-many lines.</td>
</tr>
<tr>
<td>EDTRelation</td>
<td>No,   Yes</td>
<td>Specify whether the relation migrated from   an EDT, meaning the relations were in previous versions defined on the EDT?</td>
</tr>
<tr>
<td>Index</td>
<td>index</td>
<td>Specify the index used to find the related   item.</td>
</tr>
<tr>
<td>Name</td>
<td>Relation   name</td>
<td>Specify the Relation name, which  is typically the name of the related table.</td>
</tr>
<tr>
<td>On Delete</td>
<td>None,   Cascade, Restricted, CascadeRestricted</td>
<td>Specify how the <strong>Delete</strong> action is used   with the relation. It indicates how deletions in the main table are handled   in related tables.</td>
</tr>
<tr>
<td>Related Table</td>
<td>table</td>
<td>Specify the reference table.</td>
</tr>
<tr>
<td>Related Table Cardinality</td>
<td>NotSpecified,   ZeroOne, ExactlyOne</td>
<td>Specify the cardinality between a related   table and the current table.      The relation between lines and a header   is ExactlyOne, and a header always exists.</td>
</tr>
<tr>
<td>Relationship Type</td>
<td>NotSpecified,   Association, Composition, Link, Specialization, Aggregation</td>
<td>Specify the type of relationship:     <strong>NotSpecified</strong> -The system infers the value from the following sequence:   Specialization, Link, Composition, Aggregation, Association.     <strong>Specialization</strong> -   Applies only to table inheritance.     <strong>Link</strong>   - Used in migration tools to support earlier   versions. You should not use Link as a relationship type.     <strong>Composition</strong>   - Use if the current relation only exists once. It   could be a specific pallet in a warehouse.     <strong>Aggregation</strong> - Use if the parent table has a delete action defined to be used   in the current relation.     <strong>Association</strong> - Standard foreign key relation.</td>
</tr>
</tbody>
</table>
<h2 id="define-table-relations-and-delete-actions">Define table relations and delete actions</h2>
<p>The <strong>Field</strong>, <strong>Related field</strong>, and <strong>Value</strong> properties are used
to add details about the relation and dictate the fields that are
related between two tables. Relations have one or more relation field types defined.</p>
<p>Relation types are defined as follows:</p>
<ul>
<li><strong>Normal relation</strong> - Specifies relation fields without conditions.</li>
<li><strong>Field fixed relation</strong> - Specifies relation fields to restrict the records in the primary table.</li>
<li><strong>Related field fixed relation</strong> - Specifies relation fields that
restrict the records in the related table.</li>
<li><strong>Foreign key relation</strong> - Specifies a correspondence between a
foreign key field in the present table and the primary key field in
another parent table.</li>
</ul>
<p>Delete actions use relations for validation when deleting:</p>
<ul>
<li><strong>Restricted</strong> - Delete is restricted when data exists in a related table.</li>
<li><strong>Cascade</strong> - Delete occurs for a table and related table.</li>
<li><strong>CascadeRestricted</strong> - Depending on the parent table, select <strong>Restricted</strong> or <strong>Cascade</strong>.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Table methods</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Tables are main elements of finance and operations apps development. Many standard tables are already available in the application. You can also create a new custom table.</p>
<p>Each table has methods, which can be classified as standard methods or custom methods. Standard tables must have a <code>super()</code> call to run the framework logic. This requirement also applies to custom tables because they're derived from the same base type.</p>
<p>You can extend the existing table methods and include code by using the chain of command option. Additionally, you can create table delegates to include code in an existing method. These delegates should be subscribed to add functionality to an existing table method.</p>
<h2 id="standard-table-methods">Standard table methods</h2>
<p>The following sections explain the various methods that are used in standard tables in the finance and operations apps development platform.</p>
<h3 id="initvalue">initValue()</h3>
<p>The <code>initValue()</code> method is a standard method that's called when a new record is created. You can use this method to address the requirement of initializing some field values while a new record is being created.</p>
<p><strong>Scenario</strong></p>
<p>You are using the table named <strong>CustTable</strong>. The requirement is to initialize the <strong>Party</strong> field of that table with enum element <strong>0</strong> while a new record is inserted into this table.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">
    public void initValue()
    {
        super();
        this.Party = 0;
    }
</code></pre>
<h3 id="find">find()</h3>
<p>The <code>find()</code> method is a custom method that's usually created with all tables. The <code>find()</code> method returns a specific record based on primary key or other unique keys. This method is a static method.</p>
<p><strong>Scenario</strong></p>
<p>You have a custom table named <strong>TrainingParameters</strong>. You need to create the <code>find()</code> method that will return one record.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">static TrainingParameters find(boolean _forupdate = false)
    {
        TrainingParameters parameter;

        if (_forupdate)
        {
            parameter.selectForUpdate(_forupdate);
        }

        select firstonly parameter
            index Key
            where parameter.Key == 0;

        if (!parameter &amp;&amp; !parameter.isTmp())
        {
            Company::createParameter(parameter);
        }

        return parameter;
    }
</code></pre>
<h3 id="insert">insert()</h3>
<p>The <code>insert()</code> method is a standard method that's called when a new record is inserted into a table. You can use this method in these scenarios:</p>
<ul>
<li>Populate data in a field based on the value of some other field in the table.</li>
<li>Run a process while data is inserted in a table.</li>
</ul>
<p><strong>Scenario</strong></p>
<p>In the custom table <strong>TrainingMaster</strong>, you need to populate data into the <strong>Price</strong> field. The value of this field is a multiplication of the following two fields:</p>
<ul>
<li><strong>NoofDays</strong> field from the <strong>TrainingMaster</strong> table</li>
<li><strong>PerDayPrice</strong> field from the <strong>TrainingParameter</strong> table</li>
</ul>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">public void insert()
    {
        this.Price = this.NoofDays * TrainingParameters::find().PerDayPrice;
        super();
    }
</code></pre>
<h3 id="modifiedfield">modifiedField()</h3>
<p>The <code>modifiedField()</code> method is a standard method that's called when a field of a record is modified. You can use this method in these scenarios:</p>
<ul>
<li>Populate data into a field while some other field is modified in the same record.</li>
<li>Run a process while some field is modified in a record.</li>
</ul>
<p><strong>Scenario</strong></p>
<p>The requirement is to erase the value from the <strong>Venue</strong> field of the <strong>TrainingMaster</strong> table, while the <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">public void modifiedField(FieldId _fieldId)
    {
        super(_fieldId);

        switch (_fieldId)
        {
            case fieldNum(TrainingMaster, TrainingType):
                this.Venue = (this.TrainingType == TrainingType::Online ? "" : this.venue);
                break;
        }
    }
</code></pre>
<h3 id="validatefield">validateField()</h3>
<p>The <code>validateField()</code> method is a standard method that's called to validate the data that's entered into a field. You can use this method to perform data validation while data is being entered into the field.</p>
<p><strong>Scenario</strong></p>
<p>The requirement is to restrict entering data into the venue field of the <strong>TrainingMaster</strong> table, if the <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">public boolean validateField(FieldId _fieldIdToCheck)
    {
        boolean ret = super(_fieldIdToCheck);
        
        switch(_fieldIdToCheck)
        {
            case fieldNum(TrainingMaster, Venue):
                if (this.TrainingType == TrainingType::Online &amp;&amp; this.Venue)
                {
                    ret = ret &amp;&amp; checkFailed("Online training does not require venue");
                }
                break;
        }
        return ret;
    }
</code></pre>
<h3 id="validatewrite">validateWrite()</h3>
<p>The <code>validateWrite()</code> method is a standard method on tables. This method is called when the <strong>Save</strong> button is selected or a user attempts to navigate out of a record after inserting a new record or updating an existing one. Override this method if a condition should be validated before you leave the record.</p>
<p><strong>Scenario</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>TrainerID</strong> that creates a foreign key with the <strong>TrainerTable</strong>. <strong>TrainerTable</strong> has a real field <strong>Rate</strong>, which captures the daily rate of the trainers. When you save the record in the <strong>TrainingMaster</strong> table, the system should check if <strong>Rate</strong> is defined for the corresponding trainer.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">public boolean validateWrite()
    {
        boolean ret;
         
        ret = super();

        if(!TrainerTable::find(this.TrainerID).Rate)
        {
            ret = checkFailed("Please enter Trainer's rate");
        }
    
        return ret;
    }
</code></pre>
<h2 id="extension-of-table-methods">Extension of table methods</h2>
<p>Chain of command is an option that helps you enhance the functionality of a table method. This option is applicable for standard methods and custom methods.</p>
<p>In the following example, the requirement is to initialize the <strong>Price Rounding</strong> rule of the <strong>Currency</strong> table with <strong>0.01</strong> whenever a new record is created. A table extension class will be created with this code snippet of the <code>initValue()</code> method.</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(Currency))]
final class CurrencyTable_Extension
{
    public void initValue()
    {
        this.RoundOffPrice = 0.01;
        next initValue();
    }

}
</code></pre>
<p>The <code>next</code> keyword is calling the parent method from the extended method. If a new custom method is created in the extended table, you don't need to use the <code>next</code> keyword.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend views</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Like tables, a view has rows and columns that deliver data to the user in outputs such as queries, forms, and reports. A view can have fields from joined tables, and it provides focused and simplified access to data.</p>
<p>The components in views are similar to tables and include fields, field groups, indexes, relations, mappings, state machines, methods, and events.</p>
<p>You can create view extensions to enhance views, but you can’t create code extensions. Use an event handler class to create pre-events and post-events for methods.</p>
<p>Additionally, you can use Microsoft Visual Studio to create, manage, and extend views.</p>
<h2 id="create-views">Create views</h2>
<p>Add views to a project by using the <strong>Solution Explorer</strong> window. Right-click the project or activate the context menu and then select <strong>Add</strong> &gt; <strong>New item</strong>. You can modify the views that you create by using the <strong>Designer</strong> and <strong>Properties</strong> windows.
The <strong>Designer</strong> window has a top-level node with a view name, and the node should be unique for tables and views.</p>
<p>For queries, data sources, and similar, the system creates one list for all table and view names when you select a table name.
The top-level properties include properties that are like tables, such as <strong>Label</strong>, <strong>Title Field1</strong>, and <strong>Title Field2</strong>.</p>
<p>The following table lists the top-level properties for views. For more properties, see <a data-linktype="absolute-path" href="/en-us/training/modules/build-tables-finance-operations/2-properties/?azure-portal=true">Populate table and field properties</a>.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Option</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Query</td>
<td>Blank   or a query</td>
<td>Use a blank value in the Query   property to create view metadata manually.     Then, you can select a query in the   property, and the system will use it as view metadata, including its fields, ranges,   sorting, joins, and similar. You can’t change the view metadata if you’re selecting   a query.</td>
</tr>
</tbody>
</table>
<p>The following table lists the nodes that are available for a view in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Metadata</td>
<td>Create   manually or use the Query property on the view’s top   level</td>
<td>The underlying data that the system uses for   the view. Typically, it includes one or more tables or other views (data   sources).     Metadata isn’t stored in the database as a   table. You can define views as a virtual table whose contents are defined by   a query. The rows and columns of data come from tables that the metadata   references.     It’s important that you’re aware of   performance issues when building a view’s metadata.</td>
</tr>
<tr>
<td>Fields</td>
<td>Field   from the view metadata, a virtual field, or a computed column (virtual field)</td>
<td>Use this node to add fields from the view metadata   by selecting a field on the view’s defined data source and then dragging it to   the node fields on the view.     Create fields manually by right-clicking   the Fields node or by activating the context menu and   then selecting New, Field.     The system defines a virtual field as a   computed column, but the property is set to virtual, and the field value is   set in the view’s postLoad method.     Add computed fields (calculated fields) as   a field on the view by right-clicking the Fields   node or by activating the context menu and then selecting the corresponding   type for the computed column (described in a subsequent section).     For fields and computed columns, you can create   an Extended data type as a best practice.</td>
</tr>
<tr>
<td>Field groups</td>
<td></td>
<td>Similar to tables, field groups can be system   created and custom groups.</td>
</tr>
<tr>
<td>Indexes</td>
<td></td>
<td>Use this node to optionally create an index   on a view and store it on the view’s database.</td>
</tr>
<tr>
<td>Relations</td>
<td></td>
<td>View relations work, such as table   relations.</td>
</tr>
<tr>
<td>State machines</td>
<td></td>
<td>Specify a data field to use.</td>
</tr>
<tr>
<td>Mappings</td>
<td></td>
<td>Specify a map to map to another object.</td>
</tr>
<tr>
<td>Methods</td>
<td></td>
<td>Typically, you use this node for display   methods (as you would on tables) or methods for computed columns that return values   by using Microsoft   Transact-SQL (T-SQL).     NOTE: The   purpose of a view is to write to data, so the insert, update, or delete   methods aren’t necessary.</td>
</tr>
<tr>
<td>Events</td>
<td></td>
<td>The node exists but isn’t used.</td>
</tr>
</tbody>
</table>
<p>A computed column is a virtual calculated column in the view, and the system calculates it on the database with T-SQL from a method.</p>
<p>Create computed columns on the <strong>Fields</strong> node by selecting the corresponding type for the computed column, which in earlier versions was called an unmapped field. Then, specify the <code>View Method</code> property, which is the calculation for the computed column that’s defined in the view’s <strong>Methods</strong> node.</p>
<p>Create methods by right-clicking the view in Solution Explorer or by activating the context menu and then selecting <strong>View Code</strong> (F7). If you already have the view open in the designer, you can right-click at the top level or activate the context menu and then select <strong>View Code</strong> (F7). When you’re creating a new method for a computed column, it must be static and it must return type str (T-SQL to be implemented on the database).</p>
<p>The method uses the following components to calculate the result:</p>
<ul>
<li>View name, which helps you find the <strong>DictView</strong> class.</li>
<li>Data source name that’s found in view metadata, which helps you find the table’s data source.</li>
<li>The field in the field list on the data source.</li>
</ul>
<p>In the global <strong>DictView</strong> class, you can call the computedColumnString method with the data source and field to generate T-SQL to the return.
If you’re creating more complicated expressions, such as <code>and</code>, <code>or</code>, <code>compare</code>, or <code>if</code>, see the help methods in the <strong>SysComputedColumn</strong> class.</p>
<p>The following example shows the use of a method for a computed column (view <strong>AssetTransReverse</strong>):</p>
<pre><code class="lang-xpp">

    /// &lt;summary&gt;
    /// Defines the computed column for the negative &lt;c&gt;AmountMST&lt;/c&gt; view field.
    /// &lt;/summary&gt;
    /// &lt;returns&gt;
    /// The SQL statement which defines the negative &lt;c&gt;AmountMST&lt;/c&gt; view field.
    /// &lt;/returns&gt;
    public static str negativeAmountMST()
    {
        #define.ViewName(AssetTransReverse)
        #define.DataSourceName("AssetTrans_1")
        #define.AmountMSTField("AmountMST")

        str amountMST;
        DictView dictView;

        dictView = new DictView(tableNum(#ViewName));
        amountMST = dictView.computedColumnString(#DataSourceName, #AmountMSTField, FieldNameGenerationMode::FieldList, true);

        return SysComputedColumn::negative(amountMST);
    }
</code></pre>
<p>When you’ve creating the view, save and build it as you would for other elements.</p>
<h2 id="manage-views">Manage views</h2>
<p>Make sure that you sync views to the database to create the view in the underlying database.</p>
<p>During synchronization, the system detects computed columns by using the name on fields that have <strong>View Method</strong> selected and by adding the column to the view creation. Synchronization can fail if the computed column generates invalid T-SQL syntax.
Using an unsynchronized view results in errors that display to the user.</p>
<h2 id="extend-views">Extend views</h2>
<p>You can change views by creating an extension.
Extend a view by locating it in the <strong>Application Explorer</strong>, right-clicking it or activating the context menu, and then selecting <strong>Create extension</strong>.</p>
<p><a data-linktype="relative-path" href="media/create-extensions.png#lightbox"><img alt=" Screenshot of the Application Explorer that shows the Create extension option." data-linktype="relative-path" src="./rawmb500/media_create_extensions.png"/></a></p>
<p>You can create extensions in a current project or a new one and then use them to complete the following tasks:</p>
<ul>
<li>Add new fields. You can’t add computed columns because you can’t add code to the view.</li>
<li>Change view metadata, such as adding a range or a new data source.</li>
<li>Add or change field groups.</li>
<li>Add new mappings.</li>
</ul>
<p>You can’t create a code extension for a view, but you can create an event handler class for the view so that pre-events and post-events are available for the methods.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend queries</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In finance and operations, you can use query objects in the development platform to build SQL statements.</p>
<p>You can predefine, build, or modify queries with code at run time. Use queries to render data into forms, reports, views, and more. Additionally, you can write SQL statements by using select queries.</p>
<p>We recommend that, rather than using tables directly, you use query objects in forms so that you can select the fields that you want to display in the form. This approach helps reduce the size of the SQL statement that's running behind the form, and it helps improve performance. The same notion also applies to reports and views.
Additionally, you can use Microsoft Visual Studio to create predefined queries.</p>
<h2 id="create-queries">Create queries</h2>
<p>To add predefined queries to a project, right-click the project or activate the context menu in the Solution Explorer window. Then, select <strong>Add</strong> &gt; <strong>New Item</strong> and <strong>Data Model</strong> &gt; <strong>Query</strong>.</p>
<p><a data-linktype="relative-path" href="media/add-new-item.png#lightbox"><img alt=" Screenshot of the Solution Explorer that shows how to add a new item." data-linktype="relative-path" src="./rawmb500/media_add_new_item.png"/></a></p>
<p>You can use the <strong>Designer</strong> and <strong>Properties</strong> windows to change a predefined query. The <strong>Designer</strong> window contains a top-level node with the view name.</p>
<p>The following table lists the top-level properties for queries (options in bold are default values).</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Description</td>
<td>Label reference</td>
<td>Describes   the query</td>
</tr>
<tr>
<td>Title</td>
<td>Label reference</td>
<td>The   query title</td>
</tr>
<tr>
<td>Interactive</td>
<td>No or <strong>Yes</strong></td>
<td>Specifies   whether the query might open a dialog for query or not</td>
</tr>
<tr>
<td>Literals</td>
<td>Default, ForceLiterals, ForcePlaceholder</td>
<td>Specifies   how literals are represented in SQL statements</td>
</tr>
<tr>
<td>Allow Check</td>
<td><strong>No</strong> or Yes</td>
<td>Allows   the checking of table rights</td>
</tr>
<tr>
<td>Allow Cross Company</td>
<td><strong>No</strong> or Yes</td>
<td>Enables   a cross-company query</td>
</tr>
<tr>
<td>Form</td>
<td><strong>SysQueryForm</strong></td>
<td>Provides   a form for user interaction</td>
</tr>
<tr>
<td>Name</td>
<td></td>
<td>The   query’s system name</td>
</tr>
<tr>
<td>Query Type</td>
<td><strong>Join</strong> or Union</td>
<td>Indicates   the query type</td>
</tr>
<tr>
<td>Searchable</td>
<td><strong>No</strong> or Yes</td>
<td>Specifies   whether query results are searchable</td>
</tr>
<tr>
<td>User Update</td>
<td>No or <strong>Yes</strong></td>
<td>Indicates   whether a user can update the query or not</td>
</tr>
</tbody>
</table>
<p>The following table lists the nodes for a query in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Methods</td>
<td>Indicates the methods for the query</td>
</tr>
<tr>
<td>Events</td>
<td>The node exists but isn’t used</td>
</tr>
<tr>
<td>Data Sources</td>
<td>Indicates data sources in the query     To add new data sources, right-click or activate   the context menu and then select <strong>New Data Source</strong>.</td>
</tr>
</tbody>
</table>
<p>The following table lists important properties for data sources.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Enabled</td>
<td>No or <strong>Yes</strong></td>
<td>Indicates whether the data source is active   or not</td>
</tr>
<tr>
<td>Update</td>
<td><strong>No</strong> or Yes</td>
<td>Indicates data that’s selected with the forupdate   keyword</td>
</tr>
<tr>
<td>Dynamic Fields</td>
<td><strong>Clear</strong>, No or Yes</td>
<td>Specifies how the field list is built for   the data source      The <strong>Clear</strong> value results in a build error.</td>
</tr>
<tr>
<td>Name</td>
<td></td>
<td>Indicates the data source name     This property isn’t the table name; rather,   it’s the name for the data source.</td>
</tr>
<tr>
<td>Table</td>
<td></td>
<td>Indicates the table or view name for the   data source</td>
</tr>
</tbody>
</table>
<p>The following table lists the various nodes that a data source has and which you can access in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Fields</td>
<td></td>
<td>Indicates a dynamic field list if the <strong>Dynamic Fields</strong> property is set to <strong>Yes</strong>     The system automatically adds new fields by   using the <strong>Dynamic Fields</strong> property. To create fields, you can   also right-click the <strong>Field</strong> node or activate the <strong>Context</strong> menu and then select <strong>New</strong>. You could also use aggregate   functions.</td>
</tr>
<tr>
<td>Ranges</td>
<td></td>
<td>Specifies the field range that the query   uses</td>
</tr>
<tr>
<td>Data sources</td>
<td></td>
<td>Indicates that a data source can join to   another data source with <strong>InnerJoin</strong>, <strong>OuterJoin</strong>,   <strong>ExistsJoin</strong>, or <strong>NoExistsJoin</strong></td>
</tr>
<tr>
<td>Group by</td>
<td></td>
<td>Groups the returned data</td>
</tr>
<tr>
<td>Having</td>
<td></td>
<td>Use to filter aggregate data</td>
</tr>
<tr>
<td>Order by</td>
<td></td>
<td>Use to order returned data</td>
</tr>
</tbody>
</table>
<p>You can modify and create queries from code by using the query class. The following example depicts a query being created with the name <code>MyCustTable</code>. It has only one data source <code>custTable</code>, with two fields: <strong>AccountNum</strong> and <strong>CustGroup</strong>. Then, you need to add the <strong>CustGroup</strong> to the range in code, which the following sample code illustrates.</p>
<p><a data-linktype="relative-path" href="media/mycusttable.png#lightbox"><img alt=" Screenshot of the MyCustTable data source and CustGroup field." data-linktype="relative-path" src="./rawmb500/media_mycusttable.png"/></a></p>
<p>The following example shows the result in code:</p>
<pre><code class="lang-xpp">
 internal final class MyCustTableQueryModifyInCode
 {
 
   /// &lt;summary&gt;
   /// Class entry point. The system will call this method when a designated menu 
   /// is selected or when execution starts and this class is set as the startup class.
   /// &lt;/summary&gt;
   /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
   
   public static void main(Args _args)
   {
       Query                   query = new Query('MyCustTable'); // using the existing query named MyCustTable
       QueryBuildDataSource    qbds;
       QueryBuildRange         qbr;
 
       qbds = query.dataSourceTable(tableNum(CustTable)); // finding data source for table CustTable
       qbr = qbds.addRange(fieldNum(CustTable, CustGroup)); // adding range on CustGroup to the data source.
 
       QueryRun queryRun = new QueryRun(query);
       while (queryRun.next())
       {
           CustTable custTable = queryRun.get(tableNum(CustTable));
           info(strFmt('%1, %2', custTable.AccountNum, custTable.CustGroup));
       }
   }

}
</code></pre>
<p>Typically, you use the following classes to modify or create queries by code:</p>
<ul>
<li>Query</li>
<li>QueryRun</li>
<li>QueryBuildDataSource</li>
<li>QueryBuildRange</li>
</ul>
<p>Other classes are available for you to use, but they’re beyond the scope of this module. For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/sysda/?azure-portal=true">Access data by using the SysDa classes</a>.</p>
<p>Additionally, developers can use the SysDa framework to create extensible queries without a user interface, such as the select statement. See [Implement query objects and query builder](/tra
ining/modules/build-reports-finance-operations/query-objects-query-builder /?azure-portal=true) for more information.</p>
<h2 id="manage-and-use-queries">Manage and use queries</h2>
<p>You can use predefined queries for reports, forms, views, and much more. They’re available in the Application Explorer or Solution Explorer, and you can drag them to your data source node to use them. Additionally, you can select them on the query property in the data source.</p>
<p>Before using a query or query extension, you need to build them.</p>
<h2 id="extend-queries">Extend queries</h2>
<p>To extend a query, locate it in the Application Explorer, right-click the view or activate the <strong>Context</strong> menu, and then select <strong>Create extension</strong>, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/create-extension-project.png#lightbox"><img alt=" Screenshot of the Create extension and Create extension in new project options." data-linktype="relative-path" src="./rawmb500/media_create_extension_project.png"/></a></p>
<p>After you’ve created an extension for a query, it appears in the project in Solution Explorer. The name of the original query is appended to the extension name with the model name, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/extension-name-model-name.png#lightbox"><img alt=" Screenshot of the CustTable simple query extension name." data-linktype="relative-path" src="./rawmb500/media_extension_name_model_name.png"/></a></p>
<p>When extending a query, you can:</p>
<ul>
<li>Change labels.</li>
<li>Add new data sources.</li>
<li>Add new fields.
<div class="TIP">
<p>Tip</p>
<p>If you set the <strong>Dynamic Fields</strong> property to <strong>Yes</strong> on the data source, the system adds new fields automatically to the query field list. Therefore, an extension for the query isn’t needed for new fields.</p>
</div>
</li>
<li>Add a new grouping, ordering, and having.</li>
</ul>
<p>However, you can’t remove existing data sources, fields, grouping, ordering, or having.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend table maps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Table maps define the fields and methods that operate on one or more record types.</p>
<p>Using table maps that are defined in Application Explorer under Data Model and Maps is a way to capture commonalities between record types more safely. Additionally, using table maps can help prevent incompatible record assignments and simplify business logic for similar tables.</p>
<p>You can create a mapping between tables in the <strong>Mapping</strong> node or by using the mapping node on the table together with an interface class. You can create some mapping on the map, some on the table, and some on an interface class because you can’t create extensions for table maps.</p>
<p>For example, if you right-click a map or activate the context menu, the Create Extension option is available; however, if you select it, nothing happens.
You can create, manage, and extend table maps by using Visual Studio.</p>
<h2 id="create-a-map">Create a map</h2>
<p>To add maps to a project, go to the <strong>Solution Explorer</strong> window, right-click the project or activate the context menu, and then select <strong>Add</strong>, <strong>New item</strong>. Then, you can modify these views through the designer and Properties windows.
The <strong>Table map designer</strong> window has a top-level node with a table map name.</p>
<p>The following table lists the top-level property for maps (other nodes work as they would on tables).</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Name   of the map</td>
</tr>
</tbody>
</table>
<p>The following table lists the nodes that are available for a table map in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Fields</td>
<td>To create fields manually, right-click the <strong>Fields</strong>   node or activate the context menu. Then, select <strong>New</strong>, <strong>Field</strong>.   You can set the Extended data type on the   field.</td>
</tr>
<tr>
<td>Field groups</td>
<td>Field groups work similar as they do with   tables.</td>
</tr>
<tr>
<td>Mappings</td>
<td>Use to create mapping to tables and to   point to map fields in the table.     Typically, you perform mappings on a table   to do extensions and use interface classes for table-specific logic.</td>
</tr>
<tr>
<td>Methods</td>
<td>Like methods for tables; however,   instead of having the same method on similar tables, you can create them on a   table map.</td>
</tr>
<tr>
<td>Events</td>
<td>The node exists but isn’t used.</td>
</tr>
</tbody>
</table>
<h2 id="manage-table-maps">Manage table maps</h2>
<p>You need to build table maps before you can use them.</p>
<h2 id="extend-table-maps">Extend table maps</h2>
<p>While you can extend tables and classes, you can’t extend table maps. To find the <strong>Create extension</strong> menu item, right-click the item or activate the context menu. No action occurs if you select <strong>Create extension</strong>. You must set up mappings in the table-to-table maps, and you can extend those tables.  Additionally, if you require special logic, you need to use an interface class.</p>
<p>To set up mappings in a table, locate the table in Application Explorer and then open it in the designer. In the <strong>Mappings</strong> node, as the following image shows, right-click the table or activate the context menu, and then select <strong>New Mapping</strong>. Then, enter the map name and field mapping that you want to use.</p>
<p><a data-linktype="relative-path" href="media/mappings.png#lightbox"><img alt=" Screenshot of the Mappings node." data-linktype="relative-path" src="./rawmb500/media_mappings.png"/></a></p>
<p>If you need special logic, create an abstract class for the interface. First, you need to create an abstract class for mapping by using the table-map name prefixed with <em>Interface</em>, as shown in the following code sample:</p>
<pre><code class="lang-xpp">public abstract class MyCustVendMapInterface
{
   protected   MyCustVendMap           myCustVendMap;
   private     MyCustVendMapInterface  origInstance;
 
   protected void new()
   {
   }
 
   private void initializeMyCustVendMap(MyCustVendMap _myCustVendMap = myCustVendMap)
   {
       myCustVendMap = _myCustVendMap;
   }
 
   public final MyCustVendMap getMyCustVendMap()
   {
       return myCustVendMap;
   }
 
   /// &lt;summary&gt;
   /// Creates a &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object based on the provided &lt;c&gt;MyCustVendMap&lt;/c&gt; record.
   /// &lt;/summary&gt;
   /// &lt;param name = "_myCustVendMap"&gt;A &lt;c&gt;MyCustVendMap&lt;/c&gt; record from which to create a &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; instance.&lt;/param&gt;
   /// &lt;returns&gt;The instantiated &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object.&lt;/returns&gt;
   public static MyCustVendMapInterface createInstance(MyCustVendMap _myCustVendMap)
   {
       SysPluginMetadataCollection metadataCollection = new SysPluginMetadataCollection();
 
       metadataCollection.SetManagedValue(classStr(MyCustVendMapInterface), tableId2Name(_myCustVendMap.tableId));
       MyCustVendMapInterface instance = SysPluginFactory::Instance(identifierStr(Dynamics.AX.Application), classStr(MyCustVendMapInterface), metadataCollection);
 
       if (!instance)
       {
           throw error(strFmt("@SYS19306", funcName()));
       }
 
       instance.initializeMyCustVendMap(_myCustVendMap);
 
       return instance;
   }
 
   /// &lt;summary&gt;
   /// Create a &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object based on the &lt;c&gt;MyCustVendMap&lt;/c&gt; orig-record.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The instantiated &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object.
   /// &lt;/returns&gt;
   public final MyCustVendMapInterface origInstance()
   {
       if (!origInstance)
       {
           origInstance = MyCustVendMapInterface::createInstance(this.getMyCustVendMap().orig());
       }
 
       return origInstance;
   }
 
   /// &lt;summary&gt;
   /// Gets module type.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The &lt;c&gt;ModuleCustVend&lt;/c&gt; module type.
   /// &lt;/returns&gt;
   /// &lt;exception cref="Exception::Error"&gt;
   /// TableId is not associated with any module type.
   /// &lt;/exception&gt;
   public ModuleCustVend getModule()
   {
       throw error(strFmt("@SYS19306", funcName()));
   }
 
   /// &lt;summary&gt;
   ///    Initializes the current record by copying all fields from another record.
   /// &lt;/summary&gt;
   /// &lt;param name="_bomMap"&gt;
   ///    A record that is related to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.
   /// &lt;/param&gt;
   /// &lt;remarks&gt;
   ///    Both records relate to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.The &lt;c&gt;inventDimId&lt;/c&gt; value will be copied as
   ///    well.
   /// &lt;/remarks&gt;
   [Hookable(false)]
   public final void initFromMyCustVendMap(MyCustVendMap _map)
   {
       myCustVendMap.data(_map);
   }
 
}
</code></pre>
<p>For each table that requires specific mapping logic, you need to create a new class that extends the interface class, as the following code sample shows:</p>
<pre><code class="lang-xpp">using System.ComponentModel.Composition;
 
/// &lt;summary&gt;
/// The &lt;c&gt;MyCustVendMapMyCustTable&lt;/c&gt; class contains &lt;c&gt;MyCustTable&lt;/c&gt; table specific functionality and mapped fields
/// related to the &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; table map.
/// &lt;/summary&gt;
[ExportMetadata(classStr(MyCustVendMapInterface), tableStr(MyCustVendMap)), ExportAttribute('Dynamics.AX.Application.MyCustVendMapInterface')]
public class MyCustVendMapMyCustTable extends MyCustVendMapInterface
{
   public ModuleCustVend getModule()
   {
       return ModuleCustVend::Cust;
   }
 
}
</code></pre>
<p>Next, you need to initiate the interface class in methods for the map, as the following code sample shows:</p>
<pre><code class="lang-xpp">public class MyCustVendMap extends common
{
   /// &lt;summary&gt;
   /// Create an interface instance.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The &lt;c&gt;MyCustVendMapInterface&lt;/c&gt;.
   /// &lt;/returns&gt;
   public MyCustVendMapInterface myCustVendMapInterface()
   {
       return MyCustVendMapInterface::createInstance(this);
   }
 
   /// &lt;summary&gt;
   /// Gets module type.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The &lt;c&gt;ModuleCustVend&lt;/c&gt; module type.
   /// &lt;/returns&gt;
   /// &lt;exception cref="Exception::Error"&gt;
   /// TableId is not associated with any module type.
   /// &lt;/exception&gt;
   public ModuleCustVend getModule()
   {
       return this.custVendTransOpenInterface().getModule();
   }
 
   /// &lt;summary&gt;
   ///    Initializes the current record by copying all fields from another record.
   /// &lt;/summary&gt;
   /// &lt;param name="bomMap"&gt;
   ///    A record that is related to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.
   /// &lt;/param&gt;
   /// &lt;remarks&gt;
   ///    Both records relate to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.The &lt;c&gt;inventDimId&lt;/c&gt; value will be copied as
   ///    well.
   /// &lt;/remarks&gt;
   public void initFromMyCustVendMap(MyCustVendMap   _map)
   {
       this.MyCustVendMap::myCustVendMapInterface().initFromMyCustVendMap(_map);
   }
 
}
</code></pre>
<p>When you create your maps by using the outlined methods, you can make extensions, including:</p>
<ul>
<li>Table extensions that enable you to use mapping for a table.</li>
<li>Code extensions that enable you to change a map’s logic by right-clicking the class or activating the context menu and then selecting <strong>Create code extension</strong> (Chain of Command). Additionally, you can create pre-event and post-events for methods and use them in an event handler class.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a table, add fields, and create field groups</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>You need to turn off the batch service. Here are the steps to shut off the batch service:</p>
<ol>
<li>Open the command prompt in the environment and run as administrator.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Type <strong>sc queryex DynamicsAxBatch</strong>.</li>
<li>Find the <strong>PID number</strong>.</li>
<li>Then enter <strong>"taskkill /f /pid <em><strong>PID number</strong></em></strong> .</li>
</ol>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been asked to create a new
table for the Fleet Management company. The Fleet Management company needs to collect
customer information in a different way than the out-of-the-box <strong>All
Customers</strong> page. They want the table to contain both personal and
location data by using existing elements in the AOT.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Right-click Visual Studio and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>New Project</strong> dialog box, search for <strong>Finance Operations</strong> , and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>Select <strong>Fleet Management</strong> as the model in the first page.</li>
<li>Ensure that the <strong>Application suite</strong> model is referenced.</li>
<li>Select <strong>Next</strong> and finish the update.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu again.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure that the checkboxes for <strong>Organize projects by element type</strong> and
<strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-table">Create a table</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project
<strong>FleetManagementTableProject</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong> and then select
<strong>Data Model</strong>.</li>
<li>On the middle pane, select <strong>Table</strong>.</li>
<li>Enter <strong>FleetCustomersTable</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>.</li>
<li>The <strong>FleetCustomersTable</strong> will now be open in the <strong>Element Designer</strong> window.</li>
<li>Right-click the <strong>FleetCustomersTable</strong> heading in the element
designer and select <strong>Properties</strong>.</li>
<li>In the <strong>Properties</strong> window, in the <strong>Label</strong> field, enter <strong>Fleet
customers</strong>.</li>
</ol>
<h2 id="add-fields-to-the-table">Add fields to the table</h2>
<ol>
<li><p>In the Application object tree (AOT) in the <strong>Application Explorer</strong> window, expand the <strong>Data types</strong> node.</p>
</li>
<li><p>Expand the <strong>Extended Data Types</strong> node.</p>
</li>
<li><p>Select and drag the following EDTs onto the <strong>Fields</strong> node of the table <strong>FleetCustomersTable</strong>.</p>
<ul>
<li>FirstName</li>
<li>LastName</li>
<li>Email</li>
<li>Phone</li>
<li>AddressStreet</li>
<li>AddressCity</li>
<li>AddressStateId</li>
<li>AddressZipCodeId</li>
</ul>
</li>
<li><p>Select <strong>Save</strong> in the ribbon.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/fleetcustomers-table.png#lightbox"><img alt="Screenshot showing the FleetCustomersTable." data-linktype="relative-path" src="./rawmb500/media_fleetcustomers_table.png"/></a></p>
</div>
</li>
<li><p>Right-click the project in the Solution Explorer and click <strong>Synchronize FleetManagementTableProject(ISV) [Fleet Management]with Database</strong>.</p>
</li>
<li><p>Perform a build by right-clicking the project  <strong>FleetManagementTableProject</strong> in the <strong>Solution Explorer</strong> window and selecting <strong>Build</strong>.</p>
</li>
</ol>
<h2 id="create-field-groups-and-add-fields-to-the-field-groups">Create field groups and add fields to the field groups</h2>
<ol>
<li>In the Table designer, right-click the <strong>Field groups</strong> node of the  <strong>FleetCustomersTable</strong> heading.</li>
<li>Select <strong>New group</strong>.</li>
<li>Right-click the new field group and rename it <strong>PersonalInfo</strong>.</li>
<li>Expand the <strong>Fields</strong> node of the <strong>FleetCustomersTable</strong>.</li>
<li>Select and drag the <strong>FirstName</strong>, <strong>LastName</strong>, <strong>Email</strong>, and <strong>Phone</strong> fields from the <strong>Fields</strong> node to the <strong>PersonalInfo</strong> Field group.</li>
<li>In the table designer, right-click the <strong>Field groups</strong> node of the <strong>FleetCustomersTable</strong> heading.</li>
<li>Select <strong>New group</strong>.</li>
<li>Right-click the new field group and rename it <strong>LocationInfo</strong>.</li>
</ol>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/fleetcustomers-group.png#lightbox"><img alt="Screenshot showing the field groups in the FleetCustomersTable." data-linktype="relative-path" src="./rawmb500/media_fleetcustomers_group.png"/></a></p>
</div>
<ol start="9">
<li>Expand the <strong>Fields</strong> node of <strong>FleetCustomersTable</strong>.</li>
<li>Select and drag the <strong>FirstName</strong>, <strong>LastName</strong>, <strong>Email</strong>, and <strong>Phone</strong> fields from the Fields node to the <strong>PersonalInfo</strong> field group.</li>
<li>Select and drag the <strong>AddressStreet</strong>, <strong>AddressCity</strong>, <strong>AddressStateId</strong>, and <strong>AddressZipCodeId</strong> fields from the Fields node to the <strong>LocationInfo</strong> field group.</li>
<li>Right-click the project in the Solution Explorer and click <strong>Synchronize FleetManagementTableProject(ISV) [Fleet Management] with Database</strong>.</li>
<li>Perform a build by right-clicking the project <strong>FleetManagementTableProject</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>A child table inherits properties from a parent table. Which two properties work together to control table inheritance?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The Support Inheritance and Table Type properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>The Table Type and Extends properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The Extends and Supports Inheritance properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>The Allow Inheritance and Extends properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Is it correct that if a modification is made to a field group, such as the addition of a new field, any forms that contain that field group are updated to reflect that addition.</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>An index is an important element that is added to a table. Which of the following statements is true regarding indices?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The order of columns in an index isn't important.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A primary index should have the <strong>Allow Duplicates</strong> property set to <strong>Yes</strong>.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A non-clustered index organizes data in a table according to the order of the index.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>An index is used to improve the speed of data retrieval.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>A computed column is added to a view. Which data type should the static view method return for the computed column?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The same type as the data type for the column.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A string with T-SQL</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A query object</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Tables are used when developing forms in Visual Studio, and they appear to the user as pages in finance and operations apps.</p>
<p>Tables contain data such as transactional information, journal entries,
products, and metadata such as system settings.</p>
<p>You can add EDTs and base enums to tables from your project in <strong>Solution
Explorer</strong> or from the AOT to populate the <strong>Fields</strong> node in the Table
designer.</p>
<p>Fields and field groups record data in rows and columns, like a
spreadsheet. The <strong>Properties</strong> window allows you to specify not only the
Name and Label of the table, but also the Table type, such as TempDB or
InMemory, as well as the Primary index and Cluster index. Indices are
created to speed up data retrieval in a table. They should be used if
the speed improvements that are gained outweigh the cost to maintain the index.</p>
<p>A table should always have a specified clustered index so you can determine how the table should be organized, and a specified primary index so you can determine the unique key on the table. An index is required when you are creating a table relation of type Foreign key relation.</p>
<p>If two tables contain related data, such as multiple tables that are used to collect customer information, you should create a table relation on the Relations node of the primary table in the table designer. You can
specify which fields are related and dictate if fields should restrict
records in the primary or related table.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps use an HTML web client that runs
in all major browsers, including Microsoft Edge, Google Chrome, and Safari.</p>
<p>Forms are created and managed in Visual Studio and will display to the
user as web pages in finance and operations apps. The user interface is
optimized for multiple platforms and mobile apps and is an easy-to-use
experience.</p>
<p>As the modern workforce becomes increasingly mobile, it's necessary to
have business applications with you always. With finance and operations apps, business logic is available anytime, any place, and on any device.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a new form to a project and apply a pattern</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Form patterns are an integrated part of the form development
experience. These patterns provide form structure based on a style,
which includes required and optional controls. The patterns also provide
many default control properties. While applying a form pattern is not a
required part of the form development process, we recommend it as
a best practice. In addition to top-level form patterns, subpatterns can
be applied to container controls and provide guidance and consistency
for sub content on a form, such as a FastTab.</p>
<p>Patterns make form development easier by providing a guided experience
to ensure that the forms are correct and consistent. Patterns help validate form and control structures and validate the use of controls in some places. Patterns also help guarantee that each new form that a user
encounters is immediately recognizable in appearance and function. Because patterns provide many default layout properties, forms help ensure a responsive layout. Finally, patterns also help guarantee better
compatibility with patches, hotfixes, and upgrades.</p>
<p>Many form styles and templates from Microsoft Dynamics AX 2012 are still supported in finance and operations apps. For legacy styles or templates that are no longer supported, migration paths to current patterns are typically available. Numerous form patterns are used in these apps, and the most common ones you encounter and develop are highlighted in the following list. For a complete list of supported form patterns and subpatterns, refer to the <strong>Summary</strong> unit of this module.</p>
<ul>
<li><strong>Simple List pattern</strong> - Used to maintain data for entities that contain six or fewer fields and no parent/child relationships.</li>
<li><strong>Simple List and Details pattern</strong> - Used to maintain data for    entities that contain six or more fields.</li>
<li><strong>Simple Details pattern</strong> - Used to present a simple set of fields    to the user; generally, it is in view mode instead of in edit mode.</li>
<li><strong>Master Details pattern</strong> - Used as a primary method for entering    data. Users can view and edit data that is organized into expandable    and collapsible FastTabs.</li>
<li><strong>Details Transaction pattern</strong> - Used to present data details in a    Header view and a Line view.</li>
<li><strong>List Page pattern</strong> - Used to present data in a manner that is    optimized for browsing records and allows the user to take action on a specific record.</li>
<li><strong>Table of Contents pattern</strong> - Used when at least two forms are    required for setup configuration.</li>
<li><strong>Workspace pattern</strong> - Used to create a finance and operations apps    workspace, which is a grouping of tasks and specific pages that are used for significant business activity.</li>
<li><strong>Wizard pattern</strong> - Used to guide a user through a specific task    by using an ordered series of tab pages.</li>
</ul>
<h2 id="working-with-forms-in-visual-studio">Working with forms in Visual Studio</h2>
<p>In Visual Studio, a form is added to a project in the Solution Explorer
window. The form designer window looks different from other element
designers because of the additional panes.</p>
<p><a data-linktype="relative-path" href="media/form-designer.png#lightbox"><img alt="Screenshsot of the Visual Studio Form designer window." data-linktype="relative-path" src="./rawmb500/media_form_designer.png"/></a></p>
<p>The left and right panes are used to manage the form and design options, while the bottom pane shows the pattern design as well as a preview of how the form is viewed in the user interface. The form's left pane is used to manage methods, events,
and data sources, while the right pane is used to apply patterns and
subpatterns. The bottom pattern pane is like a wizard because it guides
you through the necessary steps to complete the pattern. If elements are
added in a different order than what the pattern pane commands or not
all the elements are added, you will encounter errors when performing a
build.</p>
<p>The following video shows how to add a form to a project and apply a pattern to the form:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=40c5f4bb-6608-4daa-9681-891a80fe0937"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a data source to a form</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To display content on a page in the user
interface, a data source must be added to a form in the <strong>Form designer</strong> window of Visual Studio. You can select and drag a table or query from
your project in the <strong>Solution Explorer</strong> window or drag a system table from the <strong>Application Explorer</strong> window. You can choose to use one table or many tables, depending on the number of fields that you will use for your form.</p>
<p><a data-linktype="relative-path" href="media/data-source.png#lightbox"><img alt="Screenshsot of the Visual Studio Form designer window highlighting Data Sources options." data-linktype="relative-path" src="./rawmb500/media_data_source.png"/></a></p>
<h2 id="add-a-data-source-to-your-form-using-the-application-object-tree-aot">Add a data source to your form using the Application Object Tree (AOT)</h2>
<p>Follow these steps to add a data source from the AOT to your form by using a select and drag process:</p>
<ol>
<li>Ensure that your form is open in the form designer window in Visual    Studio.</li>
<li>In the <strong>Application Explorer</strong> window, expand the <strong>AOT</strong> node. You can view the <strong>Application Explorer</strong> window by going to <strong>View &gt; Application Explorer</strong>.</li>
<li>Expand the <strong>Data Model</strong> node.</li>
<li>Expand the <strong>Tables</strong> or <strong>Table Extensions</strong> node, depending on the    type of data source that you are adding.</li>
<li>Select and drag your desired table from the <strong>AOT</strong> node to the <strong>Data Sources</strong> node in the left pane of the form designer window.</li>
</ol>
<h2 id="add-a-data-source-from-the-data-sources-node">Add a data source from the data sources node</h2>
<p>Alternatively, you can add a data source to your form by using the <strong>Data Sources</strong> node in the form designer.</p>
<p>Follow these steps to add a data source from your project:</p>
<ol>
<li>Ensure that your form is open in the form designer window in Visual     Studio.</li>
<li>In the left pane of the designer, right-click the <strong>Data Sources</strong>    node and select <strong>New Data Source</strong>.</li>
<li>Select <strong>DataSource1</strong> under the <strong>Data Sources</strong> node and go to the <strong>Properties</strong> window.</li>
<li>Select your table in the <strong>Table</strong> property drop-down menu. You can    also select any table from the <strong>AOT</strong> node in this menu.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add grids, fields, and groups to a form</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When a table is listed under the <strong>Data Sources</strong> node on the left pane
of the Form designer window, it can then be used to add fields to the
<strong>Grid</strong> node of the pattern design. The pattern that you select will
determine the presence and/or location of the grid. Individual fields
can also be dragged from the <strong>Fields</strong> node under the individual table
in the <strong>Data Sources</strong> node to the right pane in the <strong>Grid</strong> node under
the <strong>Design</strong> node.</p>
<p>A grid contains columns and rows and will display to the user as a table
in a finance and operations apps page. Groups are part of multiple form
patterns and are added to the form as filters. You can add quick filters
and customer filters by applying a subpattern to the Group control.</p>
<p>Follow these steps to add more controls to your form:</p>
<ol>
<li>In Visual Studio, ensure that you have applied your desired form pattern by right-clicking the <strong>Design</strong> node on the right pane and selecting <strong>Apply pattern</strong>.</li>
<li>After adding a data source by following the steps in the previous unit, you will now begin adding controls to the form by following the steps in the correct order on the <strong>Pattern</strong> tab on the bottom pane of the form designer window. For example, in a Simple List form pattern, you need to add an Action Pane, then a Group, and lastly, a Grid.</li>
<li>Right-click the <strong>Design</strong> node on the right pane of the form  designer and select <strong>New &gt; Action Pane</strong>.</li>
<li>Right-click the <strong>Design</strong> node and select <strong>New &gt; Group</strong>. Notice  that the Group control requires a pattern. Based on the form type, you will choose a desired subpattern.</li>
<li>Right-click the <strong>Design</strong> node and select <strong>New &gt; Grid</strong>.</li>
<li>From the left pane, expand the <strong>Data Sources</strong> node and then expand your table.</li>
<li>Expand the <strong>Fields</strong> node of your table.</li>
<li>Select the fields that you want displayed in the grid on your form, in the order that you want them displayed in the form. You can select multiple fields by using the <strong>Ctrl</strong> key.</li>
<li>Drag the selected fields from the <strong>Fields</strong> node on the left pane to the <strong>Grid</strong> node on the right pane.</li>
</ol>
<p>For the Simple List form pattern, you have now fulfilled all necessary controls. Depending on your selected form pattern, there could be additional required controls and subpatterns.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Form methods</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Forms are main elements of finance and operations development. Many standard forms are already available in the application.</p>
<p>You can also create new forms. Each form consists of form methods, which can be classified as standard methods or custom methods.
Standard methods must have a <code>super()</code> call to implement the parent method. Standard and custom methods are available with all standard and custom forms. You can extend the existing form methods and include code by using chain of command.</p>
<h2 id="standard-form-methods">Standard form methods</h2>
<p>The following sections explain the standard form methods in the finance and operations apps development platform.</p>
<h3 id="init">init()</h3>
<p>The <code>init()</code> method is a standard method that's called when a form is opened. This method helps to initialize the form, and it's run after the constructor method <code>new()</code>. The <code>init()</code> method is responsible for creating the runtime interface of the form. Mostly, you'll use this method when you need to:</p>
<ul>
<li>Initialize the form level variables.</li>
<li>Get parameter data from args().</li>
<li>Initialize a data source query.</li>
<li>Set the properties of the controls that aren't record dependent.</li>
</ul>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has an enum type field called <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. The form should be opened with those records where <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The code pattern is as follows:</p>
<pre><code class="lang-xpp">public void init()
{
        super();
        TrainingMaster_ds.query().dataSourceName("TrainingMaster")
        .addRange(fieldNum(TrainingMaster,TrainingType))
        .value(enum2Str(TrainingType::Online));
}
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>Modifications to the data source should be done only after the <code>super()</code> call because the base initialization happens there.</p>
</div>
<h3 id="close">close()</h3>
<p>The <code>close()</code> method is a standard method that's called when a form is closed. The <code>super()</code> call in this method closes the form, manages the database updates, and sets the <code>closed()</code> method to true. You can use the <code>closeCancel()</code> or <code>closeOK()</code> methods to initiate the <code>close()</code> method. Additionally, you can use the <code>close()</code> method to forcefully clear the values of some variable or to deallocate a class. Make sure that you complete these actions before the <code>super()</code> call. Often, <strong>NumberSequence</strong> classes are called from the <code>close()</code> method to facilitate an abort operation.</p>
<h3 id="closecancel">closeCancel()</h3>
<p>The <code>closeCancel()</code> method is a standard method that's called when a form is canceled. The <code>super()</code> call in this method updates the Boolean value of <code>closedCancel()</code>and ensures that the modifications in the form aren't saved.</p>
<h3 id="closeok">closeOK()</h3>
<p>The <code>closeOK()</code> method is a standard method that's called when a form is closed by selecting the <strong>OK</strong> button. The <code>super()</code> call in this method updates the Boolean value of <code>closedOK()</code> and calls the <code>close()</code> method.</p>
<h3 id="run">run()</h3>
<p>The <code>run()</code> method is a standard method that's called immediately after the <code>init()</code> method. The <code>super()</code> call in this method makes the form window appear on the screen and performs a database search for the data to be displayed in the form.</p>
<p>Typical reasons for overriding this method include:</p>
<ul>
<li>Activating or deactivating some fields.</li>
<li>Modifying the query.</li>
</ul>
<h2 id="standard-form-data-source-methods">Standard form data source methods</h2>
<p>The following sections explain the standard form data source methods in the finance and operations apps development platform.</p>
<h3 id="init-1">init()</h3>
<p>The <code>init()</code> method is a standard method of a form data source, which is called when a form is opened after the implementation of the form <code>init()</code> method. This method helps create a data source query based on the data source properties.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has an enum type field named <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. The form should be opened with those records, where <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The code pattern should be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {

        public void init()
        {
            super();
            this.query().dataSourceName("TrainingMaster")
            .addRange(fieldNum(TrainingMaster,TrainingType))
            .value(enum2Str(TrainingType::Online));
        }
    }
</code></pre>
<h3 id="active">active()</h3>
<p>The <code>active()</code> method is a standard method of a form data source that's called when a user navigates to a new record.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>Venue</strong> and an enum type field named <strong>TrainingType</strong>, which has two values of <strong>Online</strong> and <strong>Classroom</strong>. While you're navigating through the records, the <strong>Venue</strong> field will be uneditable if <strong>TrainingType</strong> is <strong>Online</strong>. Otherwise, the <strong>Venue</strong> field will be editable.</p>
<p>The code pattern should be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public int active()
        {
            int ret;
        
            ret = super();
            TrainingMaster_ds.object(fieldNum(TrainingMaster, 
            Venue)).allowEdit(TrainingMaster.TrainingType == TrainingType::Classroom);
        
            return ret;
        }
    }
</code></pre>
<h3 id="validatewrite">validateWrite()</h3>
<p>The <code>validateWrite()</code> method is a standard method of a form data source, which is called when a user attempts to save a record to determine whether data is valid and ready to be written.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a date field named <strong>TrainingDate</strong>. No backdated training data should be allowed.</p>
<p>The following code pattern can be a way to achieve this result:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public boolean validateWrite()
        {
            boolean ret;
        
            ret = super() &amp;&amp; (TrainingMaster.TrainingDate &gt;= today());
        
            return ret;
        }
    }
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>You don’t want to let the <code>validateWrite()</code> method fail without a message regarding why. A best practice would be to throw an error with a specific message rather than using the Boolean return of the <code>if</code> statement.</p>
</div>
<h3 id="validatedelete">validateDelete()</h3>
<p>The <code>validateDelete()</code> method is a standard method of a form data source, which is called when a user attempts to delete a record, to confirm the deletion.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a date field named <strong>TrainingDate</strong>. No backdated training data should be deleted.</p>
<p>The following code pattern can be a way to achieve this result:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public boolean validateDelete()
        {
            boolean ret;
        
            ret = super() &amp;&amp; (TrainingMaster.TrainingDate &gt;= today());
        
            return ret;
        }
    }
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>You should throw an error with a message rather than let the <code>validateDelete()</code> method silently fail.</p>
</div>
<h3 id="executequery">executeQuery()</h3>
<p>The <code>executeQuery()</code> method is a standard method of a form data source that runs the data source query and displays the retrieved records. You can apply a filter on the data source that uses a query by overriding <code>executeQuery()</code>. The main difference between this method and the <code>init()</code> method is that the <code>init()</code> method runs once during the opening of the form, whereas the <code>executeQuery() </code> method runs whenever the form is refreshed.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has an enum type field named <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. The data in the form should be filtered with the <strong>Trainingtype</strong> of <strong>Online</strong> only.</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public void executeQuery()
        {
            QueryBuildDataSource  queryBuildDataSource;
 
            queryBuildDataSource = 
               this.query().dataSourceTable(tablenum(TrainingMaster));
            queryBuildDataSource.clearRanges();
            queryBuildDataSource.addRange(fieldnum(TrainingMaster, 
               TrainingType)).value(enum2Str(TrainingType::Online));

            super();
        }
    }
</code></pre>
<h3 id="initvalue">initValue()</h3>
<p>The <code>initValue()</code> method is a standard method of a form data source. While you're inserting a new record, <code>initValue()</code> can help you initialize field values. This method is called when a new record is created.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a date field named <strong>TrainingDate</strong>. During the creation of a new record, the <strong>TrainingDate</strong> field should be initialized with today’s date.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public void initValue()
        {
            super();
            TrainingMaster.TrainingDate = today();
        }
    }
</code></pre>
<h3 id="write">write()</h3>
<p>The <code>write()</code> method is a standard method of a form data source. This method is called when a record is modified and when you've attempted to save it by selecting the <strong>Save</strong> button or navigating out of the record.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a real field called <strong>Price</strong> that indicates the total price of the trainer. It also contains an integer field called <strong>NoofDays</strong> that indicates the duration of the training. Additionally, the table has a field named <strong>TrainerID</strong>, which creates a foreign key with the <strong>TrainerTable</strong>. The <strong>TrainerTable</strong> has a real field called <strong>Rate</strong>, which captures the daily rate of the trainers.</p>
<p>After you've saved the record in the <strong>TrainingMaster</strong> table, the <strong>Price</strong> field of the <strong>TrainerMaster</strong> table should be updated with the multiplication of <strong>NoofDays</strong> and <strong>Rate</strong> of the <strong>TrainerTable</strong>.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public void write()
        {
            TrainingMaster.Price = TrainerTable::find(TrainingMaster.TrainerID).Rate * TrainingMaster.NoofDays;
            super();
        }
    }
</code></pre>
<h3 id="delete">delete()</h3>
<p>The <code>delete()</code> method is a standard method of a form data source. This method is called when a record is deleted.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>TrainerID</strong>, which has a foreign key relation with the <strong>TrainerTable</strong>. <strong>TrainerTable</strong> has a field named <strong>TrainingCount</strong>. The requirement is to reduce the <strong>TrainingCount</strong> number by one if a record is deleted from the <strong>TrainingMaster</strong> table.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">public void delete()
        {
            TrainerTable    trainerTable;
            ttsbegin;
            trainerTable = TrainerTable::find(TrainingMaster.TrainerID, true);
            trainerTable.TrainingCount = trainerTable.TrainingCount - 1;
            trainerTable.update();
            ttscommit;
            super();
            
        }
</code></pre>
<h2 id="standard-form-data-source-field-methods">Standard form data source field methods</h2>
<p>The following sections explain the standard form data source field methods in the finance and operations apps development platform.</p>
<h4 id="modified">modified()</h4>
<p>The <code>modified()</code> method is a standard method on the field of the form data source. This method is called when the value of a specific field is modified.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>Venue</strong> and an enum type field named <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. If <strong>Online</strong> is selected for the <strong>TrainingType</strong>, the <strong>Venue</strong> field should become blank.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class TrainingType 
        {
            public void modified()
            {
                super();
                if(TrainingMaster.TrainingType == TrainingType::Online)
                    TrainingMaster.Venue = "";
            }
        }
    }
</code></pre>
<h3 id="validate">validate()</h3>
<p>The <code>validate()</code> method is a standard method on the field of the form data source. This method is called when a value is entered in a specific field, and it's overridden if extra field validation is needed.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>Participants</strong>, where entering a number higher than <strong>20</strong> isn't allowed.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class Participants 
        {
            public boolean validate()
            {
                boolean ret;
                ret = super() &amp;&amp; (TrainingMaster.Participants &lt;= 20);
                return ret;
            }
        }
    }
</code></pre>
<p>Make sure that you offer a reason for errors that are thrown, as shown in the following code example:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class Participants 
        {
            public boolean validate()
            {
                boolean ret;
                if (TrainingMaster.Participants &gt; 20)
                {
                    throw error("Maximum 20 participants");
                    return false;
                }
                ret = super();
                return ret;
            }
        }
    }

</code></pre>
<h3 id="lookup">lookup()</h3>
<p>The <code>lookup()</code> method is a standard method on the field of the form data source. This method is called when a lookup operation is attempted on a data source field. If data that's shown in the lookup form must be customized with some filter, the <code>lookup()</code> method should be overridden.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>TrainerID</strong> that creates a foreign key with the <strong>TrainerTable</strong>. <strong>TrainerTable</strong> has an enum field called <strong>TrainerType</strong> that has two values: <strong>Technical</strong> and <strong>Functional</strong>. The lookup in the <strong>TrainerID</strong> field should display only technical trainers.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class TrainerID 
        {
            public void lookup(FormControl _formControl, str _filterStr)
            {
                SysTableLookup sysTableLookup = 
                   SysTableLookup::newParameters(tableNum(TrainerTable),_formControl);
                
                Query query = new Query();
                QueryBuildDataSource qbds;
                qbds= query.addDataSource(tableNum(TrainerTable));
                qbds.addRange(fieldNum(TrainerTable, 
                     TrainerType)).value(enum2Str(TrainerType::Technical));

                sysTableLookup.addLookupfield(fieldNum(TrainerTable,TrainerID));
                sysTableLookup.addLookupfield(fieldNum(TrainerTable,TrainerName));

                sysTableLookup.parmQuery(query);
                sysTableLookup.performFormLookup();
            }
        }
    }
</code></pre>
<h2 id="extension-of-a-form-method">Extension of a form method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>init()</code> method of the form:</p>
<pre><code class="lang-xpp">[ExtensionOf(formStr(Currency))]
final class CurrencyForm_Extension
{
    public void init()
    {
        //code
        next init();
        //code
    }
}
</code></pre>
<h2 id="extension-of-a-form-data-source-method">Extension of a form data source method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form data source method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>initValue()</code> method of the form data source:</p>
<pre><code class="lang-xpp">[ExtensionOf(FormDataSourceStr(Currency, Currency))]
final class CurrencyFormCurrencyTableDataSource_Extension
{
    public void initValue()
    {
        //code
        next initValue();
        //code
    }
}
</code></pre>
<h2 id="extension-of-a-form-data-source-field-method">Extension of a form data source field method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form data source field method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>lookup()</code> method of the form data source fields:</p>
<pre><code class="lang-xpp">[ExtensionOf(formDataFieldStr(CustTable, CustTable, CustGroup))]
final class CustTableFormDataFieldCustGroup_Extension
{
    public void lookup(FormControl _formControl, str _filterStr)
    {
        //Code
        next lookup(_formControl, _filterStr);
        //Code
    }
}
</code></pre>
<h2 id="extension-of-a-form-control-method">Extension of a form control method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form control method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>clicked()</code> method of the form button control:</p>
<pre><code class="lang-xpp">[ExtensionOf(formControlStr(CustTable, DirPartyEntityAssociationUpdate))]
final class CustTableFormControlDirPartyEntityAssociationUpdate_Extension
{
    public void clicked()
    {
        //code
        next clicked();
        //Code
    }
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, populate, and extend menu items</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Menu items are used in the finance and operations apps user interface to
present the user with a button that will link to a page, dialog box,
report, or perform a task. Different types of menu items are available in Visual Studio:</p>
<ul>
<li><strong>Display menu item</strong> - For runnable application objects that primarily present forms and dialogs to the user.</li>
<li><strong>Output menu item</strong> - For runnable application objects whose  primary function is to print a result, such as a report.</li>
<li><strong>Action menu item</strong> - For runnable application objects whose primary function is to do a job, such as creating or updating transactions in the database.</li>
</ul>
<p>Without a menu item, the user would have to manually type in a web
address for the form. Menu items give the user simpler way to go
to a page by selecting a button or link. The finance and operations apps
navigation pane can be extended to add a new module or to add a page to
an existing module.</p>
<p>The screenshot shows a menu item that has been added to a form in the developer environment:</p>
<p><a data-linktype="relative-path" href="media/form-designer.png#lightbox"><img alt="Screenshot of a menu item that has been added to a form in the developer environment." data-linktype="relative-path" src="./rawmb500/media_form_designer.png"/></a></p>
<h2 id="extend-menu-items">Extend menu items</h2>
<p>You can use menu items in the UI to navigate forms, jobs, and reports, and you can make extensions of existing menu items to enable developers to make small adjustments to the UI.</p>
<p>With menu item extensions, you can change the following on all three types of menu items:</p>
<ul>
<li><strong>Help text</strong> - Help text appears in the UI.</li>
<li><strong>Label</strong> - Label is the name of the menu item.</li>
<li><strong>Tags</strong> - Tags for the element.</li>
</ul>
<p>For menu items that have an <strong>Action</strong> or <strong>Output</strong> type, you also can change the <strong>Object</strong>, that refers to the object to run. You can use your own object rather than the standard object. It’s important to note that <strong>Object type</strong> can’t be changed.</p>
<p>When you extend menu items, it enables you to make minor changes to the UI and for some types of the object’s menu items.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and extend menus</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can create new menus in finance and operations apps. Then, you can connect them to menu items so that new customizations are available in the navigation pane for users.</p>
<p>When you connect the display and output menu items, you can open forms and reports directly from the finance and operations apps user interface (UI). Similarly, you can run classes from the UI and connect action menu items to the menu.</p>
<p>In finance and operations apps, the navigation pane is on the left side of the UI. Expanding the <strong>Modules</strong> section opens all menus to which you have access. Selecting a module opens the menu, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/modules-navigation.png#lightbox"><img alt="Screenshot of the modules section in the navigation pane." data-linktype="relative-path" src="./rawmb500/media_modules_navigation.png"/></a></p>
<p>You can create all menus in Microsoft Visual Studio.</p>
<h2 id="create-menus">Create menus</h2>
<p>To add menus to a project, follow these steps:</p>
<ol>
<li>Open the <strong>Solution Explorer</strong> window, right-click the project or activate the context menu.</li>
<li>Select <strong>Add</strong>, <strong>New Item</strong>.</li>
<li>Under <strong>User Interface</strong>, select <strong>Menu</strong>, and then provide a name for the new item.</li>
<li>Then, you can modify these menus in the <strong>Designer</strong> and <strong>Properties</strong> windows. A menu’s designer window contains a top-level node with the menu name.</li>
</ol>
<p>The following table lists the most common properties that you can use for menus.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Disabled Image</td>
<td>Specifies   the image to display when the control is disabled</td>
</tr>
<tr>
<td>Label</td>
<td>Indicates   the menu’s label</td>
</tr>
<tr>
<td>Normal Image</td>
<td>Specifies   the image to display when the control is enabled</td>
</tr>
<tr>
<td>Configuration Key</td>
<td>Indicates   the control’s security access</td>
</tr>
<tr>
<td>Parameters</td>
<td>Specifies   the parameters to pass to the object</td>
</tr>
<tr>
<td>Short Cut</td>
<td>Specifies   the shortcut key combination for the menu</td>
</tr>
</tbody>
</table>
<p>In the designer window, right-click a menu or activate the context menu, and then select <strong>New</strong> to create one of the following components:</p>
<ul>
<li>Menu item reference (Display, Action, or Output)</li>
<li>Separator</li>
<li>Sub menu (has almost the same properties as Menu)</li>
<li>Menu reference: a menu can consist of other menus. Select a menu in the <strong>Menu Name</strong> property.</li>
<li>Tile (use for workspaces)</li>
</ul>
<p>You can move Menu item references from Solution Explorer or Application Explorer to the menu for quick creation.</p>
<p>The following image shows the designer view of a standard menu with groups of submenus.</p>
<p><a data-linktype="relative-path" href="media/designer-view-standard-menu.png#lightbox"><img alt="Screenshot of the designer view of a standard menu with groups of submenus." data-linktype="relative-path" src="./rawmb500/media_designer_view_standard_menu.png"/></a></p>
<p>If you can’t find a menu item, check whether extensions exist. You can add workspaces to a menu by using an extension in model workspaces.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Test form functionality and data connections</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When the requirements for a form pattern have been completed, and before
a form goes into production, you should test its functionality in Visual
Studio.</p>
<p>From the <strong>Solution Explorer</strong> window, right-click the form and select
<strong>Set as Startup Object</strong>. You can then perform a build and preview
the form in a browser window inside of the virtual machine. This will
allow you to verify that you applied the correct form pattern based on
the desired look of the page. You can also check the various form
components, ensuring that the correct fields are showing in a grid and the filters are displaying correctly.</p>
<p>Watch the following video to see the process for setting a form as a startup object and previewing it in a web browser.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=81606ad4-f370-49c7-9c2b-1a2a14610a79"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Diagnose and optimize client performance</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use various browser-based tools and the Performance timer tool
to diagnose and optimize client performance of finance and operations apps.</p>
<h2 id="diagnose-and-optimize-client-performance-by-using-browser-based-tools">Diagnose and optimize client performance by using browser-based tools</h2>
<p>To optimize the performance of forms and diagnose any potential issues,
you can use browser-based tools, such as Fiddler, the Developer tools
option in Chrome, and Trace Parser. You can test your form's performance in a browser by setting the form as a startup object and previewing the form in a browser window.</p>
<p>When you troubleshoot service authentication issues, a few basic and
common procedures can help resolve the issues that are most often
encountered. Poorly performing forms can slow down a system, degrading
the user experience, and sometimes rendering a module unusable.
Optimizing your forms for higher performance will ensure that your work
is useful and appreciated by users. Fiddler is a free, browser-based
debugger tool that is used to diagnose authentication issues. It is customizable and uses a robust extensibility model, where you can run simple Fiddler Script tests or write your own test by using any .NET
language. Fiddler also has a timeline that shows the duration of a
selected session so you can better understand how finance and operations apps
is using your network. You can then use the performance analysis data to
make adjustments to enhance order requests in finance and operations apps and
optimize the network performance.</p>
<p>In Google Chrome, you can open the <strong>Developer tools</strong> window by selecting <strong>Ctrl+Shift+i</strong>. On the <strong>Performance</strong> tab, you can record your scenario, such as loading the page or performing other actions within the page. When you have finished performing the action that you want to test, stop the recording and then perform an analysis. You will see a breakdown on time spent loading, scripting, and rendering the page. On the <strong>Network</strong> tab, you can capture <strong>ProcessMessage</strong> calls and analyze each call independently.</p>
<p>Trace Parser is built into finance and operations apps and is used to analyze
performance issues. In the top-right corner of the application, select
the <strong>Help &amp; Support</strong> question mark button and then select <strong>Trace</strong>.
Enter a name for your trace in the <strong>Trace name</strong> field and then
select <strong>Start trace</strong>. Next, perform the action that you want to
analyze, such as loading a page or performing an action on a page. When
you finish, select <strong>Stop trace</strong>. The trace is now available to be
downloaded to your local machine or you can upload it to the cloud. The
trace is analyzed by using the desktop version of Trace Parser. Select the <strong>Captured traces</strong> button on the <strong>Trace</strong> page to manage or delete
uploaded traces. Uploaded traces are automatically deleted
after seven days.</p>
<p>For more information on performance testing, see the modules that are listed in the Summary unit of this module.</p>
<h2 id="diagnose-and-optimize-client-performance-by-using-performance-timer">Diagnose and optimize client performance by using Performance timer</h2>
<p>Performance timer is a tool that aids in diagnosing performance
issues on the client and server. Performance timer is generated by
opening a web page with the added parameter <code>debug=develop: https://&lt;yoursite&gt;.cloud.test.dynamics.com/en/?cmp=USMF&amp;debug=develop</code>.
The Performance timer will appear in the top-right corner of finance and
operations where you can see the separations between client time and
server time, as well as the total time when selecting a page. The Performance timer provides links for you to view information regarding forms, garbage collection, web client sessions, and services session providers.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize form loading and performance</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When navigating in finance and operations apps, users want pages to load
quickly and performance to be high. While development or sandbox
environments are lower tier environments that perform at a
slower pace, production environments will move much quicker.</p>
<p>An important part of form development is to run the form in a browser
window. You can do this by setting the form as a startup object in
the Solution Explorer and starting it with or without the debugger.
By running the debugger and using the <strong>Debug</strong> menu in Visual Studio, you can go through your code and view information about the state
of the application.</p>
<p>In code that is on a form, you can use <code>info()</code> statements to log
status messages that you can view through the <strong>Infolog</strong> window. In the
browser window, you will be able to note any delays that occur in
loading the form, whether you are running with or without debugging.</p>
<p>To close out of the debugger, close the browser for finance and
operations apps, and then Visual Studio will automatically exit debugging mode.</p>
<p>By analyzing the data that is displayed on a form and removing any unnecessary fields, you can increase performance on forms.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a form</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer is asked to create a new form
for the Fleet Management company. The company wants a simple page to
enter customer information. They want the form to pull fields from
the <code>CustTable</code> element.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Close Microsoft Edge, and finance and operations in the Lab environment.</li>
<li>Right-click Visual Studio and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>In the <strong>Model name</strong> field, select <strong>Fleet Management</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>Select the following models, by selecting the checkmark next to the model. Any models that are already selected should remain selected.
<ul>
<li>ApplicationCommon</li>
<li>ApplicationFoundation</li>
<li>ApplicationPlatform</li>
<li>ApplicationSuite</li>
<li>ContactPerson</li>
<li>Currency</li>
<li>GeneralLedger</li>
<li>Ledger</li>
<li>Personnel</li>
<li>Retail</li>
<li>Tax</li>
</ul>
</li>
<li>Select <strong>Next</strong> until the form closes.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog box, if you don't see <strong>Finance Operations</strong> in the <strong>Recent project templates</strong> list, search for it, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementFormProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select  <strong>Projects</strong>.</li>
<li>Ensure that the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected already. If they are not, then do so.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-form">Create a form</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project <strong>FleetManagementFormProject (ISV)</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> select <strong>User Interface</strong>.</li>
<li>On the middle pane, select <strong>Form</strong>.</li>
<li>Enter <strong>FleetCustomersForm</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>. The <strong>FleetCustomersForm</strong> form opens in the form designer window.</li>
</ol>
<p><a data-linktype="relative-path" href="media/create-form.png#lightbox"><img alt="Screenshsot of the FleetCustomersForm form in the form designer window." data-linktype="relative-path" src="./rawmb500/media_create_form.png"/></a></p>
<h2 id="add-a-pattern-and-data-source-to-the-form">Add a pattern and data source to the form</h2>
<ol>
<li>In the form designer window, right-click the <strong>Design</strong> node of the Simple List on the right pane.</li>
<li>Select <strong>Apply pattern &gt; Simple List</strong>.</li>
<li>On the left pane of the form designer window, right-click the <strong>Data Sources</strong> node.</li>
<li>Select <strong>New Data Source</strong>.</li>
<li>With the new item <strong>DataSource1</strong> selected, right-click and select <strong>Properties</strong>.</li>
<li>In the <strong>Properties</strong> window in the bottom right of the screen, select <strong>CustTable</strong> from the drop-down menu, or simply type it in for the <strong>Table</strong> property,.</li>
<li>Select the <strong>Save</strong> icon in the ribbon.</li>
</ol>
<h2 id="build-the-simple-list-form-pattern">Build the simple list form pattern</h2>
<ol>
<li><p>Click in the bottom <strong>Pattern</strong> pane of the form designer. You need an <strong>ActionPane</strong>, <strong>Group</strong>, and <strong>Grid</strong> to complete the form pattern.</p>
</li>
<li><p>On the right pane of the form designer, right-click the <strong>Design</strong> of the Simple List node .</p>
</li>
<li><p>Select <strong>New &gt; Action Pane</strong>.</p>
</li>
<li><p>With the new Action Pane node selected, go to the <strong>Properties</strong> window and change the <strong>Name</strong> property to <strong>ActionPane</strong>.</p>
</li>
<li><p>Collapse the <strong>ActionPane</strong> node to keep the right pane of the design node simplified.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the <strong>Design</strong> node of the Simple List on the right pane of the form designer.</p>
</li>
<li><p>Select <strong>New &gt; Group</strong>.</p>
</li>
<li><p>With the new group selected, go to the <strong>Properties</strong> window and change the <strong>Name</strong> property to <strong>Filters</strong>.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the <strong>Filters</strong> node on the right pane of the form designer.</p>
</li>
<li><p>Select <strong>Apply pattern &gt; Custom and Quick Filters</strong>.</p>
</li>
<li><p>Right-click the <strong>Filters</strong> node on the right pane of the form designer again.</p>
</li>
<li><p>Select <strong>New &gt; QuickFilter</strong>.</p>
</li>
<li><p>With the new QuickFilter selected, go to the <strong>Properties</strong> window and change the <strong>Name</strong> property to <strong>QuickFilter</strong>.</p>
</li>
<li><p>On the right pane of the form designer, collapse the <strong>Filters</strong> node.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
<p><a data-linktype="relative-path" href="media/quick-filter.png#lightbox"><img alt="Screenshsot of the QuickFilter property." data-linktype="relative-path" src="./rawmb500/media_quick_filter.png"/></a></p>
</li>
<li><p>Right-click the main <strong>Design</strong> node on the right pane of the form designer.</p>
</li>
<li><p>Select <strong>New &gt; Grid</strong>.</p>
</li>
<li><p>With the new Grid selected, change the <strong>Name</strong> property in the <strong>Properties</strong> window to <strong>MainGrid</strong>.</p>
</li>
<li><p>On the left pane of the form designer, under the <strong>Data Sources</strong> node, and under the  <strong>CustTable</strong> node, expand the <strong>Fields</strong> node.</p>
</li>
<li><p>Select and drag the <strong>Party</strong>, <strong>SalesGroup</strong>, <strong>CustGroup</strong>, and <strong>AccountNum</strong> fields from the <strong>Fields</strong> node onto the <strong>MainGrid</strong> node on the right pane.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
<p><a data-linktype="relative-path" href="media/accountnum.png#lightbox"><img alt="Screenshsot of the AccountNum fields." data-linktype="relative-path" src="./rawmb500/media_accountnum.png"/></a></p>
</li>
<li><p>Perform a build by right-clicking the project <strong>FleetManagementFormProject (ISV)</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build.</strong></p>
</li>
</ol>
<h2 id="preview-the-form-in-a-browser">Preview the form in a browser</h2>
<ol>
<li>After the build is completed without errors, right-click the form <strong>FleetCustomersForm</strong> in the <strong>Solution Explorer</strong> window.</li>
<li>Select <strong>Set as Startup Object</strong>.</li>
<li>Select <strong>Ctrl + F5</strong> or select <strong>Start</strong> in the ribbon to begin running the project. Microsoft Edge opens to display the newly created form (this can take a couple of minutes).</li>
<li>Add a few records to the form by selecting the <strong>New</strong> button in the Action Pane.</li>
</ol>
<p><a data-linktype="relative-path" href="media/fleetcustomersform.png#lightbox"><img alt="Screenshsot of the FleetCustomersForm page." data-linktype="relative-path" src="./rawmb500/media_fleetcustomersform.png"/></a></p>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions and see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>When you develop a new form for finance and operations apps, is it true that applying a form pattern is a mandatory step?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>When all requirements for a form pattern are satisfied, what must be done before you can build and preview the form in a browser window?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Run the forms pattern report.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Check the form statistics add-in.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Set the form that you want to preview as the startup object for the project.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Perform a rebuild of the form.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You want to attach a report to a menu item so that the report displays when a user selects the menu item. Which type of menu item should be used to perform the task?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Display menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Output menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Action menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Window menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Forms in Visual Studio are composed of elements such as fields, tables,
filters, and grids, which display to a finance and operations apps user as
pages. Out of the box, every module contains many pages that are related to the module's topic. You can create new pages and new modules through development in Visual Studio. It is best practice when developing a new
form that you apply a form pattern. Many form patterns are used throughout the application, each of which determines the layout, structure, and contents of the page. Some elements of a form pattern require a subpattern to be applied as well. Forms are managed in the form designer window, which contains a pattern pane that shows steps to follow for creating the form and previewing pane where you can see how the
form changes as you add and modify elements.</p>
<p>As a developer, you have multiple tools that you can use to test and
improve a form's performance. You can set the form as a startup object
in the <strong>Solution Explorer</strong> window, and then preview the form in a browser window inside of the developer environment. This will allow you to make tweaks to the display and structure of the form. Browser-based tools such as Fiddler and the Performance timer can be used to optimize a form's performance.</p>
<p>Users want a seamless experience when exploring finance and
operations apps. By analyzing a form's load and refresh
times, a developer can ensure that the user has the navigation experience that they desire.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Form guidelines and details for form patterns</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/general-form-guidelines/?azure-portal=true">General form guidelines</a></td>
</tr>
<tr>
<td>Form pattern descriptions</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/form-styles-patterns/?azure-portal=true">Form styles and patterns</a></td>
</tr>
<tr>
<td>Performance timer</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/performance-timer/?azure-portal=true">Performance timer</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Classes contain data and methods that represent the state and the
behavior of an object. Some elements in the Application Object Tree
(AOT), such as tables and forms, contain classes out of the box.
Many types of methods and statements can be called to dictate the behavior of objects.</p>
<p>Classes can be added to a project to declare new elements, variables, or methods. You can also use classes to manipulate data, such as inserting or deleting data from a table. You can comment on code in new classes to help define the purpose of the block of code. This is helpful when you are working as part of a team to increase collaboration and communication.</p>
<p>To fit your business needs, you will write code in a class to adjust the
functionality of finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a class to a project</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A class is a software construct that expresses the data and methods of
the objects, which are later constructed from that class. These objects
are also referred to as instances. Data in a class defines the state of
an object, and the methods in a class define the behavior of that
object. Methods are a sequence of statements that operate on the data in
a class.</p>
<p>Usually, methods are declared to operate on the instance
variables of a class. These methods are referred to as instance or
object methods. An instance variable is a variable that is bound within the instance or within an instantiated object, as opposed to a static or
class variable that is bound to a class.</p>
<p>You can add a class to your project in <strong>Solution Explorer</strong>. Additionally, you can select the type of class that you want to create during this process.</p>
<ol>
<li>In Visual Studio, while running as an administrator, go to <strong>Solution Explorer</strong>.</li>
<li>Right-click your project.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong>, select <strong>Code</strong>.</li>
<li>Select either <strong>Class</strong> or <strong>Runnable Class (Job)</strong>, depending on the purpose of the class.</li>
<li>Enter a name for the class.</li>
<li>Select <strong>Add</strong> to add the class to your project.</li>
</ol>
<p>When you are creating a class, it is declared as <code>public</code>, even if
you remove the <code>public</code> modifier. In addition to the
<code>public</code> modifier, you can add the <code>final</code>
and/or <code>extends</code> modifiers. Using the <code>final</code>
modifier helps prevent the class from being inherited. The
<code>extends</code> modifier is used when your class is derived from
another class.</p>
<p>A runnable class for finance and operations apps, known previously as a job,
is similar to a standard class, except that it contains a <code>main</code>
method. You can manually add methods to your class, including a main
method. Methods will be described in further detail in the next unit.
The following screenshot shows the code editor window when you create a
runnable class named <code>RunnableClass1</code>.</p>
<p><img alt="This screenshot shows the code displayed when a runnable class is added to a project." data-linktype="relative-path" src="./rawmb500/media_runnable_class.png"/></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement the global cache and singleton</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use caching to improve the performance of your code. The benefits increase for frequently used data or code. You can implement global caching on a specific client session or apply it to all clients on a server. In some scenarios, you can use global caching for extra parameters in a method signature because method signatures are unchangeable with extensions.</p>
<div class="IMPORTANT">
<p>Important</p>
<p>You must handle caching with care because it impacts memory consumption. Global caching stores values in-memory, and as a developer, you’re responsible for updating and removing outdated data from the cache. Ignoring the cleanup of global caching can negatively impact performance.</p>
</div>
<p>Best practices for the implementation of caching depend on your use cases.</p>
<h2 id="sysglobalcache-and-singleton">SysGlobalCache and singleton</h2>
<p>SysGlobalCache and singleton refer to a single client session cache that isn’t accessible in other system threads. The system cleans this cache when the client session is complete, but it’s best practice to clean up the cache after you use it.</p>
<p>You can create <strong>SysGlobalCache</strong> of an instance of the <strong>SysGlobalCache</strong> class, but we recommend that you create it from the following system classes so that cleanup is easier:</p>
<ul>
<li>From the <strong>Application</strong> class by using the <code>appl</code> system variable</li>
<li>From the <strong>ClassFactory</strong> class by using the <code>classFactory</code> system variable</li>
<li>From the <strong>Info</strong> class by using the <code>Infolog</code> system variable</li>
</ul>
<p>All listed system classes have globalCache already defined and you can use it.</p>
<p>The <strong>SysGlobalCache</strong> class stores data on a specific key, and it has several commonly used methods:</p>
<ul>
<li><code>Construct</code> - Allows you to create a new instance of <strong>SysGlobalCache</strong>. By using one of the system classes, such as <strong>Application</strong>, <strong>ClassFactory</strong>, or <strong>Info</strong>, this method automatically creates an instance if it doesn’t already exist.</li>
<li><code>Get</code> - Retrieves a value from a specific owner and key.</li>
<li><code>Set</code> - Sets a value on a specific owner and key.</li>
<li><code>IsSet</code> - Checks whether the cache is set for a specific owner and key.</li>
</ul>
<p>The system stores values in <strong>SysGlobalCache</strong> by using an owner and a key.</p>
<p>The following example shows how to check if a value exists, get a value, and set a value by using <strong>SysGlobalCache</strong>.</p>
<pre><code class="lang-xpp">internal final class RunnableClass1
{

    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        const str   mySysGlobalCacheKey   = 'MySysGlobalCacheKey';
        str         mySysGlobalCacheOwner = classStr(RunnableClass1);

        SysGlobalCache cache = classFactory.globalCache();

        container       cacheValue;

        if (cache.isSet(mySysGlobalCacheOwner, mySysGlobalCacheKey))
        {
            cacheValue = cache.get(mySysGlobalCacheOwner, mySysGlobalCacheKey);
        }
        else
        {
            cacheValue = ['MyValue'];

            cache.set(mySysGlobalCacheOwner, mySysGlobalCacheKey, cacheValue);
        }

        cache.remove(mySysGlobalCacheOwner, mySysGlobalCacheKey);

    }

}
</code></pre>
<p>You can achieve the same result by using a <strong>Singleton</strong> class (for the user session), which is an instance of the class that the system creates inside the class. One common use of this instance in finance and operations apps is for the flight classes, as the following code illustrates.</p>
<pre><code class="lang-xpp">/// &lt;summary&gt;
/// When &lt;c&gt;AccountingFinTagFlight&lt;/c&gt; is enabled, the uptake of financial tags functionality in the
/// Source Document and Accounting Framework is turned on. This allows documents implementing SDAF
/// to opt into processing of financial tags and provide their values during accounting distribution.
/// &lt;/summary&gt;
public final class AccountingFinTagFlight extends Flight
{
    private static AccountingFinTagFlight singleton = new AccountingFinTagFlight();

    [Hookable(false)]
    protected boolean isEnabledByDefault()
    {
        return false;
    }

    [Hookable(false)]
    public static AccountingFinTagFlight instance()
    {
        return singleton;
    }

}
</code></pre>
<p>In this example from the standard application, the system creates an instance of the <strong>AccountingFinTagFlight</strong> class, but only once for the user session.</p>
<p>The use case defines the approach, and the system uses SysGlobalCache and singleton in the standard application.</p>
<h2 id="sysglobalobjectcache">SysGlobalObjectCache</h2>
<p><strong>SysGlobalObjectCache</strong> is server-shared caching across all user sessions on a specific server.</p>
<p>The <strong>SysGlobalObjectCache</strong> cache is a singleton, and you can only use it once in the system. Getting it from the <strong>ClassFactory</strong> class or initializing a new <strong>SysGlobalObjectCache</strong> always refers to the first created instance of the <strong>SysGlobalObjectCache</strong> class.</p>
<p>You would define <strong>SysGlobalObjectCache</strong> on a scope rather than associating it with an owner, as in <strong>SysGlobalCache</strong>.</p>
<p>The purpose of using <strong>SysGlobalObjectCache</strong> is to store static values in a cache for all sessions so that the system doesn't need to reread or calculate them for each session.</p>
<p>The following example from finance and operations apps illustrates a new instance of <strong>SysGlobalObjectCache</strong>. However, if the instance is already created, the system refers to the existing <strong>SysGlobalObjectCache</strong>, so only one, or a singleton, exists in the system.</p>
<pre><code class="lang-xpp">public boolean findExternalDescription()
{
    boolean                     found;
    container                   cacheKey;
    container                   cacheValueExistsCheck;
    boolean                     continueProcessing;
    SysGlobalObjectCache        sysGlobalObjectCacheExistCheck = new SysGlobalObjectCache();

    cacheKey = [custVendAccountId, this.parmCustVendItemGroupId(), this.moduleType(), curExt()];

    //Check for existence
    cacheValueExistsCheck = sysGlobalObjectCacheExistCheck.find(CustVendExternalItemDescription::cacheScopeExistsCheck(), cacheKey);

    //We have not checked this combination before
    if (cacheValueExistsCheck == conNull())
    {
        if (CustVendExternalItem::existsForCustVendRelation(custVendAccountId, this.parmCustVendItemGroupId(), this.moduleType()))
        {
            // at least 1 record available for the customer/vendor group or customer/vendor
            continueProcessing = true;
        }
        else
        {
            // no record available for the customer/vendor group or customer/vendor
            continueProcessing = false;
        }
        sysGlobalObjectCacheExistCheck.insert(CustVendExternalItemDescription::cacheScopeExistsCheck(), cacheKey, [continueProcessing]);
    }
    else
    {
        [continueProcessing] = cacheValueExistsCheck;
    }

    if (continueProcessing)
    {
        [found, externalItemId, externalItemFreeTxt, custVendExternalItem] =
                CustVendExternalItemDescription::findExternalItemDescription(this.moduleType(), itemId, inventDim,
                                                                             custVendAccountId,this.parmCustVendItemGroupId());
    }

    return found;
}
</code></pre>
<p>You can remove all entries in <strong>SysGlobalObjectCache</strong> for a server by running a class that uses the following URL:
https://[your finance and operations apps url]/?mi=SysClassRunner&amp;cls=SysFlushAOD.</p>
<p>The <strong>SysFlushAOD</strong> class clears all cache in <strong>SysGlobalObjectCache</strong>.</p>
<h2 id="context-classes">Context classes</h2>
<p>With extensions, you can't change the method signature, which means that you can’t add new parameters to an existing method.</p>
<div class="NOTE">
<p>Note</p>
<p>As previously mentioned, you can change the method signature with over-layering by adding a new parameter for a method. However, you can extend the method signature by using a <strong>Disposable</strong> context. When you implement <strong>IDisposable</strong> on the context class, it forces you to have a dispose method to use for cleanup.</p>
</div>
<p>The following example creates a context class for SalesPool with one parameter named <code>myParameter</code>.</p>
<pre><code class="lang-xpp">internal final class MySalesPoolContext
{
    static MySalesPoolContext salesPoolContext;
 
    public  boolean myParameter;
  
    public void new()
    {
        salesPoolContext = this;
    }
 
    public void dispose()
    {
        salesPoolContext = null;
 
    }
  
    static public MySalesPoolContext current()
    {
        return  salesPoolContext;
 
    }

}
</code></pre>
<p>Now you can add an extension to the <code>find</code> method for the <strong>SalesPool</strong> table. You must test the new parameter that you created in the context class without changing the signature of the find method, as follows:</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(SalesPool))]
final class SalesPool_MB500_Extension
{
    static SalesPool find(SalesPoolId  _salesPoolId,
                          boolean     _forUpdate)
    {
        SalesPool  salesPool = next find(_salesPoolId, _forUpdate);

        MySalesPoolContext  salesPoolContext = MySalesPoolContext::current();

        if (salesPoolContext &amp;&amp; salesPoolContext.myParameter)
        {
            // some code...
        }

        return salesPool;
    }

}
</code></pre>
<p>For test purposes, the following example creates a new runnable class, and you can configure the <code>context parameter</code> variable to call the disposal methods to clean up after using the class.</p>
<pre><code class="lang-xpp">internal final class MySalesPoolContextTest
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        SalesPool           salesPool;
        MySalesPoolContext  mySalesPoolContext = new MySalesPoolContext();

        mysalesPoolContext.myParameter = true;

        salesPool = SalesPool::find('10');

        if (mySalesPoolContext)
        {
            mySalesPoolContext.dispose();
        }
    }

}
</code></pre>
<p>Creating a context class as a singleton helps you transfer parameters without changing the method signature.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add code and methods to meet business requirements</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps use X++ development language in its classes.
X++ is an object-oriented language. If you haven't used it before, but
are familiar with another object-oriented language, you will find it
easy to learn.</p>
<p>After you create a class from <strong>Solution Explorer</strong>, you can add code to the class. Data provides the state of an object, while a
method provides behavior to an object. Methods that you will encounter and create in development for finance and operations apps include:</p>
<ul>
<li><p><strong>New method</strong> - Creates an instance of the class by using the <code>new</code> keyword. The default constructor is <strong>new()</strong>. The following is an example of declaring a variable and creating an instance of an object by calling the new method:</p>
<pre><code class="lang-xpp">Sample mySample; //this declares a variable to refer to a sample object

mySample = new Sample(); //this creates an instance of a sample object
</code></pre>
</li>
<li><p><strong>Finalize method</strong> - A destructor method that finalizes an instance of a class by using the <code>finalize</code> keyword. The following is an example, using an <code>if</code> statement, which shows how to call a finalize method:</p>
<pre><code class="lang-xpp">if (condition) //state the condition that should be met
{
  this.finalize();
}
</code></pre>
</li>
<li><p><strong>Main method</strong> - Creates an instance of an object and calls the required member methods. It is a class method that is run directly from a menu option. To transfer data to the method, use the <code>_args</code> parameter. The following is an example of the syntax that is used to define a main method:</p>
<pre><code class="lang-xpp">Static void main (Args _args)
{
	//This comment represents where you would insert your code.
}
</code></pre>
</li>
<li><p><strong>Instance method</strong> - Also referred to as an object method, it is embedded in each object that is created from the class that contains the instance method. Before you can use the method, you must instantiate that object. The following is an example of the syntax that is used to call an instance method:</p>
<pre><code class="lang-xpp">ClassName objectReference = new ClassName();
objectReference.methodname();
</code></pre>
</li>
<li><p><strong>Static method</strong> - Also referred to as a class method, it uses the <code>static</code> keyword and belongs to a class. With a static method, unlike with an instance method, you don't need to instantiate an object before you use the method. Static methods are commonly used to work with data that is stored in tables. The following is an example of the syntax that is used to call a static method:</p>
<pre><code class="lang-xpp">ClassName::methodName();
</code></pre>
</li>
</ul>
<p>Accessor keywords can be used to control whether the methods in other
classes can call the methods in your class. Class inheritance is also
affected by the following accessor keywords.</p>
<ul>
<li><p><strong><code>public</code></strong> - Methods declared as <code>public</code> can be called from anywhere that the class is accessible. A <code>public</code> method can be overridden by a subclass, unless that method is declared as <code>final</code>.</p>
</li>
<li><p><strong><code>protected</code></strong> - Methods declared as <code>protected</code> can only be called from methods in the same class or methods in a subclass of that class. A <code>protected</code> method can still be overridden in a subclass.</p>
</li>
<li><p><strong><code>private</code></strong> - Methods declared as <code>private</code> can only be called from methods within the same class. Unlike <code>public</code> and <code>protected</code> methods, <code>private</code> methods can't be overridden in a subclass.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data manipulation</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can write code to manipulate data that is stored in the database.</p>
<ul>
<li>Use a <code>select</code> method to declare the data to modify.</li>
<li>An <code>insert</code> method is used to add one or more records to a table.</li>
<li>An <code>update</code> method is used to modify the current record in the appropriate system fields.</li>
<li>Use a <code>where</code> clause to specify a condition that the <code>update</code> method tests as it processes each row of the table.</li>
<li>A <code>delete</code> method is used to remove records from a table. Before using an <code>update</code> or <code>delete</code> method, you must use a <code>select</code> method to define the data to update or delete.</li>
<li>To select multiple records or fields, you initially use a <code>select</code> method and then use a <code>next</code> method to fetch the next record in a table.</li>
<li>To loop over many records that meet specific criteria, you can use a <code>while select</code> method.</li>
</ul>
<p>The <code>select</code> statement fetches or manipulates data from the database using X++. You can use the <code>select</code> statement to fetch one record or field. You can use other statements such as <code>next</code> to fetch more records, or use a <code>while select</code> to traverse multiple records.</p>
<p>For example, the following code sample fetches all columns in the first row of the <strong>CustTable</strong>, then it prints the value in the <strong>AccountNum</strong> column of that row:</p>
<pre><code class="lang-xpp">CustTable custTable;
select firstonly custTable; //this is a short notation for 'select firstonly * from custTable;'  
info("AccountNum: " + custTable.AccountNum); 
</code></pre>
<p>The following are code samples for <code>insert</code>, <code>update</code>, and <code>delete</code> methods. The samples use a fictitious <strong>MyCustomerTable</strong> table containing fictitious fields for <strong>AccountNumber</strong> and <strong>CustomerName</strong>.</p>
<ul>
<li><p><code>insert</code> method</p>
<pre><code class="lang-xpp">//This will insert a new record into a sample MyCustomerTable table. The only mandatory field that is set on this table is AccountNumber.

private void AddCustomer()
{
    MyCustomerTable myCustomerTable;
    ttsBegin;
         myCustomerTable.AccountNumber = "1234";
         //The new record will have the account number 1234.
         myCustomerTable.insert();
    ttsCommit;
}
</code></pre>
</li>
<li><p><code>update</code> method</p>
<pre><code class="lang-xpp">//This will update the record where the AccountNumber field is set to 1234 by adding more information in the CustomerName field.

private void UpdateCustomer()
{
    MyCustomerTable myCustomerTable
    ttsBegin;
        select forUpdate myCustomerTable
        where myCustomerTable.AccountNumber == "1234";
        //Now we will update the CustomerName field to be Sally
        myCustomerTable.CustomerName = "Sally";
        myCustomerTable.update();
    ttsCommit;
}
</code></pre>
</li>
<li><p><code>delete</code> method</p>
<pre><code class="lang-xpp">//This will delete the record from the MyCustomerTable table where the AccountNumber field is set to 1234.

private void DeleteCustomer()
{
    ttsBegin;
        while select forUpdate myCustomerTable
        where myCustomerTable.AccountNumber == "1234"
        {
        myCustomerTable.delete();
        }
    ttsCommit;
}

</code></pre>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Insert records by using a runnable class</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As the finance and operations apps developer, you have been tasked with
inserting customer records into a table for your Fleet Management
company. You need to create a runnable class and add code that will
insert two records into the <code>FMCustomer</code> table.</p>
<h2 id="create-a-runnable-class">Create a runnable class</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Open Visual Studio, and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Start creating a new project by opening the <strong>File</strong> menu and selecting <strong>New &gt; Project</strong>.</li>
<li>Search for <strong>Finance Operations</strong>, select the <strong>Finance and Operations project</strong>, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementClassProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure that the proper settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select  <strong>Projects</strong>.</li>
<li>Ensure the check boxes are selected for <strong>Organize projects by element type</strong> and  <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>In the <strong>Solution Explorer</strong>, right-click the project    <strong>FleetManagementClassProject</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong> and then select <strong>Code</strong>.</li>
<li>On the middle pane, select <strong>Runnable Class (Job)</strong>.</li>
<li>Enter <strong>FMInsertCustomers</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>. The <strong>FMInsertCustomers</strong> class opens in the <strong>Code designer</strong> window.</li>
</ol>
<h2 id="add-code-to-insert-customer-records">Add code to insert customer records</h2>
<ol>
<li><p>In the <strong>Code designer</strong> window, insert a blank line between lines 6 and 7 by using the <strong>Enter</strong> key and remove the slashes (///).</p>
</li>
<li><p>First, you must declare your variables. You insert records into the FMCustomer table, so you enter the following code on line 7:</p>
<pre><code class="lang-xpp">   FMCustomer FMCustomer;
</code></pre>
</li>
<li><p>In the <strong>Code designer</strong> window, insert a blank line between the curly braces for the <strong>main</strong> method  by using the <strong>Enter</strong> key.</p>
</li>
<li><p>Now, you create a class object named <strong>FMInsertCustomers</strong> and instantiate a new instance of the object. Then you call the <strong>run()</strong> method on the new object.</p>
<pre><code class="lang-xpp">   FMInsertCustomers FMInsertCustomers = new  FMInsertCustomers();
   FMInsertCustomers.run();
</code></pre>
</li>
<li><p>Now, you create the methods needed to insert records into the FMCustomer table and use <code>ttsbegin</code> and <code>tts</code> commit to insert the data. This code should go before the <strong>main</strong> method.</p>
<pre><code class="lang-xpp">      public void run()
     {
        this.insertRecords();
     }
     private void insertRecords()
     {
        ttsBegin;

            FMCustomer.FirstName = "John";
            FMCustomer.LastName = "Smith";
            FMCustomer.Email = "johnsmith@contoso.com";

            FMCustomer.insert();

            FMCustomer.clear();
            FMCustomer.FirstName = "Sally";
            FMCustomer.LastName = "Smith";
            FMCustomer.Email = "sallysmith@contoso.com";

            FMCustomer.insert();

         ttsCommit;
    }
</code></pre>
</li>
<li><p>In this code sample, you are inserting John Smith’s record, then clearing the table buffer with clear() method. Then the code inserts another record for Sally.</p>
</li>
<li><p>In the <strong>Solution Explorer</strong>, right-click the <code>FMInsertCustomers</code> class.</p>
</li>
<li><p>Select <strong>Set as Startup Object</strong>.</p>
</li>
<li><p>Perform a build by right-clicking the project <strong>FleetManagementClassProject</strong> in the <strong>Solution Explorer</strong> and then selecting <strong>Build</strong>.</p>
</li>
<li><p>Run the class without debugging by selecting the <strong>Debug</strong> menu. Select <strong>Start Without Debugging</strong>. You can also use the keyboard shortcut <strong>Ctrl + F5</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What method is automatically added when you're creating a runnable class instead of a class?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>new</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>static</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>main</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>finalize </code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which method will allow the method to be called from anywhere that its class is accessible?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>public</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>private</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>An <code>access</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>protected</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You want to update a record in your <code>SampleTable</code> table that contains the account number 1234 by using the update method. Before you call the update method, which clause is used at the beginning of this statement to locate the record sampleTable.AccountNum == “1234”?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>where sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>locate sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>join sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>forUpdate sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>How many instances of SysGlobalObjectCache are available in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Many</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>One for each user session</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>One for all shared sessions from a server.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>One for all sessions that syncs across service instances.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Classes for finance and operations apps use the X++ development language, which is an object-oriented programming language. Classes contain data that define an object's state and methods that define an object's behavior. Elements such as tables and forms contain classes out of the box. These elements can be modified through extension to add more methods that control the element's behavior. Through the <strong>Solution Explorer</strong> window in Visual Studio, you can add a new class or runnable
class to your project.</p>
<p>A runnable class contains an empty main method and is declared as <code>public static void</code>. Many types of methods can be called in classes. Some methods dictate access to the method from other classes, like <code>public</code>, <code>private</code>, and <code>protected</code> methods. Others are used when you are manipulating data, such as <code>select</code>, <code>insert</code>, <code>update</code>, and <code>delete</code> methods. Methods, or any code within a class, can be commented on to explain the purpose of that code.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Overview of various class types and methods</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-classes-methods/?azure-portal=true">Classes and methods</a></td>
</tr>
<tr>
<td>Data manipulation methods</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-data-query/?azure-portal=true">X++ data selection and manipulation</a></td>
</tr>
<tr>
<td>Learn the basics of X++</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/get-started-xpp-finance-operations/?azure-portal=true">Get started with development using X++ in finance and operations apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement Business document management</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Business document management in finance and operations apps allows you to set up business documents, such as invoices within the web client. In the <strong>Business document</strong> workspace, you can edit business document templates by using the Microsoft 365 service or an appropriate Microsoft Office desktop application. Edits to the documents might include changing business document designs and adding placeholders for extra data, without you needing to complete source code changes and new deployments. The tool is dependent on the Electronic reporting framework for setting up the document, and it uses the Print management framework to link the custom document to the printing option.</p>
<p>Business document management allows users to create and modify output documents, without relying on SQL Server Reporting Services (SSRS) report development. Business document management currently supports output to Microsoft Word, Microsoft Excel, and PDF.</p>
<h2 id="set-up-parameters">Set up parameters</h2>
<p>Before setting up Business document management, you'll need to set up the required document type in the <strong>Document management framework</strong>. Use the <strong>Template</strong> document type to specify a temporary storage of documents in Office formats (Excel and Word) that are used as templates for Electronic reporting reports. Then, make sure that you provide the SharePoint address for the temporary storage. You can edit the temporary storage template by using the Office desktop applications.</p>
<div class="mx-imgBorder">
<p>[<img alt="Screenshot of the Document types page, showing a template." data-linktype="relative-path" src="./rawmb500/media_document_management_template.png"/>](../media/document-management-template.svg    #lightbox)</p>
</div>
<p>You can set up basic Business document management parameters on the <strong>Business document parameters</strong> page. Only specific users can access the page. On the <strong>Attachments</strong> tab of the <strong>Business document parameters</strong> page, you'll need to define the document type in the <strong>SharePoint document type</strong> field. This document type is the one that you should use to temporarily store templates in Office formats while they're edited by using the Office desktop applications. The selected document type is company-specific and will be used when the user is working with Business document management in the company for which the selected document type is set up.</p>
<h2 id="use-business-document-management-to-edit-a-template">Use Business document management to edit a template</h2>
<p>Business users can access business document templates for editing in the <strong>Business document management</strong> workspace.</p>
<p>Follow these procedures to edit a document template in the <strong>Business document management</strong> workspace. For the initial setup, you can import the template from Microsoft Dynamics Lifecycle Services, such as Electronic reporting. Additionally, you can create a new template by selecting <strong>Create template</strong>. The selected template is then imported from the global repository and created in the <strong>Business document management</strong> workspace. When you import the template, you will see a list of templates that are specific to your user role.  The system will not download the templates that are not applicable to your assigned role.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/lifecycle-services-shared-asset-library.png#lightbox"><img alt="Screenshot of the Shared asset library in Lifecycle Services, with GER Configuration highligted." data-linktype="relative-path" src="./rawmb500/media_lifecycle_services_shared_asset_library.png"/></a></p>
</div>
<p>The Business document management module works with the <em>tags</em> functionality to structure documents, which is expanded with a new tag called <strong>Business Document Type</strong>. The <strong>Business Document Type</strong> tag determines the output document for which current configuration will be used. After you've added this tag, you can link the document to Print management.</p>
<p>You can edit a business document from the <strong>Business document management</strong> workspace when it's set up with Electronic reporting. You can edit Excel and Word files directly from the workspace.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/business-document-management-workspace.png#lightbox"><img alt="Screenshot of the Business document management workspace." data-linktype="relative-path" src="./rawmb500/media_business_document_management_workspace.png"/></a></p>
</div>
<h2 id="set-up-access-permissions">Set up access permissions</h2>
<p>By default, when access to Business document management permissions isn't enabled, every user with access to the Business document management workspace can view all Electronic reporting solution templates that are available. The <strong>Business document management</strong> workspace will show only those templates that reside in Electronic reporting format configurations and that are marked by a <strong>Business Document Type</strong> tag.</p>
<p>You can restrict the list of available templates in the <strong>Business document management</strong> workspace by setting up access permissions. This approach might be beneficial when different templates are used to produce business documents for different business domains (functional areas), and when specific user access is allowed to different templates for editing in the <strong>Business document management</strong> workspace.</p>
<p>You can set the Business document management access permissions to <strong>Configurator</strong> of access permissions.
Only the following users can access the page:</p>
<ul>
<li>Users who are assigned to the System administrator role.</li>
<li>Users who are assigned to any other role that is set up to perform the duty <strong>Configure permissions to access Business document templates for editing</strong>.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports that use SSRS</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Many pre-generated SSRS reports come out of the box with finance and
operations apps. SSRS reports allow you to print reports to different
locations, such as your screen, a printer, a file, or an email. You can
use SSRS reports to create parameterized views with drill-down
navigation. You can also embed hyperlinks from a report to finance and operations apps pages.</p>
<p>You can also schedule your reports to run periodically by using a batch job. SSRS reports can also help you create precise compliance documents for your local regulatory business. In addition to the out-of-the-box reports, you can create and modify more reports by using X++ development to suit your organization's needs.</p>
<h2 id="design-ssrs-reports">Design SSRS reports</h2>
<p>When designing a report, consider the data that you need. SSRS
reports can be appropriate if you need a high-volume,
transaction-focused report. SSRS is great for documents that are meant for email, print, archive, and bulk distribution.</p>
<p>SSRS report design can use an autodesign to determine the report
layout, which is useful for simple reports. For more complex reports,
you can use the precision designer, which uses a free-form design
surface to customize the layout and content of the report. Fields and
tables can be inserted and moved around freely, and you can adjust
margins and spacing between fields. You can also add expressions to
calculate totals, set fonts, add logos, and use labels to automatically
translate any text.</p>
<p>After you determine the report design, you can move on to creating
a report.</p>
<h2 id="create-ssrs-reports">Create SSRS reports</h2>
<p>To create a report, you need to use Microsoft Visual Studio and
a finance and operations apps development environment. In Visual Studio, you
first create a new report object. Then, you need to assign a
data set to the report.</p>
<p>A data set defines what data is used in the report. In the data set parameters, you can select the data source for the data set and the data source type. The data source type explains how the data from the data source is retrieved.</p>
<p>The four data source types are:</p>
<ul>
<li><p><strong>Query</strong> - Uses an existing Application Object Tree (AOT) query. Using an existing query allows for faster filtering of data in SQL to quickly generate reports and requires limited X++ code to  develop. The only X++ code used is for the display methods in the tables.</p>
</li>
<li><p><strong>Business logic</strong> - Is used to get a data source other than finance and operations. The Business Logic data source type can only be used with a single report because the name of the class must match the name of the report.</p>
</li>
<li><p><strong>Report data provider (RDP)</strong> - Is used when a query cannot be used alone; additional logic is needed to run the report. This is usually the case when you use dynamic filters, when business classes must be called to use data, or if a parameter is used on the UI that is entered in X++ code.</p>
</li>
<li><p><strong>AX enum provider</strong> - Can be used to filter the report view when the report parameter is an enum type.</p>
</li>
</ul>
<p>After the data set is created, you can set the report design by
selecting an auto design (for simple reports) or a precision design (for
more customized reports). After your report is finished, you need
to deploy the report. When you have deployed, your report is ready to
run in finance and operations apps.</p>
<h2 id="modify-ssrs-reports">Modify SSRS reports</h2>
<p>Occasionally, you might not need to create a new report. Instead, you can choose to modify an existing report by using the extensibility
of X++ objects in Visual Studio. You can use extensions on tables or
report data provider classes to add new columns. You can also extend menu items and other classes to redirect navigation to your custom
designed reports.</p>
<p>Extending your reports lets you make changes to existing reports
without affecting the standard report solutions. This means that you can still use your modified and standard report.</p>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/create-nextgen-reporting-solutions/?azure-portal=true">Create reporting solutions</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement query objects and query builder</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In Dynamics 365, you can use query objects in the development platform to build SQL statements. You can use these queries to render data into forms, reports, views, and more. Additionally, you can write SQL statements by using select queries. The query object helps you create the SQL dynamically at runtime.</p>
<p>We recommend that you use query objects in forms instead of using tables directly. By using query objects, you can select those fields that you want to display in the form, unlike tables. This approach will help reduce the size of the SQL statement that's running behind the form, and it helps improve performance. The same notion applies for reports and views also.</p>
<h2 id="querybuilddatasource-class">QueryBuildDataSource class</h2>
<p>The <strong>QueryBuildDataSource</strong> class is the building block for creating the query. It defines the data source to be added to the query. It can specify the table fields to be added, sort order of the records, and so on. Additionally, it can establish the relationship by applying joins between data sources.</p>
<h3 id="example">Example</h3>
<p>You have a <strong>TrainingMaster</strong> table with two fields: <strong>TrainingID</strong> and <strong>TrainingDate</strong>. You need to display both fields in the ascending order of <strong>TrainingID</strong> by building a query object. The coding pattern is as follows:</p>
<pre><code class="lang-xpp"> class TrainingMasterQuery
 {
    public static void main(Args _args)
    {
        QueryBuildDataSource    qbds;

        Query query = new Query();
 
        qbds = query.addDataSource(tableNum(TrainingMaster));
        qbds.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }
}
</code></pre>
<h2 id="querybuildrange-class">QueryBuildRange class</h2>
<p>The <strong>QueryBuildRange</strong> class defines filtering for the records that are fetched from the data source.</p>
<h3 id="example-1">Example</h3>
<p>In the <strong>TrainingMaster</strong> table, a new field named <strong>TrainingType</strong> has been added. This new field has two values: <strong>Online</strong> and <strong>Classroom</strong>. You need to filter all online trainings by building a query object. The coding pattern is as follows:</p>
<pre><code class="lang-xpp">class TrainingMasterQuery
{
    public static void main(Args _args)
    {
        Query query = new Query();
 
        QueryBuildDataSource qbds = query.addDataSource(tableNum(TrainingMaster));
        qbds.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryBuildRange qbr = qbds.addRange(fieldNum(TrainingMaster, TrainingType));
        qbr.value(queryValue(TrainingType::Online));

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }

}
</code></pre>
<h2 id="advanced-query-syntax">Advanced query syntax</h2>
<p>A range of advanced query syntax exists for string, number, or date fields. For string fields, you can filter by equal, not equal, range, wildcard, and so on. For number fields, the filter options can be equal, not equal, greater than, less than, and so on. For date fields, the filter options can be day-based, day range, month range, year range, greater/less than dates, and so on.</p>
<h3 id="example-2">Example</h3>
<p>A new field called <strong>NoofDays</strong> has been added to the <strong>TrainingMaster</strong> table. An advanced filter will be applied to the query to show all trainings that have a number of days greater than <strong>2</strong>. The coding pattern is as follows:</p>
<pre><code class="lang-xpp">class TrainingMasterQuery
{
    public static void main(Args _args)
    {
        Query query = new Query();
 
        QueryBuildDataSource qbds1 = query.addDataSource(tableNum(TrainingMaster));
        qbds1.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryBuildRange qbr1 = qbds1.addRange(fieldNum(TrainingMaster, NoofDays));
        qbr1.value(queryValue("&gt;2"));

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }

}
</code></pre>
<h2 id="build-a-query-that-includes-a-relational-table">Build a query that includes a relational table</h2>
<p>By using a query object, you can build a query that includes related tables. You can define all types of joins as required by your query.</p>
<h3 id="example-3">Example</h3>
<p>A new table named <strong>TrainerTable</strong> has been created with three fields: <strong>TrainerID</strong>, <strong>TrainerName</strong>, and <strong>TrainerType</strong> (enum values: <strong>Functional</strong>, <strong>Technical</strong>, and <strong>Softskill</strong>). Additionally, the <strong>TrainerID</strong> field has been added to the <strong>TrainingMaster</strong> table, establishing a foreign key relationship between the tables. You need to filter all online trainings that are delivered by technical trainers by building a query object.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">class TrainingMasterQuery
{
    public static void main(Args _args)
    {
        Query query = new Query();
 
        QueryBuildDataSource qbds1 = query.addDataSource(tableNum(TrainingMaster));
        qbds1.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryBuildRange qbr1 = qbds1.addRange(fieldNum(TrainingMaster, TrainingType));
        qbr1.value(queryValue(TrainingType::Online));

        QueryBuildDataSource qbds2 = qbds1.addDataSource(tableNum(TrainerTable));
        qbds2.relations(true);
        qbds2.joinMode(JoinMode::ExistsJoin);

        QueryBuildRange qbr2 = qbds2.addRange(fieldNum(TrainerTable, TrainerType));
        qbr2.value(queryValue(TrainerType::Technical));

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }

}
</code></pre>
<h2 id="learn-more">Learn more</h2>
<p>For more information about query objects and the query builder, see the following sites:</p>
<ul>
<li><p><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/sysda/?azure-portal=true">Access data by using the SysDa classes</a></p>
</li>
<li><p><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/get-started/advanced-filtering-query-options/?azure-portal=true">Advanced filtering and query syntax</a></p>
</li>
<li><p><a data-linktype="absolute-path" href="/en-us/dotnet/api/dynamics.ax.application.querybuilddatasource/?azure-portal=true">QueryBuildDataSource Class</a></p>
</li>
<li><p><a data-linktype="absolute-path" href="/en-us/dynamicsax-2012/developer/how-to-create-queries-by-using-x/?azure-portal=true">How to: Create Queries by Using X++</a></p>
</li>
<li><p>The <strong>Query object model</strong> section of <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-library-objects/?azure-portal=true">X++ class library</a></p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports by using Power BI</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Power BI is a tool that promotes data exploration. By using Power BI tools, you can interactively explore data to truly understand it. You can
pivot columns, change the shape of charts, filter data, and share
reports. These reports can then be embedded within a workspace in
finance and operations apps. Power BI is especially useful for creating
dashboards and non-document reports or any report that does not require
printing.</p>
<p>Ready-made Power BI reports are available in Lifecycle Services and the PowerBI.com marketplace. However, sometimes you will need to create and modify your own Power BI reports.</p>
<h2 id="create-a-power-bi-report-with-finance-and-operations-apps-data">Create a Power BI report with finance and operations apps data</h2>
<p>To create a report, you will need to use a finance and operations
development environment, Visual Studio, and either Power BI Online or
Power BI Desktop. Power BI uses the Open Data Protocol (OData) endpoints
that are available from finance and operations entities. To connect to Dynamics 365 Unified Operations data, you can connect using an OData feed in Power BI. You can then select the database and entities that you want to load.</p>
<p>When you have the data loaded, you can drag fields to the canvas to
manipulate the data. You can select from a variety of visualizations to
explore data, create calculations, and combine multiple aggregate
measurements. After the report is finished, you can then push the report
to your production environment.</p>
<p>Watch the following video to learn how to connect to your data in finance and operations by using Power BI:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=20cf566e-9875-4e61-9c5f-06670cf85d3f"></iframe></div>
<blockquote>
</blockquote>
<h2 id="modify-a-power-bi-report">Modify a Power BI report</h2>
<p>Unlike SSRS reports, which require multiple reports to see different
views of the same data, Power BI can be used for quick and simple
manipulation of how your data is viewed. You can adjust existing reports
to filter data as you need it.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports by using Excel</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Excel can be used for viewing and analyzing transactional data. Finance
and operations uses an out-of-the-box application called the Excel Data
Connector to view, update, and edit data within an Excel workbook. You
will need to download the Microsoft Dynamics Add-in to use this feature.</p>
<p>On certain pages, you can select the <strong>Open in Office</strong> icon on the
Action Pane. From there, you can select <strong>Open in Excel</strong> or <strong>Export to
Excel</strong>.</p>
<p>Open in Excel lets you use the data entity that is related to the form data. The columns that appear on your Excel workbook are defined in the
<strong>AutoReport</strong> field group on the entity. You can also add or remove
fields from the entity by using the <strong>Design</strong> button. Additionally, you
can filter the data by using the <strong>Filter</strong> button. The Open in Excel
feature also gives you the ability to change the data in the grid and
publish the changes back to finance and operations apps.</p>
<p>The Export to Excel feature exports all the grid data to an Excel
workbook. When the data is in a workbook, you can use the tools in Excel
to manipulate the data and create visual charts for your reporting
needs.</p>
<h2 id="optimize-data-source-queries">Optimize data source queries</h2>
<p>Some reports in finance and operations apps can take a long time to run due
to large queries on reports that are processing data. This unit discusses ways to optimize these queries for SSRS and Power BI reports.</p>
<p>To optimize your queries for SSRS reports, make sure that you are only
pulling the data that you need. Unnecessary joins or additional fields that you do not need from the query will increase the time that it takes for a report to run. You should only pull data that the report will need to run.</p>
<p>In Power BI, large queries can also cause slow performance. To
increase performance, try removing unused fields. You might want to consider avoiding unique fields with high cardinality where possible. In addition, avoid excessive slicers on data, which can also cause slow performance.</p>
<h2 id="ensure-correct-use-of-display-fields">Ensure correct use of display fields</h2>
<p>You can use grouping to group specific types of data together and expressions to format the data. With SSRS, you can also use labels to automatically translate text to multiple languages, and properties to allow you to change the font and margins of text and fields.</p>
<p>Having all the data simply appear on the report can lead to a cluttered
display. Groupings can help you organize the data into a meaningful
layout. For example, you can create a header and footer grouping that
appears on a page. For transaction data, you could create a grouping
with a table layout to include columns and rows to display the data.
Grouping data allows you to share expressions for a data set. Groupings
can help you create lists, charts, and tables.</p>
<p>Expressions are functions that can be used on fields to retrieve,
calculate, display, group, sort, filter, parameterize, and format data
on the report appearance by using Microsoft Visual Basic. You can use
expressions on a field or group by right-clicking the field or group and
selecting <strong>Expressions</strong>. All expressions will begin with an equal
sign. You can use expressions to call data from a data set, run math functions
such as rounding, data type functions to manipulate strings and dates,
and perform aggregate functions such as sum. Power BI also has a formula
bar for columns that can be used to perform calculations.</p>
<p>Any text that you use on an SSRS report should be used through labels. Labels allow the text to be automatically translated if the report is run for a country or region with a different language. This gives organizations with global locations or partners the ability to create one report that can be used globally instead of having to create an individual report for each location with a different language.</p>
<p>Additional properties are available for SSRS reports for fields. These
properties can control the font and style of text to make it more
readable. You can also control the margin sizes to determine how much
space should be between each data field and group.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create and deploy a report</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This exercise uses the standard demo data set available in finance and operations apps.</p>
<p>First, you need to create a query.</p>
<ol>
<li>Open Visual Studio as administrator.</li>
<li>From the <strong>File</strong> menu, select <strong>New</strong> &gt; <strong>Project</strong>. Select the <strong>Finance Operations</strong> template in the middle pane or by searching for it. Enter <strong>ReportingProject</strong> in the <strong>Name</strong> field. Select <strong>OK</strong>.</li>
<li>In the Solution Explorer, right-click your project node, and then    select <strong>Add &gt; New Item</strong>.</li>
<li>Select <strong>Data Model</strong> and then select <strong>Query</strong>.</li>
<li>For the <strong>Name</strong> field, enter <strong>FMVehicleModelQuery</strong> and then select <strong>Add</strong>.</li>
<li>Open the Application Explorer view, if it is not already open.</li>
<li>In the AOT, open <strong>Data Model &gt; Tables</strong>, and then select and drag FMVehicleModel table to the data source of your query.</li>
<li>In the properties of the <strong>QueryRootDataSource</strong> <strong>FMVehicleModel</strong>, set the <strong>Dynamic Fields</strong> property to <strong>Yes</strong>.</li>
<li>Select <strong>Save all</strong>.</li>
<li>Right-click the Project and build (Ctrl+Shift+B).</li>
</ol>
<p>Now, you will create the report.</p>
<ol>
<li>In the Solution Explorer, right-click your project node and then select <strong>Add &gt; New Item</strong>.</li>
<li>Select the <strong>Reports</strong> node on the left pane and then select <strong>Report</strong> on the middle pane.</li>
<li>In the <strong>Name</strong> field, type <strong>FMVehicleModelReport</strong> and then select    <strong>Add</strong>.</li>
<li>Right-click the <strong>Datasets</strong> node and then select <strong>New Data Set</strong>.</li>
<li>In <strong>Properties</strong>, set the <strong>Dynamic Filters</strong> property to <strong>True</strong>.</li>
<li>Enter <strong>FMVehicleModelDS</strong> in the <strong>Name</strong> property.</li>
<li>Select the <strong>Query</strong> property and then select the ellipsis (...) to view a list of Queries.</li>
<li>On the <strong>Select a Query</strong> page, select <strong>FMVehicleModelQuery</strong> and    then select <strong>Next</strong>.</li>
<li>Select the <strong>All Fields</strong> check box and then select <strong>OK</strong>.</li>
<li>Drag and drop <strong>FMVehicleModelDS</strong> from the <strong>Datasets</strong> node to the <strong>Designs</strong> node.</li>
<li>On the <strong>Designs</strong> node, expand the newly created <strong>AutoDesign1</strong>.</li>
<li>Expand the <strong>FMVehicleModelDSTable1</strong>.</li>
<li>On the <strong>Datasets</strong> node, expand the <strong>FMVehicleModelDS</strong>.</li>
<li>Expand the <strong>Fields</strong> node if it is not already expanded.</li>
<li>Drag and drop <strong>Make_Make</strong> from the <strong>Fields</strong> node to <strong>Designs &gt; AutoDesign1 &gt; FMVehicleModelDSTable1 &gt; Groupings</strong>.</li>
<li>Save all.</li>
<li>Right-click Solution and build (Ctrl+Shift+B).</li>
<li>In the Solution Explorer, right-click <strong>FMVehicleModelReport</strong> and then select <strong>Deploy Reports</strong>.</li>
</ol>
<p>Next, you will create a menu item to run the report.</p>
<ol>
<li>In the Solution Explorer, right-click your project node and then    select <strong>Add &gt; New Item</strong>.</li>
<li>Select <strong>User Interface</strong> and then select <strong>Output Menu Item</strong>.</li>
<li>Name the Output menu item <strong>FMVehicleModelReport</strong> and then select <strong>Add</strong>.</li>
<li>Drag the <strong>FMVehicleModelReport</strong> report from the Solution explorer onto the Menu Item that you just created.</li>
<li>Save all.</li>
<li>Right-click <strong>Solution and build</strong> (Ctrl+Shift+B).</li>
</ol>
<p>Finally, you will run the report.</p>
<ol>
<li>In the Solution explorer, select the <strong>FMVehicleModelReport</strong> Output menu item, and then right-click and select <strong>Set as Startup object</strong>.</li>
<li>Select <strong>Start</strong> on the Standard Toolbar in Visual Studio.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What data source types can you use when creating a report?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Query</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Business logic</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>RDP class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>AX enum provider</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-4">
<input class="radio-dot choice-input" id="quiz-choice-0-4" name="0" type="radio" value="4"/>
<div class="margin-inline-sm radio-label-text">
<p>All listed options</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>What does the function Open in Excel do that Export to Excel doesn't?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>There's no difference.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Open in Excel uses data entities that let you publish changes to the data back to finance and operations.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Open in Excel uses the grid data.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>You can’t filter data through Open in Excel, but you can with Export to Excel.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>A report is taking a long time to run. When looking at the query, you notice that several fields are not being used in the report. To optimize this report, how should these unused fields be handled to increase performance?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Remove the unused fields from the report.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Keep the unused fields.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a data slicer to filter the data.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Delete the unused fields from the table.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>SSRS, Power BI, and Excel are powerful tools that offer finance and
operations apps developers and power users the ability to design, create, and
modify reports based on report requirements.</p>
<p>In this module, you learned how to create and modify SSRS reports, Power
BI reports, and Excel reports by using finance and operations apps data.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Workspaces in finance and operations apps are links, tiles, and lists specific to each user to help aid in completing their role at their organization. You can use Workspaces as a single point of entry into the application.</p>
<p>In workspaces you can design and embed KPIs to monitor business performance and use Report Definition Language (RDL) to create reusable report functions. Workspaces can be used to manage day to day responsibilities specific to each user.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/dashboard.svg#lightbox"><img alt="Screenshot of the finance and operations dashboard showing a workspace." data-linktype="relative-path" src="./rawmb500/media_dashboard.png"/></a></p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Design KPIs</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>KPIs can be created in the developer environment and then embedded into
workspaces to provide users with key measurable values that
allow them to see how business is performing. The below image shows an example of a KPI tile in a workspace.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/kpi.png#lightbox"><img alt="Screenshot of the KPI tile in a workspace." data-linktype="relative-path" src="./rawmb500/media_kpi.png"/></a></p>
</div>
<p>KPIs should have clear objectives that are periodically reviewed to ensure that the objectives are being met. KPIs can be created by using aggregate data contained in aggregate measurements, which is a model that contains a collection of measures and their corresponding dimensions. The
measures that are used are aggregate numbers, such as total sales. Aggregate measurements can be set to measure the sum, minimum, maximum, count, distinct count, or average by using the Default aggregate property.</p>
<p>By default, the <strong>Default aggregate</strong> property uses the count measure. You can deploy the aggregate measurement two ways by using the Usage property.</p>
<ul>
<li><strong>InMemoryRealTime</strong> uses Column store indexes of
the SQL Server database to get real-time data.</li>
<li><strong>StagedEntityStore</strong> uses the Entity store that uses near
real-time Power BI reporting. This option allows you to deploy the
measure to the Entity store and have the data refreshed periodically.</li>
</ul>
<p>Dimensions are slicers that can be used to analyze data. From these
aggregate measurements and dimensions, you can create an
aggregate data entity. You can use the aggregate data to define a KPI
by using X++. After the KPI has been defined, users can customize it at run time.</p>
<p><img alt="Diagram of the relation between aggregate measurements and dimensions and the KPI that they define." data-linktype="relative-path" src="./rawmb500/media_measure_dimension.png"/></p>
<h2 id="create-a-new-project-in-visual-studio">Create a new project in Visual studio</h2>
<p>To create a new project in Visual studio, follow these steps:</p>
<ol>
<li>Open Visual Studio as an Administrator and under Get started, select <strong>Create a new project</strong>.</li>
<li>In the search box, type <strong>Finance Operation</strong> and select the template for finance and operations project and select <strong>Next</strong>.</li>
<li>Name your Project <strong>NewKPI</strong> and select <strong>Create</strong> at the bottom of the page. This will create your <strong>NewKPI</strong> project.</li>
</ol>
<h2 id="create-aggregate-measurements">Create aggregate measurements</h2>
<p>To create aggregate measurements, follow these steps:</p>
<ol>
<li>In the <strong>Solution explorer</strong>, right-click your project and select
<strong>Add &gt; New item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> select <strong>Analytics &gt; Aggregate Measurement</strong>.
<a data-linktype="relative-path" href="media/aggregate-measurement.png#lightbox"><img alt="Screenshot of the Aggregate Measurement option." data-linktype="relative-path" src="./rawmb500/media_aggregate_measurement.png"/></a></li>
<li>Open <strong>Application Explorer</strong> by going to <strong>View &gt; Application Explorer</strong> if it does not already show up on your page.</li>
<li>Go to <strong>Data Model &gt; Views</strong> and select the <strong>FMVehicleExtendedView</strong> view to create measurements. Because the project model is Fleet Management the <strong>FMVehicleExtendedView</strong> view is compatible.</li>
<li>In the <strong>FMVehicleExtendedView</strong> pane, under fields, drag and drop the <strong>FMVehicleExtendedView</strong> view in the <strong>MeasureGroup1</strong> group for the <strong>Aggregate</strong> measure.</li>
<li>In the <strong>Dimensions</strong> group, right click on <strong>Date</strong> and select <strong>Delete</strong>.</li>
<li>In the Application Explorer, right click the <strong>FMVehicleExtendedView</strong> and select <strong>Open designer</strong>. Split the resulting pane alongside the <strong>Design</strong> pane for your <strong>AggregateMeasurement</strong> object.</li>
<li>Drag and drop the <strong>Mileage</strong> field from the view to the <strong>Measures</strong> group in your <strong>AggregateMeasurement</strong>.</li>
<li>Each measure has a default <strong>Aggregate</strong> property that you can set:
<ul>
<li>Count</li>
<li>Sum</li>
<li>AverageOfChildren</li>
<li>DistinctCount</li>
<li>Max</li>
<li>Min</li>
</ul>
</li>
<li>Save all, and then build the project to see if it compiles correctly. This can be done by right clicking the project and selecting <strong>Build</strong>.</li>
</ol>
<h2 id="create-aggregate-dimensions">Create aggregate dimensions</h2>
<p>To create aggregate dimensions, follow these steps:</p>
<ol>
<li>In the <strong>Solution explorer</strong>, right-click your project and select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> select <strong>Analytics &gt; Aggregate Dimension</strong>, and then select <strong>Add</strong>.
<a data-linktype="relative-path" href="media/aggregate-dimension.png#lightbox"><img alt="Screenshot of the Aggregate Dimension option." data-linktype="relative-path" src="./rawmb500/media_aggregate_dimension.png"/></a></li>
<li>In the <strong>Application Explorer</strong>, go to <strong>Data model &gt; Views</strong> and select the **FMVehicleExtendedView ** view to pull measurements.</li>
<li>Drag the selected item onto the root of the <strong>AggregateDimensions</strong> object that you’ve created.</li>
<li>If you don’t have an attribute or didn’t change the <strong>Dimension</strong> field on the original attribute, drag the <strong>Model</strong> field from the view into <strong>Aggregate dimension &gt; Attribute</strong>s.</li>
<li>Save all, and then build the project to see if it compiles correctly. This can be done by right clicking the project and selecting <strong>Build</strong>.</li>
</ol>
<h2 id="create-model-dimension-references">Create model dimension references</h2>
<p>To create model dimension references, follow these steps:</p>
<ol>
<li>From the Solution Explorer, drag and drop the Aggregate dimension into the Aggregate measurement's <strong>Dimension</strong>.</li>
<li>Right-click the <strong>Dimension</strong> node and select <strong>New Dimension</strong>, and rename the new dimension.</li>
<li>Select the newly created dimension, and then right-click and select <strong>New relation</strong>.</li>
<li>Name the new relation.</li>
<li>Right-click on the relation, go to properties and then change the <strong>Dimension attribute</strong> to <strong>Model</strong>.
<a data-linktype="relative-path" href="media/model.png#lightbox"><img alt="Screenshot of the DimensionRelation." data-linktype="relative-path" src="./rawmb500/media_model.png"/></a></li>
<li>Save all.</li>
</ol>
<h2 id="deploy-aggregate-measurements">Deploy aggregate measurements</h2>
<p>To deploy aggregate measurements, follow these steps:</p>
<ol>
<li>Select the aggregate measurement.</li>
<li>Set the <strong>Usage</strong> property in <strong>Properties</strong> to one of the following:
<ul>
<li>InMemoryRealTime</li>
<li>StagedEntityStore</li>
</ul>
</li>
<li>Right-click the aggregate measurement in the <strong>Solution Explorer</strong>, and select <strong>Add Column Store Indices</strong>.</li>
</ol>
<h2 id="create-the-aggregate-data-entity">Create the aggregate data entity</h2>
<p>To create the aggregate data entity, follow these steps:</p>
<ol>
<li>In the <strong>Solution explorer</strong>, right-click your project and select <strong>Add new &gt; New item</strong>.</li>
<li>Under <strong>Dynamics 365 items</strong> select <strong>Analytics &gt; Aggregate Data Entity</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Drag and drop the aggregate measure from the <strong>Solution Explorer</strong> to the data source of the aggregate data entity shown on the <strong>Designer Window</strong>.</li>
<li>In the data source, expand the DataSource, expand the Aggregate data measurement, expand the measure group (<strong>Mileage</strong>), and <strong>Measures</strong>, and then drag <strong>Mileage</strong> into <strong>Fields</strong>.</li>
<li>In the data source, expand the DataSource, expand the Aggregate data measurement, Expand the measure group (<strong>Mileage</strong>), and <strong>Dimensions</strong>, then drag <strong>AggregateDimension</strong> into <strong>Fields</strong>.</li>
<li>Right-click on the added field and open <strong>Properties</strong>.</li>
<li>In <strong>Properties</strong>, go to the <strong>Attribute</strong> property in the <strong>Data</strong> section. Set the attribute value to any value.</li>
<li>Save and build the solution.</li>
</ol>
<h2 id="create-a-kpi">Create a KPI</h2>
<p>To create a KPI, follow these steps:</p>
<ol>
<li>Right-click the project and select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 items</strong> select <strong>Analytics &gt; Key Performance Indicator</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Set the <strong>Measurement</strong> property to select the measurement for the KPI in the <strong>Properties</strong> section.</li>
<li>Select the <strong>Value</strong> node of the KPI.</li>
<li>Set the measurement group on the <strong>Measure group</strong> property.</li>
<li>Set the measure on the <strong>Measure</strong> property.</li>
<li>Select the <strong>Goal</strong> node of the KPI.</li>
<li>Set the <strong>Goal Type</strong> property to <strong>BasedOnMeasure</strong>.</li>
<li>Set the measurement group on the <strong>Measure group</strong> property.</li>
<li>Set the measure on the <strong>Measure</strong> property.</li>
<li>Select <strong>Save</strong> and <strong>Build</strong>.</li>
</ol>
<h2 id="add-the-kpi-to-a-workspace">Add the KPI to a workspace</h2>
<p>To add the KPI to a workspace, follow these steps:</p>
<ol>
<li>Right-click the project and select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>User Interface &gt; Tile</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Drag and drop the KPI from <strong>Solution explorer</strong> onto the tile in the <strong>Tile designer</strong>.</li>
<li>Save.</li>
<li>Create an extension of an existing workspace form or create a new  workspace form. Ensure the solution model matches the workspace form model, otherwise you cannot make an extension of that form. Create an extension by right-clicking on the form in the AOT.</li>
<li>In the Designer, add a <strong>Tile</strong> button. You may need to change the pattern of the form to custom to do this.</li>
<li>Set the <strong>Tile property</strong> drop-down option to the KPI tile that you created.</li>
<li>Save all and build the solution.</li>
<li>The workspace will show the new KPI that was created. Select the KPI tile to view details.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create drill-through workspace elements</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Drill-through elements might be necessary in a workspace to help you view
additional data within the page. For instance, you might have a view on
your workspace to see the total number of sales, but by selecting a link
in the data, you can access a more detailed view of each sale.</p>
<p>Tiles are buttons added to a workspace that allow the user to view data.
Tiles can display a record count of data, and they can also provide
drill-through access to view more record details. You can create tiles
and add them to a workspace through X++ development. To create a new tile
for a workspace, you first need to create a query to pull the
information and a menu item that uses that query. Then, you must create a
tile that uses the menu item. On the <strong>Workspace</strong> form, you can add a
<strong>Tile</strong> button to the workspace that points at the tile.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/tiles.svg#lightbox"><img alt="Screenshot of the Personnel management workspace page." data-linktype="relative-path" src="./rawmb500/media_tiles.png"/> </a></p>
</div>
<h2 id="add-a-tile-button-to-your-workspace-in-the-user-interface">Add a tile button to your workspace in the user interface</h2>
<p>To add a <strong>Tile</strong> button to your workspace in the user interface, follow these steps:</p>
<ol>
<li>Right-click the dashboard below the header image and select
<strong>Personalize</strong>.</li>
<li>Select the <strong>+Add a workspace</strong> button. A new workspace will be
created, titled <strong>My Workspace 1</strong>.</li>
<li>Right-click <strong>My Workspace 1</strong> and enter a new name for your
workspace. </li>
<li>Open the navigation pane and go to <strong>Modules &gt; Accounts
Receivable &gt; Customers &gt; All customers</strong>.</li>
<li>On the Action Pane, select the <strong>Options</strong> tab.</li>
<li>In the <strong>Personalize button</strong> group, select <strong>Add to workspace</strong>.</li>
<li>In the <strong>Workspace</strong> drop-down menu, select your workspace. </li>
<li>In the <strong>Presentation</strong> drop-down menu, select <strong>Tile</strong>.</li>
<li>Select <strong>Configure</strong>.</li>
<li>In the <strong>Add as</strong> list pane, keep all defaults and select <strong>OK</strong>.</li>
<li>Select the <strong>finance and operations</strong> button to return to the
dashboard.</li>
<li>Select your workspace. The tile now shows the properties that you configured.</li>
</ol>
<h2 id="add-a-tile-button-to-an-existing-workspace-in-the-developer-environment">Add a tile button to an existing workspace in the developer environment</h2>
<p>To add a <strong>Tile</strong> button to an existing workspace, follow these steps:</p>
<ol>
<li>Create a new project in Visual Studio and make sure that the model that your project is in references "Fleet Management." Verify that the model that your project is in references "Fleet Management" by following these steps:
<ol>
<li>Select the <strong>Dynamics 365</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>Select the model that you are using in the <strong>Model name</strong> drop-down list.</li>
<li>Select <strong>Next</strong>.</li>
<li>Ensure that the <strong>Fleet Management</strong> model is selected in the <strong>References models</strong> screen.</li>
</ol>
</li>
<li>With the new project open in the Solution Explorer, right-click the
project and select <strong>Add &gt; New item</strong>.</li>
<li>In the <strong>Add new item</strong> window, select <strong>User Interface</strong> on the left
pane.</li>
<li>Select <strong>Tile</strong> on the middle pane.</li>
<li>Name the new tile <strong>MyTile</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>In the <strong>Properties</strong> window for the new MyTile object, select
<strong>Wide</strong> in the <strong>Size</strong> field.</li>
<li>Select <strong>My Tile</strong> in the <strong>Label</strong> field.</li>
<li>Select <strong>Display</strong> in the <strong>Menu item type</strong> field.</li>
<li>Select <strong>FMSetup</strong> in the <strong>Menu item name</strong> field.</li>
<li>Select <strong>Save</strong>.</li>
<li>By linking this tile to the FMSetup menu display item, when the tile is selected in the application, it will open the <strong>Fleet Management Setup</strong> page.</li>
<li>Now, you will extend the <strong>Reservation management</strong> workspace and add the tile to the <strong>Summary</strong> section.</li>
<li>In <strong>Application Explorer</strong>, find the <strong>FMClerkWorkspace</strong> page.</li>
<li>Right-click <strong>FMClerkWorkspace</strong> and select <strong>Create extension</strong>.</li>
<li>A new form is added to your project called
<strong>FMClerkWorkspace.Extension</strong>.</li>
<li>Right-click <strong>FMClerkWorkspace.Extension</strong>, select <strong>Rename</strong>, and rename the object to <strong>FMClerkWorkspace.myExtension</strong>.</li>
<li>Double-click <strong>FMClerkWorkspace.myExtension</strong> to open it in the element designer.</li>
<li>On the design pane of the form designer, open <strong>FormTabControl1 &gt;  Workspace &gt; PanoramaBody &gt; SummaryTileSection</strong>.</li>
<li>Right-click <strong>SummaryTileSection</strong> and select <strong>New &gt; Tile button</strong>.</li>
<li>A new control will be added to the form called
<strong>TileButtonControl1</strong>.</li>
<li>Select <strong>TileButtonControl1</strong> and go to the properties window.</li>
<li>Select <strong>MyTile</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>MyTile</strong> in the <strong>Tile</strong> field.</li>
<li>Select <strong>My Tile</strong> in the <strong>Tile text</strong> field.</li>
<li>Save and build the project.</li>
<li>To view the new tile, open finance and operations apps,    and go to the <strong>Reservation management</strong> workspace. The tile should display in the <strong>Summary</strong> section.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create custom reusable report functions by using RDL</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Report Definition Language (RDL) is an XML representation of an SQL Server Reporting Services (SSRS) report definition. A report definition contains data retrieval and layout information for a report. You can add your own custom functions for controlling report item values, styles, and formatting by accessing code assemblies within report definition files.</p>
<p>RDL can be used to define charts, graphs, calculations, text, images, and other report objects. RDLs can be created by using the Microsoft .Net Framework classes. Specifically, the XmlTextWriter class can write an RDL. You can also extend existing RDLs to add items with custom properties. The reports that are created by using RDL can be exported as a .rdl file, which contains the report data, calculations, and report layout. All SSRS reports generate a .rdl file.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement built-in KPIs, charts, and other reporting components</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Workspaces can contain main elements, such as those discussed in this
module. Workspaces can also include built-in KPIs, charts, and other
components that make the user interface experience more efficient and
useful. In finance and operations apps, users can create a workspace and add
existing elements to a workspace from the user interface.</p>
<p>When adding an element to a workspace from the user interface, you can
select the presentation of the data. The presentation types are Tile,
List, and Link. The <strong>Tile</strong> option has additional configuration where
you can enter the tile name and display the record count. Before
creating the tile, you can filter the form to view only the records that you want to see on the tile. The <strong>List</strong> option allows you to name the tab and select the list style. You can also select the columns that you want to display. The <strong>Link</strong> option will create a hyperlink to the workspace so you can quickly access other form.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/customize.svg#lightbox"><img alt="Screenshot of the Add to workspace form in the Personalize group under the Options tab." data-linktype="relative-path" src="./rawmb500/media_customize.png"/> </a></p>
</div>
<p>In the developer environment, developers can create KPI tiles that
display calculated measures. To create a KPI in the developer
workspace, you can create and modify KPIs by using aggregate data that is
contained in aggregate measures. A key benefit of developing KPIs is
that after a KPI is defined, users can customize it at run time. To
develop and create a KPI in the developer environment you should follow
these high-level steps:</p>
<ol>
<li>Create the KPI object.</li>
<li>Define KPI range, goals, and/or tends.</li>
<li>Create a tile for the KPI to display on.</li>
<li>Add the KPI to the tile.</li>
</ol>
<p>You can also embed Power BI reports into your workspace. To do this, you
will need to populate the local Entity Store database with the
appropriate aggregate measurement. You can set up a batch job to
periodically update the aggregate measurement. You will then need to
connect Power BI to the Entity Store database and choose which tables
and views to report on. From there, you can create reports, charts, and
dashboards, and then publish the report and pin it to the workspace.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create a workspace and add a tile, list, link, and Power BI element</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Watch this video to see how to build a custom workspace.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=7e75e180-3180-43df-82ae-a7c7adda5c30"></iframe></div>
<h2 id="scenario">Scenario</h2>
<p>As a customer relations manager, you want to create a workspace to quickly view certain information. You want to see the total number of customers and be able to drill through to see more details on customers. You also want to see a list of all the leads that you can filter. You only need to see the date that the lead was opened, the lead ID, status of the lead, the subject of the lead, and comments made on the lead. A chart of the sales of customer groups would be useful, as would having a way to quickly go from the workspace to the quotations page.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>To complete this exercise, you will need access to an environment that has a standard sample of data in finance and operations apps, and is connected to Power BI.</p>
<p>To connect your environment to Power BI, follow these steps:</p>
<ol>
<li>Go to <strong>System Administration &gt; Setup &gt; PowerBI.com configuration</strong>.</li>
<li>Select <strong>Edit</strong> and toggle the <strong>Enable PowerBI.com integration</strong> to <strong>Yes</strong>.</li>
<li>Select <strong>Save</strong>.</li>
</ol>
<h2 id="create-a-new-workspace">Create a new workspace</h2>
<ol>
<li>Open the user interface.</li>
<li>On the <strong>Home</strong> screen, right-click in the workspace area.</li>
<li>Select the <strong>Personalize: Workspaces</strong> option.</li>
<li>Select the <strong>Add a Workspace</strong> option.</li>
<li>Right-click the <strong>My Workspace 1</strong> tile.</li>
<li>Select the <strong>Personalize: My Workspace 1</strong> option.</li>
<li>In the <strong>Text</strong> field, enter <strong>CRM</strong>.</li>
</ol>
<h2 id="add-a-tile-to-your-workspace">Add a tile to your workspace</h2>
<ol>
<li>Open <strong>Sales and marketing &gt; Customers &gt; All customers</strong>.</li>
<li>Select the <strong>Options</strong> tab on the Action Pane.</li>
<li>In the <strong>Personalize</strong> section, select <strong>Add to workspace</strong>.</li>
<li>In the drop-down form, select <strong>CRM</strong> in the <strong>Workspace</strong> field.</li>
<li>Select the <strong>Tile</strong> option in the <strong>Presentation</strong> field.</li>
<li>Select the <strong>Configure</strong> button.</li>
<li>On the <strong>Add as tile</strong> form, enter <strong>Customers</strong> in the <strong>Name on
tile</strong> field.</li>
<li>Select <strong>Yes</strong> on the <strong>Show count on the tile</strong> field and then select <strong>OK</strong>.</li>
</ol>
<h2 id="add-a-list-to-your-workspace">Add a list to your workspace</h2>
<ol>
<li>Open <strong>Sales and marketing &gt; Relationships &gt; Leads &gt; All leads</strong>.</li>
<li>Select the <strong>Options</strong> tab on the Action Pane.</li>
<li>In the <strong>Personalize</strong> section, select <strong>Add to workspace</strong>.</li>
<li>In the drop-down form, select <strong>CRM</strong> in the <strong>Workspace</strong> field.</li>
<li>Select <strong>List</strong> in the <strong>Presentation</strong> field.</li>
<li>Select the <strong>Configure</strong> button.</li>
<li>On the <strong>Add as list</strong> form, enter <strong>Leads</strong> in the <strong>Name for tab</strong>
field.</li>
<li>In the <strong>List style</strong> field, select the <strong>Tabular (up to 8
columns)</strong> option.</li>
<li>Select the check box for the following columns:
<ul>
<li>Date opened</li>
<li>Lead ID</li>
<li>Status</li>
<li>Subject</li>
<li>Name</li>
<li>Comments</li>
</ul>
</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="add-a-link-to-your-workspace">Add a link to your workspace</h2>
<ol>
<li>Open <strong>Sales and marketing &gt; Relationships &gt; Opportunities &gt; All    opportunities</strong>.</li>
<li>Select the <strong>Options</strong> tab on the Action Pane.</li>
<li>In the <strong>Personalize</strong> section, select <strong>Add to workspace</strong>.</li>
<li>In the drop-down form, select <strong>CRM</strong> in the <strong>Workspace</strong> field.</li>
<li>Select <strong>Link</strong> in the <strong>Presentation</strong> field.</li>
<li>Select the <strong>Configure</strong> button.</li>
<li>On the <strong>Add as link</strong> form, enter <strong>Opportunities</strong> in the <strong>Name</strong>
field.</li>
<li>On the <strong>Group name</strong> field, enter <strong>Favorites</strong>.</li>
<li>Select the <strong>OK</strong> button.</li>
<li>Close the page.</li>
</ol>
<h2 id="embed-a-power-bi-report">Embed a Power BI report</h2>
<ol>
<li>To embed a Power BI report, open your CRM workspace.</li>
<li>On the Action Pane, select the <strong>Options</strong> tab.</li>
<li>Select <strong>Personalize this page</strong>.</li>
<li>A personalization menu will appear. Select the <strong>Add a field</strong> button.</li>
<li>Select an open area on the workspace form.</li>
<li>A <strong>Workspace options</strong> sidebar will appear. Set the <strong>Allow Power BI
Control</strong> option to <strong>Yes</strong> and then select <strong>OK</strong>.</li>
<li>In the workspace, the Power BI tile will be available. In the <strong>Power
BI</strong> tile, select <strong>Get started</strong>.</li>
<li>When prompted on the Authorize Power BI side pane, select <strong>Click here to provide authorization to Power BI</strong>.</li>
<li>When you are connected, you will have a list of available Power BI
reports. Select the <strong>Sales</strong> tab.</li>
<li>Select the <strong>Sales by Customer Group</strong> chart.</li>
<li>Select <strong>OK</strong> to embed the Power BI reports to your workspace.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Why would a KPI need to be used by a business?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs send alerts to users in their workspaces when a certain action occurs.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs give users a task list that must be completed.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs can be used to find errors in the system.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs can be used to measure performance.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You want to add an element to your workspace to quickly see sales orders that are marked as Pending confirmation. Normally, you filter the Sales order list page to find if you have any orders that are waiting for confirmation. What workspace element would help you quickly identify the pending confirmation orders that you must process?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI line chart</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI pie chart</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Link</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Tile</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>What are the benefits of using a workspace?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Users can create and edit workspaces through the user interface without the need of a developer.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Workspaces can be personalized and shared across users.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You can embed Power BI reports to generate data visualizations.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Workspaces let users work from one location to view required data in one location.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-4">
<input class="radio-dot choice-input" id="quiz-choice-2-4" name="2" type="radio" value="4"/>
<div class="margin-inline-sm radio-label-text">
<p>All of the above</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Workspaces increase users' productivity by helping them make decisions based on real-time data and quickly view reporting and
analytics. This module
introduced you to the steps and information necessary to design, create, and
modify these workspaces to work for your business, and to provide users with
what they need.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>With role-based security, access to finance and operations apps is not granted to individual users, but to security roles to which users are
assigned. A user who is assigned to a security role has access to the
set of privileges that is associated with that role. If a user isn't
assigned to a role, they are unable to access the finance and operations apps
application.</p>
<p>To access finance and operations apps and be assigned to a role, a user must have an authenticated Microsoft Entra ID account.</p>
<p>In finance and operations apps, role-based security is aligned with the structure of an organization. Users are assigned to security roles based on their daily job responsibilities. Depending on the user, one role or many roles might be assigned. Roles contain duties, privileges, and permissions that control access to system components.
The administrator grants access to the user for the duties that they
perform. After security roles, duties, and privileges have been set up,
business managers can control user access as their business needs
change.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify duties, privileges, and permissions</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps offers many duties, privileges, and permissions out of the box. If needed, you can create a new role, duty, privilege, or permission in Visual Studio.</p>
<p>While you can manage security roles in finance and operations apps, we recommend that you have a system administrator
manage roles or modify duties and privileges behind the scenes in Visual
Studio. Permissions can only be created or modified in the development
environment. Each role has various duties assigned to it. A privilege
can be directly assigned to a role, but it is best practice to assign a
privilege to a duty. Within each privilege, various permissions are assigned. Permissions represent the most granular access to
finance and operations apps.</p>
<p><img alt="This flow shows the hierarchy of security in finance and operations apps from role to duty to privilege to permission." data-linktype="relative-path" src="./rawmb500/media_hierarchy_1.png"/></p>
<p>Permissions represent access to individual securable objects, such as
menu items and tables. Privileges are composed of permissions, and they
represent tasks, such as generating a sales order. Privileges give the user access to perform a specific action. For example, one
privilege might have read-only access to view a record, while another
privilege grants access to create and edit a record.</p>
<p>Duties are composed of privileges and represent parts of a business process, such as maintaining vendor information. A single set of roles applies across all companies and organizations. An administrator no longer must create and maintain separate user groups for each company, as was the case in earlier versions. Even though roles are not specific to a
company or organization, the administrator can control access by specifying a company or organization for a user in a role.</p>
<p><strong>Example</strong></p>
<p>An accounting example can help better explain duties,
privileges, and permissions in the user interface of finance and operations apps.</p>
<p>In the accounting process cycle, there are the <strong>Maintain
ledgers</strong> and <strong>Maintain bank transactions</strong> duties. The <strong>Maintain bank
transactions</strong> duty contains the <strong>Generate deposit slips</strong> and <strong>Cancel
payments</strong> privileges. The <strong>Cancel payments</strong> privilege contains
permissions to the menu items, fields, and tables that are required to
cancel payments. Each permission, privilege, and duty can be reused in
other roles, duties, and privileges. For example, an Accounts payable
manager would have the same permissions as an Accounts payable clerk, but
would have additional managerial permissions as well.</p>
<h2 id="create-new-roles-duties-and-privileges">Create new roles, duties, and privileges</h2>
<p>In Visual Studio, you can create new roles, duties, and privileges by adding an item to your project in the <strong>Solution Explorer</strong> window. Additionally, you can create new permissions directly through a privilege in the element designer window.</p>
<p>Two ways to assign duties to a role are:</p>
<ul>
<li>Add a new duty within the <strong>Duties</strong> node of the role in the    element designer window.</li>
<li>Select a duty from the Application Object Tree (AOT) and drag it to the <strong>Duties</strong> node in the element designer window.
This same process applies to assigning privileges to roles. You can
also create an extension of an existing role, duty, or privilege.
This would allow you to add or remove a duty from a role, or perhaps
change a view-only privilege to an edit privilege for a certain page
in finance and operations apps.</li>
</ul>
<p>Follow these steps to create a new security element:</p>
<ol>
<li>In <strong>Visual Studio</strong>, go to the <strong>Solution Explorer</strong> window.</li>
<li>Right-click your project and select <strong>Add &gt; New Item</strong>.</li>
<li>In the left column, under the <strong>Dynamics 365 Items</strong> node, select    <strong>Security</strong>.</li>
<li>Select <strong>Security Role</strong>, <strong>Security Duty</strong>, or <strong>Security
Privilege</strong>, depending on the type of element that you need to create.</li>
<li>Enter a <strong>Name</strong> for the security element.</li>
<li>Select <strong>Add</strong> to add this element to your project. The element will now be open in the element designer window.</li>
</ol>
<p><a data-linktype="relative-path" href="media/security-element.png#lightbox"><img alt="Screenshot showing the steps to create a new security element." data-linktype="relative-path" src="./rawmb500/media_security_element.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Enforce permissions policy</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Permissions policies are used in role-based security to grant access to
users for specific purposes. The most common type of security policy
originates from a query that is stored in the AOT.</p>
<p>A query specifies the criteria that each row or record must satisfy to be
returned by using the <strong>Ranges</strong> node in its data source. The <strong>Fields</strong>
node specifies which fields should be returned. You can create a field
security profile to use the permissions policies to restrict access to a
certain field. After you create the profile, you can assign users or teams to that profile and then set up specific read, create, or write permissions for the field.</p>
<p>You can use permissions policies to ensure that users can view and access all necessary areas of finance and operations apps, from pages within the navigation pane to specific buttons on a page. A new security policy is added to a project through the <strong>Solution Explorer</strong> window by following the same steps as adding a new role, duty, or privilege to a project. In the <strong>Properties</strong> window, you can specify the details of the policy, such as the query that is the basis for the policy and the <strong>Primary Table</strong>, which is the first data source in the query that is assigned to the policy. Additionally, you can specify the <strong>Context Type</strong>, which is used to determine whether the policy is applicable.</p>
<p>The following image shows the <strong>Properties</strong> window of the
<code>RetailCustomer</code> security policy that uses the
<code>RoleName</code> context type. The <strong>Role Name</strong> property has been filled in to specify that the <code>RetailStoreManager</code> role is
associated with this policy.</p>
<p><a data-linktype="relative-path" href="media/retail-policy.png#lightbox"><img alt="RetailCustomer security policy Properties window." data-linktype="relative-path" src="./rawmb500/media_retail_policy.png"/></a></p>
<p>The following image is the <strong>Properties</strong> window of the
<code>FMSelfServ</code> security policy that uses the
<code>ContextString</code> context type. Notice that different fields
are used as you select a different context type.</p>
<p><a data-linktype="relative-path" href="media/fm-policy.png#lightbox"><img alt="Properties window for the FMSelfServpolicy." data-linktype="relative-path" src="./rawmb500/media_fm_policy.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extensible data security framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To grant access to tables, fields, and rows in the finance and operations apps user interface, authorization is used. To restrict or deny
access to those elements, you need to use data security. You can assign data security policies to security roles by using the extensible data security (XDS) framework.</p>
<p>XDS is an evolution of record-level security (RLS) that was available in
Microsoft Dynamics AX 2012 and earlier versions. The XDS framework in finance and operations apps allows you and the administrators at your organization to help secure data in shared tables in such a way that users will have access to the part of the table that is allowed by the enforced policy. XDS policies are enforced, regardless of whether data is being accessed through the finance and operations apps cloud-based application, an SQL Server Reporting Services (SSRS) report, or other services.</p>
<p>The flow for an XDS policy is as follows:</p>
<ol>
<li>Start with a query to define the filters or limits that should be placed on the primary table or tables.</li>
<li>Create a security policy that links to the query and primary table for which you want to restrict data access.</li>
<li>Define the context for the rule. This could be based on a string,  which would require additional development, or based on a role or group of roles.</li>
<li>Define the list of constrained tables, which are related tables that store data from the primary tables for which you are attempting to restrict a subset of data.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Apply security permissions</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Users are assigned to security roles in the System administration module in finance and operations apps by going to <strong>Security administration &gt; Security &gt; Security configuration.</strong></p>
<p><a data-linktype="relative-path" href="media/security-1.png#lightbox"><img alt="Screenshot of the Security configuration page." data-linktype="relative-path" src="./rawmb500/media_security_1.png"/></a></p>
<p>You can automatically assign users to roles by using queries from Visual Studio, or you can manually assign an individual user to a role. Additionally, you can choose to have a user excluded from automatic role assignment by resetting her or his status.</p>
<p>Follow these steps to assign users to roles automatically:</p>
<ol>
<li>In finance and operations apps, open the
Navigation pane by selecting the menu icon in the top-left corner of the page.</li>
<li>Under the <strong>Modules</strong> node, select <strong>System administration</strong>.</li>
<li>Select <strong>Security</strong> to expand the node, and then select <strong>Assign    users to roles</strong>.</li>
<li>In the left column, select the role that you want to assign users to, such as <strong>Accounts payable clerk</strong>.</li>
<li>In the middle column, beneath the <strong>Rules for dynamically assigning    users to role</strong> heading, select <strong>Add rule</strong>.</li>
<li>Select your desired query name for the rule, such as
<strong>LedgerJournalPostControl</strong>.</li>
<li>To modify the query, such as removing a company from the rule or adding a table join, select <strong>Edit query</strong>.</li>
<li>In the Action Pane, select <strong>Run automatic role assignment</strong>. You will see the users that have been added in the middle column under the <strong>Users assigned to role</strong> heading.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a new security role and add duties</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been asked by the Fleet
Management company to create a new role based on a new position that they are filling for a Fleet Service Manager. The manager needs duties to manage cars and customers, as well as the basic duties that are associated with Fleet Management.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementSecurityProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-the-fmservicemanager-role">Create the FMServiceManager role</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click
<strong>FleetManagementSecurityProject</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>In the left column, under the <strong>Dynamics 365 Items</strong> node, select    <strong>Security</strong>.</li>
<li>In the middle column, select <strong>Security Role</strong>.</li>
<li>In the <strong>Name</strong> field at the bottom of the page, enter <strong>FMServiceManager</strong>.</li>
<li>Select <strong>Add</strong> to add the new security role to your project. The <strong>FMServiceManager</strong> role will now be open in the element designer window.</li>
</ol>
<h2 id="add-duties-to-the-fmservicemanager-role">Add duties to the FMServiceManager role</h2>
<ol>
<li>Select <strong>View</strong>, and then <strong>Application Explorer</strong>.</li>
<li>In the <strong>Application Explorer</strong>, in the <strong>AOT</strong>, expand the <strong>Security</strong> node.</li>
<li>In the <strong>Application Explorer</strong> window, in the <strong>AOT</strong>, expand the    <strong>Security</strong> node.</li>
<li>Expand the <strong>Security Duties</strong> node.</li>
<li>Select and drag the <strong>FMBasicDuties</strong> duty from the <strong>AOT</strong> in the    <strong>Application Explorer</strong> window to the element designer window (in the middle of the page) in the <strong>Duties</strong> node beneath the <strong>FMServiceManager</strong> role.</li>
<li>Select and drag the <strong>FMManageCars</strong> duty from the <strong>AOT</strong> in the    <strong>Application Explorer</strong> window to the element designer window in the    <strong>Duties</strong> node beneath the <strong>FMServiceManager</strong> role.</li>
<li>Select and drag the <strong>FMManageCustomers</strong> duty from the <strong>AOT</strong> in the <strong>Application Explorer</strong> window to the element designer window in the <strong>Duties</strong> node beneath the <strong>FMServiceManager</strong> role. You should have three duties under the <strong>Duties</strong> node now, <strong>FMBasicDuties</strong>, and <strong>FMManageCars</strong>.</li>
<li>Perform a build by right-clicking the project
<strong>FleetManagementSecurityProject</strong> in the <strong>Solution Explorer</strong>    window and selecting <strong>Build</strong>.</li>
</ol>
<p>You may see an error because the batch server needs to be turned off in the environment. However, this does not affect the build. This may be because of a batch job that is currently running in the environment that would be interfering with any of the objects, such as security privileges, in the current build. Stopping the batch server would prevent an error occurring because of any currently running batch jobs.</p>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Microsoft Entra ID and OAuth 2.0 authentication</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps use Microsoft Entra ID (formerly Microsoft Azure Active Directory) for authentication. OAuth 2.0 authentications allow integrations on behalf of a user. OAuth is an abbreviation for “Open Authorization.”</p>
<p>To access finance and operations apps and be assigned to a role, a user must have an authenticated Microsoft Entra ID account. By default, only authenticated users with user rights can establish a connection.</p>
<p>Microsoft Entra ID is a primary identity provider. To access the system, users must be provisioned into a finance and operations apps instance and should have a valid Microsoft Entra ID account in an authorized tenant.</p>
<p>OAuth 2.0 is a standard that allows a website or application to access resources, on behalf of a user, that other web apps are hosting, as shown in the following diagram.</p>
<p><a data-linktype="relative-path" href="media/diagram-security.png#lightbox"><img alt="Diagram of how Microsoft Entra ID and OAuth 2.0 work with data security in finance and operations apps." data-linktype="relative-path" src="./rawmb500/media_diagram_security.png"/></a></p>
<p>For finance and operations apps, OAuth 2.0 provides authentication for the web application programming interface (API), services, and integrations.</p>
<h2 id="oauth-20">OAuth 2.0</h2>
<p>In finance and operations apps, OAuth 2.0 is used for integrations to allow external systems to access it in the following scenarios:</p>
<ul>
<li>Batch data API</li>
<li>OData</li>
<li>Custom services</li>
<li>Data management package API</li>
<li>Other integration scenarios</li>
</ul>
<p>To register finance and operations apps with OAuth 2.0 in Microsoft Entra ID, follow these steps:</p>
<ol>
<li><p>Go to portal.azure.com.</p>
</li>
<li><p>Search for <strong>App Registrations</strong> and then select <strong>New registration</strong>.</p>
</li>
<li><p>Choose the appropriate option under <strong>Supported Account Type</strong>. The most common option is <strong>Single tenant</strong>.</p>
</li>
<li><p>Enter the applicable Redirect URI, which should be your environment’s URL and your environment’s URL + /OAuth, as the following image depicts.</p>
<p><a data-linktype="relative-path" href="media/redirect-urls.png#lightbox"><img alt="Screenshots of Redirect URLs." data-linktype="relative-path" src="./rawmb500/media_redirect_urls.png"/></a></p>
</li>
<li><p>Select <strong>Register</strong>, and then select <strong>Certificates &amp; secrets</strong> in the navigation pane.</p>
</li>
<li><p>Select <strong>New client secret</strong>, and then enter a description and expiration period.</p>
</li>
<li><p>Select <strong>Add</strong> to create the secret.</p>
</li>
<li><p>Copy the value to a text document. Remember to save the value because you won’t be able to copy it later.</p>
</li>
<li><p>Select <strong>API permissions</strong> in the navigation pane and then select <strong>Add a permission</strong> &gt; <strong>Dynamics ERP</strong>.</p>
</li>
<li><p>Select <strong>Delegated permissions</strong> and then enable <strong>Ax.FullAccess</strong>, <strong>CustomService.FullAccess</strong>, and <strong>Odata.FullAccess</strong>.</p>
</li>
<li><p>Select <strong>Add permissions</strong> to close the dialog.</p>
</li>
<li><p>Select <strong>Overview</strong> in the navigation pane.</p>
</li>
<li><p>Copy the <strong>Application (client) ID</strong> and the <strong>Directory (tenant)</strong> to the same text document in which the <strong>Directory (tenant) ID</strong> value resides.</p>
</li>
</ol>
<p>Now setup continues in finance and operation apps.</p>
<h2 id="set-up-finance-and-operations-apps">Set up finance and operations apps</h2>
<p>Follow these steps to set up finance and operations apps:</p>
<ol>
<li>Sign in to the finance and operations apps environment, and then select <strong>System Administration</strong> &gt; <strong>Setup</strong> &gt;<strong>Microsoft Entra ID Applications</strong>.</li>
<li>Enter the client ID from the app registration in Azure.</li>
<li>Enter a name and a user ID, and then select <strong>Save</strong>.</li>
</ol>
<p>Now, you can generate an authentication token based on the value from the secret, the Application (client) ID, and the Directory (tenant) ID.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following security elements would be used to grant access to a specific menu item or field in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Duty</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Role</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Permission</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Privilege</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following security elements is assigned directly to a user and represents the least granular security control?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Duty</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Role</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Permission</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Privilege</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>What framework is used to assign data security policies to security roles in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Extensible data security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Security permissions framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Permissible data security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Record level security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The security structure in finance and operations apps is role-based, and all users must be assigned a role to gain access to the application.</p>
<p>Role-based security uses a hierarchy, with permissions representing the most granular security control and roles representing the least granular
control. Permissions are assigned to privileges, privileges are assigned
to duties, and duties are assigned to roles. A role represents the broad,
daily responsibilities for a job. A duty correlates to a business
process. A privilege represents access to perform a job task. Lastly, a
permission represents access to a securable object, such as a specific
button, field, or page in the user interface.</p>
<p>While users are assigned to roles in the finance and operations apps
application by using the System administration module, new roles,
duties, privileges, and permissions are created in Visual Studio. A data
security policy denies access to certain elements in the user interface.
By using the XDS framework, you can assign data security policies to roles.</p>
<p>Security permissions policies define access to various parts of the
system and are created based on queries. Many security policies exist in the AOT, but like other security elements, you can create new security
policies by adding an item to your project in the <strong>Solution Explorer</strong>
window.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Role-based security overview</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/sysadmin/role-based-security/?azure-portal=true">Role-based security</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>People use computers because they can complete tasks accurately and
quickly. When a certain task takes a computer too long to complete, it can be frustrating, distracting, and cause lower productivity. Therefore, considering optimal computer performance should be a requirement in any project. Doing so will ensure that finance and operations apps run as efficiently as possible.</p>
<p>By optimizing your development for performance, you can ensure that users appreciate and value your work. As a finance and operations apps
developer, you should understand how your designs can be properly
optimized for performance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify and apply caching mechanisms</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Cached data is information that’s retrieved from an outside source,
such as a website, app, or database that’s stored on your computer.
Caching data decreases loading times by reducing the number of calls that are made to the database. While caching data can improve performance, it
takes up space on your computer, so you should consider clearing
your cache periodically.</p>
<h2 id="table-caching">Table caching</h2>
<p>You can set up a table’s cache settings for finance and operations apps in the <strong>CacheLookup</strong> table property. Caching tables involves using set-based or single-record based caching. The differences between the two types are:</p>
<ul>
<li><p><strong>Set-based caching</strong> - Caches all groups of records at once. To
implement set-based caching, you need to set the
<strong>CacheLookup</strong> property to <strong>EntireTable</strong>.</p>
<p>This type caches all of a table’s records after your first selection. You should avoid this type of caching for large tables because, when the cache size reaches 128 kilobytes (KB), the cache moves from memory to disk. A disk search is slower than an in-memory search and can decrease performance.</p>
</li>
<li><p><strong>Single-record caching</strong> - Caches one single record at a time. Two conditions must be met to use single-record caching.</p>
<ul>
<li><p>The <strong>CacheLookup</strong> property must be set to <strong>NotInTTS</strong>, <strong>Found</strong>, or <strong>FoundAndEmpty</strong>.</p>
</li>
<li><p>The record buffer <strong>disableCache</strong> method doesn't
return true. Single-record caches are used on the client and the
Application Object Server (AOS). If a select query is run on the
client side, the system searches the client-side browser cache. If no record is found in
the browser cache, finance and operations apps searches the record's AOS cache. After the system searches through the client and server caches,
the data is retrieved from the database. You can also
run queries on the server. These queries look in the
server cache for the record and then call the database if the
record isn't found. You can set up the number of records that the cache should maintain by going to <strong>System administration &gt;
Setup &gt; System &gt; Server configuration</strong> page in finance and
operations apps.</p>
</li>
</ul>
</li>
</ul>
<h2 id="display-method-caching">Display method caching</h2>
<p>In finance and operations apps, you can use display methods to show a calculated field. Whenever the form refreshes, the display method is calculated.</p>
<p>To improve performance, you can cache a display method, which means that it’s calculated only once when it's received from the cache.</p>
<p>To enable caching for a display method, add it to the <code>init</code> method on the form by using the following syntax:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt; 
    /// Adding cache for display field 
    /// &lt;/summary&gt; 
    public void init() 
    { 
      super(); 
      this.cacheAddMethod(tableMethodStr(CustTable,
         myDisplayMethod)); 
    }
</code></pre>
<p>Using <code>cacheAddMethod</code> activates the caching mechanism for the display method, and it loads into the cache.
Another way to activate caching is to use <strong>[SysClientCacheDataMethodAttribute]</strong> on the display method. The method is automatically added to the caching mechanism.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize temporary table usage</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains temporary tables, the different types of temporary
tables, and when they should be used.</p>
<p>Temporary tables allow you to efficiently create and clean up temporary
data. The two types of temporary tables are:</p>
<ul>
<li><code>InMemory</code></li>
<li><code>TempDB</code></li>
</ul>
<p>The table type can be determined on the table's <code>TableType</code>
property.</p>
<p><a data-linktype="relative-path" href="media/tables-1.png#lightbox"><img alt="Screenshot of the Properties table page highlighting the Table Type property." data-linktype="relative-path" src="./rawmb500/media_tables_1.png"/></a></p>
<p><code>InMemory</code> tables use an indexed sequential access method
(ISAM) file that exists on the client tier or the AOS tier. Microsoft
SQL Server has no connection to the ISAM file. The data is stored in
memory until it reaches 128 KB, and then the dataset is written to a
disk file on the server tier. <code>InMemory</code> tables are
instantiated when the first record is inserted. The table exists and
memory is only allocated to the table while a record buffer exists.</p>
<p>An <code>InMemory</code> table might be used when you need to store and
retrieve data without writing data to the database. This is like a
container, but <code>InMemory</code> tables allow you to use indexes to
speed up data retrieval. If you are only using a few records, you should
use a container, not an <code>InMemory</code> table. You can use X++
SQL syntax to join an <code>InMemory</code> table, however, joins and SQL
operations are usually inefficient.</p>
<p><code>TempDB</code> tables use the <code>TempDB</code> database of the
SQL Server. This type of table causes the data to be removed when it is
no longer used by the current method or when the system is restarted. Regular tables are automatically turned into <code>TempDB</code> tables by
disabling the configuration key for the table, which allows references
to the disabled table in the system to continue to compile and run.
Additionally, <code>TempDB</code> tables are commonly used on reports to manipulate data.</p>
<p>The capabilities of <code>TempDB</code> tables include the following:</p>
<ul>
<li>Joining to regular tables.</li>
<li>Using foreign keys.</li>
<li>Being per company or global.</li>
<li>Having indexes.</li>
<li>Having methods but an inability to override the methods.</li>
<li>Instantiating from the client or server tier.</li>
<li>Being used as a query.</li>
<li>Having no requirements for a configuration key.</li>
</ul>
<p><code>TempDB</code> tables also have the following limitations:</p>
<ul>
<li>Inability to manage date-effective data.</li>
<li>They do not contain delete actions.</li>
<li>Record Level Security does not apply.</li>
<li>You cannot use them in views.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create or modify temporary tables to optimize data</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The system stores <code>InMemory</code> tables in memory, so you might find them useful for a small number of records. You can’t use <code>InMemory</code> tables in a query because they don’t exist on SQL Server. Records in a temporary table of the <code>InMemory</code> type exist as long as the object in which you create the table exists.</p>
<p>The following code shows an example of how to insert data into a temporary table.</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        SalesShippingLabelTmp       salesShippingLabelTmp;

        ttsbegin;

        salesShippingLabelTmp.Label = 1;
        salesShippingLabelTmp.Name  = 'Finance and operations apps';
        salesShippingLabelTmp.insert();

        ttscommit;

        while select salesShippingLabelTmp
            order by Label
        {
            Info(strFmt('%1 %2', salesShippingLabelTmp.Label, salesShippingLabelTmp.Name));
        }
    }

</code></pre>
<p>The code sample appears similar to how code for a normal table would appear. The scope for <code>InMemory</code> tables depends on how you declare it. If you declare it in a method, the scope is only in the method.</p>
<div class="NOTE">
<p>Note</p>
<p>You can declare an <code>InMemory</code> table at all levels, so it would be in scope for a class or a form, too.</p>
</div>
<p>You can link <code>InMemory</code> tables from one object to another with the <code>setTempData</code> method, thereby creating a new instance link, as follows:</p>
<pre><code class="lang-xpp">        SalesShippingLabelTmp salesShippingLabelTmp2;
 
        salesShippingLabelTmp2.setTmpData(salesShippingLabelTmp);
</code></pre>
<p>You can use all tables as an <code>InMemory</code> table by using the <code>setTmp</code> method of <code>salesShippingLabelTmp2.setTmp();</code></p>
<p>To use an <code>InMemory</code> table as a form datasource, you need to:</p>
<ul>
<li>Add the <code>InMemory</code> table as a form datasource.</li>
<li>Use the <code>setTempData</code> to configure data to the record set for the form datasource in the <code>Init</code> method for the <code>InMemory</code> table form datasource, as follows:</li>
</ul>
<pre><code class="lang-xpp">    [DataSource]
    class SalesShippingLabelTmp
    {
        public void init()
        {
            super();
            salesShippingLabelTmp.setTmpData(mySalesCalcLabel.parmSalesShippingLabelTmp());
        }
    }
</code></pre>
<p>The code example shows how to set <code>InMemory</code> table data to a form datasource. When you're using the <code>setTmpData</code> method in a method other than <code>Init</code>, follow it with <code>executeQuery</code> on the datasource.</p>
<h2 id="create-a-temporary-table-with-the-tempdb-table-type">Create a temporary table with the TempDB table type</h2>
<p><code>TempDB</code> temporary tables are useful for larger amounts of data, and you can create them in the TempDB table in SQL Server. You can create indexes for performance optimization similar to how you’d do it for a regular table in finance and operations apps.</p>
<p>The use of <code>TempDB</code> tables is similar to using <code>InMemory</code> tables, though a few key differences exist, where <code>TempDB</code> tables:</p>
<ul>
<li>Require the <code>linkPhysicalTableInstance</code> method when you link data from one <code>TempDB</code> table to another, rather than the <code>InMemory</code> method of <code>setTmpData</code>.</li>
<li>Can be global or according to company data.</li>
<li>Support transaction scope or the transaction tracking system (TTS).</li>
<li>Support indexes.</li>
<li>Support joins to regular tables.</li>
</ul>
<p>The following code shows the use of a <code>TempDB</code> table, which is similar to the use of an <code>InMemory</code> table, with <code>linkPhysicalTableInstance</code> used for linking data to a new instance.</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        SalesIdTempTable            salesIdTempTable;

        ttsbegin;

        salesIdTempTable.SalesId = 'SO-1';
        salesIdTempTable.insert();

        salesIdTempTable.SalesId = 'SO-2';
        salesIdTempTable.insert();

        ttscommit;

        while select salesIdTempTable
            order by SalesId
        {
            Info(strFmt('%1', salesIdTempTable.SalesId));
        }

        SalesIdTempTable salesIdTempTable2;
 
        salesIdTempTable2.linkPhysicalTableInstance(salesIdTempTable);
    }
</code></pre>
<p>You can use <code>TempDB</code> in the Extensible Data Security (XDS) framework to build a temporary table with allowed data for users. Then, you can update it depending on the refresh frequency.</p>
<p>When the user closes their session, the system removes all data in the <code>TempDB</code> table.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">When to use set-based statements and row-based operations</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Set-based statements are used to update, insert, or delete multiple
records of data from a table.</p>
<p>Row-based, or non-set-based, operations are used to update, insert, or
delete a single record from a table.</p>
<p>Using set-based queries can greatly increase performance by reducing the
number of calls that are made to the database.</p>
<p>A row-based operation requires a call to the database for each record
that needs to be manipulated, while a set-based statement only calls the
database once.</p>
<p>For example, if you need to update 100 records on a table, a row-based
operation would call the update method and call the database 100 times
to update all the records. A set-based statement would call the <code>update_recordset</code> method once and call the database once to update all the records.</p>
<p>Three examples of set-based statements that can be used are:</p>
<ul>
<li><strong><code>Update_recordset</code></strong> - Used to update multiple records at once.</li>
<li><strong><code>Delete_from</code></strong> - Used to delete multiple records at once.</li>
<li><strong><code>Insert_recordset</code></strong> - Used to copy multiple
records from one or more tables into another table.</li>
</ul>
<p>The <code>update_recordset</code> can update multiple fields on a
table. You can also specify a where clause to determine what records are
updated. The following is an example of an <code>update_recordset</code> where
you declare the table and call the <code>update_recordset</code> to
update the customer <strong>PaymMode</strong> and <strong>Currency</strong> fields only
for the customers with a <code>CustGroup</code> field that equals "US."
Keep in mind that if the update method is overridden, the
<code>update_recordset</code> will call the update method one at a
time instead of all at once.</p>
<pre><code class="lang-xpp">CustTable custTable;
Update_recordset custTable
Setting
	 PaymMode = 'Check',
	 Currency = 'USD'
Where custTable.CustGroup == 'US';
</code></pre>
<p>The <code>delete_from</code> method is like the <code>update_recordset</code>. You can delete multiple records at the same time from a table, and you can use a where clause to determine which records to delete. In the following example, the table is declared and then the <code>delete_from</code> is called to delete all the records where the customer's <code>CustGroup</code> field equals "US."</p>
<pre><code class="lang-xpp">CustTable custTable;
Delete_from custTable
	Where custTable.CustGroup == 'US';
</code></pre>
<p><code>Insert_recordset</code> lets you insert multiple records
from one table into another table. You can use a where clause to determine which records to insert, and you can use variables to insert. In the following example, the table that will be inserted into and the table that you are pulling data from are declared. The <code>insert_recordset</code> is then called to insert data into the fields that are listed in parentheses. The fields from the staging table are then called in the order that the fields were listed in the parentheses. Now, those fields will be inserted into the <code>CustTable</code> where the staged customer's <code>CustGroup</code> field equals "US."</p>
<pre><code class="lang-xpp">CustTable custTable;
CustCustomerBaseStaging custCustomerBaseStaging;

Insert_recordset custTable (accountNum, custGroup, paymMode, currency)
	Select CustomerAccount, CustomerGroupId, PaymentMethod,SalesCurrencyCode
		From custCustomerBaseStaging
		Where custCustomerBaseStaging.CustGroupID == 'US';
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Query optimization principles</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Poorly created queries can cause performance issues. You can apply a few best practices to queries to help avoid unnecessary impacts, including:</p>
<ul>
<li><strong>All queries should pull only the required data needed</strong> - Your queries should pull from a defined list of fields. For example, if you need to pull a customer’s account number, you should limit your query to only pull the <strong>Account number</strong> field. Pulling unnecessary fields decreases performance.</li>
<li><strong>Avoid nested queries</strong> - Nested queries are queries within a query. For example, a nested query occurs if you create a query to pull the <strong>Customer</strong> table and then create a second query to pull the <strong>Sales</strong> table based on the first query. Instead, use a join to link the two tables into a single query.</li>
</ul>
<p>The four types of joins that you can make with select queries are:</p>
<ul>
<li><strong>Join</strong> - Pulls records that match on both tables, such as an inner join.</li>
<li><strong>Outer join</strong> - Pulls records regardless of whether those records match on both tables.</li>
<li><strong>Exists join</strong> - Pulls all records from the first table that match the records in the second table. No records from the second table are returned.</li>
<li><strong>Notexists join</strong> - Pulls all records from the first table that don’t match records in the second table. No records from the second table are returned.</li>
</ul>
<p>Using the appropriate join can increase performance by reducing the
number of unneeded records and fields that are pulled.</p>
<p>On large tables and rapidly growing tables, such as an inventory
transaction table, you should use an <em>index</em> and <em>index hint</em> in queries
to sort the data. The keyword <em>index</em> tells the system to look for
an optimal index to use to sort the data. The <em>index hint</em> suggests an index.</p>
<h2 id="maintain-diagnostic-validation-rules">Maintain diagnostic validation rules</h2>
<p>Some tools can help you identify areas to
optimize performance. The <strong>Optimization advisor</strong> workspace within finance and operations apps is where you can view a list of messages from the last performance check of possible opportunities toward better performance.</p>
<p>You can maintain the rules and frequency of the performance check from <strong>System administration &gt; Periodic tasks &gt; Maintain diagnostics validation rule</strong> and <strong>System administration &gt; Periodic tasks &gt; Schedule diagnostics validation rule</strong>.</p>
<p>Dynamics 365 Lifecycle Services provides tools to help you monitor
performance. To access these tools, go to the <strong>Cloud-hosted
environments</strong> page and select the <strong>Full details</strong> link.</p>
<h2 id="optimization-tools">Optimization tools</h2>
<p>Finance and operations apps can use different tools for monitoring and diagnosing performance issues, including:</p>
<ul>
<li>Trace Parser, which includes long-running X++ methods, time-consuming SQL queries, and client server calls.</li>
<li>Performance SDK, which is for performance load test.</li>
<li>SQL Insights in Lifecycle Services, which includes performance metrics, index analysis, live view, queries, and actions for a specific environment.</li>
<li>SQL trace, which uses a SQL profiler on a Tier-1 environment.</li>
<li>Monitoring of server health metrics in Lifecycle Services for healthcheck for AOS, batch frameworks, the Data Import/Export framework, Microsoft Azure SQL, and Management reporter.</li>
</ul>
<h2 id="optimize-data-migration">Optimize data migration</h2>
<p>Data migration is a key success factor in almost every implementation. A primary concern for customers is how long a data migration might take, which depends on the amount of data that’s being migrated. Not all data entities are optimized for migration and the data volume that a migration might have.</p>
<p>You can make certain configurations to the <strong>Data management</strong> framework to help improve performance in data-migration scenarios, including:</p>
<ul>
<li><strong>Turn off change tracking</strong> - Change tracking is useful when you’re performing incremental data exports, and it slows down the migration process. Turning off change tracking helps improve performance.</li>
<li><strong>Turn on set-based processing</strong> - The <strong>Set-based processing</strong> field on the <strong>Data entity</strong> page is typically turned off. Set-based processing means bulk operations to the database instead of single record operations. You can also set the set-based processing feature at the top node for the data entity by setting the <strong>Enable Set Based SQL Operations</strong> and <strong>Support Set based SQL Operations</strong> properties to <strong>On</strong>.</li>
<li><strong>Create a data migration batch group</strong> - You should perform migration when few or no other activities are occurring on your system. Then, it might be helpful to run the jobs in a batch group.</li>
<li><strong>Enable priority-base batch scheduling</strong> - Optimize how batch jobs are run, which can use reserved capacity.</li>
<li><strong>Set up the maximum number of batch threads</strong> - The default maximum number of batches on a server configuration is eight. However, you can increase that to 12 or 16 threads. We recommend that you don’t set the number of threads higher than 16 without conducting full performance testing to determine potential system impacts.</li>
<li><strong>Import in batch mode</strong> - Use this configuration to use optimization configuration instead of a single thread.</li>
<li><strong>Clean staging tables</strong> - We recommend that you clean up staging tables. For more information, see <a data-linktype="absolute-path" href="/en-us/training/modules/work-data-management-finance-operations/7-export-import-copy-data/?azure-portal=true">Clean up the staging tables</a>.</li>
<li><strong>Update statistics</strong> - Updating statistics across associated tables can be helpful, and you can do so by using Lifecycle Services.</li>
<li><strong>Entity execution parameters</strong> - In the data import/export framework parameters on the <strong>Entity settings</strong> page, you can select the <strong>Configure entity execution</strong> parameters. Additionally, use the <strong>Import threshold record count</strong> and <strong>Import task count</strong> fields for optimization.</li>
<li><strong>Validations</strong> - You can turn off the ability to perform migration business validations and business logic by inserting and updating, which means that <code>validateWrite()</code> won’t run for validation and <code>insert()</code> and <code>update()</code> won’t run on the table. Also, you can turn off validation at the field level.</li>
</ul>
<p>General recommendations for optimizing data migration include:</p>
<ul>
<li>Separate files into smaller chunks.</li>
<li>Test performance in an appropriate Tier-2 or higher environment.</li>
<li>Test performance in a mock cutover before going live.</li>
</ul>
<p>Take notes when testing migration performance so that you’ve collected information on how to set up entities, batches, parameters, and other items.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Modify the scope of a variable</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The scope of a variable defines where the variable can be accessed.
Variables that are declared in the class declarations are called <em>instance variables</em>. Instance variables, if they aren't declared private, can be accessed from any method in the class and from methods within a class that are extended from the original class.</p>
<p>Local variables are declared in a method and can only be accessed in the
method that they are declared in. When a variable is declared, it takes up memory to store the value.</p>
<p>Declaring all your variables in the class declaration allocates memory
for every variable until the process is finished. Using local variables
can help reduce overhead by only allocating memory during the time when
the method is running. When the code block in which the variable is
declared finishes, the memory is freed. We recommend that you declare
variables at the smallest scope possible to optimize memory efficiency.</p>
<h2 id="example">Example</h2>
<p>Here is an example of an instance variable versus a local variable.</p>
<pre><code class="lang-xpp">class ExampleClass
{
    private int instanceVariable; // Instance variable: accessible throughout the class

    public void demonstrateVariableScope()
    {
        int localVariable = 10; // Local variable: accessible only within this method
        instanceVariable = localVariable * 2;
        info(strFmt("Instance Variable: %1, Local Variable: %2", instanceVariable, localVariable));
    }
}

// Output: Instance Variable: 20, Local Variable: 10
</code></pre>
<h2 id="best-practices-for-variable-declaration">Best practices for variable declaration</h2>
<p>Follow these best practices for variable declaration:</p>
<ul>
<li><strong>Use local scope whenever possible</strong> - Declare variables within the smallest scope required to achieve functionality.</li>
<li><strong>Avoid unnecessary instance variables</strong> - Overusing instance variables can lead to excessive memory consumption.</li>
<li><strong>Organize your code for clarity</strong> - Group related variable declarations and avoid declaring unused variables.</li>
</ul>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-variables-data-types/?azure-portal=true">X++ variables</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Analyze and optimize concurrency</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Concurrency is used to control when data is available for other
processes. finance and operations apps uses two concurrency models:</p>
<ul>
<li><strong>Pessimistic Concurrency Control (PCC)</strong> - Locks records as soon as    they are retrieved from the database.</li>
<li><strong>Optimistic Concurrency Control (OCC)</strong> - Locks records when they    are being updated.</li>
</ul>
<p>The PCC model should be used when there is serialization logic that
requires locks on the record, or when update conflicts are likely.</p>
<p>OCC should be used on tables where it improves throughput in contrast to
PCC. Also, OCC is preferred if the table is updated or deleted from a
form and not from code.</p>
<p>OCC has advantages that help increase database performance:</p>
<ul>
<li>Fewer resources are used to lock records during updates.</li>
<li>Records are locked for a shorter length of time by using OCC instead of PCC.</li>
<li>Records remain available for other processes while they are selected    from the database.</li>
</ul>
<p>The disadvantage of using OCC happens when two processes try to update the
same record at the same time. When this occurs, the update will fail,
which can lead to reduced database performance if there are multiple
retries to updates.</p>
<p>All standard tables in finance and operations apps have a concurrency model
selected, and most of the tables use OCC. You can set the concurrency
model on the <code>OccEnabled</code> table property. Additionally, you can
override the table concurrency model in a <strong>Select</strong> statement. After
the keyword <em>Select</em>, you can use the keyword <em>optimisticLock</em> or
<em>pessimisticLock</em> to replace the keyword <code>forUpdate</code>.</p>
<p><img alt="Screenshot of the Properties page, highlighting the Concurrency model dropdown menu." data-linktype="relative-path" src="./rawmb500/media_concurrency_1.png"/></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Apply parallel processing algorithms</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use different approaches to batch processing by using parallel
processing algorithms. Developers typically use three different types of
parallel processing in their designs:</p>
<ul>
<li><p><strong>Individual task modeling</strong> - Creates a separate batch task
for each work item. This approach works well with a small number of
work items, and it is best at creating dependencies between work
items compared to the other parallel processes. It is also simpler
to develop compared to the other parallel processes. The individual
task modeling approach is not ideal for many tasks because the extra
overhead will affect performance and cause delays between batch
tasks that are running.</p>
</li>
<li><p><strong>Batch bundling</strong> - Uses a limited number of batch tasks that
have a bundle size value (the number of work items in each batch
task). This approach works well for a simple, even workload where
processing times are similar. In this case, the batch table is not
overly populated by batch tasks. Performance can be increased if the
bundle size is appropriate. A bundle size that is too large or
too small can experience performance issues. Uneven workloads can decrease performance with this approach because batch tasks will finish
processing at different times.</p>
</li>
<li><p><strong>Top picking</strong> - Creates a limited number of batch tasks
where each batch task picks and processes the first free work item.
This process requires a staging table to store work items for batch
tasks to process from. This approach works well if the workload is
uneven with varying processing times. The batch table is also not
overpopulated with batch tasks that are using this approach. If
several small work items need to be processed, tracking the work
items in the staging table can affect performance.</p>
</li>
</ul>
<p>Some key considerations for selecting an approach are:</p>
<ul>
<li><strong>Workload characteristics</strong>
<ul>
<li>Select individual task modeling for small, interdependent workloads.</li>
<li>Opt for batch bundling for uniform tasks with predictable processing times.</li>
<li>Use top picking for uneven workloads requiring flexibility.</li>
</ul>
</li>
<li><strong>Performance Optimization</strong>
<ul>
<li>Minimize overhead by avoiding unnecessary batch task creation.</li>
<li>Experiment with bundle sizes in batch bundling to find an optimal balance.</li>
</ul>
</li>
<li><strong>Implementation Complexity</strong>
<ul>
<li>Start with individual task modeling for simple requirements.</li>
<li>Transition to batch bundling or top picking as workload complexity increases.</li>
</ul>
</li>
</ul>
<h2 id="example-scenario">Example Scenario</h2>
<p>Consider the problem that a company processes sales orders daily. Small orders (under USD 1000) take a few seconds to validate, while large orders (above USD 10,000) require manual approval, taking several minutes.</p>
<p>A solution to this problem is to use <em>top picking</em>. Use a staging table to dynamically allocate tasks to batch processes based on order size and priority.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement the Async framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Long-running processes can time out in finance and operations apps. To overcome this issue, asynchronous processing lets users continue working while the process runs in the background.</p>
<p>For example, you might need to run processing in the application that deals with a large amount of data or transactions, and you don’t want to interrupt daily business processes. Therefore, you can use the asynchronous framework to run these processes in the background while users continue their work without interruption.</p>
<p>To run a process asynchronously, you need to use the
<code>runAsync</code> methods from the <code>FormRun</code> and
<code>Global</code> classes to call the static method that you want to run.
If the process is run on the client side, we recommend that you use the
<code>FormRun</code> class's <code>runAsync</code> method. The Global
class has a <code>runAsync</code> method that we recommend for running
code outside of the client.</p>
<p>You can use a callback method to display a message when the process is
completed. Only the <code>FormRun</code> class <code>runAsync</code>
method displays the message immediately. If you use the
<code>Global</code> class <code>runAsync</code> method, you need to refresh the page.</p>
<p>The static method’s signature must:</p>
<ul>
<li>Be static.</li>
<li>Return a container as an output parameter.</li>
<li>Have a container for in-parameters. The container can hold more values if needed.</li>
<li>Have a cancellation token for in-parameters.</li>
</ul>
<p>The following example shows a static method that you can use as <code>runAsync </code>:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// Create entities asynchronously
    /// &lt;/summary&gt;
    /// &lt;param name = "_params"&gt;Parameters&lt;/param&gt;
    /// &lt;param name = "_cancellationToken"&gt;CancellationToken object&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    static container runAsyncJob(container _params, System.Threading.CancellationToken _cancellationToken)
    {
        System.Exception _ex;

        try
        {
            // do something
        }
        catch(_ex)
        {
            throw error("Unsuccessfull");
        }

        return ["Successfull"];
    }
</code></pre>
<p>You can use another static method for the result, which is successful or an exception, and its signature must:</p>
<ul>
<li>Be static.</li>
<li>Return void.</li>
<li>Have AsyncTaskResult as an in-parameter.</li>
</ul>
<p>The following example is of a static method for a result:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// Async callback
    /// &lt;/summary&gt;
    /// &lt;param name = "taskResult"&gt;Result of async import or export processing&lt;/param&gt;
    static public void processAsyncDataExecutionResult(AsyncTaskResult taskResult)
    {
        container returnValue;
        System.Exception exception;

        if (taskResult != null)
        {
            // Return value from async method
            returnValue = taskResult.getResult();

            // Exception thrown by async method invocation.
            exception = taskResult.getException();

            if (ClrInterop::isNull(exception))
            {
                info(con2Str(returnValue));
            }
            else
            {
                error(exception.Message);
            }
        }
    }
</code></pre>
<p>Now, the runAsync function can use the two methods (functions without a class name is defined in global class).</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        System.Threading.CancellationTokenSource tokenSource = new System.Threading.CancellationTokenSource();
        
        // run job asynchronously
        
        runAsync(classNum(MyASyncClass),
                 staticMethodStr(MyASyncClass, runAsyncJob),
                 conNull(),
                 tokenSource.Token,
                 classNum(MyASyncClass),
                 staticMethodStr(MyASyncClass, processAsyncDataExecutionResult));
    }
</code></pre>
<p>The parameters that the runAsync function uses must have the following components:</p>
<ul>
<li>Class number for the class to be run.</li>
<li>Static method that runs asynchronously.</li>
<li>Container for in-parameters. The value from the container parameters is set as a parameter list for the implementation method.</li>
<li>Fallback token. The value from the fallback token parameter is set as a token for the implementation method.</li>
<li>Class number for the return result.</li>
<li>Static method for the result.</li>
</ul>
<p>To review an example of the preceding information in a standard application, we recommend that you review the <strong>Refresh entity list</strong> function in finance and operations apps, <strong>Data management</strong> workspace, <strong>Framework parameters</strong>, and <strong>Entity settings</strong>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop Windows PowerShell scripts</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can develop Windows PowerShell scripts to interact with finance and operations apps and consume management functions.</p>
<p>Windows PowerShell is a task-based command-line shell and scripting language built on .NET. PowerShell helps system administrators and power-users to rapidly automate tasks that manage operating systems (Linux, macOS, and Windows) and processes.</p>
<p>PowerShell commands let you manage computers from the command line. PowerShell providers let you access data stores, such as the registry and certificate store, as easily as you access the file system. PowerShell includes a rich expression parser and a fully developed scripting language.</p>
<p>As a developer, you can create Windows PowerShell scripts in your developer box to automate tasks. In many cases, there may be several steps to a process you perform often. To help streamline and work more efficiently, you can write Windows PowerShell scripts to automate the steps. Your PowerScripts would be used in your developer environment.</p>
<p>The following are some scenarios where you can use PowerShell:</p>
<ul>
<li><strong>Database Sync</strong> – A PowerShell script can be used to synchronize the database. This is especially useful when you're copying a database between environments or during an upgrade.</li>
<li><strong>Restart services</strong> – You can create a script to restart services. You might want to do this when you're troubleshooting an environment.</li>
<li><strong>Reset the data mart</strong> – If your organization uses Financial Reports design for financial reporting, you can write a script that resets the data mart for financial reporting.</li>
<li><strong>Deploy and install models</strong> – If you want to automate deployment and installation of models, you can use a PowerShell script. You can do this for software deployable packages as well.</li>
</ul>
<h1 id="best-practices-for-powershell-scripting">Best practices for PowerShell scripting</h1>
<p>Here some best practices for working with PowerShell scripting.</p>
<h2 id="use-error-handling">Use error handling</h2>
<p>Ensure that scripts can gracefully handle unexpected issues.</p>
<p>Example:</p>
<pre><code class="lang-xpp">try {
    # Attempt to restart a service
    Restart-Service -Name 'MyService' -Force
} catch {
    Write-Error "Failed to restart service: $_"
}
</code></pre>
<h2 id="log-activities">Log activities</h2>
<p>Implement logging to track the success or failure of scripts for auditing and troubleshooting purposes.</p>
<p>Example:</p>
<pre><code class="lang-xpp"># Log the restart of a service
Write-Output "Service restarted successfully: $(Get-Date)" | Out-File "ServiceLog.txt" -Append
</code></pre>
<h2 id="test-thoroughly">Test thoroughly</h2>
<p>Always test scripts in a nonproduction environment to ensure reliability and prevent unintended consequences.</p>
<h2 id="follow-security-best-practices">Follow security best practices</h2>
<p>Restrict access to sensitive scripts and avoid hardcoding credentials.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create runnable classes in Visual Studio to test code</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As a finance and operations apps developer, you can use runnable classes to test your code. In this lab, you will create a new project in Visual Studio, write a runnable class, then run the code within the application to ensure it is working as expected.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Right-click the Visual Studio shortcut and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the left pane, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>RunnableClass</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model Management &gt; Update model parameters</strong></li>
<li>Select the <strong>FleetManagement</strong> model from the <strong>Model name</strong> dropdown list.</li>
<li>Select <strong>Next</strong>, then ensure <strong>ApplicationSuite</strong> (not <strong>ApplicationSuiteFormAdaptor</strong>) is selected in the <strong>Select referenced packages</strong> drop-down list.</li>
<li>Select <strong>Next</strong> until the form closes.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu again.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-runnable-class">Create a runnable class</h2>
<ol>
<li><p>In the <strong>Solution Explorer</strong> window, right-click the <strong>RunnableClass</strong> project.</p>
</li>
<li><p>Select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>On the left pane, select <strong>Code</strong> under <strong>Dynamics 365 Items</strong>.</p>
</li>
<li><p>On the middle pane, select <strong>Runnable class (Job)</strong>.</p>
</li>
<li><p>Enter <strong>SampleClass</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Select <strong>Add</strong>.</p>
</li>
<li><p>The <strong>SampleClass</strong> runnable class will now be open in the element designer window. It may take a few seconds to open.</p>
</li>
<li><p>Remove the code present in <strong>Element designer</strong> window and then enter the following code line by line. Notice that the main method is already added for you since you selected a runnable class.</p>
<pre><code class="lang-xpp">class SampleClass
{
 /// &lt;summary&gt;
 /// Runs the class with the specified arguments.
 /// &lt;/summary&gt;
 /// &gt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;

 Public static void main(Args _args)
     {
     	FMCustomer fmcustomers;

 	fmcustomers.FirstName = "Jane";
 	fmcustomers.LastName = "Doe";
 	fmcustomers.Email = "jane.doe@contoso.com";
 	fmcustomers.insert();

 	Info("Your record has been inserted.");
    }
}
</code></pre>
</li>
<li><p>Save the runnable class.</p>
</li>
<li><p>Right-click the <strong>RunnableClass</strong> project and select <strong>Build</strong>.</p>
</li>
<li><p>Right-click the <strong>Sample Class</strong> runnable class and select <strong>Set as Startup Object</strong>.</p>
</li>
<li><p>From the toolbar, select the option <strong>Debug &gt; Start Without Debugging</strong> to run the class.</p>
</li>
<li><p>The class runner will appear in a browser window after a couple of minutes, when the code executes, and an Infolog appear with <strong>Your record has been inserted.</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to update the unit price of multiple sales orders. What method would be best to use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Update()</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>doUpdate()</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>update_recordSet</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>insert_recordSet</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You are writing a query to retrieve the customers that are not associated with a sales order. What join between the Customer table and the Sales table should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Outer join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Exists join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>NotExists join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You need to run a process in parallel. There are around 1,000 work items that would need to run with a bundle size of 100. You know that the run time for each work item will vary. What approach should you take to run this process?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Individual task modeling</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch bundling</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Top picking</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>What is the best method to link data between two table instances of a ´TempDB´ table?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Use the <code>setTempData</code> method.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a <code>while select</code> method and copy data records individually to the other table instance.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Use the <code>linkPhysicalTableInstance</code> method.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Optimizing finance and operations apps is important during development, to
ensure proper system performance. Without optimization, system
performance will decrease, affecting users' ability to complete tasks in
a timely manner.</p>
<p>To optimize your system, use proper queries to only retrieve and
manipulate necessary data and use temporary tables when possible. For
long processes, investigate parallel processing and asynchronous
processing.</p>
<p>Additionally, Lifecycle Services and the <strong>Optimization advisor</strong> workspace can be used
to monitor performance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To reduce build time and ensure that you're always running the latest
version of finance and operations apps, you can't modify base code and no
Microsoft models can be overlayered.</p>
<p>Binary updates are provided to finance and operations apps monthly, to reduce
upgrade cost and deliver innovation to customers at a faster speed. Avoid intrusive customizations because it can impact those upgrade costs.</p>
<p>Finance and operations apps are customized by using extensions, which allow
you to add functionality to model elements and source code in the
Application Object Tree (AOT) by using Visual Studio. When a customization can't be accomplished by using an extension, you can submit an extensibility request support ticket. You can also write new code by using X++ to customize the functionality of the application. Event handlers and methods can be added to elements through extensions to change their behavior.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Customization models</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Extensions provide a seamless update process for developers. While it
can take less time to modify base code, this isn't an option in finance
and operations apps. While overlaying could potentially save time up front,
you would end up spending much more time later fixing code after an
update or hotfix is rolled out to the application. Customizations that
are made by using overlaying require code upgrades, more time to
recompile code, and extensive, costly testing. The costs that are involved in these tasks can make upgrading to newer versions of the applications daunting. Because models with overlayered customizations are contained in the same package as the base objects, the compile cycles take longer to perform and package distributions are larger.</p>
<p>Most elements in the AOT can be extended if you're referencing the
necessary models. If you attempt to create an extension and notice that the <strong>Create extension</strong> option appears dimmed, this is an indication that you need to update your model parameters.</p>
<p><a data-linktype="relative-path" href="media/create-new-extension.png#lightbox"><img alt="Graphic showing the create extension option not available." data-linktype="relative-path" src="./rawmb500/media_create_new_extension.png"/></a></p>
<p>You can update the models that you're referencing through the <strong>Model
management</strong> option by selecting <strong>Update model parameters</strong>. A dialog
box will open, allowing you to choose the model that you want your
project to reside in, and then you can select more model
references.</p>
<p>The most common models to reference are ApplicationCommon,
ApplicationFoundation, ApplicationPlatform, ApplicationSuite, and
Directory.</p>
<p>To update model parameters, follow these steps:</p>
<ol>
<li>In Visual Studio, select the <strong>Dynamics 365</strong> menu in the ribbon.</li>
<li>Select the <strong>Model Management</strong> menu.</li>
<li>Select <strong>Update model parameters</strong>.</li>
<li>In the <strong>Model name</strong> field, select your model from the drop-down menu. Select <strong>Next</strong>.</li>
<li>On the <strong>Select referenced packages</strong> page, select the box next to the models that you want to reference, meaning the models you want to use to create extensions.</li>
<li>Select <strong>Next</strong>. You'll see a summary of the models that you've selected.</li>
<li>Select <strong>Finish</strong>.</li>
</ol>
<p>Extension models can be created by using the <strong>Create model</strong> wizard. In the <strong>Select package</strong> window, select the <strong>Create a new package</strong> option instead of <strong>Select existing package</strong>.</p>
<p>To create a new extension model:</p>
<ol>
<li>Go to <strong>Dynamics 365 &gt; Model Management &gt; Create model</strong>.</li>
<li>Enter the model’s name, description, and package type.</li>
<li>Define references and dependencies for your model.</li>
<li>Select <strong>Finish</strong>.</li>
</ol>
<p>Extension models simplify and improve the performance of builds, test automation, deployments, and delivery to customers. From a service standpoint, Microsoft installs, patches, and upgrades in the cloud so that your customizations aren't affected. With an extension model, performing a build doesn't force a recompile of the whole application.</p>
<h2 id="best-practices-for-extensions">Best practices for extensions</h2>
<p>To ensure efficient and maintainable customizations in finance and Operations apps, we recommend following these best practices when using extensions:</p>
<ul>
<li><strong>Reference only necessary models</strong> - Include only the required models for your extension to reduce compile times and dependency management overhead.</li>
<li><strong>Keep customizations modular and reusable</strong> - Break down large extensions into smaller, independent modules wherever possible and design extensions to be reusable across multiple projects or environments.</li>
<li><strong>Adhere to naming conventions</strong> - Use clear and consistent naming for your models and extensions to avoid confusion.</li>
<li>Document customizations** - Maintain detailed documentation for each extension.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extension points for frameworks</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When a change needs to be propagated through the entire application, you should create an extension of that element to modify properties or components.</p>
<p>The following is an overview of common element types and the reasons for creating an extension of an element:</p>
<ul>
<li><strong>Labels</strong> - You would create a label extension file to modify the values of a label, add new labels, or add new languages. Label file    extensions are named with an <code>_extension</code> suffix, such as <strong>FLM_Extension</strong>.</li>
<li><strong>Enumeration</strong> (enum) - If the <code>IsExtensible</code> property is set to <strong>True</strong>, an enum can be extended to add new values to it.</li>
<li><strong>Extended data types (EDTs)</strong> - You can modify properties for an EDT, such as the label, string size, or help text by creating an extension, if <strong>String Size Is Extensible</strong> is set to <strong>Yes</strong>.</li>
<li><strong>Tables</strong> - You can extend a table to add new fields, indexes, or    relations, and modify properties for the table elements or the table. You can also implement event handlers that are called from the base implementations of the table methods.</li>
<li><strong>Data entities</strong> - Provide a denormalized version of underlying table schemas. Data entities can be extended for many of the same    reasons as tables and can also be extended to add data sources.</li>
<li><strong>Forms</strong> - Can be extended to add a new data source, add a new control, or modify properties such as labels, help text, and captions. Like tables, you can implement event handlers that are called from the base implementations of form methods.</li>
<li><strong>Menus</strong> - Menus, such as the main menu, are extended to add new    menu items, submenus, or menu references or to hide any of these    items. For example, if you created a new module, you would extend the main menu (Navigation pane) to add your submenu to it.</li>
</ul>
<p>While many extension capabilities exist, some customizations cannot be completed by using extensions. To achieve these customizations, you need to log a request with Microsoft that specifies your needs. These requests are logged in a specific project in Lifecycle Services. Related requests should be logged under the same project so Microsoft has a complete view of all requests for a specific implementation. In your Lifecycle Services project, you select the hamburger icon in the top-middle of the screen and select <strong>Support</strong> to view logged extensibility requests and/or to create a new extensibility request. Your extensibility request is then added to a backlog that is worked on by engineers. If a request is considered too intrusive, it is not be supported because it could prevent a seamless upgrade.</p>
<p>Intrusive customizations are one of the main obstacles to keeping
continuous upgrade costs as low as possible. When compiling code, Visual
Studio prevents some types of intrusive customizations, but not all
are detected.</p>
<p>Follow these guidelines to help ensure that you are not performing customizations that are too intrusive:</p>
<ul>
<li>A type's definition should not be changed because it is a breaking change that requires the update of all references. Ensuring that future references are implemented correctly is impossible if the type    definition is changed.</li>
<li>A model's author should remain in control of encapsulated code and    types to make improvements to the application.</li>
<li>Adding new behaviors is encouraged and is enabled by using extensions.</li>
<li>Extension capabilities must be designed as open for extensions, and    they must support multiple extensions that exist side by side in the    same installation.</li>
</ul>
<p>To create an extension (in general terms), follow these steps:</p>
<ol>
<li>In the <strong>Application Explorer</strong> window, expand the <strong>AOT</strong> node.</li>
<li>Expand the node for the element that you want to extend. For example, in Classic view, extend the <strong>Data Models</strong> node, and then    extend the <strong>Tables</strong> node to view all available tables.</li>
<li>Right-click the element that you want to extend.</li>
<li>Select <strong>Create extension</strong> to add an extension to your current project. Select <strong>Create extension in new project</strong> if you want to add the extension to a new project. The element is added to a project in the <strong>Solution Explorer</strong> window, and it opens in the element designer.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop code to extend a framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you need to change the behavior of an element, you create an
extension of that element. Some elements require code to be written to
change their behavior, such as adding an event handler. In other cases,
you might create a class extension to change an element's makeup.</p>
<h2 id="class-extensions">Class extensions</h2>
<p>To extend the business logic that is related to a table, you create an augmentation class. If you wanted to add another ID field to the table and have it filled, you would create a data event handler for the Inserting event and then implement the logic to fill the new field in that event handler. You can create a class that augments the table and enables access to the table's fields and methods in an easy-to-read manner. When creating a class extension, you must decorate it with the <code>ExtensionOf</code> attribute, use the <code>_Extension</code>
suffix, and indicate the class as <code>final</code>.</p>
<p>The following is an example of creating a class that extends
<code>InventTable</code>. Methods can then be added to this
augmented class where the comment is used.</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(InventTable))]
final class InventTableNew_Extension
{
 	public void newDefaultInventLocationId()
	 {
	 //enter your code here
	 }
}
</code></pre>
<h2 id="event-handlers">Event handlers</h2>
<p>An event handler is a way for you to write or copy code to an element that runs when a certain event occurs, such as when a field is modified or a record is deleted. Some elements, like tables and forms, contain an <strong>Events</strong> node in the designer window that, when expanded, lists all the events that are associated with that element. If you need to add supplementary behavior that doesn't currently exist in an element, you should create an extension of that element, and then add an event handler to the extended element.</p>
<p>The following are methods for event handlers that are pulled from the <code>CustTable</code> table. These methods can be copied and added to your extended element or class by right-clicking the event in the element designer window and selecting <strong>Copy event handler method</strong>.</p>
<p><a data-linktype="relative-path" href="media/copy-event-handler.png#lightbox"><img alt="Visual Studio screenshot showing how to copy event handler method from
the table designer
window." data-linktype="relative-path" src="./rawmb500/media_copy_event_handler.png"/></a></p>
<ul>
<li><strong><code>OnDeleted</code> event</strong> - This is a post-event handler that triggers when a record is deleted in the table. You could use this, for example, to display an Infolog message after a record is deleted.</li>
</ul>
<pre><code class="lang-xpp">/// &lt;summary&gt;
///
/// &lt;/summary&gt;
/// &lt;param name="sender"&gt;&lt;/param&gt;
/// &lt;param name="e"&gt;&lt;/param&gt;
[DataEventHandler(tableStr(CustTable), DataEventType::Deleted)]
public static void CustTable_onDeleted(Common sender, DataEventArgs e)
{
}
</code></pre>
<ul>
<li><strong><code>OnInserting</code> event</strong> - This is triggered when data
is being inserted. For example, this could trigger when you add a  new customer to finance and operations apps.</li>
</ul>
<pre><code class="lang-xpp">/// &lt;summary&gt;
///
/// &lt;/summary&gt;
/// &lt;param name="sender"&gt;&lt;/param&gt;
/// &lt;param name="e"&gt;&lt;/param&gt;
[DataEventHandler(tableStr(CustTable), DataEventType::Inserting)]
public static void CustTable_onInserting(Common sender, DataEventArgs e)
{
}
</code></pre>
<ul>
<li><strong><code>OnValidatedWrite</code> event</strong> - This is a post-event
handler that triggers after data is entered. This is used to
validate data that is being written to a page, such as ensuring that a customer is at least 18 years old by verifying a birth date.</li>
</ul>
<pre><code class="lang-xpp">/// &lt;summary&gt;
///
/// &lt;/summary&gt;
/// &lt;param name="sender"&gt;&lt;/param&gt;
/// &lt;param name="e"&gt;&lt;/param&gt;
[DataEventHandler(tableStr(CustTable), DataEventType::ValidatedWrite)]
public static void CustTable_onValidatedWrite(Common sender, DataEventArgs e)
{
}
</code></pre>
<h2 id="chain-of-command">Chain of Command</h2>
<p>You can wrap logic around methods that are defined in the base class that you're augmenting. You can also extend the logic of public and protected
methods without having to use event handlers.</p>
<p>When wrapping a method, you can access public and protected methods as
well as variables of the base class. Using a wrapper around a method and
the <code>next</code> keyword creates a Chain of Command (CoC).</p>
<p>CoC is a design pattern where a request is handled by a series of
receivers. An extension class is used to wrap protected or public
methods of classes, tables, data entities, and forms. You should be aware of some restrictions when wrapping methods:</p>
<ul>
<li>The wrapper method must have the same signature as the base method.</li>
<li>When you augment form classes, only root-level methods can be    wrapped, not methods that are defined in nested classes.</li>
</ul>
<p>Wrapper methods in an extension class are required to always call
<code>next</code> so that the <code>next</code> method in the chain
and, finally, the original implementation is always called. This process ensures that every method in the chain factors into the result. The method must call <strong><code>next()</code></strong> unconditionally.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create pre-event and post-event handler classes</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use event handler classes for pre-handlers and post-handlers to extend an application, like how you’d use Chain of Command (CoC) for method wrapping.</p>
<p>An event handler class is another way to extend an application, and you use it as you would other event handler classes. You can use pre-handlers and post-handlers in a class where the original method has a pre-handler that runs before the original method and a post-handler that you would implement afterward. Handlers surround the original method. Additionally, you can use attributes to prevent or allow extending pre-handlers and post-handlers.</p>
<h2 id="pre-event-and-post-event-classes">Pre-event and post-event classes</h2>
<p>To add a pre-event and post-event class, create a new event handler class. You can add a class to a project from the <strong>Solution Explorer</strong> window by right clicking the project or activating the context menu and then selecting <strong>Add</strong>, <strong>New item</strong>, <strong>Code</strong>, <strong>Class</strong> or <strong>Add Class</strong>.</p>
<p>Enter a descriptive name for the pre-event and post-event class, such as <strong>CustTableTableEventHandler</strong>. It’s best practice to use the object name as a starting point, such as <strong>CustTable</strong>, and then add the object type, such as <strong>Table</strong>, because CustTable could be a table or a form. Then, you can append it with <strong>EventHandler</strong>. For example, you could have two event handler classes that are named <strong>CustTableTableEventHandler</strong> and <strong>CustTableFormEventHandler</strong>.</p>
<p>To add a pre-event or post-event, make sure that the method that’s in the event handler class is discoverable. On the method, right-click or activate the context menu, select <strong>Copy event handler method</strong>, and then select <strong>Pre-event handler</strong>, as the following image depicts.</p>
<p><a data-linktype="relative-path" href="media/copy-eventhandler-method.png#lightbox"><img alt="Visual Studio screenshot showing how to copy event handler method from
and then select Pre-event handler." data-linktype="relative-path" src="./rawmb500/media_copy_eventhandler_method.png"/></a></p>
<p>After you select the pre-event handler, go to the event handler class, and then paste the method. Return to the method, select the post-event handler, and then paste it in the event handler class.</p>
<p>Two methods for pre-events and post-events should display, and the original method is called between these two methods (super call), as the following code sample illustrates:</p>
<pre><code class="lang-xpp">internal final class CustTableTableEventHandler
{
    /// &lt;summary&gt;
    ///
    /// &lt;/summary&gt;
    /// &lt;param name="args"&gt;&lt;/param&gt;
    [PreHandlerFor(tableStr(CustTable), tableMethodStr(CustTable, insert))]
    public static void CustTable_Pre_delete(XppPrePostArgs args)
    {
        CustTable custTable = args.getThis() as CustTable;

        // do something
    }

    /// &lt;summary&gt;
    ///
    /// &lt;/summary&gt;
    /// &lt;param name="args"&gt;&lt;/param&gt;
    [PostHandlerFor(tableStr(CustTable), tableMethodStr(CustTable, insert))]
    public static void CustTable_Post_delete(XppPrePostArgs args)
    {
        CustTable custTable = args.getThis() as CustTable;

        // do something
    }
}
</code></pre>
<h2 id="attributes">Attributes</h2>
<p>You can add attributes to a method to prevent people from using pre-handlers and post-handlers and other extensions. The three types of attributes that you can add are hookable, wrappable, and replaceable.</p>
<p>Hookable attributes complete the following actions:</p>
<ul>
<li><strong>[Hookable(false)]</strong> - Overrides the behavior so that it’s not possible to create pre-events and post-events, which means that the method isn’t wrappable.</li>
<li><strong>[Hookable(true)]</strong> - Overrides the behavior so that it’s possible to create pre-events and post-events.</li>
</ul>
<p>Wrappable attributes complete the following actions:</p>
<ul>
<li><strong>[Wrappable(false)]</strong> - Overrides the default capability for (non-final) public and protected methods to be wrapped, so it’s no longer possible to wrap the method. In other words, the method isn’t wrappable.</li>
<li><strong>[Wrappable(true)]</strong> - Overrides the behavior of not being able to wrap methods that are marked as <strong>final</strong>, so it is possible to wrap the method. In other words, the method becomes wrappable.</li>
</ul>
<p>Replaceable attributes complete the following actions:</p>
<ul>
<li><strong>[Replaceable (false)]</strong> - Overrides the behavior so that Chain of Command (CoC) must have an unconditional next call.</li>
<li><strong>[Replaceable (true)]</strong> Overrides the behavior so that it’s possible to have a CoC extension, but they don’t need to unconditionally call <strong>next</strong>.</li>
</ul>
<p>The replaceable method must also be wrappable.</p>
<p>The following code example shows that the method is protected to have pre-events and post-events and CoC by using [Hookable(false), Wrappable(false)], which means that no extensibility is available.</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// Calculates and sets the &lt;c&gt;AmountCur&lt;/c&gt; field using the &lt;c&gt;Quantity&lt;/c&gt; and &lt;c&gt;UnitPrice&lt;/c&gt;
    /// values.
    /// &lt;/summary&gt;
    /// &lt;param name="_qty"&gt;
    /// Item quantity on the line.
    /// &lt;/param&gt;
    /// &lt;returns&gt;
    /// The &lt;c&gt;AmountCur&lt;/c&gt; value.
    /// &lt;/returns&gt;
    [Hookable(false), Wrappable(false)]
    public AmountCur calcLineAmount(Qty _qty = this.Quantity)
    {
        return this.salesPurchLineInterface().calcLineAmount(_qty);
    }
</code></pre>
<p>When you’re using attributes for methods, make sure that you’re aware of extensibility and potentially breaking it.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement the SysOperationSandbox framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps provides several ways for you to run time-consuming operations.</p>
<ul>
<li>You can use batch processes to perform lengthy tasks that are implemented on the batch servers.</li>
<li>Occasionally, you'll need to run processes in the web client. If you run the process in synchronous mode, the web browser will be frozen until the process completes. The Application Object Server (AOS) might disconnect the client if the process takes too long, which will eventually fail the process that was running in the web client. To avoid this situation, you can run an asynchronous process, which will leave the web client free for the user.</li>
<li>You can use the SysOperationSandbox framework, which will implement the long running process in a separate session in async mode. Additionally, it shows the waiting page for the async process, without having the user interface frozen. It also has a <strong>Cancel</strong> button to abandon the process.</li>
</ul>
<h2 id="sysoperationsandbox">SysOperationSandbox</h2>
<p>By using SysOperationSandbox, you can run a synchronous operation on the asynchronous session that's happening on the web client. The framework will help you run two client sessions in parallel. The first session is an async session that runs the business logic in a static class. The second session communicates with the user interface to keep it live without allowing a timeout. As a result, you can run a synchronous session in a form without the risk of the web client disconnecting.</p>
<p>The sandbox framework creates a new instance of class and runs it in an asynchronous mode. After the class has completed implementation, the synchronous process will continue. The framework can marshal the state of the current instance to the new instance by using the pack()/unpack() method prior to starting the run() method. The same process continues when the new instance is back to the current instance. Hence, the state of the class must be properly serialized in the pack() and unpack() methods, which is already available for classes that are derived from RunBaseBatch.</p>
<h3 id="example">Example</h3>
<p>A custom table called BankCheque has two fields: <strong>BankAccount</strong> and <strong>CheckNo</strong>. You need to run a user interface-driven process to add 100 new check numbers, starting from 10000, by using the sandbox framework.</p>
<ol>
<li>Create a new class with business logic to create 100 new check numbers. Pack and unpack methods are also created in the class.</li>
</ol>
<pre><code class="lang-xpp">class SandBoxLabHelper
{
    public static container AsyncInfo(container _parameters)
    {

        str bankAccount = conPeek(_parameters, 1);
        int checkStart = conPeek(_parameters, 2);
        int checkCount = conPeek(_parameters, 3);
        
        BankChequeTable   bankChequeTable;

        for(int i = checkStart; i &lt; (checkStart + checkCount); i++)
        {
            bankChequeTable.clear();
            bankChequeTable.AccountID = bankAccount;
            bankChequeTable.ChequeNum = int2Str(i);
            bankChequeTable.insert();
        }
        return [true];
    }

    public container pack()
    {
        return conNull();
    }

    public boolean unpack(container _packedClass)
    {
        return true;
    }

	}
</code></pre>
<ol start="2">
<li>Create a new form and add a button. Write code in the clicked() method of the button to run the preceding AsyncInfo static method by using the sandbox framework.</li>
</ol>
<pre><code class="lang-xpp">public void clicked()
{
   boolean result;
   container mCon;
   mCon = conIns(mCon, 1, "1111111111");
   mCon = conIns(mCon, 2, 100000);
   mCon = conIns(mCon, 3, 100);
            
   [result] = SysOperationSandbox::callStaticMethod(classNum(SandBoxLabHelper), staticMethodStr(SandBoxLabHelper, AsyncInfo), mCon, "Processing", "Completed", "Cancelled");
   super();
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement the workflow framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A workflow is a system or business process that defines how a document flows through a system by showing who must complete a task, make a decision, or approve a document. You can configure workflows in the applicable system or create them in a development environment.</p>
<p>In this unit, you learn how to create a flow and its elements from a development environment. Workflow elements include:</p>
<ul>
<li>Workflow categories</li>
<li>Workflow approvals</li>
<li>Workflow manual and automated tasks</li>
<li>Workflow types</li>
<li>Flow-control elements</li>
<li>Providers</li>
</ul>
<h2 id="create-required-elements-for-a-new-workflow-type">Create required elements for a new workflow type</h2>
<p>In Microsoft Visual Studio, you use a wizard to create a workflow type and subsequent workflow configurations. First, you must create several elements for which the workflow type wizard prompts you, including:</p>
<ul>
<li><strong>Workflow category</strong> - Specifies the workflow’s module.</li>
<li><strong>Query</strong> - Queries the document table.</li>
<li><strong>Document menu item</strong> - Points to a form, which means that you must have a table and form already created.</li>
</ul>
<p>To create the workflow category, query, and document menu item, follow these steps:</p>
<ol>
<li><p>In Solution Explorer, specify a project for the workflow development by right-clicking the solution to open the context menu and then selecting <strong>Add &gt; New project</strong>.</p>
</li>
<li><p>Enter <strong>MyWorkflow</strong> as the name for the project.</p>
<div class="NOTE">
<p>Note</p>
<p>You should have previously created a solution for use in this step.</p>
</div>
</li>
<li><p>On the properties for the project, select <strong>True</strong> for <strong>Synchronize Database</strong> because you're adding a new table to the project.</p>
</li>
<li><p>Right-click the project to open the context menu, and then select <strong>Add &gt; New Item</strong>.</p>
</li>
<li><p>Go to <strong>Dynamics 365 Items &gt; Business Process and Workflow</strong>.</p>
</li>
<li><p>Select <strong>workflow category</strong>, and then enter <strong>MyWorkflowCategory</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Open the created workflow category in Visual Studio Designer, and then in <strong>Properties</strong>, set the module to <strong>Inventory</strong> and enter <strong>My workflow category</strong> for the label.</p>
</li>
<li><p>Create a base enumerator to manage the workflow’s status by right-clicking the project to open the context menu and then selecting <strong>Add &gt; New Item</strong>.</p>
</li>
<li><p>Select <strong>Data Types</strong> and then select <strong>Base Enum</strong>.</p>
</li>
<li><p>In the <strong>Name</strong> field, enter <strong>MyWorkflowStatus</strong> and then select <strong>Add</strong>. Right-click the new base enumerator to open the context menu and then select <strong>New Element</strong>.</p>
</li>
<li><p>Add the following seven new elements to the <strong>Base Enum</strong> (we recommend that you set the name and label):</p>
<ul>
<li>Submit</li>
<li>Started</li>
<li>Canceled</li>
<li>Complete</li>
<li>Denied (for approval workflow)</li>
<li>Change requested (for approval workflow)</li>
<li>Returned (for approval workflow)</li>
</ul>
</li>
<li><p>Create a table that includes the workflow status by right-clicking the project to open the context menu, selecting <strong>Add &gt; Table</strong>, and then entering <strong>MyWorkflowTable</strong> as the name.</p>
</li>
<li><p>Add the following extended data types to the <strong>Field</strong> node:</p>
<ul>
<li>Num</li>
<li>Description</li>
<li>MyWorkflowStatus (the newly created base enum for statuses) - Change the <strong>Allow Edit</strong> property to <strong>No</strong>.</li>
</ul>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the project to open the context menu, select <strong>Add &gt; Form</strong>, and then enter the name <strong>MyWorkflowTableForm</strong>. The created form is now in Visual Studio Designer.</p>
</li>
<li><p>Drag your workflow table (MyWorkflowTable) into the <strong>Data Sources</strong> node on the form.</p>
</li>
<li><p>Right-click the form in the design area to open the context menu, and then select <strong>Apply Pattern &gt; Custom</strong>.</p>
</li>
<li><p>Right-click the form in the design area to open the context menu, and then select <strong>New &gt; Action Pane</strong>.</p>
</li>
<li><p>Right click the form in the design area to open the context menu, and then select <strong>New &gt; Grid</strong>.</p>
</li>
<li><p>Open the <strong>Data Sources</strong> node, select your data source (<strong>MyWorkflowTable</strong>), and then select <strong>Fields</strong>. Select and drag the <strong>Num</strong>, <strong>Description</strong>, and <strong>MyWorkflowStatus</strong> fields from the <strong>Fields</strong> node into the grid in the design area. Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Go to the user interface and select <strong>Display Menu Item</strong>.</p>
</li>
<li><p>Enter a name, such as <strong>MyWorkflowTableForm</strong>. You use this display menu item for the <strong>Workflow</strong> type and to add the form to a menu.</p>
</li>
<li><p>On the properties for the new <strong>Display Menu Item</strong>, select an <strong>Object</strong> of <strong>MyWorkflowTableForm</strong>.</p>
</li>
<li><p>Enter a label for the menu item, such as <strong>My workflow</strong>, and then select <strong>Save</strong>.</p>
</li>
<li><p>In Application Explorer, search for the <strong>InventoryManagement</strong> menu under <strong>User Interface</strong>, and then right-click the menu and select <strong>Create Extension</strong>. (Your solution should reference ApplicationSuite.) The system creates a menu extension in your project.</p>
</li>
<li><p>Right-click the menu extension in Solution Explorer, and then select <strong>Open</strong>. The menu extension opens in Designer.</p>
</li>
<li><p>Go to the <strong>InquiriesAndReports</strong> node. Select and drag the display menu item from the project to the <strong>InquiriesAndReports</strong> node in the menu extension. Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Go to <strong>Data Model</strong> and select <strong>Query</strong>. Enter the name <strong>MyWorkflowTableQuery</strong>.</p>
</li>
<li><p>Select and drag the table (<strong>MyWorkflowTable</strong>) from the project into the <strong>Data Source</strong> node on the query.</p>
</li>
<li><p>In the properties for the <strong>MyWorkflowTable</strong> data source, in the <strong>Dynamic Fields</strong> property, select <strong>Yes</strong> and then select <strong>Save</strong>.</p>
</li>
</ol>
<p>You’ve now created all required elements for creating a workflow type.</p>
<h2 id="create-a-workflow-type">Create a workflow type</h2>
<p>After creating all required elements for creating a workflow type, you can create a workflow type.</p>
<ol>
<li><p>Right-click the project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Go to <strong>Business Process</strong> and <strong>Workflow</strong>.</p>
</li>
<li><p>Select <strong>Workflow Type</strong>, and then enter the name <strong>MyWorkflowType</strong>. The <strong>Workflow Type</strong> wizard opens.</p>
</li>
<li><p>Enter your newly created workflow category, query, and display menu items in the fields of the same names, and then select <strong>Next</strong>:</p>
<ul>
<li><p><strong>Category</strong> - MyWorkflowCategory</p>
</li>
<li><p><strong>Query</strong> - MyWorkflowTableQuery</p>
</li>
<li><p><strong>Document menu item</strong> - MyWorkflowTableForm</p>
<div class="mx-imgBorder">
</div>
</li>
</ul>
<blockquote>
<p><a data-linktype="relative-path" href="media/add-workflow-type.png#lightbox"><img alt="Screenshot of the Workflow Type page, showing the fields to fill out." data-linktype="relative-path" src="./rawmb500/media_add_workflow_type.png"/></a></p>
</blockquote>
</li>
<li><p>The <strong>Preview</strong> window lists the workflow type artifacts (classes and menu items). Select <strong>Next</strong> to create the workflow type and artifacts. The <strong>Add New Items</strong> window opens again, and you can close it by selecting <strong>Cancel</strong>. Several new elements should now be added to your project.</p>
</li>
<li><p>Open the two new <strong>Action Menu</strong> items and change the following labels:</p>
<ul>
<li><strong>CancelMenuItem</strong> - Change the label to <strong>Cancel</strong>.</li>
<li><strong>SubmitMenuItem</strong> - Change the label to <strong>Submit</strong>.</li>
</ul>
</li>
<li><p>Select <strong>Save All</strong>.</p>
</li>
<li><p>Open the <strong>SubmitManager</strong> class (<strong>MyWorkflowSubmitManager</strong>), and then replace the existing code with the following code. A dialog opens when you run the code. When you close the dialog, the new table’s status should change to <strong>Submit</strong>.</p>
<pre><code class="lang-xpp"> /// &lt;summary&gt;
 /// The MyWorkflowTypeSubmitManager menu item action event handler.
 /// &lt;/summary&gt;
 public class MyWorkflowTypeSubmitManager 
 {
     public static void main(Args args)
 	{
 		//  TODO:  Write code to execute once a work item is submitted.

         MyWorkflowTable         myWorkflowTable;

         WorkflowComment         note = "";
         WorkflowSubmitDialog    workflowSubmitDialog;
         WorkflowCorrelationId   workflowCorrelationId;
         WorkflowTypeName        workflowTypeName = workFlowTypeStr('MyWorkflowType');

         // Use WorkflowSubmitDialog to create a dialog.

         workflowSubmitDialog =    WorkflowSubmitDialog::construct(args.caller().getActiveWorkflowConfiguration());
         workflowSubmitDialog.run();

         if (workflowSubmitDialog.parmIsClosedOK())
         {
             myWorkflowTable = args.record();

             note = workflowSubmitDialog.parmWorkflowComment();

             try
             {
                 ttsbegin;

                 workflowCorrelationId = Workflow::activateFromWorkflowType(workflowTypeName, myWorkflowTable.RecId, note, NoYes::No);

                 myWorkflowTable.MyWorkflowStatus = MyWorkflowStatus::Submit;
                 myWorkflowTable.update();

                 ttscommit;

                 info("Workflow submitted.");
             }

             catch (Exception::Error)
             {
                 error("Workflow error.");
             }
         }

         args.caller().updateWorkFlowControls();
 	}
 }
</code></pre>
<p>You can set each status in the workflow event handler class by using a method for updating the <strong>Status</strong> field on the table that you previously created.</p>
</li>
<li><p>Open the workflow table (<strong>MyWorkflowTable</strong>) in Visual Studio Designer, and then right-click it to open the context menu. To open the code editor, select <strong>View Code</strong>.</p>
</li>
<li><p>Create a new <code>public</code> method for updating the status for a specific <strong>RecId</strong>, as follows:</p>
<pre><code class="lang-xpp"> public class MyWorkflowTable extends common
 {
     public static void  updateWorkflowStatus(RefRecId _recId , MyWorkflowStatus _status)
     {
         MyWorkflowTable    myWorkflowTable;

         ttsbegin;

         select forupdate myWorkflowTable
             where myWorkflowTable.RecId == _recId;

         if (myWorkflowTable)
         {
             myWorkflowTable.MyWorkflowStatus = _status;
             myWorkflowTable.update();
         }

         ttscommit;
     }
 }
</code></pre>
</li>
<li><p>Go to the workflow table (<strong>MyWorkflowTable</strong>), and then right-click the <strong>Methods</strong> node to open the context menu.</p>
</li>
<li><p>Select <strong>Override</strong>, and then select the <code>canSubmitToWorkflow</code> method. The method should return a status of <strong>True</strong> so that you can submit the workflow. The system should now allow you to submit all incomplete workflows.</p>
<pre><code class="lang-xpp">     /// &lt;summary&gt;
     /// Can workflow be submitted.
     /// &lt;/summary&gt;
     /// &lt;param name = "_workflowType"&gt;&lt;/param&gt;
     /// &lt;returns&gt;&lt;/returns&gt;
     public boolean canSubmitToWorkflow(str _workflowType = '')
     {
         boolean ret;

         ret = super(_workflowType);

         if (this.MyWorkflowStatus != MyWorkflowStatus::Complete)
         {
             ret = true;
         }
         else
         {
             ret = false;
         }

         return ret;
     }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong> and then build the project.</p>
</li>
<li><p>Open the <code>event handler</code> class for the workflow type (<strong>MyWorkflowTypeEventHandler</strong>). The class has event methods for started, canceled, and completed. Call the method for updating the status on the table, as follows:</p>
<pre><code class="lang-xpp"> /// &lt;summary&gt;
 /// The MyWorkflowTypeEventHandler workflow event handler.
 /// &lt;/summary&gt;
 public class  MyWorkflowTypeEventHandler implements WorkflowCanceledEventHandler,  
 	WorkflowCompletedEventHandler,
 	WorkflowStartedEventHandler
 {
     public void started(WorkflowEventArgs _workflowEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is started.

         MyWorkflowTable::updateWorkflowStatus(_workflowEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Submit);
 	}

     public void canceled(WorkflowEventArgs _workflowEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is canceled.

         MyWorkflowTable::updateWorkflowStatus(_workflowEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Canceled);
 	}

     public void completed(WorkflowEventArgs _workflowEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is completed.

         MyWorkflowTable::updateWorkflowStatus(_workflowEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Complete);
 	}
 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong> and then build the project again.</p>
</li>
<li><p>The system creates the workflow type. To set workflow properties, open <strong>MyWorkflowTableForm</strong>.</p>
</li>
<li><p>In <strong>FormDesign</strong> properties, locate and fill out the following elements:</p>
<ul>
<li><strong>Title Data Source</strong> - MyWorkflowTable</li>
<li><strong>Workflow Data Source</strong> - MyWorkflowTable</li>
<li><strong>Workflow enabled</strong> - Yes</li>
<li><strong>Workflow Type</strong> - MyWorkflowType</li>
</ul>
</li>
<li><p>Select <strong>Save all</strong> and then build the project again with synchronization turned on.</p>
</li>
</ol>
<p>Your workflow type is now created.</p>
<h2 id="create-workflow-approval">Create workflow approval</h2>
<p>After you create the workflow type, you can create workflow approval. To do so, make sure that you have the following prerequisites:</p>
<ul>
<li><strong>Document type</strong> - The workflow type creates the document type class.</li>
<li><strong>Document preview field group</strong> - You must create a new field group on the table, which the following process explains how to complete.</li>
<li><strong>Document menu item</strong> - You previously created this component.</li>
</ul>
<h3 id="add-the-preview-field-group-to-the-table">Add the preview field group to the table</h3>
<p>To add the preview field group to the table, follow these steps:</p>
<ol>
<li>Open the <strong>MyWorkflowTable</strong> table in Visual Studio Designer, and then go to the field groups.</li>
<li>Right-click the <strong>Field groups</strong> node to open the context menu, and then add a new group named <strong>Workflow</strong>.</li>
<li>Move your three fields from the table into the field group.</li>
<li>Select <strong>Save all</strong> and then build the project.</li>
</ol>
<p>Now, you can create the workflow approval.</p>
<h3 id="create-the-new-workflow-approval">Create the new workflow approval</h3>
<p>To create the workflow approval, follow these steps:</p>
<ol>
<li><p>Right-click the project to open the context menu, and then select <strong>Add New Item</strong>.</p>
</li>
<li><p>Go to <strong>Business Process and Workflow</strong>, select <strong>Workflow Approval</strong>, and then enter the name <strong>MyWorkflowApproval</strong>.</p>
</li>
<li><p>Enter the following settings in the Workflow Approval wizard that opens:</p>
<ul>
<li><strong>Workflow document</strong> - The document that you created (MyWorkflowTypeDocument) when creating the workflow type.</li>
<li><strong>Document preview field group</strong> - The field group (Workflow) that you created.</li>
<li><strong>Document menu item</strong> - The menu item that you created for your form and used in the workflow type (MyWorkflowTableForm).</li>
<li><strong>Enable Deny outcome</strong> - Leave the field as it is.</li>
</ul>
</li>
<li><p>Select <strong>Next</strong>. The <strong>Workflow Approval</strong> page should appear.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/workflow-approval.png#lightbox"><img alt="Screenshot of the Workflow Approval page, showing the result of the steps." data-linktype="relative-path" src="./rawmb500/media_workflow_approval.png"/></a></p>
</div>
</li>
<li><p>Select <strong>Next</strong> to have the system create all classes and menu items or select <strong>Cancel</strong> to close the window. The system adds the classes and menu items to your project, but you must modify it.</p>
</li>
<li><p>Open your workflow approval event handler class from the project <strong>MyWorkflowEventHandler</strong>.</p>
</li>
<li><p>For each status, update your table. The following code example calls the <code>updateWorkflowStatus</code> method for each event to update its status in the table.</p>
<pre><code class="lang-xpp">    public void started(WorkflowElementEventArgs _workflowElementEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is started.

         MyWorkflowTable::updateWorkflowStatus(_workflowElementEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Started);
 	}

    public void canceled(WorkflowElementEventArgs _workflowElementEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is canceled.

         MyWorkflowTable::updateWorkflowStatus(_workflowElementEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Canceled);
 	}

    public void completed(WorkflowElementEventArgs _workflowElementEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is completed.

         MyWorkflowTable::updateWorkflowStatus(_workflowElementEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Complete);
 	}

    public void denied(WorkflowElementEventArgs _workflowElementEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is denied.

         MyWorkflowTable::updateWorkflowStatus(_workflowElementEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Denied);
 	}

    public void changeRequested(WorkflowElementEventArgs _workflowElementEventArgs)
 	{
 		// TODO:  Write code to execute once change is requested for the workflow.

         MyWorkflowTable::updateWorkflowStatus(_workflowElementEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::ChangeRequested);
 	}

    public void returned(WorkflowElementEventArgs _workflowElementEventArgs)
 	{
 		// TODO:  Write code to execute once the workflow is returned.

         MyWorkflowTable::updateWorkflowStatus(_workflowElementEventArgs.parmWorkflowContext().parmRecId(),MyWorkflowStatus::Returned);
 	}

    public void created(WorkflowWorkItemsEventArgs _workflowWorkItemsEventArgs)
 	{
 		// TODO:  Write code to execute once work items are created.
 	}
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>.</p>
</li>
<li><p>For the workflow approval action menu items, you must set labels:</p>
<ol>
<li>Open the Action Menu Item for the <strong>Approve</strong> workflow approval (<strong>MyWorkflowApprovalApprove</strong>) in Visual Studio Designer, and then set the <strong>Label</strong> property to <strong>Approve</strong>.</li>
<li>Select <strong>Save all</strong> and then close the menu item.</li>
<li>Open the Action Menu Item for the <strong>Delegate</strong> workflow approval (<strong>MyWorkflowApprovalDelegateMenuItem</strong>), and then set the <strong>Label</strong> property to <strong>Delegate</strong>.</li>
<li>Select <strong>Save all</strong> and then close the menu item.</li>
<li>Open the Action Menu Item for the <strong>Reject</strong> workflow approval (<strong>MyWorkflowApprovalReject</strong>), and then set the <strong>Label</strong> property to <strong>Reject</strong>.</li>
<li>Select <strong>Save all</strong> and then close the menu item.</li>
<li>Open the Action Menu Item for the <strong>Request</strong> change workflow approval (<strong>MyWorkflowApprovalRequestChange</strong>), and then set the <strong>Label</strong> property to <strong>Request</strong> change.</li>
<li>Select <strong>Save all</strong> and then close the menu item.</li>
<li>Open the Action Menu Item for the <strong>Re-submit</strong> workflow approval (<strong>MyWorkflowApprovalResubmit</strong>), and then set the <strong>Label</strong> property to <strong>Re-submit</strong>.</li>
<li>Select <strong>Save all</strong> and then close the menu item.</li>
</ol>
</li>
<li><p>Point the workflow type to workflow approval by opening the workflow type (<strong>MyWorkflowType</strong>) in Visual Studio Designer. Go to and right-click <strong>Supported Elements</strong> to open the context menu, and then select <strong>New Workflow Element Reference</strong>.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter your workflow approval name (<strong>MyWorkflowApproval</strong>) in the <strong>Element Name</strong> and <strong>Name</strong> fields.</p>
</li>
<li><p>Go to the top node for <strong>MyWorkflowType</strong>, and in the <strong>Properties</strong> window, change the label to <strong>My workflow type</strong>.</p>
</li>
<li><p>Select <strong>Save all</strong> and then build the project with synchronize.</p>
</li>
</ol>
<p>You’ve now completed all workflow development.</p>
<h2 id="test-a-created-workflow">Test a created workflow</h2>
<p>To test a workflow in finance and operations apps, you must first activate it.</p>
<p>Your newly created workflow belongs to the Inventory module. In <strong>Inventory Management &gt; Setup &gt; Inventory management workflows</strong>, set up your newly developed workflow:</p>
<ol>
<li>Select <strong>New</strong>. A window opens that lists all workflows for the module.</li>
<li>Select your workflow type (<strong>My workflow type</strong>). In the dialog that appears, select <strong>Open</strong>. Run the application.</li>
<li>Enter the applicable username and password for authentication. A new application should open. Typically, your workflow designer appears beneath the new application, so make sure that you watch your taskbar. Select the workflow designer to configure the workflow.</li>
<li>Select <strong>Basic Settings</strong> to enter a placeholder of <strong>My workflow</strong>, and then close <strong>Basic Settings</strong>.</li>
<li>Select and drag the <strong>MyWorkflowApproval</strong> into the workflow under <strong>Start</strong>.</li>
<li>Connect <strong>Start</strong> to <strong>MyWorkflowApproval</strong> and <strong>MyWorkflowApproval</strong> to <strong>End</strong>.</li>
<li>Double-click <strong>MyWorkflowApproval</strong> to go to the next level, where you configure the basic settings.</li>
<li>Select <strong>Step 1</strong>, and then configure the <strong>Basic Settings</strong> by entering text and instructions.</li>
<li>Select <strong>Assignments</strong> for the user assignment, and then select <strong>User</strong> to go to the <strong>User</strong> tab.</li>
<li>Select <strong>Admin</strong> as the user, and then select <strong>Close</strong>.
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/my-workflow-type.png#lightbox"><img alt="Screenshot of the Workflow design." data-linktype="relative-path" src="./rawmb500/media_my_workflow_type.png"/></a></p>
</div>
</li>
<li>Select <strong>Save and close</strong> (shrink the window so you can find it in the lower part), and then enter <strong>Version notes</strong>.</li>
<li>Select <strong>Activate the new version</strong>, and in <strong>Inventory management workflows</strong>, find your workflow.</li>
<li>Under <strong>Manage</strong>, select <strong>Versions</strong>.</li>
<li>Verify that your workflow is active. If it’s not, select <strong>Active</strong> to activate it. Finance and operations apps should show your workflow as activated, and a new action should appear in the form
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/view-workflow-form.png#lightbox"><img alt="Screenshot of the MyWorkflowTableForm." data-linktype="relative-path" src="./rawmb500/media_view_workflow_form.png"/></a></p>
</div>
</li>
</ol>
<p>Your workflow is now in use in finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Extend an EDT</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been asked by the Fleet
Management company to change a number-entry field on the <strong>Customer</strong> page. The <strong>Agency location code</strong> field only accepts 12 digits, and the company needs to be able to enter 14 digits. Because the company doesn't need a new field, the developer will create an extension of the <code>AgencyLocationCode</code> EDT in Visual Studio.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Close the Microsoft Edge window and finance and operations.</li>
<li>Right-click the <strong>Visual Studio</strong> icon on the desktop, and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong> at the bottom of the page to open Visual studio.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Extensions</strong> in the toolbar, and then select <strong>Dynamics 365</strong> &gt; <strong>Model Management &gt; Update model parameters</strong>.</li>
<li>Select the <strong>FleetManagement</strong> model from the <strong>Model name</strong> drop-down list.</li>
<li>Select <strong>Next</strong>, then ensure <strong>ApplicationSuite</strong> is selected in the <strong>Select referenced packages</strong> drop-down list. Leave any other selections as is.</li>
<li>Select <strong>Next</strong> three times.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Search for <strong>Finance Operations</strong> if it is not already showing in the latest projects list, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box enter <strong>FleetManagementExtensionProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>Select <strong>Dynamics 365</strong> &gt; <strong>Options</strong> in the <strong>Extensions</strong> menu at the top of the page.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected. If others are selected, just leave them as is.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="extend-the-agencylocationcode-edt">Extend the AgencyLocationCode EDT</h2>
<ol>
<li><p>Select <strong>View</strong> &gt; <strong>Application Explorer</strong> in the ribbon to open the Application Explorer.</p>
</li>
<li><p>In the search bar, in the <strong>Application Explorer</strong> window, expand the <strong>AOT</strong> node and then expand the <strong>Data Types</strong> node.</p>
</li>
<li><p>In the <strong>Data types</strong> node, expand the <strong>Extended Data Types</strong> node.</p>
</li>
<li><p>Select the <strong>AgencyLocationCode</strong> EDT.</p>
</li>
<li><p>Right-click the <strong>AgencyLocationCode</strong> EDT and select <strong>Create extension</strong>. An element named <strong>AgencyLocationCode.FleetManagement</strong> will be added to your <strong>FleetManagementExtensionProject</strong> in Solution Explorer.  For demonstration purposes, you will keep the default name.</p>
<div class="NOTE">
<p>Note</p>
<p>We recommend that you rename the extension to avoid conflict with any extensions that are rolled out during application updates. For example, you should rename <strong>AgencyLocationCode.Extension</strong> to
<strong>AgencyLocationCode.abcExtension</strong>.</p>
</div>
</li>
<li><p>Double-click the <strong>AgencyLocationCode.FleetManagement</strong> element in the  <strong>Solution Explorer</strong> window to open it in the element designer window in the middle of the page.</p>
</li>
<li><p>Right-click the <strong>AgencyLocationCode.FleetManagement</strong> main node in the element designer window in the middle of the page, and select <strong>Properties</strong>.</p>
</li>
<li><p>Change the <strong>String size</strong> property to  <strong>14</strong>.</p>
</li>
<li><p>Perform a build by right-clicking the project   <strong>FleetManagementExtensionProject</strong> in the <strong>Solution Explorer</strong> window   and then selecting <strong>Build</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Creating extensions is the method used to make customizations in finance and operations apps. Which of the following is a benefit of using extensions instead of overlaying?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Extensions take less time to create.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Build times are reduced with extensions.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Updates are rolled out less frequently by using extensions.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Extensions cost more to maintain than overlaying.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following statements is true regarding extending enums in Visual Studio?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Enums, where the IsExtensible property is set to True, can be extended.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Any enum in Visual Studio can be extended.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Only enums that are contained in the Application Suite model can be extended.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Enums, where the IsExtensible property is set to False, can be extended.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You want to create an extension from an element in the AOT. What must you verify to create this extension?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Ensure that the Sync database on build property is set to True.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Check that you're referencing the model that houses the element that you want to extend.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Incorrect. Verify that the AOT is set to Model view instead of Classic view.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>You create a new class by using a method. You need to protect the method from being extended by using Chain of Command (CoC). Which attribute or modifiers should you use to protect the method?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Use ´[Hookable(false)] as a method attribute.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Use ´[Wrappable(false)] as a method attribute.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Use ´[Replaceable(true)] as a method attribute.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a protected modifier.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Creating extensions can be a simple process to help customize the finance and operations apps user interface. Because finance and operations apps are provided as an Infrastructure as a service (IaaS) application, updates are made regularly. Overlaying base code can cause update conflicts and issues and can create extra work for developers. Extensions often save you money because you don't have to spend time fixing overlayered code that broke during an update.</p>
<p>For these reasons, overlaying is not allowed in finance and operations apps, and extensions are the preferred practice for customizations.</p>
<p>Elements within the AOT, such as EDTs, enums, tables, and forms can be extended and added to your project. You can also create an augmented class to use code to customize finance and operations apps. If creating an extension doesn't fulfill your customization needs, you can log an extensibility request with Microsoft through your project in Lifecycle Services.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Extensibility</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/extensibility/extensibility-home-page/?azure-portal=true">Extensibility home page</a></td>
</tr>
<tr>
<td>Submit request for new extension points</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/extensibility/extensibility-requests/?azure-portal=true">Extensibility Requests</a></td>
</tr>
<tr>
<td>How to avoid intrusive customizations</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/extensibility/intrusive-customizations/?azure-portal=true">Intrusive customizations</a></td>
</tr>
<tr>
<td>Extensibility roadmap</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/extensibility/extensibility-roadmap/?azure-portal=true">Application extensibility roadmap</a></td>
</tr>
</tbody>
</table>
<p>For further information about extensions, advance to the next module in this learning path about extending elements.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Development for finance and operations apps is extension-based and does not allow customizing base code and elements. This method of development for finance and operations apps allows developers to modify the application behavior and elements in a less intrusive manner. This approach enables organizations to continuously update the application with lower costs and minimum code errors.</p>
<p>An element in the Application Object Tree (AOT) can be extended and
added to your project if you are referencing the model that contains the
original element. If you right-click the element in the AOT and select
<strong>Create extension</strong>, the extended element is added to your project and
can be customized by using the designer window.</p>
<p>With extensions, you can modify existing elements, extend source code by
using class augmentation, and create event handlers.</p>
<p>Tables and forms have many components, and they can be extended to add elements, such as fields or data sources, or to add methods and event
handlers. Class extensions augment a class by adding methods and
variables to an existing table or form.</p>
<p>Watch this video to see how you can create object extensions from the AOT.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=0f0bf0b2-2915-4759-bb10-ddc00544d22c"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a table extension to a project</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>If you want to modify the fields, field groups, indexes, mappings, or
relations of a table, you can create an extension of the table and make the necessary changes. Additionally, you can add fields and add fields to field groups.</p>
<p>Fields can be added by either right-clicking the <strong>Fields</strong> node of the
table and selecting <strong>New</strong>, or by selecting and dragging a field from the AOT or <strong>Solution Explorer</strong> window to the <strong>Fields</strong> node of the
table. After the field is added to the table, you can select and drag it
to an existing field group, or you can create a new field group and drag
the field to it. The added field and/or field group will be shown in bold type, while the existing fields and field groups will be displayed in italic type.</p>
<p>The following is an example of adding the <strong><code>AccountNum</code></strong> field
from <strong>AOT &gt; Data Types &gt; Extended Data Types</strong> to the <strong>Fields</strong> node
of the <strong><code>FMCustomer.myExtension</code></strong> table.</p>
<p><img alt="This is a screenshot from Visual Studio showing the AccountNum field
has been added to an extension of the FMCustomer
table." data-linktype="relative-path" src="./rawmb500/media_table_extension.png"/></p>
<h2 id="table-indexes">Table indexes</h2>
<p>An <strong>index</strong> can speed up database searches. If you add fields to a table,
you might also want to add a dedicated index. You can use existing
fields and new fields in creating the index. After you have created an
extension of your desired table, you can add an index in the same manner that you would add an index to a new table. You cannot use an extension to create a unique index. That type of development is intrusive and therefore not allowed.</p>
<p>Like adding an index to a table after adding new fields, you might also need to create a relation if the new field should be linked to another table. Defining relations can help you guarantee referential integrity by describing the link between the two tables. Adding a new relation to an extended table follows the same process as adding a relation to a new table.</p>
<p>You can adjust the table's or the individual field's label or help text,
as well as other available properties. If you set the <strong>Created By</strong>,
<strong>Created Data Time</strong>, <strong>Modified By</strong>, or <strong>Modified Date Time</strong>
property to <strong>Yes</strong>, it will add corresponding tracking information
about the user to the table when records are created or updated. Not
every property that is listed in the <strong>Properties</strong> window can be
adjusted. For example, the tracking properties that were mentioned cannot be changed to <strong>No</strong> if they are set to <strong>Yes</strong> on the base table. If a property appears dimmed, it isn't editable.</p>
<h2 id="table-business-logic">Table business logic</h2>
<p>Event handlers can also be implemented and are called from the base
implementations of the table methods. First, you need to create a new class that extends the desired table and enables access to its fields and methods. The class should be decorated with the <code>final</code> and <code>[ExtensionOf()]</code> attributes and have the <code>_Extension</code> suffix. The following code sample shows how to create a new class that extends the table InventTable.</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(InventTable))]
final class InventTableMy_Extension
{
	public void myDefaultInventLocationId()
	{
		//Contains organization-specific logic to initialize the new field here.
		this.MyInventLocationID = this.inventLocationId();
	}
}
</code></pre>
<p>Next, you will add methods to the augmented class and use your new method
from an event handler. The following is an example of an <code>InventTable</code> class event handler.</p>
<pre><code class="lang-xpp">class InventTableMy_EventHandler
{
	[DataEventHandler(tableStr(InventTable), DataEventType::Inserting)]
	public static void InventTable_onInserting(Common sender, DataEventArgs e)
	{
		InventTable inventTable = sender as InventTable;
		// Call the method as if it was defined directly on InventTable.
		inventTable.myDefaultInventLocationId();
	}
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a form extension to a project</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To add new functionality to a form, you need to create an extension of that form. Of the many reasons that you would extend a form, you can add a new control, enable or disable an existing control, or change a control's visibility. For example, you can add a new <strong>FastTab</strong> to a <strong>Details Master</strong> form or make a <strong>FastTab</strong> not visible.</p>
<p>You can modify properties for the form and its controls, such as the
<strong>Label</strong>, <strong>Caption</strong>, or <strong>Help text</strong>. Modifying the caption will change the wording of the page in the user interface on a browser's address bar. You can also add a data source or a form part.</p>
<p>You can extend a form to implement event handlers that are called from
the base implementations of form methods. An event handler is a way for
you to write or copy code to a form that runs when a certain event
occurs, such as when data is modified. Not all properties or controls
can be edited when you create a form extension. For example, the
<strong>Name</strong> property might appear dimmed in the <strong>Properties</strong> window,
indicating that you cannot change it.</p>
<p>Some tasks can't be carried out by using an extension, for example, if you require a different form pattern and not all form patterns are available with an extension. In that case, you would create a new form, apply the necessary pattern, and then build the form according to the <strong>Pattern</strong> tab in the form designer window.</p>
<p>The following screenshot shows the addition of a tab to the Action Pane for the <code>FMCustomer</code> form extension, named <strong>FMCustomer.myExtension</strong>. A <strong>Button Group</strong> and <strong>Menu Item Button</strong> have also been added to the <strong>Action Pane Tab</strong> control. The existing elements in a form extension are shown in italic type, while the changed or added items are displayed in bold type.</p>
<p><a data-linktype="relative-path" href="media/form-extend.png#lightbox"><img alt="This is a screenshot from Visual Studio of an FMCustomer form
extension with an added Action Pane Tab, Button Group, and Menu Item
Button." data-linktype="relative-path" src="./rawmb500/media_form_extend.png"/></a></p>
<p>If a form doesn't have the needed data sources or fields, you can create a form extension to make the necessary modifications. After you've created an extension of the form, add a data source in the same manner that you would add a data source to a new form. Depending on the form pattern that is used, you can use the fields in the new table or data entity to populate the <strong>Grid</strong> control.</p>
<p>Follow these steps to create a form extension and add a new data source:</p>
<ol>
<li>Locate the form that you want to extend in the <strong>Application Explorer</strong> window by expanding <strong>AOT &gt; User Interface &gt; Forms</strong>.</li>
<li>Right-click the form and select <strong>Create extension</strong>. If this option
appears dimmed, you will need to set your project to reference the
model that contains that form.</li>
<li>In the <strong>Solution Explorer</strong> window, right-click your form
extension and select <strong>Rename</strong>. Add a company-specific
suffix, such as <code>.myExtension</code> or <code>.abcExtension</code>.</li>
<li>In the <strong>Solution Explorer</strong> window, right-click your form
extension and select <strong>Open</strong>.</li>
<li>In the <strong>Application Explorer</strong> window, expand <strong>AOT &gt; Data
Model &gt; Tables</strong>.</li>
<li>Select and drag your desired table from the <strong>Tables</strong> list to the
<strong>Data Sources</strong> node of the form.</li>
<li>Alternatively, you can select a table from your project in the
<strong>Solution Explorer</strong> window and drag it to the <strong>Data Sources</strong>
node of the form.</li>
<li>Now that you have the new data source added, you can expand the
table node and expand the <strong>Fields</strong> node within it to select and
drag fields to the <strong>Grid</strong> control in the design pane.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Extend a form and add controls</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been asked by the Fleet
Management company to adjust the appearance and functionality of the <strong>Customers</strong> page in the <strong>Fleet management</strong> module. To speed up internal processes, the company wants a tab added to the Action Pane with a button that links to the page so they can enter a free text invoice.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Select <strong>Run as administrator</strong> to open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> Window</li>
<li>Select <strong>Continue without code</strong> to open the Visual Studio.</li>
<li>Go to <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu in the ribbon in Visual Studio.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>Select the <strong>Fleet Management</strong> Model name from the model drop-down list.</li>
<li>Select <strong>Next</strong>.</li>
<li>Ensure the following models are referenced by selecting the checkmark next to the model:
<ul>
<li>Application Suite</li>
<li>Application Foundation</li>
<li>Application Common</li>
<li>Application Platform</li>
<li>Contact Person</li>
<li>Currency</li>
<li>General Ledger</li>
<li>Ledger</li>
<li>Personnel</li>
<li>Retail</li>
<li>Tax</li>
</ul>
</li>
<li>Select <strong>Next</strong>.</li>
<li>Select <strong>Finish</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the left pane, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box enter <strong>FleetManagementFormProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>Open <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Select the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="extend-the-fmcustomer-form">Extend the FMCustomer form</h2>
<ol>
<li>In the search bar, in the <strong>Application Explorer</strong> window, expand the    <strong>AOT &gt; User Interface &gt; Forms</strong> nodes.</li>
<li>Select the <strong>FMCustomer</strong> form.</li>
<li>Right-click the <strong>FMCustomer</strong> form and select <strong>Create extension</strong>. An element named <strong>FMCustomer.FleetManagement</strong> will be added to your <strong>FleetManagementFormProject</strong> in the <strong>Solution Explorer</strong> window.</li>
<li>Rename the object <strong>FMCustomer.Extension</strong>.</li>
<li>Double-click the <strong>FMCustomer.Extension</strong> form in the <strong>Solution Explorer</strong> window to open it in the form designer window.</li>
<li>Select <strong>Save</strong> in the ribbon to save your progress.</li>
</ol>
<h2 id="add-a-tab-button-group-and-button-to-the-action-pane-control">Add a tab, button group, and button to the Action Pane control</h2>
<ol>
<li>On the right Design pane of the form designer, right-click the    <strong>ApplicationBar (Action Pane)</strong> control.</li>
<li>Select <strong>New &gt; Action Pane Tab</strong>. A new control has been added    named <strong>FormActionPaneTabControl1 (Action Pane Tab)</strong>.</li>
<li>Select the <strong>FormActionPaneTabControl1 (Action Pane Tab)</strong> heading.</li>
<li>In the <strong>Properties</strong> window, enter <strong>InvoicingTab</strong> for the
<strong>Name</strong> property and <strong>Invoicing</strong> for the <strong>Caption</strong> property.</li>
<li>On the Design pane, right-click the <strong>InvoicingTab (Action Pane    Tab)</strong> control and select <strong>New Button Group</strong>.</li>
<li>Select the <strong>FormButtonGroupControl1 (Button Group)</strong> heading.</li>
<li>In the <strong>Properties</strong> window, enter <strong>CustomersButtonGroup</strong> for the    <strong>Name</strong> property and <strong>Customers</strong> for the <strong>Caption</strong> property.</li>
<li>On the Design pane, right-click the <strong>CustomersButtonGroup (Button Group)</strong> control and select <strong>New &gt; Menu Item Button</strong>.</li>
<li>In the <strong>Properties</strong> window, for the <strong>Menu Item Name</strong> property,    select <strong>CustFreeInvoiceNew</strong> from the drop-down list.</li>
<li>Right-click the <strong>FMCustomer.Extension</strong> form in the <strong>Solution    Explorer</strong> window.</li>
<li>Select <strong>Set as Startup Object</strong>.</li>
<li>Perform a build by right-clicking <strong>FleetManagementFormProject</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</li>
<li>Run your form to view it in a browser window by selecting <strong>Debug &gt; Start Without Debugging</strong> from the ribbon. You can also use <strong>Ctrl + F5</strong>.</li>
<li>In the browser window, select the <strong>INVOICING</strong> tab on the Action    Pane and then select <strong>Free text invoice</strong>. You should be taken to the page to enter a free text invoice for the selected customer in the <strong>FMCustomer.Extension</strong> page.</li>
</ol>
<h3 id="now-close-the-lab-environment">Now close the lab environment</h3>
<ol>
<li>Select the <strong>Next</strong> button in the bottom-right corner of the side bar.</li>
<li>Select <strong>Leave</strong> in the pop-up window that appears.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extend menus</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>With finance and operations apps, you can connect menu items by changing existing menus with extensions.</p>
<p>Customizing an existing menu provides users with a more natural appearance and behavior because the new menu is like others that users interact with. You can create menu extensions in Microsoft Visual Studio.</p>
<p>In finance and operations apps, you can expand the <strong>Modules</strong> menu in the navigation pane and the menu for the module, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/modules-navigation-pane.png#lightbox"><img alt="Screenshot showing the Modules menu in the navigation pane." data-linktype="relative-path" src="./rawmb500/media_modules_navigation_pane.png"/></a></p>
<h2 id="add-menu-extensions-to-a-project">Add menu extensions to a project</h2>
<p>You can add menu extensions to a project by using the <strong>Solution Explorer</strong> window. Locate the applicable menu in <strong>Application Explorer</strong>, right-click or activate the context menu, select the menu, and then select <strong>Create Extension</strong>. The system adds a menu extension to the project by using the same menu name and appending the model name, as shown in the following screenshot example.</p>
<p><a data-linktype="relative-path" href="media/menu-extension.png#lightbox"><img alt="Screenshot showing the Menu Extensions folder." data-linktype="relative-path" src="./rawmb500/media_menu_extension.png"/></a></p>
<p>As another example, if you’re creating a menu extension for Accounts Payable for model MB500, you’d add a number to the postfix. Additionally, you can complete the following actions:</p>
<ul>
<li>Create extensions for standard menus. However, in the extended menu, you can’t change any property of the parent menu, except tags.</li>
<li>Modify the <strong>Label</strong> and <strong>Visible</strong> properties in the extended menu for child menus.</li>
<li>Change the <strong>Visible</strong> property of the <strong>MenuElementMenuItem</strong> node in the menu extension.</li>
<li>Add a new item to a menu after extending it. This approach helps distinguish a newly created form, such as report or class, in the UI of finance and operations apps.</li>
<li>Set a property’s view to false. However, you can’t remove menu or submenu items.</li>
</ul>
<p>In the Designer view, modifications to menu extensions are indicated with bold font, as the following screenshot shows.</p>
<p><a data-linktype="relative-path" href="media/modifications-bold-font.png#lightbox"><img alt="Screenshot showing the bold font of the menu extensions in the Designer view." data-linktype="relative-path" src="./rawmb500/media_modifications_bold_font.png"/></a></p>
<p>You must build menu extensions before they can be active and available for use.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement delegates</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you’re creating extensible solutions, you can use delegates by subscribing to the delegate in X++.</p>
<p>Delegates are composite data types that are part of how finance and operations apps can create extensions. You can define delegates on a method. Then, when the method is called, it'll also call their subscriber methods.</p>
<p>We don’t recommend that you create new delegates in the application. Rather, we recommend that you subscribe to existing delegates and then use Chain of Command (CoC), which provides a richer, more robust, and more concise extension mechanism that supersedes delegates.</p>
<p>Instead of creating delegates, structure your code into smaller methods so that you can use it in CoC.</p>
<p>If you use delegates, they’ll typically reside in the middle of a method because, if pre-events and post-events are present and CoC is used, they’ll be in the beginning and end of a method, respectively.</p>
<p>You can use delegates in the standard finance and operations apps, and they’re useful for independent software vendor (ISV) solutions.</p>
<p>Delegates in X++ must have the <strong>void</strong> return type. Also, delegates can be static and instance methods, and they can use the <strong>EventHandlerResult</strong> as a method parameter to return a result.</p>
<p>Subscribers for delegates aren’t in control of the implementation order.</p>
<h2 id="create-delegates">Create delegates</h2>
<p>Typically, you would create delegates in your code in tables, forms, or classes.</p>
<p>Make sure that you define the delegate in the code and then ensure that you define a call to the empty delegate so that subscribers can use it.</p>
<p>The following code sample shows how a delegate might appear in a class:</p>
<pre><code class="lang-xpp">/// &lt;summary&gt;
    /// Delegate for construct &lt;c&gt;MyCustTableClass&lt;/c&gt; instances.
    /// &lt;/summary&gt;
    /// &lt;param name = "_buffer"&gt;The buffer to create the instance from.&lt;/param&gt;
    /// &lt;param name = "_eventHandlerResult"&gt;An &lt;c&gt;EventHandlerResult&lt;/c&gt;&lt;/param&gt;
    static delegate void constructDelegate(Common _buffer,EventHandlerResult _eventHandlerResult)
    {
    }
</code></pre>
<p>You would call the delegates in the code as follows:</p>
<pre><code class="lang-xpp">/// &lt;summary&gt;
    /// Construct method &lt;c&gt;MyCustTableClass&lt;/c&gt; instances.
    /// &lt;/summary&gt;
    /// &lt;param name = "_buffer"&gt;The buffer to create the instance from.&lt;/param&gt;
    /// &lt;returns&gt;
    /// MyCustTableClass.
    /// &lt;/returns&gt;
    public static MyCustTableClass construct(Common _buffer)
    {
        switch (_buffer.TableId)
        {
            case tablenum(CustTable):
                return new MyCustTableClass(_buffer);

            default:
                EventHandlerResult result = EventHandlerResult::newSingleResponse();
                MyCustTableClass::constructDelegate(_buffer, result);
                if (result.hasResult())
                {
                    return result.result() as MyCustTableClass;
                }
                break;
        }

        throw error(Error::missingRecord(classstr(MyCustTableClass)));
    }

</code></pre>
<p>As shown in the preceding example, the call to the static <strong>MyCustTableClass::constructDelegate</strong> is done in the middle of the method, so you can’t use pre-events and post-events or CoC. Because you’ve created delegates, an extension is now enabled.</p>
<p>The system uses the <strong>EventHandlerResult</strong> to return the result, which you can validate.</p>
<h2 id="subscribe-to-a-delegate">Subscribe to a delegate</h2>
<p>You can perform extensions by subscribing to the delegate, which enables you to make modifications, as the following code sample shows:</p>
<pre><code class="lang-xpp">/// &lt;summary&gt;
    /// &lt;c&gt;MyCustTableClass&lt;/c&gt; class delegate subscriber.
    /// &lt;/summary&gt;
    [SubscribesTo(classstr(MyCustTableClass), staticDelegateStr(MyCustTableClass, constructDelegate))]
    public static void myConstruct(Common _buffer, EventHandlerResult _eventHandlerResult)
    {
        CustTable custTable = _buffer as CustTable;

        // do something

        _eventHandlerResult.result(custTable);
    }
</code></pre>
<p>Subscribers use the <strong>SubscribesTo</strong> attribute with the class name and delegate method name, and the system uses the <strong>EventHandlerResult</strong> method to set the desired result.</p>
<p>Using delegates can be useful, but the best practice is to use CoC because it provides a richer, more robust, and more concise extension mechanism. Additionally, you can apply CoC by splitting and structuring code into smaller pieces.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following statements is true regarding table extensions?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The Properties window is used to edit any property for a table.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>While a new field can be added to a table extension, it is not possible to create a new index.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You can use an event handler to add business logic to a table.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Table extensions are used when the desired behavior of the element cannot be achieved through overlaying.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You need to create an extension of the FMCustomer form.  Which of the following tasks cannot be accomplished after you have created the form extension?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Change the form pattern from Details Master to Table of Contents.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Add another data source to the form.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Add an Action Pane Tab to the Action Pane control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Select and drag a field from the Fields node of a data source to a Grid control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Extensions are a way to customize the finance and operations apps user
experience. If you need to adjust the performance, behavior, or
characteristics of an element, you can create an extension of that element from the AOT and make the necessary modifications. You can create an extension of a table if you need to add or remove fields, modify field
groups, add an index or table relation, modify available properties, or
add code or event handlers to the table. A form can be extended to
modify properties, add a data source, add or modify controls, or add
event handlers. A class extension is created to implement new event
handlers for a table or form.</p>
<p>By using extensions, you can make multiple adjustments to an element, or
just one adjustment. With most elements, you can't make all the adjustments that you'd like because some properties or controls are locked for editing. If the solution that you need can't be reached by creating an extension of the element, then you would create a new element.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Extensibility</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/extensibility/extensibility-home-page/?azure-portal=true">Extensibility home page</a></td>
</tr>
<tr>
<td>Create a new class extension, add new methods, and add event handler methods to a class.</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/explore-extensions-framework-finance-operations/?azure-portal=true">Explore extensions and the extension framework in finance and operations apps</a></td>
</tr>
<tr>
<td>Business events provides an extension mechanism for integrations..</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/business-events-finance-operations/?azure-portal=true">Consume business events in finance and operations apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Business events occur when a business process is run. During a business
process, users who participate in it perform business actions to
complete the tasks that make up the business process.</p>
<p>In finance and operations apps, a business action that a
user performs can be either a workflow action or a non-workflow action.
Approval of a purchase requisition is an example of a workflow action,
whereas confirmation of a purchase order is an example of a non-workflow
action. Both types of actions can generate business events that external
systems can use in integration and notification scenarios.</p>
<p>Class extensions are used to implement new business events that allow
external systems to receive notifications from finance and operations apps.</p>
<p>To find existing business events in the instance you’re using, go to <strong>System administration &gt; Setup &gt; Business events &gt; Business event catalog</strong>. As shown in the  following screenshot, here you will find a list of all the business events that are available for use. You can also apply filters to search in each of the columns.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/business-events.png#lightbox"><img alt="Screenshot of the Business events page." data-linktype="relative-path" src="./rawmb500/media_business_events.png"/></a></p>
</div>
<p>The next units will explore the business event framework and which steps to take to create a new business event.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Business event framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The business events framework determines whether a business event is
published to a finance and operations apps user. It is best practice to have
the application send a business event, regardless of whether the
business event is enabled or not. If significant additional logic is needed, or if the logic for sending a business event has a performance impact, the system can check whether a specific business event is enabled before it runs business logic that is associated with sending business events.</p>
<p>Business events can be activated on the <strong>Business events</strong> page in the <strong>System administration</strong> module. In the catalog, all the business events can be viewed along with their status. By default, business events won’t be set to <strong>Active</strong> so they must go through an activation process.
To activate a business event, select one or multiple business events, and then select <strong>+Activate</strong> at the top left of the screen as shown in the following screenshot.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/activate-event.png#lightbox"><img alt="Screenshot of the Business events page, showing the +Activate button." data-linktype="relative-path" src="./rawmb500/media_activate_event.png"/></a></p>
</div>
<p>When you have activated the business event, you can specify if this applies to multiple legal entities or just one. After a business event has been activated, it will appear in the <strong>Active business events</strong> tab  of the <strong>Business events</strong> page, and can be deactivated at anytime. If you deactivate it, it  will be listed in the <strong>Inactive business events</strong> tab.</p>
<p>Instead of deleting a business event, setting it to an <strong>Inactive</strong> status lets you retain the history of errors for that event, and can be activated later.</p>
<p>On occasion, when business processes or requirements change, a business event may no longer be needed and can be set to <strong>Inactive</strong>, where it can then be deleted later as needed.</p>
<h2 id="business-event-catalog">Business event catalog</h2>
<p>The <strong>Business events</strong> catalog can be accessed from <strong>System administration &gt; Set up &gt; Business events</strong>. The business event catalog lists the business events that are available in the instance that you're using. The catalog is useful because it shows which business events are available, and you can filter it by <strong>Category</strong>, <strong>Business event ID</strong>, and <strong>Name</strong>.</p>
<p>The category of a business event identifies its source. Business events that originate from the workflow system are assigned to the Workflow category. For business events that originate from other modules, the module name is used as the category name.</p>
<p>The business event catalog is built during database synchronization at the time of deployment. Therefore, users should see the complete list of business events in the catalog. However, if an explicit update of the catalog is required, you can select <strong>Manage &gt; Rebuild business events catalog</strong>.</p>
<p>For each business event, the business event catalog shows a description. This description can help you better understand the business event and its context in the business process. The catalog also shows the list of data fields that will be sent out in the event.</p>
<p>In scenarios where external integration systems require the schema of the payload for a business event during development, you can select <strong>Download schema</strong> to download the JavaScript Object Notation (JSON) schema.</p>
<p>In summary, the business event catalog helps identify the business events that are required for an implementation. It also helps identify the schema for each business event.</p>
<p>The next step is to manage the endpoints.</p>
<ul>
<li>Business events parameters</li>
<li>General</li>
</ul>
<p>The <strong>General</strong> tab of the <strong>Business events parameters</strong> page provides general settings that are applied to business events.</p>
<ul>
<li><strong>Retry count</strong> – The number of times that the system will try again to send business events to an endpoint if an error occurs. The default value is 3.</li>
<li><strong>Wait time between retries</strong> – The interval, in milliseconds, between attempts to send a business event to its endpoint. The default value is 1000 milliseconds.</li>
<li><strong>Endpoints allowed per event</strong> – The maximum number of endpoints that can subscribe to the same business event in a legal entity. The default value is 10.</li>
<li><strong>Use business events batch job</strong> – The business events batch processing job is available when a workaround is required to mitigate issues with dedicated processing. If you enable this option, select the <strong>Business events batch job</strong> action to select settings for the batch job processor. For more information about the settings for dedicated processing, see the description of the <strong>Performance</strong> tab in the next section.</li>
<li><strong>Key vault secret cache interval</strong> – The number of minutes that the key vault secrets that are used for business events will be cached in memory before they are read and cached again from the configured key vault. The default value is 5 minutes.</li>
</ul>
<h2 id="performance">Performance</h2>
<p>The business events framework has two primary settings that can affect performance:</p>
<ul>
<li>Processing threads</li>
<li>Bundle size</li>
</ul>
<p>The application allocates dedicated batch threads to process business events in near-real time. Because threads are a shared resource for all batch processing, you must take care when you decide to change the thread allocation for business events.</p>
<ul>
<li><strong>Processing threads</strong> – The number of threads to use to process business events. The maximum value is 4.
<ul>
<li>If you're using dedicated processing for business events, the thread count is the number per Batch Application Object Server (AOS) instance.</li>
<li>If you're using a batch job, the thread count is the total number of additional batch tasks that will be used to process events.</li>
</ul>
</li>
<li><strong>Bundle size</strong> – The number of events to group together at a time for processing by a thread.
<ul>
<li>By increasing the number, you produce fewer bundles and reduce the ability to distribute the events to parallel threads.</li>
<li>By decreasing the number, you produce more bundles and increase the ability to distribute the events to parallel threads. However, if you make the number too small, you will cause unnecessary parallelization on small bundles.</li>
</ul>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create a new business event</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To implement a new business event, you need to build a contract, build the event, and then add code to send the event.</p>
<p>Two classes are implemented for a new event: a business event class and
a business events contract class. The business event class extends the
<code>BusinessEventsBase</code> class and supports constructing the
business event, building the payload, and sending the business event.
The name should include the noun or phrase that corresponds with the
event, followed by the <code>BusinessEvent</code> suffix, such as
<code>CustomerInvoicePostedBusinessEvent</code>.</p>
<p>First you will need to create the SalesInvoicePostedBusinessEvent class.</p>
<p>Extend the <code>BusinessEventsBase</code> class. Labels must be defined for the name and description arguments, but the at "@" symbol should be left out to avoid storing localized data. The <code>BusinessEvents</code> attribute provides the business events framework with information about the business event's contract, name, and description.</p>
<pre><code class="lang-xpp"> [BusinessEvents(classStr(SalesInvoicePostedBusinessEventContract),
 "AccountsReceivable:SalesOrderInvoicePostedBusinessEventName","AccountsReceivable:SalesOrderInvoicePostedBusinessEventDescription",ModuleAxapta::SalesOrder)]
 	public class SalesInvoicePostedBusinessEvent extends BusinessEventsBase
</code></pre>
<p>After the class is created, use the following procedure to add methods to your class. The code examples define the <code>SalesInvoicePostedBusinessEvent</code> event.</p>
<ol>
<li><p>Add a static <code>newFrom&lt;my_buffer&gt;</code> method, filling in the <code>my_buffer</code> piece with the table buffer that is used to initialize the business event contract.</p>
<pre><code class="lang-xpp">static public SalesInvoicePostedBusinessEvent
newFromCustInvoiceJour(CustInvoiceJour _custInvoiceJour)
{
    SalesInvoicePostedBusinessEvent businessEvent = new
    SalesInvoicePostedBusinessEvent();
    businessEvent.parmCustInvoiceJour(_custInvoiceJour);
    return businessEvent;
}
</code></pre>
</li>
<li><p>Add <code>private parm</code> methods to maintain the internal state of the class.</p>
<pre><code class="lang-xpp">private CustInvoiceJour parmCustInvoiceJour(CustInvoiceJour_custInvoiceJour = custInvoiceJour)
{
    custInvoiceJour = _custInvoiceJour;
    return custInvoiceJour;
}
</code></pre>
</li>
<li><p>Add the <code>buildContract</code> method. The method must be decorated with the <code>Wrappable(true)</code> and <code>Replaceable(true)</code> attributes, and it will only be called when a business event is enabled for a company.</p>
<pre><code class="lang-xpp">[Wrappable(true), Replaceable(true)]
public BusinessEventsContract buildContract()
{
  return
  SalesInvoicePostedBusinessEventContract::newFromCustInvoiceJour(custInvoiceJour);
}
</code></pre>
</li>
</ol>
<h2 id="business-events-contract-class">Business events contract class</h2>
<p>The Business events contract class extends the
<code>BusinessEventsContract</code> class. It defines the payload of
the business event and allows the contract to be populated at runtime.</p>
<p>Use the following steps to extend the <code>BusinessEventContract</code>
class and add methods to the class. The code examples define the
<code>SalesInvoicePostedBusinessEventContract</code> event.</p>
<ol>
<li><p>Extend the <code>BusinessEventContract</code> class, ensuring that it's
decorated with the <code>DataContract</code> attribute.</p>
<pre><code class="lang-xpp">[DataContract]
public final class SalesInvoicePostedBusinessEventContract extends
BusinessEventsContract
</code></pre>
</li>
<li><p>Add <code>private</code> variables to hold the contract state.</p>
<pre><code class="lang-xpp">private CustInvoiceAccount      invoiceAccount;
private CustInvoiceId           invoiceId;
private SalesIdBase             salesId;
private TransDate               invoiceDate;
private DueDate                 invoiceDueDate;
private AmountMST               invoiceAmount;
private TaxAmount               invoiceTaxAmount;
private LegalEntityDataAreaId   legalEntity;
</code></pre>
</li>
<li><p>Add a <code>private</code> initialization method by using the <code>initialize</code> name. This method sets the business event contract class's private state, based on data that is provided through the <code>static</code> constructor method.</p>
<pre><code class="lang-xpp">private void initialize(CustInvoiceJour _custInvoiceJour)
{
    invoiceAccount = _custInvoiceJour.InvoiceAccount;
    invoiceId = _custInvoiceJour.InvoiceId;
    salesId = _custInvoiceJour.SalesId;
    invoiceDate = _custInvoiceJour.InvoiceDate;
    invoiceDueDate = _custInvoiceJour.DueDate;
    invoiceAmount = _custInvoiceJour.InvoiceAmountMST;
    invoiceTaxAmount = _custInvoiceJour.SumTaxMST;
    legalEntity = _custInvoiceJour.DataAreaId;
}
</code></pre>
</li>
<li><p>Add a <code>static</code> constructor method.</p>
<pre><code class="lang-xpp">public static SalesInvoicePostedBusinessEventContract
newFromCustInvoiceJour(CustInvoiceJour _custInvoiceJour)
{
    var contract = new SalesInvoicePostedBusinessEventContract();
    contract.initialize(_custInvoiceJour);
    return contract;
}
</code></pre>
</li>
<li><p>Add <code>parm</code> methods to access the contract state. These methods should be decorated with the <code>DataMember('')</code> and <code>BusinessEventsDataMember('')</code> attributes. To populate the data contract's internal state, you might need additional retrieval methods, which should be shown as <code>private</code> and called from the <code>initialize</code> method.</p>
<pre><code class="lang-xpp">[DataMember('InvoiceAccount'),
BusinessEventsDataMember("@AccountsReceivable:InvoiceAccount")]
public CustInvoiceAccount parmInvoiceAccount(CustInvoiceAccount_invoiceAccount = invoiceAccount)
{
    invoiceAccount = _invoiceAccount;
    return invoiceAccount;
}
</code></pre>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Activate business events</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Business events in the business event catalog aren't active by default. From the catalog, you can activate any business events that you require. Select one or more business events, and then select <strong>Activate</strong>.</p>
<p>Business events can be activated either in all legal entities or in specific legal entities. If you leave the <strong>Legal entity</strong> field blank, the selected business events will be activated in all legal entities. If a business event is required only for specific legal entities, it must be configured separately for each legal entity.</p>
<p>Endpoints must be assigned to the business events that are activated. See <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/managing-business-event-endpoints/?azure-portal=true">Manage business event endpoints</a> for more information on setting up and managing endpoints.</p>
<p>When business events occur as business processes are run, the system will do outbound processing only for business events that have been activated.</p>
<p>After business events are activated, they appear on the <strong>Active events</strong> tab.</p>
<p>From the <strong>Active events</strong> tab, you can inactivate business events. The system won't do outbound processing for inactivated events.</p>
<p>After business events are inactivated, they appear on the <strong>Inactive events</strong> tab.</p>
<p>Business events can be inactivated when processing of business events must be paused for a period because of specific system maintenance activities in the integration landscape.</p>
<p>When business requirements change, some business events might no longer be required. In this case, you can inactivate them instead of deleting them from the list of active events. This approach is useful if the history of errors for the business events must be preserved. Inactivated business events can be deleted later, when there is no longer a business need to keep them inactivated.</p>
<h2 id="errors">Errors</h2>
<p>While the system does outbound processing of business events, errors can occur. These errors might prevent the system from successfully delivering a business event to the endpoint. If an error occurs, the system retries several times to successfully process the business event. However, if all attempts are unsuccessful, the business event is saved in an error log.</p>
<p>Error logs can be accessed from the <strong>Active events</strong>, <strong>Inactive events</strong>, and <strong>Errors</strong> tabs. The <strong>Errors</strong> tab shows all errors across all business events, whereas the other two tabs show errors in the context of a specific business event.</p>
<p>You can do on-demand outbound processing on each error by using the <strong>Resend</strong> action. This action invokes the outbound processing logic. This logic includes retries. If the outbound processing is still unsuccessful, the error is logged in the error log. In this case, the <strong>Last process time</strong> field on the <strong>Errors</strong> tab indicates when the last attempt to process the event occurred.</p>
<p>If an error can't be successfully processed, you can use the <strong>Download payload</strong> option to download the payload from the event for offline processing, as you require.</p>
<div class="NOTE">
<p>Note</p>
<p>If an endpoint is deleted and a new endpoint is associated with business events, all errors that are associated with the business events can still be resent. In this case, the system will do outbound processing to send to the new endpoint that is associated with the corresponding business event. This functionality allows for graceful recovery from misconfiguration or other error states.</p>
</div>
<h2 id="subscribe-to-business-events-from-service">Subscribe to business events from service</h2>
<p>Users that have access to the privilege <strong>Subscribe to business events from service</strong> via their roles will be able to only see and subscribe to business events that have been assigned to their roles, which is described below. The organizational assignments that are done, if any, as part of role-based security is honored in the context of business events by letting users to only subscribe to business events in the organizations to which they have access to via their roles. This behavior is effective using any service calls like from Power Automate or Logic Apps.</p>
<h2 id="backward-compatibility">Backward compatibility</h2>
<p>To ensure backward compatibility, the following behavior must be understood.</p>
<ul>
<li>Role-based security for business events will be disabled by default.</li>
<li>Even if the feature is enabled in Feature management, role-based security will not take effect.</li>
<li>Role-based security must be explicitly enabled in the business events catalog via the <strong>Security</strong> menu.</li>
<li>After role-based security is enabled completely, security will be enforced henceforth. This will mean that any user with an administration role will not notice any change in behavior. However, any non-admin users either will see only business events that their roles were assigned to in the business events catalog security configuration or won't see any business events because their roles were not assigned to any business events.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Consume business events</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Different endpoint types can consume activated business events by subscribing to finance and operations apps events.</p>
<p>A business event is consumable when it‘s activated, and subscriptions depend on the type of endpoints that are available. Endpoint types for finance and operations apps include:</p>
<ul>
<li>Microsoft Azure Service Bus queue</li>
<li>Microsoft Azure Service Bus topic</li>
<li>Microsoft Azure Event Grid</li>
<li>Microsoft Azure Event Hubs</li>
<li>Microsoft Azure Blob Storage</li>
<li>HTTPS</li>
<li>Microsoft Power Automate</li>
<li>Microsoft Dataverse</li>
</ul>
<p>When you’re creating a business event from Power Automate, the business event in finance and operations apps is active and an endpoint is created.</p>
<p>In Dataverse, an endpoint is created when a plug-in or an SDK step is registered on a finance and operations apps business event or data event. Then, the endpoint is registered and becomes available on the <strong>Endpoints</strong> tab.</p>
<p>Business events are part of Microsoft Power Platform integration. Therefore, you need to ensure that your environment is deployed with <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/power-platform/enable-power-platform-integration/?azure-portal=true">Power Platform Integration</a>, meaning that it can run only on an Azure-hosted environment but not on a local development virtual machine.</p>
<h2 id="business-events-and-power-automate">Business events and Power Automate</h2>
<p>You can set up business events in Power Automate with the <strong>When a Business Event occurs</strong> trigger. When the active finance and operations apps’ business event runs, it triggers the endpoint and performs the flow in Power Automate.</p>
<p>To set up Power Automate with a new flow, you need to add a trigger for business events by completing the following actions:</p>
<ol>
<li>Sign in to <a data-linktype="external" href="https://make.powerautomate.com/?azure-portal=true">Power Automate portal</a>.</li>
<li>Select the environment that’s connected to your finance and operations apps.</li>
<li>Select <strong>Create and Start from blank with an Automated cloud flow</strong>, and then enter a flow name.</li>
<li>Find the <strong>When a Business Event occurs</strong> trigger. We recommend that you search for <strong>Dynamics</strong> to narrow the search because many triggers exist.</li>
<li>Enter the instance. You might be prompted to sign in to the tool.</li>
<li>Enter information in the <strong>Category</strong> and <strong>Business event</strong> fields. The business event list that appears depends on the category that you choose.</li>
<li>Enter the applicable company in the <strong>Legal entity</strong> field.</li>
</ol>
<p>To add a new action step to a flow, follow these steps:</p>
<ol>
<li>Search for the <strong>Parse JSON data operation</strong> to parse the message with the data schema.</li>
<li>Select the <strong>Content</strong> field to show dynamic content. Select the <strong>Body</strong> field.</li>
<li>Go to <strong>finance and operations apps</strong>, <strong>Business event catalog</strong>, find the business events, and then select <strong>Download schema</strong>. The Business event schema downloads as a text file.</li>
<li>Open the text file and then copy its content to the clipboard.</li>
<li>Return to your flow, select <strong>Generate from sample</strong>, and then paste the text. A new JSON is generated.</li>
<li>Find the type <strong>integers</strong> and rename it to type <strong>number</strong> in Power Automate because the type isn’t set correctly.</li>
<li>Choose another action to consume by selecting <strong>+ New step</strong>,  <strong>Get a record (Fin &amp; Ops)</strong>.</li>
<li>Select the <strong>Instance</strong> from the dropdown menu.</li>
<li>From the <strong>Entity name</strong> dropdown menu, select the <strong>CustomersV3</strong> entity.</li>
<li>In the <strong>Object Id</strong> field, use the <strong>LegalEntity</strong> and <strong>InvoiceAccount</strong> dynamic content to find the customer. The syntax for the <strong>Object ID</strong> field is <em>DataAreaId,CustomerAccount</em> (a comma should be between the fields without spaces).</li>
<li>The <strong>ObjectId</strong> value should be set to company and the field(s) defined as a key on the entity in finance and operations apps. Now the flow can use all fields in the <strong>CustomersV3</strong> entity.</li>
<li>Add a final action by selecting <strong>+ New step</strong>, and then locate the <strong>Find Send an email (V2)</strong> action.</li>
<li>Choose an email account to which you want to send the message, and then enter a subject. You can use both fields from CustomersV3 and JSON as dynamic fields.</li>
<li>Enter a message in the email’s body that you want the recipient to read. You can use both fields from CustomersV3 and JSON as dynamic fields.</li>
<li>Select <strong>Save</strong> to save the flow.</li>
</ol>
<p>After you save the flow, you can locate it in the finance and operations app in the <strong>Active business events</strong> tab. Also, notice that an endpoint is created that points to Power Automate.</p>
<p>Additionally, the flow sends an email based on the information that you provided, as shown in the following image.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/email.png#lightbox"><img alt="Screenshots showing the flow sending an email based on the information that is provided." data-linktype="relative-path" src="./rawmb500/media_email.png"/></a></p>
</div>
<h2 id="other-endpoints">Other endpoints</h2>
<p>Microsoft Learn documentation provides many tutorials for using business events for different endpoint types, including:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/how-to-flow/?azure-portal=true">Business events and Microsoft Power Automate</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/how-to-eventgrid/?azure-portal=true">Business events and Azure Event Grid</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/how-to-servicebus/?azure-portal=true">Business events and Azure Service Bus</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/how-to-servicebus-queue/?azure-portal=true">Business events and Azure Service Bus Queue</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/how-to-workflow/?azure-portal=true">Business events and workflow approvals</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/formspro/?azure-portal=true">Business events and Microsoft Forms Pro</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/event-hub/?azure-portal=true">Business events and Azure Event Hubs</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/how-to-dataverse-events/?azure-portal=true">Subscribe to events in Dataverse</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/how-to/period-close/?azure-portal=true">Business events in financial period close</a></li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extend an existing business event</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Business events are extensible, which means that you can add fields and business logic to existing business events so that a subscriber can use the added functionality.</p>
<p>To extend an existing business event, you need to create code extensions. Business events consist of two classes: a <strong>business event</strong> class and a <strong>business event contract</strong> class.</p>
<p>Typically, you can create a code extension for the <strong>business event contract</strong> class, depending on the business requirements for extending a business event.</p>
<h2 id="create-a-code-extension-for-a-business-event-contract-class">Create a code extension for a business event contract class</h2>
<p>To create a code extension for a business event, follow these steps.</p>
<ol>
<li><p>Go to the business event catalog in <strong>Dynamics 365 finance and operations apps</strong>, <strong>System administration</strong>, <strong>Setup</strong>, <strong>Business events</strong>, <strong>Business event catalog</strong> and then find the business event that you want to extend. The class name for the business event is defined in the <strong>Business event ID</strong> field.</p>
</li>
<li><p>Find the class in Microsoft Visual Studio by searching for the name in <strong>Application Explorer</strong>.</p>
</li>
<li><p>Right-click or activate the context menu for the class name and then select <strong>Create code extension</strong>. This action creates a new code extension named <strong>class name_model_Extension</strong> in your project in <strong>Solution Explorer</strong>.</p>
<p>After you open the class, you can add new functionality, as the following code sample illustrates:</p>
<pre><code class="lang-xpp"> [ExtensionOf(classStr(SalesInvoicePostedBusinessEventContract))]
 final class SalesInvoicePostedBusinessEventContract_MB500_Extension
 {
     private CustName name;

     [DataMember(‘Name’), BusinessEventsDataMember(“@AccountsReceivable:OrganizationName”)]
     public CustName parmName(CustName _name = name)
     {
         name = _name;

         return name;
     }

     public static SalesInvoicePostedBusinessEventContract newFromCustInvoiceJour(CustInvoiceJour _custInvoiceJour)
     {
         var contract = next newFromCustInvoiceJour(_custInvoiceJour);
         contract.myInitialize(_custInvoiceJour);

         return contract;
     }

     private void myInitialize(CustInvoiceJour _custInvoiceJour)
     {
         name = _custInvoiceJour.InvoicingName;
     }
 }
</code></pre>
<p>In the code sample, the <strong>SalesInvoicePostedBusinessEventContract</strong> class is extended and a new data member is created and initialized. Business data members use a data member name and a label.</p>
<p>Typically, an initialize() method on the contract class is called with a buffer from a table.</p>
<p>For the newFromCustInvoiceJour method, a Chain of Command (CoC) is created and a new method called <strong>myInitialize</strong> is added. The <strong>myInitialize</strong> method sets the new data member. Because the initialize() method is in the <strong>SalesInvoicePostBusinessEventContract</strong> class and therefore private, you can’t create CoC for this method.</p>
</li>
<li><p>Save the new class and then build the project in <strong>Solution Explorer</strong>.</p>
</li>
<li><p>Go to the <strong>Business event catalog</strong> and find the customized business event. Notice that the schema has changed and the new member is added, as the following screenshot shows.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/download-schema.png#lightbox"><img alt="Screenshots showing the new member added to the schema." data-linktype="relative-path" src="./rawmb500/media_download_schema.png"/></a></p>
</div>
<p>After you extend a business event in finance and operations apps, subscribers should be able to use the new functionality.</p>
</li>
</ol>
<p>In the previous unit <strong>Consume business events</strong>, a Microsoft Power Automate flow was created by using the same business event. The following image shows how you can use the <strong>Get a record</strong> function to retrieve a name. Additionally, the image shows the addition of the data member for the name and that the <strong>Get a record</strong> function is no longer needed.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/flow.png#lightbox"><img alt="Screenshot showing the Power Automate flow." data-linktype="relative-path" src="./rawmb500/media_flow.png"/></a></p>
</div>
<p>To update Parse JSON with the new schema, remove the <strong>Get a record</strong> function and then update <strong>Send an email (V2)</strong> to use the new data member:</p>
<ol>
<li>Find the business event in the business event catalog in finance and operations apps, and then download the updated schema.</li>
<li>Go to the flow in Power Automate, and then select <strong>Edit</strong> on the flow.</li>
<li>Select <strong>Parse JSON</strong>, <strong>Generate from a sample</strong>.</li>
<li>Copy the downloaded schema into the dialog that opened when you selected <strong>Generate from a sample</strong>, and then select <strong>Done</strong>.</li>
<li>Change the type of integer to a number in the schema.</li>
<li>Select <strong>Get a record</strong> and remove it by selecting the ellipsis (…) on the box, and then select <strong>Delete</strong>. Confirm the deletion when you’re prompted.</li>
<li>Select <strong>Send an email (V2)</strong>. Notice that the dynamic field from CustomersV3 is removed. Add a name from JSON instead.</li>
<li>Select <strong>Save</strong> to save the flow.</li>
</ol>
<p>The flow in Power Automate should now resemble the following image.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/update-parse-json.png#lightbox"><img alt="Screenshot showing the result of the steps in this procedure." data-linktype="relative-path" src="./rawmb500/media_update_parse_json.png"/></a></p>
</div>
<p>You'll notice that <strong>Get a record</strong> is removed and the body for the email has changed to use <strong>Name</strong> from the JSON.</p>
<h2 id="test-the-business-event-extension">Test the business event extension</h2>
<p>To test the business event extension, follow these steps.</p>
<ol>
<li>Open finance and operations, and select <strong>Accounts Receivable</strong> in the navigation pane, and then select <strong>Orders</strong>, <strong>All sales orders</strong>.</li>
<li>Find a sales order with a status of <strong>Delivered</strong> and then select <strong>Invoice</strong>, <strong>Invoice</strong> to update the sales order.</li>
</ol>
<p>The Power Automate flow runs and sends an email by using the extension, as the following image illustrates.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/extension-flow-email.png#lightbox"><img alt="Screenshot showing how the Power Automate flow runs and sends an email by using the extension." data-linktype="relative-path" src="./rawmb500/media_extension_flow_email.png"/></a></p>
</div>
<p>When you review the flow’s history, notice that the name is set to <strong>Whale Wholesales</strong> and is used in the email.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Role-based security for business events</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Role-based security can be applied to business events to meet the following requirements using the appropriate security artifact.</p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Privilege</th>
<th>Duty</th>
</tr>
</thead>
<tbody>
<tr>
<td>Only   certain users must have access to view the business events catalog.</td>
<td>BusinessEventsCatalogView</td>
<td>None</td>
</tr>
<tr>
<td>Only   certain users must have access to activate business events.</td>
<td>BusinessEventsCatalogMaintain</td>
<td>None</td>
</tr>
<tr>
<td>Only   certain users must have access to create and manage endpoints.</td>
<td>Business   events security privilege</td>
<td>Business   events security duty</td>
</tr>
<tr>
<td>Users must   only be able to subscribe to business events which they have been granted   access to from external applications like Power Automate.</td>
<td>Subscribe   to business events from service</td>
<td>None</td>
</tr>
<tr>
<td>Only   certain users must be able to view the business events security setup.</td>
<td>BusinessEventsCatalogSecuritySetupView</td>
<td>None</td>
</tr>
<tr>
<td>Only   certain users must be able to manage business events security.</td>
<td>Maintain   business events catalog security</td>
<td>None</td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Business events in Microsoft Power Automate</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Business events can be consumed in Microsoft Power Automate via the application connector. The connector has a trigger that is named <strong>When a business event occurs</strong>. This trigger can be used to subscribe to any of the business events that are available in the target instance of the application.</p>
<h2 id="subscribing-to-business-events-and-unsubscribing-from-them">Subscribing to business events and unsubscribing from them</h2>
<p>When a business event happens, trigger is added to a flow, the following information must be provided:</p>
<ul>
<li><strong>Instance</strong> – Specify the host name of the instance where business events occur. Environment instances should be available in the provided drop-down menu, but if an environment is not listed, it can be entered as a custom value.</li>
<li><strong>Category</strong> – Select the category of business events. The <strong>Business event</strong> field then shows the business events in that category.</li>
<li><strong>Business event</strong> – The available business events in the selected category.</li>
<li><strong>Legal entity</strong> – Specify the legal entity where the business event is being subscribed to. The flow will be triggered when the business event occurs in that legal entity. By default, this field is blank, and the business event is subscribed to in all legal entities.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following question to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What type of class supports constructing the business event, building the payload, and sending the business event?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A business events contract class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>An event handler class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>An event class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A business event class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>To retain a history of errors and remove a specific business event from a process, what status should the business event be changed to?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Inactive</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Active</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Delete</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which of the following business actions is a finance and operations user able to perform for their organization to handle daily tasks?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Inactive or active business events</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>External system tasks</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Workflow or nonworkflow actions</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The intent behind capturing the business event must be clearly
understood. In other words, you need to determine the reason for capturing the business event and how it's going to be used by the recipient.</p>
<p>If the intent for capturing a business event is to take a business
action outside of finance and operations apps in response to the business
event that is happening in finance and operations apps, then this is a valid intent to capture the business event. The business action that is taken in response to the business event can be to notify users about the business event and/or to call into another business application to take a
business action like creating a sales order. It's important to consider
the business action generically and not base the need for a business
event on the type of business action that will be taken.</p>
<p>If the intent of capturing the business event is to transfer data to the
recipient and, in effect, realizing a data export scenario, then this
will not be a good use case for using business events. In fact, using
business events for data transfer use cases will be a misapplication of the business events framework. Such scenarios must continue to use data
export mechanisms that are already available in data management.</p>
<h2 id="use-cases-of-business-events">Use cases of business events</h2>
<p>These use cases aren't an exhaustive list of the potential use cases. Some of these use cases may not have been implemented yet either by Microsoft or other organizations. These use cases are meant to provide ideas and help with understanding business events.</p>
<ul>
<li>Procurement</li>
<li>Reporting</li>
<li>Customer master</li>
<li>Month-end close</li>
<li>Vendor master</li>
<li>Sales quotation</li>
<li>Workflows</li>
<li>Batch processing</li>
<li>Alerts</li>
<li>Case management</li>
</ul>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Business events</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/home-page/?azure-portal=true">Business events overview</a></td>
</tr>
<tr>
<td>Troubleshooting</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/troubleshooting/?azure-portal=true">Troubleshoot business events</a></td>
</tr>
<tr>
<td>Development process and best practices for implementing business events.</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/business-events-dev-doc/?azure-portal=true">Business events developer documentation</a></td>
</tr>
<tr>
<td>Data management</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/work-data-management-finance-operations/?azure-portal=true">Work with data management in finance and operations apps</a></td>
</tr>
<tr>
<td>Extend elements in finance and operations apps</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/extend-elements-finance-operations/?azure-portal=true">Extend elements in finance and operations apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This module helps developers and solution architects make
thoughtful decisions about data integration scenarios when implementing
finance and operations apps. Additionally, this module discusses integration patterns and scenarios, including the following topics.</p>
<ul>
<li><p>Integration API choices:</p>
<ul>
<li>Open Data Protocol (OData)</li>
<li>Custom services</li>
<li>External web services</li>
<li>Microsoft Office integrations</li>
<li>Recurring integrations</li>
<li>Data management package API</li>
</ul>
</li>
<li><p>Synchronous and asynchronous integrations</p>
<ul>
<li>Synchronous integrations are ideal for scenarios requiring immediate feedback, such as validation or real-time updates</li>
<li>Asynchronous integrations excel in high-volume data exchanges where performance and reliability are prioritized over immediacy.</li>
</ul>
</li>
<li><p>Data integration scenarios
Explore common data integration scenarios and their challenges, such as:</p>
<ul>
<li>Master data synchronization</li>
<li>Transactional data exchange</li>
<li>Real-time updates versus scheduled batch processes</li>
</ul>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data integration overview</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps contain multiple APIs that support file-based integration scenarios:</p>
<ul>
<li>Open Data Protocol (OData)</li>
<li>Custom services</li>
<li>External web services</li>
<li>Office integrations</li>
<li>Recurring integrations</li>
<li>Data management package API</li>
</ul>
<p>Recurring integrations API and the data management framework API support
file-based integration scenarios, which is the focus of this
unit. The data management framework comes out of the box with finance and operations and supports data import and export. Recurring
integrations also support data import and export scenarios.</p>
<p>When selecting an integration API, there are many considerations. Some of the decision points for the Data management framework
and recurring integrations can help you select your implementation
integration scenario.</p>
<h2 id="open-data-protocol-odata">Open Data Protocol (OData)</h2>
<p>OData is a widely used protocol for building and consuming RESTful APIs. It allows seamless interaction with finance and operations apps by enabling developers to query and manipulate data using familiar HTTP methods like GET, POST, PUT, and DELETE, these are some key features:</p>
<ul>
<li><strong>Real-time Integration</strong> - OData APIs are ideal for scenarios requiring real-time data interaction. For instance, querying up-to-date customer data or creating new records directly from an external application.</li>
<li><strong>Standard Protocol</strong> - Built on open standards, OData supports uniform resource identifiers (URIs), making it highly interoperable across systems.</li>
<li><strong>Flexible Query Options</strong> - OData supports advanced querying capabilities such as filtering, sorting, pagination, and data projections, reducing the need for additional customizations.</li>
<li><strong>Built-in Security</strong> - OData uses OAuth 2.0 for secure access, ensuring that only authenticated and authorized users can interact with the API.</li>
</ul>
<h2 id="recurring-integrations">Recurring integrations</h2>
<p>Recurring integrations API supports both data import and export with
many other benefits, depending on your situation. With recurring
integrations you can do the following:</p>
<ul>
<li><strong>Job scheduling</strong> - Job scheduling for recurring integrations is  performed in finance and operations apps.</li>
<li><strong>Multiple data formats</strong> - Recurring integrations support files and data packages for import and export.</li>
<li><strong>Transformation</strong> - If your data is in XML formation, Extensible    Style sheet Language Transformation is supported to convert the data.</li>
<li><strong>Protocols</strong> - The two supported protocols for recurring    integrations are SOAP and REST.</li>
<li><strong>Service type</strong> - Recurring integrations are part of data    management APIs and are available out of the box.</li>
<li><strong>Availability</strong> - Recurring integrations aren't supported for on-premises implementations.</li>
</ul>
<h2 id="data-management-framework-package-api">Data management framework package API</h2>
<p>The Data management framework is a file-based integration scenario that is supported with finance and operations apps. Several reasons why your organization might choose this scenario include:</p>
<ul>
<li><strong>Scheduling</strong> - Unlike recurring integrations, scheduling is done outside of finance and operations apps.</li>
<li><strong>Formats</strong> - The only format that is supported is data packages.</li>
<li><strong>Transformation</strong> - Data transformations that are external to the system.</li>
<li><strong>Protocols</strong> - REST is supported.</li>
<li><strong>Service type</strong> - OData is used for the data management framework. OAuth 2.0 is used for authorization and access to the application.</li>
<li><strong>Availability</strong> - This functionality is available in finance and operations apps, platform 5 and later. This is the only supported API for on-premises deployments.</li>
</ul>
<p>Service protection limits are to increase system performance and reliability. Service protection limits are in place for OData and custom integrations such that, if a request exceeds the imposed service protection limits, it is throttled. The request also receives a 429 response. For more information about service protection limits, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/service-protection-api-limits/?azure-portal=true">Service protection API limits</a>.</p>
<p>For more information on APIs, see <a data-linktype="absolute-path" href="/en-us/training/modules/data-integrations-finance-operations/?azure-portal=true">Data integrations with finance and operations apps</a> and <a data-linktype="absolute-path" href="/en-us/training/modules/data-package-api-finance-operations/?azure-portal=true">Implement the Data management package API for finance and operations apps</a> modules. Links to these modules are provided in the <strong>Summary</strong> unit.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Synchronous integration</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Data integrations can be either synchronous or asynchronous.</p>
<p>Synchronous integration patterns use the Open Data Protocol (OData) with a continuous flow of data. They follow a blocking request and response pattern, meaning the caller is blocked until the request is completed and a response is returned. In the case of custom services and synchronous integration patterns, business logic is run immediately when the APIs are called.</p>
<p>For example, when a custom service is used to look up on-hand inventory, the business logic runs immediately, and the inventory sum number is returned. Similarly, when OData is used to insert records, they're immediately inserted as part of the OData call. REST and SOAP integration APIs in finance and operations apps can be invoked synchronously.</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Synchronous programming paradigm</th>
</tr>
</thead>
<tbody>
<tr>
<td>OData</td>
<td>DbResourceContextSaveChanges</td>
</tr>
<tr>
<td>Custom Service</td>
<td>httpRequestGetResponse</td>
</tr>
<tr>
<td>SOAP</td>
<td>UserSessionServiceGetUserSessionInfo</td>
</tr>
<tr>
<td>Batch data API</td>
<td>ImportFromPackage</td>
</tr>
</tbody>
</table>
<h2 id="odata-integration-scenario">OData Integration Scenario</h2>
<p>In this scenario, a retailer uses finance and operations apps along with a third-party application to manage their product catalog, which is hosted on-premises. The requirement is to see real-time updates in finance and operations apps whenever a product is created or modified in the third-party application. Since real-time data is required, OData service endpoints should be used for this integration. The steps involved include:</p>
<ul>
<li>Determining which entities are required for integration.</li>
<li>Ensuring that the OData service endpoints are available for the required entities.</li>
<li>Configuring the third-party application to make an OData call to finance and operations apps whenever a product is created or modified.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Asynchronous integration</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Asynchronous integration patterns use batch data APIs, running through a batch service. It's a nonblocking pattern, meaning the caller submits the request and continues without waiting for the response. Batch data APIs are suited for asynchronous integration because they handle large-volume data imports and exports. When these APIs are called, the import or export process runs in a batch. One advantage of using batch data APIs is their ability to handle large volumes of data, especially when business logic runs concurrently with the import or export process. As a best practice, when dealing with several hundred records, a batch data API integration should be used.</p>
<p>Like synchronous patterns, REST and SOAP integration APIs in finance and operations apps can also be invoked asynchronously.</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Asynchronous programming paradigm</th>
</tr>
</thead>
<tbody>
<tr>
<td>OData</td>
<td>DbResourceContextSaveChangesAsync</td>
</tr>
<tr>
<td>Custom Service</td>
<td>httpRequestBeginGetResponse</td>
</tr>
<tr>
<td>SOAP</td>
<td>UserSessionServiceGetUserSessionInfoAsync</td>
</tr>
<tr>
<td>Batch data API</td>
<td>BeginInvoke</td>
</tr>
</tbody>
</table>
<p>A retailer uses finance and operations apps for financial and statement posting, while their point-of-sale (POS) system is a third-party, on-premises system. The retailer processes hundreds of transactions daily, but real-time data is not required. At the end of the day, all transaction data needs to be imported into finance and operations apps for financial processing. Because real-time data is not necessary and the volume of data is large, this scenario is best suited for asynchronous integration using batch data APIs.</p>
<p>The steps to implement this include:</p>
<ul>
<li>Identifying the entities required for the integration in finance and operations apps and enabling data management.</li>
<li>Using the REST batch data API in the on-premises third-party system to import the transaction data into finance and operations apps at the end of each business day.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following types of integrations should you select when you need to asynchronously import data to finance and operations apps from a third-party system on an hourly basis?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>OData integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch data integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which type of integration API supports both file and data package formats?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Recurring integrations</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Is it true that both recurring integrations and the data management framework support REST protocols?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Understanding data integrations and scenarios for the various types of
integrations is one of the first steps to determining your data
integration plan.</p>
<p>In this module, you learned how to select an API integration that best
fits the needs of your business depending on format, protocol,
transformation type, job scheduling, and service type needs.</p>
<p>You also learned the difference between synchronous and asynchronous
integrations and how to decide which one you should choose for your
scenario. To learn about implementing these data integration solutions,
continue with the Connect to finance and operations apps learning path.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>As a developer, you're usually part of the data integration scenarios
during and after a finance and operations apps
implementation. In this module, you learn how to make thoughtful
data integration scenario decisions when implementing finance and operations apps.</p>
<h2 id="data-entities-and-integrations">Data entities and integrations</h2>
<p>Data entities are consumed in various integration scenarios, such as
data import and export, integration, and OData services. Custom services
are used to expose X++ functionality to external clients. You can also
access your data in external applications such as in Microsoft Power Apps and
Microsoft Excel.</p>
<p>The <strong>Dynamics</strong> add-in is available in Microsoft Excel to manipulate entity data. Data entities are also used when you create Power Apps applications. Electronic Data Interchange (EDI) is used to improve the connection between your
organization and partners for accounts payable, accounts receivable, and third-party logistics (3PL). You can use the <strong>Data
validation checklist</strong> workspace to verify data during an implementation, upgrade, or migration.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop an entity and enable it for data export</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A data entity is a de-normalized view of data that is spread across
multiple normalized tables. The abstracted nature of a data entity
simplifies application development and customization. Data entities
provide a single stack to capture business logic and to enable scenarios
such as import and export and integrations. Data entities are the primary method for importing and exporting data packages, and they can be exposed as OData services and then used in tabular-style synchronous integration
scenarios. You can use data entities to access your finance and operations apps data through a third-party application, which is any program outside of finance and operations apps, whether it is a Microsoft product or not.</p>
<p>Data entities enable public application programming interfaces (APIs) to
be exposed, and then enables synchronous services, which are used in
Office integrations and third-party apps. By using a data management
pipeline, data entities support asynchronous integrations, such as
interactive file-based import/export and recurring integrations.</p>
<p>Many data entities are available in the Application Object Tree
(AOT) in Visual Studio. You can also create a new data entity by using a
wizard in Visual Studio.</p>
<p>The following steps show the normal process to create a new data entity:</p>
<ol>
<li>Select a primary and secondary data source to build your entity, which could be tables from either the AOT or from your own project.</li>
<li>Enable public API and data management capabilities so your data entity can be used for data exports. When public API and data management capabilities have been enabled, a staging table is created with the entity, which is used in import/export scenarios to provide intermediary storage during file parsing and transformation.</li>
<li>Select the fields from your primary table that you want included in your entity.</li>
<li>You can rename the fields or select <strong>Convert labels to field names</strong> to generate names from existing labels.</li>
<li>Select the check box in the <strong>Is Mandatory</strong> column for the field that you want to use as the natural key.</li>
<li>Select your secondary data source and choose the fields that you want included. In the field selection, you have the same label options that you did with the primary data source.</li>
<li>After you have finished creating the entity, new items are displayed under your project in the <strong>Solution Explorer</strong> window. In addition to having your data entity listed, a staging table and two privileges to view and maintain the entity is available for you.</li>
</ol>
<p>To see how to create a new data entity in Visual Studio, watch this video.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=1f5522f7-bbe8-4f65-879f-0b949c198ec1"></iframe></div>
<h2 id="add-a-data-entity">Add a data entity</h2>
<p>New data entities can be added from Solution Explorer by using the <strong>Data Entity Wizard</strong>.</p>
<ol>
<li>Right-click your project or activate the context menu, and then select <strong>Add</strong>, <strong>New Item</strong>, <strong>Data Model</strong>, <strong>Data Entity</strong>.</li>
<li>Create a name, such as <strong>mySalesPoolEntity</strong>, and then select <strong>Add</strong>. The <strong>Data Entity Wizard</strong> opens, and you should enter a primary data source, such as <strong>SalesPool</strong>.</li>
<li>Enable <strong>Public API</strong> and the <strong>Public entity name</strong> and <strong>Public collection name</strong> prefixes with <strong>my</strong>, such as <strong>mySalesPoolEntity</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>On the <strong>Add fields</strong> tab, select <strong>Next</strong>, and remove any fields that have the container type. A data entity should now be added to your project.</li>
<li>Ensure that <strong>Synchronize Database on Build</strong> is set to <strong>true</strong> for your project’s property, and then save and build your project in Solution Explorer. If you experience build errors, find the model used for the field and add it as a reference to your model.</li>
</ol>
<p>Entities are created as views in the database, and fields and keys are taken from our primary data source.</p>
<p>Test your entity by using X++, as follows.</p>
<ol>
<li><p>Right-click your project or activate the context menu, and then select <strong>Add</strong>, <strong>New Item</strong>, <strong>Code</strong>, <strong>Runnable class</strong> to add a runnable class. Use the name <strong>mySalesPoolRunnableClass</strong>, and select <strong>Add</strong>.</p>
</li>
<li><p>Enter the following code into your runnable class:</p>
<pre><code class="lang-xpp">public static void main(Args _args)
{
    mySalesPoolEnitity  salesPoolEntity;
    SalesPoolId         salesPoolId = "myPool-1";

    // create records with entity

    salesPoolEntity.clear();
    salesPoolEntity.SalesPoolId = salesPoolId;
    salesPoolEntity.Name        = "My sales pool";
    salesPoolEntity.insert();

    Info(strFmt("Sales pool %1 created with name %2", salesPoolEntity.SalesPoolId,  salesPoolEntity.Name));

    select forupdate salesPoolEntity
        where salesPoolEntity.SalesPoolId == salesPoolId;

    Info(strFmt("Sales pool %1 %2 selected", salesPoolEntity.SalesPoolId, salesPoolEntity.Name));

    salesPoolEntity.delete();

    select salesPoolEntity
        where salesPoolEntity.SalesPoolId == salesPoolId;

    Info(strFmt("Deleted sales pool does not exists: %1", salesPoolEntity.SalesPoolId));
}
</code></pre>
</li>
<li><p>Run the job with the debugger. The following screenshot depicts what you should observe in the Infolog.</p>
<p><a data-linktype="relative-path" href="media/infolog.png#lightbox"><img alt="Screenshot showing the infolog after running the debugger." data-linktype="relative-path" src="./rawmb500/media_infolog.png"/></a></p>
</li>
</ol>
<p>The data entity can be accessed with OData by entering the <strong>you base url for dynamics/data/MySalesPoolEntities</strong> URL, which the following screenshot shows.</p>
<p><a data-linktype="relative-path" href="media/data-entity.png#lightbox"><img alt="Screenshot showing the code that is shown after entering the url." data-linktype="relative-path" src="./rawmb500/media_data_entity.png"/></a></p>
<p>To add an action to the data entity, follow these steps.</p>
<ol>
<li><p>In Solution Explorer, right-click <strong>mySalesPoolEntity</strong> or activate the context menu and then select <strong>View code</strong>.</p>
</li>
<li><p>Add the following code:</p>
<pre><code class="lang-xpp">public class MySalesPoolEnitity extends common
{
    [SysODataActionAttribute("Check", false)]
    public static str check(SalesPoolId _salesPoolId)
    {
        // do something

        return SalesPool::exist(_salesPoolId) ? "Sales pool exist" : "Sales pool does not exist";
    }
}
</code></pre>
<p>The <strong>SysODataActionAttribute</strong> attribute defines the action attribute on the data entity.</p>
</li>
<li><p>After building the project, the OData endpoint needs to be updated by using <strong>Restart IIS Express</strong>.</p>
</li>
<li><p>Test the action on the data entity by using the <strong>https://base url.axcloud.dynamics.com/data/MySalesPoolEntities/Microsoft.Dynamics.DataEntities.Check</strong> URL.</p>
<p>If you have a body with the parameter for <strong>_salesPoolId = “my01”</strong>, the following output appears.</p>
<p><a data-linktype="relative-path" href="media/salespool-id.png#lightbox"><img alt="Screenshot showing the output if you have a body with the parameter salespoolid." data-linktype="relative-path" src="./rawmb500/media_salespool_id.png"/></a></p>
</li>
</ol>
<p>To find metadata and actions on a data entity, use the <strong>https://base url.axcloud.dynamics.com/Metadata/PublicEntities/</strong> URL.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extend a data entity</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you add fields to tables, you need to ensure that the corresponding data entity includes these fields. Additionally, you can extend existing data entities with these new fields.
Data entities have two parts:</p>
<ul>
<li><strong>Data entity</strong> - You need to create an extension of the existing data entity.</li>
<li><strong>Staging table</strong> - You need to create a table extension manually for a staging table.</li>
</ul>
<p>Also, you can add new fields to a data entity by creating a duplicate entity and then adding the new fields and functionality. As a result, you don’t need to extend the original entity.</p>
<h2 id="add-new-fields-to-extend-a-data-entity">Add new fields to extend a data entity</h2>
<p>You can add fields to a data entity by creating an extension. For example, consider a scenario where you create a new <strong>PhoneMobile</strong> field (EDT: PhoneMobile) as an extension on the <strong>CustTable</strong> table. In this case, you could create an extension for the data entity by completing the following steps:</p>
<ol>
<li><p>Find the <strong>CustCustomerV3Entity</strong> data entity in Application Explorer (under <strong>Data Model</strong>) in Visual Studio. (In addition to the usual options, make sure that your model references the Directory, Dimensions, and PersonnelCore packages.)</p>
</li>
<li><p>Right-click the data entity to open the context menu, and then select <strong>Create extension</strong>. The system adds an extension for <strong>CustCustomerV3Entity</strong> to your project in Solution Explorer.</p>
</li>
<li><p>Select the extension to add it to the Designer.</p>
</li>
<li><p>Go to the <strong>Data sources</strong> node, select <strong>CustTable</strong>, select <strong>Fields</strong>, and then locate the new <strong>PhoneMobile</strong> field.</p>
</li>
<li><p>Right-click the new <strong>PhoneMobile</strong> field to open the context menu, and then select <strong>Copy</strong>.</p>
</li>
<li><p>Go to the <strong>Fields</strong> node on the data entity. Right-click the node to open the context menu, and then select <strong>Paste</strong>. The new field should now show in <strong>CustCustomerV3Entity</strong>.</p>
</li>
<li><p>Select <strong>Save all</strong>. Right-click your project in Solution Explorer to open the context menu, and then select <strong>Build</strong>.</p>
</li>
<li><p>Right-click your project again to open the context menu, and then select <strong>Synchronize &lt;your project&gt; With Database</strong> (if available). The <strong>CustCustomerV3Entity</strong> data entity shows as extended and includes the <strong>PhoneMobile</strong> field.</p>
<p><a data-linktype="relative-path" href="media/extend-data-entity.png#lightbox"><img alt="Screenshot showing the new PhoneMobile field." data-linktype="relative-path" src="./rawmb500/media_extend_data_entity.png"/></a></p>
</li>
</ol>
<p>You can create code extensions by finding the data entity in Application Explorer, right-clicking it to open the context menu, and then selecting <strong>Create Code Extension</strong>.</p>
<p>The system creates a class for code extensions of the data entity, and then you can extend methods with Chain of Command or create new methods.</p>
<p>For example, you can create a computed column on the data entity and then have the system create its static method in the code extension class.</p>
<p>You should be aware of performance considerations when doing data entity extensions and data entity code extensions. For more information, see the previous unit in this module.</p>
<p>As a best practice, your organization could require a naming standard for new fields, such as a specific prefix. However, the example in this unit doesn't use a naming standard.</p>
<h2 id="extend-a-staging-table">Extend a staging table</h2>
<p>In the Designer, you can use <strong>Regenerate staging table</strong> and <strong>Update staging table</strong> to add fields to a staging table. However, this method isn’t possible for a data entity extension. You must create fields manually by using a table extension.</p>
<ol>
<li>Find the <strong>CustCustomerV3Staging</strong> table in Application Explorer.</li>
<li>Right-click the table to open the context menu, and then select <strong>Create extension</strong>. The system adds an extension for <strong>CustCustomerV3Staging</strong> to your project in Solution Explorer.</li>
<li>Select the extension to add it to the Designer.</li>
<li>Find the extended data type for the field that you want to add. In this example, it’s <strong>Extended Data Type PhoneMobile</strong>, which you should drag into the <strong>Fields</strong> node for the staging table.</li>
<li>Select <strong>Save all</strong>. Select your project in Solution Explorer to open the context menu and then select <strong>Build</strong>.</li>
<li>Right-click the project again to open the context menu, and then select <strong>Synchronize &lt;your project&gt; With Database</strong> (if available). The new field on the staging table now shows as synced with SQL Server.</li>
</ol>
<div class="NOTE">
<p>Note</p>
<p>Fields, and the data type for fields, on a staging table extension and data entity extension should be the same. If you’re using different data types, a best practice error appears after the build finishes.</p>
</div>
<h2 id="refresh-an-entity-list-and-verify-the-extension">Refresh an entity list and verify the extension</h2>
<p>If you want to use changes to an entity that extensions made, select <strong>Refresh entity</strong> in finance and operations apps. The <strong>Refresh entity</strong> option re-creates mappings for an entity, including new fields.</p>
<p>To refresh manually on the front end, go to <strong>Data management &gt; Framework parameters &gt; Entity settings &gt; Refresh entity</strong> list.
Refreshing the entity list ensures all entities are available in the environment and that the entities have the latest metadata.</p>
<p>Developers can open SQL Server Management Studio to verify the view and table that they create for the data entity and staging table, respectively. Extensions to data entities should appear on the data entity and the staging table.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement custom services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can develop custom services for finance and operations apps to expose X++ functionality to external clients. Existing code can be exposed as a custom service by adding an attribute to the code. The attribute is set on the data contract class and its members to automatically serialize and deserialize data that is sent and received across a network connection.</p>
<p>You can use custom service when the schema for the entity can be written as a simple data contract class with relevant data member attributes set. X++ data contract serialization and deserialization are specified by using the attributes <code>DataContractAttribute</code> and <code>DataMemberAttribute</code>.</p>
<p>When you write a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li>SOAP endpoint</li>
<li>JavaScript Object Notation (JSON) endpoint</li>
</ul>
<p>With a SOAP-based custom service, all service groups under the
<strong>AOTService group</strong> node are automatically deployed, and services that are deployed must be part of a service group. X++ classes are consumed as JSON services, so the return data set is in JSON format. JSON is used to communicate data between the client and the server.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement custom services and the Batch OData API</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use custom services to expose business logic to an external service. Data contracts help you pass complex business logic.</p>
<p>The Batch OData application programming interface (API) provides an interface that you can use to reschedule batch jobs by using OData.</p>
<h2 id="implement-custom-services">Implement custom services</h2>
<p>Data entities expose data simply and externally. When you use custom services, you can expose more complex business logic to an external service. Essentially, you can conduct advanced calculations for a request and then return it as a response.</p>
<p>All custom services in finance and operations apps always deploy with SOAP and JSON endpoints. A custom service consists of three classes:</p>
<ul>
<li><p><strong>A data contract class for requests</strong> - The suffix for this class should be <strong>Request</strong>.</p>
</li>
<li><p><strong>A service class for business logic</strong> - The suffix for this class should be <strong>Service</strong>.</p>
</li>
<li><p><strong>A data contract class for responses</strong> - The suffix for this class should be <strong>Response</strong>.</p>
</li>
</ul>
<p>After creating the classes, you need to add the service class to a service. Then, the system can include it in a service group.</p>
<p>To make a simple custom service in which you send two numbers and get a summary in return, follow these steps:</p>
<ol>
<li>Create a data contract request class with two attributes for each number.</li>
<li>Create a data contract response class with one attribute for the result.</li>
<li>Create the service class.</li>
<li>Add your business logic method from the service class to a service, and then add the service to a service group.</li>
<li>Test the new custom service by using tools that you prefer.</li>
</ol>
<h3 id="create-a-data-contract-request-class-with-two-attributes-for-each-number">Create a data contract request class with two attributes for each number</h3>
<p>To create a data contract request class with two attributes for each number, follow these steps:</p>
<ol>
<li><p>Create a new project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>Enter a request name for your data contract class. In the following example, the class is named <strong>MB500_CustomServiceRequest</strong>.</p>
</li>
<li><p>In the code editor, add the <code>DataContractAttribute</code> attribute before the class name to indicate that it's a data contract class, as shown in the following example:</p>
<pre><code class="lang-xpp"> [DataContractAttribute]
 internal final class MB500_CustomServiceRequest
 {
 }
</code></pre>
</li>
<li><p>Add the <code>DataMemberAttribute</code> attribute for each number that the system should serialize in the request, as shown in the following example:</p>
<pre><code class="lang-xpp"> [DataContractAttribute] 
 internal final class MB500_CustomServiceRequest
 {
     real        numberA;
     real        numberB;

     [DataMemberAttribute('numberA')]
     public real parmNumberA(real _numberA = numberA)
{
         if (!prmisDefault(_numberA))
         {
             numberA = _numberA;
         }
         return numberA;
     }

     [DataMemberAttribute('numberB')]
     public real parmNumberB(real _numberB = numberB)
     {
         if (!prmisDefault(_numberB))
         {
             numberB = _numberB;
         }
         return numberB;
     }
 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="create-a-data-contract-response-class-with-one-attribute-for-the-result">Create a data contract response class with one attribute for the result</h3>
<p>To create a data contract response class with one attribute for the result, follow these steps:</p>
<ol>
<li><p>Use the same project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>Enter a response name for your data contract class. In the following example, the class is named <strong>MB500_CustomServiceResponse</strong>.</p>
</li>
<li><p>Indicate the class as a data contract class with an attribute.</p>
</li>
<li><p>Add <code>DataMemberAttribute</code> data member for the result that you want to have in your response. The following code is an example of a data contract for a response:</p>
<pre><code class="lang-xpp"> [DataContractAttribute] 
 internal final class MB500_CustomServiceResponse
 {
 	real        result;

 	[DataMemberAttribute('result')]
 	public real parmResult(real _result = result)
 	{
		if (!prmisDefault(_result))
		{
    		result = _result;
		}
		return result;
 	}

 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="create-the-service-class">Create the service class</h3>
<p>To create the service class, follow these steps:</p>
<ol>
<li><p>Use the same project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>Enter a name for your service class (business logic). In the following example, the class is named <strong>MB500_CustomServiceService</strong>.</p>
</li>
<li><p>Use a new method that has your data contract request class as a parameter and that returns your data contract response class, as follows:</p>
<pre><code class="lang-xpp"> internal final class MB500_CustomServiceService 
 {
     public MB500_CustomServiceResponse summarize(MB500_CustomServiceRequest  _request)
     {
         MB500_CustomServiceResponse response = new MB500_CustomServiceResponse();

         real numberA = _request.parmNumberA();
         real numberB = _request.parmNumberB();

         response.parmResult(numberA + numberB);

         return response;
     }

 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="add-a-business-logic-method-from-the-service-class-to-a-service-and-add-the-service-to-a-service-group">Add a business logic method from the service class to a service and add the service to a service group</h3>
<p>To add your business logic method from the service class to a service and then add the service to a service group, follow these steps:</p>
<ol>
<li><p>Use the same project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Find the <strong>Services</strong> group, and then select <strong>Service</strong>.</p>
</li>
<li><p>Enter a name for your service. In the following example, the service is named <strong>MB500_CustomServiceSum</strong>.</p>
</li>
<li><p>Add the service class to the properties for the service.</p>
</li>
<li><p>Right-click the <strong>Service Operations</strong> node to open the context menu, and then select <strong>New Service Operation</strong>.</p>
</li>
<li><p>Select your method in the service class in the properties for service operation, and then set the name to the same value.</p>
<p><a data-linktype="relative-path" href="media/service-operation-summarize.png#lightbox"><img alt="Screenshot showing the Service Operation summarize properties." data-linktype="relative-path" src="./rawmb500/media_service_operation_summarize.png"/></a></p>
</li>
<li><p>Select <strong>Save all</strong>.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Find the <strong>Services</strong> group, and then select <strong>Service Group</strong>.</p>
</li>
<li><p>Enter a name for your service. In the following example, the service is named <strong>MB500_CustomServices</strong>.</p>
</li>
<li><p>Enter <strong>MB500</strong> as a description in the properties for the service group.</p>
</li>
<li><p>Drag your service named <strong>MB500_CustomServiceSum</strong> to the service group’s <strong>MB500_CustomServices</strong> node.</p>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="test-the-new-custom-service-using-your-preferred-tools">Test the new custom service using your preferred tools</h3>
<p>If you review the services at your URL, your new service should appear.</p>
<h2 id="implement-the-batch-odata-api">Implement the Batch OData API</h2>
<p>Many tasks are run as batch jobs, and critical batch jobs require monitoring. Often, a reschedule is necessary to restart a job if something goes wrong.</p>
<p>Batch OData API raises a business event so that Microsoft Power Automate can capture the state and automate rescheduling. However, some errors require manual intervention.</p>
<p>To create a Microsoft Power Automate flow for Batch OData API, follow these steps:</p>
<ol>
<li>Sign in to Microsoft Power Automate and create an automated flow.</li>
<li>Provide a name for the flow, and then search for <strong>Fin &amp; Ops</strong> to find <strong>When a Business Event occurs</strong> in the list. Select <strong>Create</strong>.</li>
<li>Select the <strong>When a Business Event occurs</strong> trigger and then specify parameters.</li>
<li>Select your instance.</li>
<li>Select <strong>Batch</strong> as the <strong>Category</strong>.</li>
<li>Notice that you now have the following <strong>Business Event</strong> options in the <strong>Category</strong> list:
<ul>
<li>Batch job canceled</li>
<li>Batch job failed</li>
<li>Batch job finished</li>
<li>Batch job started</li>
</ul>
</li>
<li>Restart your batch job when it fails by selecting <strong>Batch job failed</strong>.</li>
<li>Select <strong>USMF</strong> as the legal entity.</li>
<li>Add a new action for <strong>Parse JSON</strong>.</li>
<li>Access the schema for a <strong>Batch job failed</strong> business event by following these steps:
<ol>
<li>Go to finance and operations apps and find the <strong>Business Event Catalog</strong> in System Administration.</li>
<li>Filter the category for <strong>Batch</strong>, and then select <strong>Batch job failed</strong>.</li>
<li>Download the schema from the <strong>Download schema</strong> menu.</li>
<li>Open the schema and copy all text by selecting the <strong>Ctrl+C</strong> keyboard shortcut.</li>
</ol>
</li>
<li>Set <strong>Content</strong> to <strong>Body</strong> in the <strong>Parse JSON</strong> action, select <strong>Use sample payload to generate schema</strong>, and then paste the JSON from the business event.</li>
<li>Select <strong>Done</strong> and the system creates the schema from the business event.</li>
<li>Add a new action for <strong>Condition</strong>.</li>
<li>Use the <strong>Job ID</strong> for the condition. Every batch job has a Job ID that you can use to filter for a specific batch job.</li>
<li>Add a new action for <strong>Execute OData API</strong> in the <strong>Condition</strong> if it returns a value of <strong>True</strong>:
<ol>
<li>Search for <strong>Fin &amp; Ops</strong>, and then select <strong>See more</strong>.</li>
<li>Find and select <strong>Execute action</strong>.</li>
</ol>
</li>
<li>Select the instance that you want to use.</li>
<li>Find and select the <strong>BatchJobs-SetBatchJobToWaiting</strong> action.</li>
<li>Save the flow.</li>
</ol>
<p>The following image shows that the business event for <strong>Batch job failed</strong> triggers a flow. Afterward, the system sets the batch job ID to <strong>Waiting</strong>, which means that it runs the flow again.</p>
<p><a data-linktype="relative-path" href="media/flow.png#lightbox"><img alt="Screenshot showing the result of the flow." data-linktype="relative-path" src="./rawmb500/media_flow.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Expose OData endpoints from data entities</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>OData is a standard protocol for creating and consuming data. OData
provides a protocol that is based on Representational State Transfer
(REST) for create, read, update, and delete (CRUD) operations. OData
applies web technologies such as HTTP and JavaScript Object Notation
(JSON) to provide access to information from various programs. OData
allows you to interact with data by using RESTful web services. The public OData service endpoint enables access to data in a consistent manner across a broad range of clients. An OData REST endpoint exposes all data entities that are selected as <code>IsPublic</code> in the AOT in Visual
Studio. The OData REST endpoint also supports CRUD functionality that
you can use to insert and retrieve data from the system.</p>
<p>Insomnia is a tool that is often used to interact with RESTful services (such as OData) in scenarios that
involve the development and testing of application programming
interfaces (APIs).</p>
<p>OData entities are based on an updatable view. When the
<strong><code>IsPublic</code></strong> property for an updatable view is set to
<strong>True</strong>, then that view is exposed as a top-level OData entity. Links
between OData entities are described by navigation properties, which
detail the navigation from one end of an association to the other.</p>
<p>For more information about how to query finance and operations apps by using
Insomnia, go to <a data-linktype="absolute-path" href="/en-us/power-apps/developer/data-platform/webapi/insomnia/?azure-portal=true">Use Insomnia with Dataverse Web API</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Consume external web services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can consume web services in finance and operations apps to receive data from external systems, without the need for an external library. Consuming web services should happen in a safer way.</p>
<h2 id="set-up-key-vault-parameters">Set up key vault parameters</h2>
<p>Microsoft Azure Key Vault is a cloud service for storing and accessing secrets in a more secure way. A secret is anything to which you want to tightly control access, such as API keys, passwords, certificates, connection strings, or cryptographic keys. In finance and operations apps, you shouldn’t store secrets on a parameter table but rather in Azure Key Vault.</p>
<p>In the right navigation pane of finance and operations apps, you can store secrets from <strong>System administration &gt; Setup &gt; Key Vault parameters</strong> by selecting the connected <strong>Azure Key Vault URL</strong>, <strong>Key vault client ID</strong>, and <strong>Key vault secret</strong>. After setting up the key value parameters, you can add secrets by a given name and point to a specific secret in Azure Key Vault.</p>
<p>In X++, you can receive the secrets in an Azure Key Vault by using those settings for the key vault parameters, as the following code sample depicts:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// The method returns the key vault value for the supplied name.
    /// &lt;/summary&gt;
    /// &lt;param name = "_keyvaultSecretName"&gt;Name of the secret to look up&lt;/param&gt;
    /// &lt;returns&gt;string value for the secret&lt;/returns&gt;
    public static str getKeyVaultSecretValue(str _keyVaultSecretName)
    {
        KeyVaultCertificateTable    certificateTable    = KeyVaultCertificateTable::findByName(_keyVaultSecretName);
        str keyVaultValue = KeyVaultCertificateHelper::getManualSecretValue(certificateTable.RecId);
        return keyVaultValue;
    }
</code></pre>
<p>In the previous <code>getKeyVaultSecretName</code> X++ method, you can find the secret for a specific parameter in the key vault parameters and connect to Azure Key Vault by using the <code>KeyVaultCertificationHelper</code> standard class in a more secure and trusted way.</p>
<h2 id="create-an-http-client-to-call-an-external-webservice">Create an HTTP client to call an external webservice</h2>
<p>An HTTP client can send a request to, and get a response from, a web server in HTTP format. The client uses JSON for the request and response body. For authentication, the client uses an API key, and then you receive an API key from Azure Key Vault.</p>
<p>The following code sample depicts how you can create a method by using URL and JSON for the request, and it shows that the system responds with JSON.</p>
<pre><code class="lang-xpp">
using System.IO;

    private const       str headerApiKey = "apiKey";
    protected const     str contentType = "application/json";

    public str getResponse(URL _url, str _json)
    {
        System.Net.HttpWebRequest request = null;
        System.Net.HttpWebResponse response = null;
        CLRObject webResponse;
        System.Net.WebHeaderCollection headers;
        System.Exception ex;
        System.Net.WebException webException;

        str apiKey              = MyConsumeExternalWebService::getKeyVaultSecretValue("MyWebServiceAPIKey");

        try
        {
            request = System.Net.WebRequest::Create(_url) as System.Net.HttpWebRequest;
            
            headers = request.get_Headers();
            headers.Add(HeaderApiKey, apiKey);

            request.set_ContentType(contentType);

            using (var streamWriter = new StreamWriter(request.GetRequestStream()))
            {
                streamWriter.Write(_json);
            }

            webResponse = request.GetResponse();

            response = webResponse as System.Net.HttpWebResponse;

            return response.GetResponseStream().ToString();
        }
        catch (Exception::CLRError)
        {
            ex = ClrInterop::getLastException();
            if (ex != null)
            {
                ex = ex.get_InnerException();
            }
        }
        return '';
    }
</code></pre>
<p>For the request body and response body, you need to create two data contracts. The following example depicts the use of <code>itemId</code> as the data member in the request body and <code>onhand</code> as the data member in the request body.</p>
<pre><code class="lang-xpp">[DataContractAttribute]
class MyConsumeExternalWebServiceRequestContract
{
    str             itemId;

    [DataMemberAttribute('itemId')]
    public str parmItemId(str _itemId = itemId)
    {
        itemId = _itemId;
        return itemId;
    }
}
[DataContractAttribute]
class MyConsumeExternalWebServiceResponseContract
{
    InventQty onhand;

    [DataMemberAttribute('onhand')]
    public InventQty parmOnhand(InventQty _onhand = onhand)
    {
        onhand = _onhand;
        return onhand;
    }
}
</code></pre>
<p>Now, you can create the request contract with a value for consuming the external web service and receive a result in the response data contract, as the following code sample depicts.</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        URL         url = "myURL.com";
        str         serializedJSONstr;

        MyConsumeExternalWebService                 webService = new MyConsumeExternalWebService();

        MyConsumeExternalWebServiceRequestContract  requestContract = new MyConsumeExternalWebServiceRequestContract();
        MyConsumeExternalWebServiceResponseContract responseConract = new MyConsumeExternalWebServiceResponseContract();

        requestContract.parmItemId("ABC");

        serializedJSONstr = webService.getResponse(url, FormJsonSerializer::serializeClass(requestContract));
        
        responseConract = FormJsonSerializer::deserializeObject(classNum(MyConsumeExternalWebServiceResponseContract), serializedJSONstr);
    }
}
</code></pre>
<p>Using data contracts for requests and responses can simplify a developer's processes. Without data contracts, you need to code the JSON serializing and deserializing manually. Data contracts have a framework for serializing and deserializing.</p>
<p>Consuming external web services is common in finance and operations apps because functionality has moved from within the apps to external web services.</p>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/finance/localizations/global/setting-up-azure-key-vault-client/?azure-portal=true">Set up the Azure Key Vault client</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate finance and operations apps with Microsoft Excel</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>By using the <strong>Dynamics 365</strong> add-in for Excel, entity data can be opened in
Excel to view, update, and add the data. You can open data either from
Excel or from finance and operations apps. When you open data in Excel, you
can quickly and easily view and edit the data by using the Excel add-in.</p>
<p>To open data in Excel from finance and operations apps, follow these
high-level steps:</p>
<ol>
<li>Open your desired page in finance and operations apps.</li>
<li>In the top-right corner of the page, select the Office logo, and then select the <strong>Open in Excel</strong> button to open a new workbook.</li>
<li>An Excel workbook will open. Select <strong>Enable editing</strong> so that the Excel add-in can run in the right pane of the window. If you haven't run the Excel-add in, you will need to select <strong>Trust this Add-in</strong>.</li>
<li>Sign in using your credentials for finance and operations apps.</li>
<li>When the Excel add-in loads your data, you will be able to view the data for the selected entity.</li>
</ol>
<p>To open entity data from within Microsoft Excel, follow these steps:</p>
<ol>
<li>In Excel, select the <strong>Insert</strong> tab and then select <strong>Store</strong> to open the Office Store.</li>
<li>Search to find the <strong>Microsoft Dynamics Office Add-in</strong>, commonly referred to as the Excel add-in, and select <strong>Add</strong>.</li>
<li>The Excel add-in will open in the right pane of Excel. If you haven't run the add-in before, you will need to select <strong>Trust this Add-in</strong>.</li>
<li>Select <strong>Add server information</strong>, which opens the <strong>Options</strong> pane.</li>
<li>In the <strong>Server URL</strong> field, paste the URL of your target finance and operations apps instance, deleting everything after the host name. For example, <em>https://abcompany.dynamics.com</em>.</li>
<li>Select <strong>OK</strong> and then select <strong>Yes</strong> to confirm the change.</li>
<li>Select the <strong>Design</strong> button to retrieve entity metadata.</li>
<li>Select <strong>Add table</strong> to view a list of entities.</li>
<li>Select your desired entity from the list and select <strong>Next</strong>.</li>
<li>Add a field from the <strong>Available fields</strong> list to the <strong>Selected fields</strong> list by selecting the field, and then select <strong>Add</strong>. You can also double-click the field in the <strong>Available fields</strong> list.</li>
<li>When you have finished adding your desired fields to the <strong>Selected fields</strong> list, select <strong>Done</strong>.</li>
<li>Select <strong>Refresh</strong> to pull in a set of data.</li>
</ol>
<p>You can use the Excel add-in after entity data has been loaded into
the workbook to update data by selecting <strong>Refresh</strong> in the add-in
window. You can also modify entity data and publish it back to finance and operations by selecting <strong>Publish</strong> in the add-in window after you
modify the contents of a cell. You can add a new record by selecting the
<strong>New</strong> button, provided that all key and mandatory fields are bound in the worksheet or the default values were filled in by using the filter
condition. You can delete a record in the worksheet by right-clicking
the row that you want to delete and selecting <strong>Delete</strong>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate finance and operations apps with external applications by using Power Apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps integrate with Microsoft Power Apps, which is a
service for developers and non-technical users to build custom business
apps for mobile devices, tablets, and the web without writing code.
You can embed Power Apps apps in finance and operations apps to modify the
product's functionality. You can embed Power Apps apps from within the user interface by selecting the Power Apps logo on the page you wish to embed a Power Apps app.</p>
<p>For example, you can build a Power Apps app to supplement finance and operations apps with information that is pulled from another system.</p>
<p>When using finance and operations apps as the data source for a Power Apps app, you
will select from a list of your data entities. As with all other
integration scenarios, the Power Apps integration uses data entities to
access your finance and operations apps data. Many data sources exist
outside of finance and operations apps, which you can also use for Power Apps apps.</p>
<p>Examples of other data sources are:</p>
<ul>
<li>Microsoft Dataverse</li>
<li>Azure</li>
<li>SharePoint</li>
<li>SQL Server</li>
<li>Other Dynamics 365 apps</li>
</ul>
<p>The two ways that you can access a Power Apps app on a page are:</p>
<ul>
<li><p>Select the <strong>Power Apps</strong> button in the right-corner of the Action Pane. When you embed a Power Apps app to be launched by using the <strong>Power Apps</strong> button, a menu item for the Power Apps app appears, and the app will open in a side pane.</p>
</li>
<li><p>Display a Power Apps app on a page as a new tab, FastTab, blade, or new section in a workspace. The following screenshot is from the <strong>All vendors</strong> page in the finance and operations apps user interface that shows the <strong>Power Apps</strong> button. Because there is no Power Apps app on the <strong>All vendors</strong> page, you are prompted to insert one.</p>
<p><a data-linktype="relative-path" href="media/insert-powerapp.png#lightbox"><img alt='All vendors page that highlights the PowerApp button. When selected, this button opens to a menu option to "Insert a PowerApp".' data-linktype="relative-path" src="./rawmb500/media_insert_powerapp.png"/></a></p>
</li>
</ul>
<p>As a developer, you're able to control where a Power Apps app can be embedded.
By default, any user can embed a Power Apps app on a page. You can configure
the Power Apps feature to only allow embedding on certain pages by
implementing two methods:</p>
<ul>
<li><strong><code>isPowerAppPersonalizationEnabled</code></strong> - If this method returns false for a page, then the <strong>Power Apps</strong> menu button won't be shown and users won't be able to embed Power Apps apps anywhere on that page.</li>
<li><strong><code>isPowerAppTabPersonalizationEnabled</code></strong> - If this method returns false for a page, then a user can't embed Power Apps as a tab, FastTab, or panorama section. However, a user can still embed a Power Apps through the <strong>Power Apps</strong> menu button.</li>
</ul>
<h2 id="data-integration">Data integration</h2>
<p>You can connect to your data from finance and operations apps seamlessly within Microsoft Power Platform to build canvas and model-driven apps. As a System Administrator, you can access finance and operations apps data that is exposed through Data entities. These entities must be enabled for public API in the development environment to be exposed.</p>
<p>If you are using finance and operations apps and wish to create model-driven Power Apps, OData entities are all available as virtual entities in Microsoft Dataverse and Microsoft Power Platform. You can build experiences in applications such as Sales, Marketing, Customer Engagement using data directly from finance and operations apps. By doing this, you can use Create, Read, Update, and Delete capabilities from the Dataverse and Microsoft Power Platform. You can also use this capability to create Power Pages.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Download electronic document interchange solutions</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Integrating electronic document interchange (EDI) with finance and operations apps lets you format EDI transactions so that they comply with
specific requirements from your partners.</p>
<p>By using <a data-linktype="external" href="https://appsource.microsoft.com/en-us/marketplace/apps">AppSource</a>, and selecting <strong>Products &gt;  Dynamics 365 &gt; Finance</strong> you can download an EDI module within the finance and operations apps user interface.</p>
<p>Users can connect with their supply chain partners without costly customizations. You can integrate accounts receivable and accounts payable transactions, among other features, that reduce your time investment.</p>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-quick-start3-customize-report/?azure-portal=true">Customize Electronic reporting configurations to generate an electronic document</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Verify source and target data for auditing</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The <strong>Data validation checklist</strong> workspace is used to track data
validation processes during a new implementation, after an upgrade, or
after a migration.</p>
<p>The following screenshot shows the <strong>Data validation checklist</strong> workspace, and highlights the drop-down menu where you select your <strong>Project name</strong>.  When you’ve selected your project, you'll see data load into the <strong>Summary</strong>  and <strong>Tasks and Status</strong> sections.</p>
<p><a data-linktype="relative-path" href="media/data-checklist.png#lightbox"><img alt="Screenshot showing the Data validation checklist workspace, highlighting the Project name drop-down menu" data-linktype="relative-path" src="./rawmb500/media_data_checklist.png"/></a></p>
<p>Depending on your view, you'll see only tasks that are assigned to you, or all tasks and statuses for a data validation project. In the workspace, select a data validation project at the top of the page. The data will then be filtered by the project that you selected.</p>
<p>The tiles in the <strong>Summary</strong> section show an overview of the process,
which helps you keep the data validation process on track. There are
tiles for not started tasks, in-progress tasks, completed tasks, and all
remaining tasks. If multiple companies are included in the project, you
will see data across all included companies.</p>
<p>In the <strong>Tasks and status</strong> section, you'll see details of the status of
the overall project. You can view the status by legal entity, by area,
by task, or for a specific company. These <strong>Status</strong> tabs give you a
breakdown of the percentage completed and the number of tasks that
still need to be completed. There is also a tab that shows a filterable
detailed task list. You can change the status of a task or assign a task
by using the <strong>Edit task</strong> button. The task names link you to the page
where the user needs to complete the work necessary for the task. You
can add files, notes, images, or URLs to a task by using the
<strong>Attachments</strong> button. The <strong>Completed by</strong> and <strong>Completed date</strong>
fields are automatically filled in when a worker completes the task.</p>
<p>To set up a project in the workspace, select the <strong>Data
validation project</strong> page.
The following screenshot shows the <strong>Data validation project</strong> page where you can add new <strong>Tasks</strong>, <strong>Legal entities</strong>, and <strong>Task areas</strong>.</p>
<p><a data-linktype="relative-path" href="media/configure-project.png#lightbox"><img alt="Screenshot of the Configure data validation project page." data-linktype="relative-path" src="./rawmb500/media_configure_project.png"/> </a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Debug with JSON Web Tokens</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use various procedures to troubleshoot service authentication issues. A common procedure is to inspect the JSON Web Tokens (JWTs).</p>
<p>The first option is to capture the JWT from an HTTP request. You
can use the <a data-linktype="external" href="https://go.microsoft.com/fwlink/?linkid=2098190" target="_blank">Fiddler</a>. You can set up HTTPS
capture to watch the HTTPS traffic from the client. Then, you need to find the Open Authorization (OAuth) JWT, which is the value of the HTTP
authorization header with the bearer segment removed.</p>
<p>You can also use a deserializer tool to examine the token contents. To
do this, go to <a data-linktype="external" href="https://go.microsoft.com/fwlink/?linkid=2098441" target="_blank">JWT.io</a> and paste your JWT into
the input section. Next, you can view the contents as name-value pairs and then verify that the displayed information is correct.</p>
<p>Use the following guide to verify your information:</p>
<ul>
<li><strong>aud</strong> - Corresponds to the Microsoft Entra ID resource concept. A couple of typical issues are that the <strong>aud</strong> segment of the JWT contains a Uniform Resource Identifier (URI) that has a trailing slash or the <strong>aud</strong> uses incorrect capitalization.</li>
<li><strong>appid</strong> - Corresponds to the Microsoft Entra ID Native Client App ID, which is sometimes referred to as the Service App ID.</li>
<li><strong>upn</strong> - Corresponds to the user who is being authenticated through a Native Client App.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You want to better track your organization’s data validation processes for an upgrade of finance and operations apps. Which tool best suits your needs?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>JSON web tokens</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Embedded Power Apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The Data validation checklist workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>The Excel add-in for finance and operations apps lets you manipulate data in a data entity. Which task cannot be accomplished by using the Excel add-in?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Add a new record to your data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Delete a record from your data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Publish modified data back to finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a new data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You need to add fields to a staging table when you're creating a data entity extension. What is the recommended method for accomplishing this task?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Update the staging table by right-clicking the data entry to open the context menu in the Visual Studio Designer and then selecting the <strong>Regenerate staging</strong> table.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Add new fields manually to the staging table by using a table extension.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Update the staging table by selecting <strong>Refresh entities</strong> in finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Make a duplicate data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you learned about the following concepts that allow you
to be a better-equipped developer to create data integration solutions:</p>
<ul>
<li>Data entities are used to access your finance and operations apps data from a third-party application. Many data entities are available out of the box with the application, but you can also create your own data entity.</li>
<li>Programs such as Power Apps and Excel are used to view and/or manipulate entity data. Even though Power Apps and Excel are Microsoft products, they are considered third party because they are outside of finance and operations apps.</li>
<li>You can consume external web services in finance and operations apps.</li>
<li>Custom services are used in finance and operations apps to expose X++ functionality to external clients.</li>
<li>The public OData service endpoint enables access to data  consistently across a wide range of clients.</li>
<li>EDI solutions that are available through AppSource enable you to connect your data with your partners in an efficient manner.</li>
<li>When you need to troubleshoot service authentication issues, you can inspect JWTs.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Data management framework's package Representational state transfer
(REST) application programming interface (API) lets you integrate with
finance and operations apps by using data packages. The REST
API can be used with cloud deployments and on-premises deployments.</p>
<p>You can develop custom services for finance and operations apps. When a developer writes a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li>Simple Object Access Protocol (SOAP) endpoint</li>
<li>JavaScript Object Notation (JSON) endpoint</li>
</ul>
<p>To implement the data management package API, you must have experience making API calls, knowledge of JSON, &gt;NET programming language, and basic x++ development.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Import and export APIs</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Developers can import and export APIs between finance and operations apps and
on-premises deployments. Keep in mind that there are some key differences with these processes for on-premises and cloud deployments:</p>
<ul>
<li>For on-premises deployments, support is added for the Data  management package REST API even though API names aren't changed. This way, Microsoft can keep a single API set for both cloud deployments and on-premises deployments.</li>
<li>The Data management framework API package uses OAuth 2.0 (Open Authorization Protocol) to authorize access.</li>
<li>For on-premises deployments, authorization is managed with Active  Directory Federation Services (AD FS).</li>
<li>Recurring integration APIs aren't supported for on-premises   deployments.</li>
</ul>
<h2 id="importing-apis">Importing APIs</h2>
<p>To start the data package import process, the <strong>ImportFromPackage</strong> API is used to initiate an import from a data package. The data package is uploaded to the Blob storage that is associated with the finance and operations apps implementation.</p>
<p>For on-premises deployments, the import is initiated from the local storage file that was uploaded previously.</p>
<p>The following code is an example that is used to initiate the import process.</p>
<pre><code class="lang-csharp">POST /data/DataManagementDefinitionGroups/Microsoft.Dynamics.DataEntities.**ImportFromPackage**
BODY
{
	"packageUrl":"&lt;string&gt;",
	"definitionGroupId":"&lt;string&gt;",
	"executionId":"&lt;string&gt;",
	"execute":&lt;bool&gt;,
	"overwrite":&lt;bool&gt;,
	"legalEntityId":"&lt;string&gt;"
}
</code></pre>
<p>The following list describes the various code elements:</p>
<ul>
<li><code>ImportFromPackage</code> is initiating the import.</li>
<li><code>packageurl</code> is a unique file name that is used to track Blob IDs. You can include a globally unique identifier (GUID) to help guarantee a unique file name.</li>
<li><code>definitionGroupID</code> is a string that represents the name of the data project for the import.</li>
<li><code>executionId</code> is the ID to use for the job. If an empty ID is assigned, a new execution ID is created automatically.</li>
<li><code>execute</code> is a Boolean. If the parameter is set to <strong>True</strong>, the target step runs.</li>
<li><code>overwrite</code> is also a Boolean that must be set to <strong>False</strong> when a composite entity is used in a package, if not, then this should be set to <strong>True</strong>.</li>
<li><code>legalentityId</code> is the legal entity for the import.</li>
</ul>
<p>If the import is successfully finished, you receive a JSON success response.</p>
<h2 id="exporting-apis">Exporting APIs</h2>
<p>The export for APIs is similar to the import. The difference is that the <strong>ExportToPackage</strong> API is used to initiate the export. This is applicable for both cloud and on-premises deployments.</p>
<p>The following is an example of code that is used to initiate the export process.</p>
<pre><code class="lang-csharp">POST
/data/DataManagementDefinitionGroups/Microsoft.Dynamics.DataEntities.**ExportToPackage**
BODY
{
	"definitionGroupId":"&lt;string&gt;",
	"packageName":"&lt;string&gt;",
	"executionId":"&lt;string&gt;",
	"reExecute":&lt;bool&gt;,
	"legalEntityId":"&lt;string&gt;"
}
</code></pre>
<p>The following list describes the various code elements:</p>
<ul>
<li><strong>ExportToPackage</strong> - Initiates the export.</li>
<li><strong>definitionGroupId</strong> - Data project Id.</li>
<li><strong>packageName</strong> - Name to use for downloaded file.</li>
<li><strong>executionId</strong> - Execution Id if it's a rerun.</li>
<li><strong>reExecute</strong> - A Boolean. If the parameter is set to <strong>True</strong>, the target step reruns.</li>
<li><strong>legalentityId</strong> - The legal entity for the export.</li>
</ul>
<p>If the export is finished successfully, you receive a JSON success response.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Monitor the status of APIs</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use <code>GetExecutionSummaryStatus</code> for both import and
export jobs. This is used to check the status of a data project
run job. This API is applicable to cloud deployments and
on-premises deployments. Keep in mind that the file remains in the Blob storage for seven days, and then it is automatically deleted.</p>
<p>To check the status of the API, use <code>GetExecutionSummaryStatus</code> and then specify the executionId.</p>
<p>For example:</p>
<pre><code class="lang-csharp">POST /data/DataManagementDefinitionGroups/Microsoft.Dynamics.DataEntities.GetExecutionSummaryStatus
BODY
{"executionId":"&lt;executionId&gt;"}
</code></pre>
<p>A JSON successful response message is sent and the execution status is displayed. There are several outputs you might receive in this message:</p>
<ul>
<li><strong>Unknown</strong> – The execution status can't be determined, possibly due to missing or invalid information.</li>
<li><strong>NotRun</strong> – The job was created, but is not started execution.</li>
<li><strong>Executing</strong> - The job is currently in progress and actively being processed.</li>
<li><strong>Succeeded</strong> – The job completed without errors.</li>
<li><strong>PartiallySucceeded</strong> – The job completed, but some parts encountered issues or errors, resulting in partial success.</li>
<li><strong>Failed</strong> – The job couldn't be completed due to errors or issues encountered during execution.</li>
<li><strong>Canceled</strong> – The job is manually stopped or interrupted before it could finish.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage entity change tracking</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The change tracking functionality allows you to incrementally export
data from finance and operations apps by using the Data management framework.
To do this, you must first enable change tracking for entities. If
change tracking is not enabled, you can only enable a full export each
time.</p>
<p>Change tracking supports both Bring Your Own Database and non-Bring Your
Own Database (non-BYOD) scenarios. Only BYOD allows tracking of deletion if the entity supports it.</p>
<p>To enable change tracking, you will need access to the <strong>Data
management</strong> workspace. For non-BYOD scenarios, change tracking can be
enabled from the data entities list page in the <strong>Data management</strong>
workspace by selecting <strong>Change tracking</strong> on the entity.</p>
<ol>
<li><p>Within the <strong>Data management</strong> workspace, select <strong>Configure entity    export to database</strong>.</p>
</li>
<li><p>On the <strong>Entity store</strong> page, select the data to export data to.</p>
</li>
<li><p>Select <strong>Publish</strong> in the Action Pane. You can publish more than one    entity to the database.</p>
</li>
<li><p>When the entity is published, select the entity.</p>
</li>
<li><p>Select <strong>Change tracking</strong>.</p>
<p><a data-linktype="relative-path" href="media/workspace-change-tracking.png#lightbox"> <img alt="This screenshot shows the data management workspace, and
highlights the Change tracking option in the Action
Pane." data-linktype="relative-path" src="./rawmb500/media_workspace_change_tracking.png"/> </a></p>
</li>
<li><p>You can select from several options for change tracking for your environment:</p>
<ul>
<li><strong>Enable primary table</strong> - Changes that are made to any fields in the primary table trigger a change in the entity. Changes that are made to fields in secondary tables don't trigger a change in the entity.</li>
<li><strong>Enable entire entity</strong> - Changes that are made to any fields in any table in the entity trigger a change in the entity.</li>
<li><strong>Enable custom query</strong> - Select a set of custom fields from any tables that must trigger a change in the entity.</li>
</ul>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create wrapper classes to consume external web services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To consume external web services within finance and operations apps, you can
use wrapper classes. You can wrap logic around methods that are defined
in the base class that you're augmenting.</p>
<p>This means that you can extend the code of both public and protected
methods without having to use event handlers. When you wrap a method for
a table, form, data entity, or other object, you must use an extension
class. Before learning about how to use wrapper classes to connect to external web services, consider the following example of a wrapper class.</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(FMCustomer))]
final class MyFleet_Extension
{
	public void salute(str message)
	{
		// ...
	}
}
</code></pre>
<p>In the previous code sample, the <code>ExtensionOf</code> attribute is applied to the class, and the <strong>FMCustomer</strong> table class is extended. Because the class is an extension class, it must be <code>public</code> and <code>final</code>. The <code>salute</code> method doesn't include the default value of the message parameter.</p>
<p>You can create wrapper classes to connect to external web services. You
can do this by wrapping a service endpoint in Visual Studio and then adding the reference in your project.</p>
<div class="NOTE">
<p>Note</p>
<p>This functionality is available in finance and operations apps Platform update 9 or later. Methods that are compiled by using earlier versions don't have the infrastructure to support wrapping.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create wrapper classes with C#</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To create a wrapper class, you'll need to use some .NET programming language to consume an external web service. finance and operations can create a reference of the wrapper class and can access the external web service through the wrapper class.</p>
<p>The following code shows an example of creating a C# class library. A service reference of the SOAP web service will be set up in the class library.</p>
<pre><code class="lang-csharp">using System.ServiceModel;

namespace &lt;WebServiceProviderName&gt;
{
      public class &lt;classname&gt;
      {
             public static string &lt;methodname&gt;()
             {
                     var binding = new System.ServiceModel.BasicHttpBinding();
                     var endpointAddress = new EndpointAddress(“SOAP web service url”);
                     WebServiceSoapClient client = new WebServiceSoapClient(binding, endpointAddress);

                      return client.&lt;web service method name&gt;();
               }
       }
} 
</code></pre>
<p>The finance and operations apps development environment includes an element named <strong>References</strong> under <strong>Application explorer</strong>. The assembly of the wrapper class should be included in the reference. You can call the method that's created in the wrapper class directly by using the created reference.</p>
<p>The code will resemble the following example:</p>
<p><code>WebServiceDataProvider.&lt;classname&gt;::&lt;methodname&gt;();</code></p>
<p>You can create separate methods in the wrapper class to access all methods of the web service, which you can eventually call from finance and operations apps code wherever required.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following messages isn't a response message that you can receive when using <code>GetExecutionSummaryStatus</code> for monitoring the status of an API?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>NotRun</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Failed</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Canceled</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Starting</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Where can you enable change tracking for entities?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Visual Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data entity parameters on the AOT object</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>System administration module</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Is it true that importing APIs isn't supported for on-premises deployments?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Data management framework allows integrations with APIs by using
data packages, which are supported for cloud and on-premises
deployments. By using the Data management API, you can import and export
APIs seamlessly and monitor their status, as necessary. Data entity
change tracking can also be used for on-premises and cloud deployments to incrementally import and export data.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Integrations support many types of document formats, source mapping, and
filters. This support allows you to use secure representational state transfer (REST)
application programming interfaces (APIs) and other authorization
mechanisms to send and receive data with integration systems and build
on data entities and the Data management framework.</p>
<p>In this module, you learn about the essential features and best practices for using integrations. You learn how to set them up to streamline processes and keep your data safe.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Set up a data project and recurring data job</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The <strong>Data management</strong> workspace allows users to set up recurring data
jobs within a project for finance and operations apps. Within this workspace,
you can set up an import or export project that will point to a specific
data entity.</p>
<p><a data-linktype="relative-path" href="media/data-management.png#lightbox"><img alt="Screenshot of the Data management workspace." data-linktype="relative-path" src="./rawmb500/media_data_management.png"/></a></p>
<p>The three main components of setting up a recurring data project
in the <strong>Data management</strong> workspace are:</p>
<ul>
<li><strong>File</strong> - Your external integration will push or pull individual files so that they can be processed through this recurring data job. In  this case, the expected file format is the same as the format that was specified when the entity was added to the data project.</li>
<li><strong>Data package</strong> - You can push or pull data package files for processing. A data package is a new format that lets you submit multiple data files as a single unit that can be used in integration jobs.</li>
<li><strong>Process messages in order</strong> - You can enable this option to force sequential processing of incoming files in an import scenario. This option is only applicable to files and not data packages.</li>
</ul>
<div class="IMPORTANT">
<p>Important</p>
<p>Before you can create a recurring data job, you must register the application with Microsoft Entra ID to obtain the Application ID (client ID). Note that only one Azure Service administrator user can add the application and share the client ID with developers.</p>
</div>
<p>To learn more about registering an application with Microsoft Entra ID, see  <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/services-home-page/?azure-portal=true">Service
endpoints overview</a>.</p>
<p>To access the <strong>Data management</strong> workspace and create a recurring data job, follow these steps:</p>
<ol>
<li>Go to finance and operations apps.</li>
<li>Select the Navigation pane and then go to <strong>Workspaces &gt; Data management</strong>.</li>
<li>In the <strong>Data management</strong> workspace, select <strong>Export</strong>. You can  optionally select <strong>Import</strong> because recurring jobs can be set up for  both import and export jobs.</li>
<li>On the <strong>Export</strong> page, enter a name for the job.</li>
<li>Select the <strong>Target data format</strong>.</li>
<li>Select the <strong>Entity name</strong> from the drop-down list.</li>
<li>Specify if you want to generate a data package.</li>
<li>Select <strong>Add entity</strong>.</li>
<li>You can follow steps 4-8 to add more entities to the job.</li>
<li>After you have added all the entities to the export job, select all the files and entities that you want as part of the recurring data job by selecting the check box in the upper-right corner of each entity.</li>
<li>Select <strong>Create recurring data job</strong> on the Action Pane.</li>
<li>On the <strong>Create recurring data job</strong> page, specify a name for the  job.</li>
<li>Optionally, add a description for the job.</li>
<li>Select the <strong>Batch group</strong> that this job will be a part of.</li>
<li>Set up the recurrence by selecting the <strong>Set processing recurrence</strong> link at the top of the page.</li>
<li>Specify the start date, start time, time zone, end date, and  recurrence pattern on the <strong>Set processing recurrence</strong> page.</li>
<li>Select <strong>OK</strong>.</li>
<li>Expand the <strong>Set up authorization policy</strong> FastTab.</li>
<li>Paste the Application ID into the field and enable.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="benefits-of-recurring-data-jobs">Benefits of recurring data jobs</h2>
<p>The benefits of recurring data jobs are:</p>
<ul>
<li>Automates routine tasks, saving time and resources.</li>
<li>Ensures data consistency by synchronizing updates across systems regularly.</li>
<li>Reduces the risk of errors caused by manual data handling.</li>
</ul>
<h2 id="monitoring-and-ttroubleshooting">Monitoring and tTroubleshooting</h2>
<p>You can use the Execution log to monitor job progress and resolve errors, and address issues by reprocessing failed files or checking mapping configurations.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create a data project and recurring data job</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You have been asked to create a new data
project that will import data on a recurring basis, for the Fleet
Management company to export its sales orders monthly.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>To get the most benefit from this exercise, we recommend that you have the
standard sample data available in finance and operations apps installed by using Lifecycle Services. You will also need a
developer sandbox environment and a trial or permanent license for using
Visual Studio.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>Launch, and log into your environment.</li>
<li>When your environment has loaded, locate and open the Windows file explorer.</li>
<li>Navigate to C:\temp.</li>
<li>Add a folder named <strong>dixf</strong>.</li>
</ol>
<h2 id="create-a-recurring-data-job">Create a recurring data job</h2>
<ol>
<li>Open finance and operations apps.</li>
<li>Locate the <strong>Company</strong> drop-down menu, and select <strong>USMF</strong></li>
<li>Go to <strong>Workspaces &gt; Data management</strong>.</li>
<li>Select the <strong>Export</strong> tile to create a new data project.</li>
<li>Enter <strong>Fleet customers</strong> in the <strong>Group name</strong> field.</li>
<li>Enter <strong>Fleet customers export</strong> in the <strong>Description</strong> field.</li>
<li>Toggle <strong>Generate data package</strong> to <strong>YES</strong>.</li>
<li>In the <strong>Selected entities</strong> FastTab select <strong>+Add entity</strong>.</li>
<li>Select <strong>Fleet Management Customers</strong> for the entity name from the drop-down menu.</li>
<li>Select <strong>Excel</strong> for the target data format.</li>
<li>Ensure that <strong>Skip staging</strong> is set to <strong>YES</strong>.</li>
<li>Ensure that the <strong>Default refresh type</strong> field is set to <strong>Full Push Only</strong>.</li>
<li>Ensure that the <strong>Select fields</strong> field is set to <strong>All fields</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Select <strong>Save</strong> in the Action Pane.</li>
<li>On the <strong>Fleet customers export project</strong> page, select <strong>Create recurring data job</strong>.</li>
<li>Enter <strong>Fleet customers export</strong> for the <strong>Name</strong> field.</li>
<li>On the <strong>Set up authorization policy</strong> tab, enter the application ID that was generated for your application, and select it as enabled. Your application ID can be located in your Azure portal.</li>
<li>Select <strong>Set processing recurrence</strong>.</li>
<li>In the <strong>Define recurrence</strong> dialog box, set up a valid recurrence for your data job.</li>
<li>Select the recurrence pattern of <strong>Months</strong> and the count to <strong>1</strong>.</li>
<li>Optional: Select <strong>Set monitoring recurrence</strong> and set up a monitoring recurrence.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement authorization to support integration</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Data management framework's package API uses OAuth 2.0 to authorize
access. For you to use the API, it must be connected with a valid OAuth
access token. For organizations that are doing an on-premises
deployment, you will use Active Directory Federation Services (AD FS).</p>
<p>Microsoft Entra ID uses OAuth 2.0 to enable you to authorize access to web applications and web Application Programming Interfaces within your Microsoft Entra tenant. To begin, you must register the
application with your Microsoft Entra tenant. This is done through the
<a data-linktype="external" href="https://ms.portal.azure.com/#home/?azure-portal=true">Microsoft Azure portal</a>.</p>
<p>The following is an overview of the OAuth 2.0 authorization code request flow:</p>
<ol>
<li><p>The client directs the user to the <code>/authorize endpoint</code>.</p>
</li>
<li><p>With this request, the client indicates the permissions that it needs to acquire from the user who is needing access. To get your OAuth 2.0  authorization endpoint for your tenant, you can go to <strong>App registrations &gt; Endpoints</strong> in the Azure portal.</p>
</li>
<li><p>In the native application, the user is directed to sign in and  consent to permissions that are requested by the app. When the user authenticates and grants consent, Microsoft Entra ID will send a response to your application at the <code>redirect_uri</code> address in your request.</p>
<pre><code class="lang-odata">// Line breaks for legibility only

https://login.microsoftonline.com/{tenant}/oauth2/authorize?
client_id=
&amp;response_type=code
&amp;redirect_uri=http%3A%2F%2Flocalhost%3A12345
&amp;response_mode=query
&amp;resource=https%3A%2F%2Fservice.contoso.com%2F
&amp;state=12345
</code></pre>
<p>The two types of responses are:</p>
<ul>
<li><strong>Successful response</strong> - A successful response will grant access and include the admin consent, the authorization code that the application requested, a unique session value, and a state parameter.</li>
<li><strong>Error response</strong> - An error response will not grant an authorization code. The error response includes the error code value, error description, and state value.</li>
</ul>
<p>With a successful response, an authorization code is granted and access is given to the user.</p>
</li>
<li><p>The code can now be redeemed for an access token to the desired resource. This is accomplished by sending a POST request to the <code>/token</code> endpoint.</p>
</li>
<li><p>Upon a successful response, Microsoft Entra ID returns an access token. The access token is a Json Web Token (JWT).</p>
</li>
<li><p>When the access token is requested, Microsoft Entra ID returns metadata about the access token for the application's consumption. The client should cache access tokens for the specified token lifetime within the OAuth2 response. A web API might return an <code>invalid_token</code> response; this could be due to an expired token.</p>
</li>
<li><p>When the access token is obtained, the token can be used in requests to web APIs.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Monitor status and availability of entities</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A data entity is a combination of one or multiple tables that are related to each other, and it facilitates the abstraction of an internal communication between those tables. Data entities play an important part in the integration process. You can run a synchronous integration through OData endpoints by using a data entity.</p>
<p>The Data management framework can run asynchronous data transfer by using a data entity. Make sure that you monitor the run status, availability, and performance of a data entity while a large amount of data is being transmitted in the integration process.</p>
<h2 id="configuration-key">Configuration key</h2>
<p>The availability of a data entity is dependent on the configuration key that's assigned to the following artifacts:</p>
<ul>
<li>Data entity</li>
<li>Table that's used in the data entity</li>
<li>Table fields</li>
<li>Data entity fields</li>
</ul>
<p>The following scenarios depict the configuration-based availability status of the data entity:</p>
<ul>
<li>If the configuration key status is disabled in the data entity, then the data entity won’t be available for any purpose. The configuration key value on other artifacts doesn't matter.</li>
<li>If the configuration key of the data entity is enabled, and the configuration key of the primary table of the data entity is disabled, then the data entity won’t be available for any purpose.</li>
<li>If the configuration key of the data entity is enabled, and the configuration key of any child table of the data entity is disabled, then that table and all its child tables won’t be available in the data entity. However, the overall data entity is available for use.</li>
<li>If the configuration key of the data entity and the table are enabled, but some fields of the data entity or table are disabled, then those fields won't be available in the data entity. However, the overall data entity is available for use.</li>
</ul>
<h2 id="entity-list-refresh">Entity list refresh</h2>
<p>You can view the entity list from the <strong>Data entity</strong> tile of the <strong>Data management</strong> workspace. When you refresh the data entity list, the system rebuilds the configuration key metadata so that it's up to date. We recommend that you wait for the entity list refresh to complete before you use jobs and entities in the Data management framework. Otherwise, the configuration key metadata might not be up to date and could result in unexpected outcomes.</p>
<p>When changing the configuration key, you should refresh the entity list. Until the entity list is refreshed, a warning message appears, stating that <strong>The entity list must be refreshed from the framework parameters form to fetch configuration key information for the data entities</strong>. Make sure that you validate the existing data projects and jobs to ensure that they function as expected after the configuration key changes are put into effect.</p>
<h2 id="parallel-processing">Parallel processing</h2>
<p>You can accelerate the import of data that uses data entities by enabling parallel processing of importing a file, if the entity supports parallel imports. In the <strong>Framework parameters</strong> of the <strong>Data management</strong> workspace, open <strong>Configure entity execution parameters</strong> on the <strong>Entity settings</strong> tab. Select the entity that requires parallel processing for better performance. In the <strong>Import threshold record count</strong> field, enter the threshold record count for import that determines the record count to be processed by a thread. In the <strong>Import task count</strong> field, enter the count of import tasks, which can't exceed the max batch threads that are allocated for batch processing in the Server configuration of the System administration module.</p>
<h2 id="job-history-clean-up">Job history clean-up</h2>
<p>Use the job history clean-up functionality in Data management to schedule a periodic cleanup of the run history. This functionality replaces the previous staging table cleanup functionality, which is now deprecated.</p>
<p>You can use the system batch jobs for cleaning up the history. Using system batch jobs allows finance and operations apps to have the cleanup batch job automatically scheduled and running when the system is ready. Manual scheduling of the batch job isn't required.</p>
<p>The cleanup job will archive the deleted records to the blob storage that Data management framework uses for regular integrations. The archived file is in the Data management framework package format and is available for seven days in the blob, during which time you can download it.</p>
<h2 id="monitor-run-status">Monitor run status</h2>
<p>Running a data import or export job typically includes an execution status for the job. A data import/export job can have the following status in the <strong>Execution status</strong> field.</p>
<ul>
<li><strong>Not run</strong> - The initial value when the data job is created.</li>
<li><strong>Executing</strong> - The status when the job is running.</li>
<li><strong>Succeeded</strong> - Indication that the job ran successfully.</li>
<li><strong>Failed</strong>- Indication that an error occurred. If you receive this status, review the <strong>View execution</strong> log to determine why the job has an error. You can also open the Infolog for more information and review <strong>View staging data</strong>, which provides a complete list of issues.</li>
</ul>
<p>Status and errors might appear under <strong>Job history</strong> in the Data management framework. Then, you should be able to view execution logs and staging data. If you view staging data, you can validate data and copy data to the target after you fix issues.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop data transformation</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Data management is an important feature to help you asynchronously import or export data with other systems. The <strong>Data entity</strong> element in the Application Object Tree (AOT) runs the data transfer operations. As part of the export or import process, you're required to perform intermediate data transformation to prepare the data for the target application. You can transform data through configuration. Additionally, options are available to help you develop code to perform complex transformations.</p>
<h2 id="transformation-using-configuration">Transformation using configuration</h2>
<p>Finance and operations apps has a concept of staging tables between the source and the destination tables. From the source, data is inserted or updated into the staging table and then transferred to the destination. You can transform the data before it's inserted into the staging table. Data transformation is also possible while data is being transferred to the destination from staging.</p>
<h2 id="data-transformation-between-the-external-data-source-and-staging-table">Data transformation between the external data source and staging table</h2>
<p>When a new <strong>Export</strong> or <strong>Import</strong> project is created in Data management, an icon will appear in the project line in the <strong>View map</strong> column. When you select this icon, the mapping visualization between the staging table and the external data source appears, as shown in the following screenshot. The <strong>Mapping details</strong> tab, next to the <strong>Mapping visualization</strong> tab, provides the source-to-target field mapping details and an option for basic transformation of the data.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/staging-external.png#lightbox"><img alt="Screenshot of the Mapping visualization tab, showing Entity (sourced) and Target entities." data-linktype="relative-path" src="./rawmb500/media_staging_external.png"/></a></p>
</div>
<p>The functionalities that you can achieve from the <strong>Mapping details</strong> page include:</p>
<ul>
<li><p><strong>Ignore blank values</strong> - If a requirement is in place to ignore a record if a specific field value is blank, then you should use this feature.</p>
</li>
<li><p><strong>Text qualifier</strong> - Requirements are in place, such as the data transfer file needs to contain a column of type string and the value of that column might contain a comma, which is also the column delimiter.
For example, your organization names include commas, and the value that you're using for a column delimiter is also a comma. You can use a text qualifier to resolve this conflict, which will add double quotes to identify the <strong>Text</strong> column.</p>
</li>
<li><p><strong>Use enum label</strong> - This option is a check box, which you can select to use the enum label in the data transfer file.</p>
</li>
<li><p><strong>Auto-generated</strong> - Some fields in an entity might have requirements to update system-generated data during import instead of providing the data in the source import file. In such a scenario, you can use auto-generated functionality in the mapping details for the entity.
For example, the customer entity can have the party number be auto generated during import and the Global Address Book information created. When you select the <strong>Auto-generated</strong> checkbox for a field, the source field will change to <strong>Auto</strong>.</p>
</li>
<li><p><strong>Auto default</strong> - Some fields in an entity might have requirements to update default data during import instead of providing the data in the source import file. For such a scenario, you can select the <strong>Auto default</strong> checkbox in the mapping details for the entity. When you select the <strong>Auto default</strong> checkbox, the <strong>Default value</strong> button will be enabled in the <strong>Map source to the staging</strong> page, where the default value should be entered.</p>
</li>
<li><p><strong>Conversion</strong> - Some fields in an entity might have requirements to update specific values during import based on the value that's provided in the source import file. For example, in the source application, the value of a certain field is false or true. While you're importing in Dynamics 365, the value should be imported as <strong>No</strong> or <strong>Yes</strong>. The <strong>Conversion</strong> button in the <strong>Map source to staging</strong> form will allow you to enter value-to-value mapping information, which will update the involved fields during the import operation.</p>
</li>
</ul>
<h2 id="data-transformation-between-finance-and-operations-apps-and-the-staging-table">Data transformation between finance and operations apps and the Staging table</h2>
<p>You can access a data entity from the <strong>Data entities</strong> tile in the <strong>Data management</strong> workspace. To add data transformation logic, select the <strong>Modify target mapping</strong> button in the command bar for the selected data entity. The <strong>Mapping details</strong> page should appear.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/staging-finance-operations.png#lightbox"><img alt="Screenshot of the Map staging to target page, showing the Mapping details tab." data-linktype="relative-path" src="./rawmb500/media_staging_finance_operations.png"/></a></p>
</div>
<p>Options to create virtual fields and computed columns are available in the data entity. These fields will appear in the <strong>Staging</strong> field, which you can map with the <strong>Target</strong> fields in finance and operations. You can develop the data transformation logic in virtual fields or computed columns by writing X++ code.</p>
<h3 id="computed-columns">Computed columns</h3>
<p>Consider the following factors when developing the data transformation logic in computed columns:</p>
<ul>
<li><strong>Value</strong> is generated by an SQL view computed column.</li>
<li>During read, data is computed by SQL and is fetched directly from the view.</li>
<li>For writes, custom X++ code must parse the input value and then write the parsed values to the regular fields of the data entity. The values are stored in the regular fields of the data sources of the entity.</li>
<li>Computed fields are used mostly for reads.</li>
<li>If possible, you should use computed columns instead of virtual fields because they're computed at the SQL Server level, whereas virtual fields are computed row by row in X++.</li>
</ul>
<h3 id="virtual-fields">Virtual fields</h3>
<p>Consider the following factors when developing the data transformation logic in virtual fields:</p>
<ul>
<li>Virtual fields are non-persisted.</li>
<li>Virtual fields are controlled by custom X++ code.</li>
<li>Read and write happens through custom X++ code.</li>
<li>Virtual fields are typically used for intake values that are calculated by using X++ code and can't be replaced by computed columns.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Microsoft Dataverse integrations</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use Microsoft Dataverse to enable the flow of data between
finance and operations apps and Dynamics 365 Sales, and Dynamics 365 Customer Service. Because
Sales and Customer Service reside in Dataverse, and finance and operations apps integrates with Dataverse, finance and operations apps integrates with all parts of customer engagement apps, such as Dynamics 365 Sales, Dynamics 365 Customer service, Dynamics 365 Customer Insights - Journeys, Dynamics 365 Field service, as well as Dynamics 365 Talent.</p>
<p>For example, customer information in Sales can flow to finance and operations apps. You don't have to manually move the data or use a third-party data integration tool. Using a Dataverse approach to data integrations enables a One Dynamics 365 user experience. It also enables digital feedback loops among customers, products, people, and operations.</p>
<p>To keep the data in the Dataverse up to date, you can configure finance and operations apps environments to link to the Dataverse as part of the environment deployment flow in Lifecycle Services. When deploying environments, you can configure an existing Dataverse environment, or create a new one. The data can then be set up to flow between the applications with little work required on the back end.</p>
<p>The Data Integrator for Admins is a point-to-point integration service
that is used to integrate data into Dataverse, which is how you can synchronize data across Dynamics 365 applications. The Data Integration platform includes out-of-the-box templates that are provided by application teams, including finance and operations apps and Sales.</p>
<p>Custom templates have also been built by Microsoft partners and customers. These integration templates provide a blueprint with predefined entities and field mappings, which enable data to flow from the source to the destination. Additionally, integration templates provide the ability to transform the data before it is imported.</p>
<p>Many times, the schema between the source and destination apps can be
different, and a template with predefined entities and field
mappings is a good starting point for an integration project.</p>
<p>The following graphic shows the behind-the-scenes architecture of the
synchronous approach to data integrations. Data flows between finance
and operations apps and Dataverse in a bi-directional pattern in nearly real time. This functionality is available out of the box and is the preferred data integration approach.</p>
<p><img alt="Diagram of the architecture for the synchronous approach to data integrations between Dataverse and finance and operations apps." data-linktype="relative-path" src="./rawmb500/media_synch_arch.png"/></p>
<p>To learn more about synchronous data integration, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/supply-chain/sales-marketing/accounts-template-mapping-direct/?azure-portal=true">Synchronize accounts directly from Sales to customers in Supply Chain Management</a>, which provides an example of the prospect-to-cash flow that is used to synchronize data from Sales to Dynamics 365 Supply Chain Management.</p>
<p>To set up a data integration project and create a connection, follow these high-level steps:</p>
<ol>
<li>Create a connection (provide credentials to data sources).</li>
<li>Create a connection set (identify environments for connections that you created in the previous step).</li>
<li>Create a data integration project by using a template (create or use predefined mappings for one or more entities).</li>
<li>After the integration project has been created, you must provide a connection for each system that you will be working with in the Microsoft Power Apps portal.</li>
</ol>
<p>You can choose to use an asynchronous approach for data integrations
between finance and operations apps and Dataverse, but it is one-directional. This means that data can flow only from finance and operations apps to Dataverse, or from Dataverse to finance and operations apps. It does not seamlessly flow back and forth.
The data flow is also not in real time.</p>
<p>For more information about Dataverse data integration, see the
Summary unit of this module for references.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate Dataverse by using virtual entities</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In finance and operations apps, you can use virtual entities as virtual data sources in Microsoft Dataverse. As a result, you can create, read, update, and delete (CRUD) operations from Dataverse and Microsoft Power Platform.</p>
<p>Virtual entities, dual-write, business events, and data events comprise the shared data layer for the convergence of finance and operations apps and the Microsoft Dataverse platform. They’re complementary technologies that are intended for working together.</p>
<p>Dual-write operates on physical copies of data in finance and operations apps and Dataverse. The system syncs the data and then it creates, updates, or deletes the data in the target environment when the action occurs in the source environment.</p>
<p>Virtual entities don’t copy data between systems. Instead, the system accesses the data directly through the standard virtual entity infrastructure to which Microsoft Power Platform technologies already bind. Virtual entities give no data inconsistency because data only exists in finance and operations apps.</p>
<p>Before you complete CRUD operations in Dataverse, make sure that you make the virtual entity available in Dataverse. All Open Data (OData) Protocol entities are available as virtual entities in Dataverse.</p>
<p>The following image illustrates the architecture of virtual entities.</p>
<p><a data-linktype="relative-path" href="media/architecture-virtual-entities.png#lightbox"><img alt="Diagram of the architecture of virtual entities." data-linktype="relative-path" src="./rawmb500/media_architecture_virtual_entities.png"/></a></p>
<p>All calls between Dataverse and finance and operations apps (that are part of virtual entities) are done as service-to-service calls behind the scenes. To use virtual entities, make sure that you enable the <strong>Power Platform Integration</strong> feature.</p>
<h2 id="enable-power-platform-integration">Enable Power Platform Integration</h2>
<p>For Tier-2+ environments, you can enable the <strong>Power Platform Integration</strong> feature after the finance and operation apps deployment. However, for Tier-1 (development environment), you need to enable Power Platform Integration during deployment.</p>
<p>You can only enable the Power Platform Integration feature for Azure-hosted environments; meaning, you can’t enable it for virtual hard drive (VHD) development environments.</p>
<p>For Tier-2+ environments, go to your sandbox or production environment and then select the <strong>Power Platform Integration</strong> FastTab. If the <strong>Setup</strong> button is available, you can set up your connection to Dataverse. You can choose to continue your setup on the environment that was provisioned automatically for you, or you can choose a preexisting Microsoft Power Platform environment.</p>
<p>For Tier-1 environments, when you’re deploying the environment in Microsoft Dynamics 365 Lifecycle Services, go to <strong>Advanced settings</strong> &gt; <strong>Power Platform Integration</strong>. In the <strong>Deployment settings</strong> window, set the <strong>Configure Power Platform Environment</strong> toggle to <strong>Yes</strong>, select the applicable <strong>Power Platform template</strong> and <strong>Environment Type</strong>, and then select the <strong>Agree</strong> checkbox, as shown in the following image.</p>
<p><a data-linktype="relative-path" href="media/power-platform-integration.png#lightbox"><img alt="Screenshot of the Deployment settings window and Power Platform Integration." data-linktype="relative-path" src="./rawmb500/media_power_platform_integration.png"/></a></p>
<p>After completing the <strong>Advanced deployment</strong> settings, select <strong>Done</strong> and then continue deploying the environment.</p>
<p>Now, the finance and operations apps and Microsoft Power Platform environment show as deployed.</p>
<p>If you need to install dual-write to your deployed environment, select <strong>Setup Dual-write application</strong> under <strong>Power Platform Integration</strong>. This selection opens a dialog in which you need to select <strong>I agree</strong> and then <strong>Configure</strong> to start data-entity mapping.</p>
<h2 id="enable-virtual-entities">Enable virtual entities</h2>
<p>By default, virtual entities for finance and operations apps don’t exist in Dataverse. You need to query the catalog entity to view the entities that are available in the linked instance of finance and operations apps. From the catalog, you can select one or more entities and then request that Dataverse generate the virtual entities, as follows:</p>
<ol>
<li><p>Open <a data-linktype="external" href="https://admin.powerplatform.microsoft.com/?azure-portal=true">Microsoft Power Platform admin center</a>.</p>
</li>
<li><p>In the <strong>Environments</strong> list, select the Microsoft Power Platform environment that’s associated with your finance and operations apps environment.</p>
</li>
<li><p>In the <strong>Details</strong> section of the environment page, select the <strong>Environment</strong> URL link to open the Microsoft Power Platform environment.</p>
</li>
<li><p>In the upper-right corner of the page, select the <strong>Settings</strong> gear icon and then select <strong>Advanced Settings</strong>.</p>
</li>
<li><p>In the upper-right corner of the <strong>Settings</strong> page, select the <strong>Advanced find</strong> filter icon.</p>
</li>
<li><p>Select <strong>Look for</strong>, and then enter <strong>Available finance and operations entities</strong> , and then select <strong>Results</strong>. Now all existing entities should appear.</p>
</li>
<li><p>Find and open the entity that you want to enable.</p>
</li>
<li><p>Select the <strong>Visible</strong> checkbox and then save your change.</p>
</li>
</ol>
<p>For example, if you’re enabling the Customers V3 entity by using the previous steps, the virtual entity appears in the Dataverse table list with a prefix of (mserp), such as Customers V3 (mserp). Then, you would continue the enabling process as follows:</p>
<ol>
<li>Go to <a data-linktype="external" href="https://make.powerapps.com/?azure-portal=true">Microsoft Power Apps maker portal</a>  and select your environment.</li>
<li>Go to the <strong>Table list</strong> and select <strong>All</strong> for all tables.</li>
<li>In the upper-right corner of the page, enter <strong>Customers V3</strong> in the search field.</li>
<li>Select the <strong>Customers V3 (mserp)</strong> table to open it.</li>
</ol>
<p>Now all customer accounts appear in the columns and data section.</p>
<p>You can make fields visible or hidden, as desired. Additionally, Power Apps can now use the virtual entity by referring to the <strong>Customers V3 (mserp)</strong> table in Dataverse, which isn’t a physical table, by using CRIUD operations.</p>
<p>The following video demonstrates the configuration and integration of an existing virtual entity with Dataverse.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=c64eed61-b720-4479-ac8e-ebbc25b7ec3d"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Work with composite data entities</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A composite entity is a concept that allows you to build a single entity
by using multiple entities that are related to each other. Usually, you'd use the
concept in scenarios where you can represent an entity
as a single document, such as a sales order header, sales order line, invoice header, invoice line, and vendor catalog.</p>
<p>A composite entity is applicable in asynchronous integration scenarios
rather than synchronous OData scenarios.
A programmatic interface isn't available for composite entities in X++, and it's only supported for a data management platform that's part of XML file-based imports and/or exports.</p>
<p>Importing and exporting composite entities is a quick and simple process
within the <strong>Data management</strong> workspace in finance and operations apps.</p>
<p>To import or export a composite data entity, follow these
steps:</p>
<ol>
<li>Select the <strong>Import/Export</strong> tile in the <strong>Data management</strong>
workspace.</li>
<li>Enter a name in the <strong>Name</strong> field.</li>
<li>Select the data source format for imports or add the entity to export.</li>
<li>Select <strong>Import</strong> for imports or select <strong>Download package</strong> to perform an export.</li>
</ol>
<h2 id="work-with-aggregate-data-entities">Work with aggregate data entities</h2>
<p>An aggregate data entity is conceptually different from data entities, which are used for import and export with the data management framework. Aggregate data entities are based on views of data, and you can use them to consolidate, summarize, and simplify the data structure for analytics purposes.</p>
<p>Aggregate data entities have the following components:</p>
<ul>
<li>Aggregate measurements</li>
<li>Aggregate dimensions</li>
<li>Model dimension references</li>
</ul>
<p>When you build the aggregate data entity with the <strong>IsPublic</strong> property set to <strong>true</strong>, you can access it with OData as data entities by using the same url: https://your dynamics name.dynamics.com/data/aggregate data entity.</p>
<p>To create aggregate data entities, all development happens in Visual Studio.</p>
<p>To create an aggregate measurement in Visual Studio, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, right-click your project or activate the context menu, and then select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>Analytic and Aggregate measurement</strong>.</li>
<li>Enter a name for the aggregate measurement, and then select <strong>Add</strong>.</li>
<li>In <strong>Application Explorer</strong>, go to <strong>Data model &gt; Views</strong>.</li>
<li>Select <strong>CustInvoiceTransExpanded</strong>, and then drag it to the <strong>MeasureGroup1</strong> on the aggregate measurement.</li>
<li>Go to the <strong>dimension</strong> node and remove the <strong>Date</strong> field.</li>
<li>Go to the <strong>measures</strong> node and create a new measure.</li>
<li>Select the <strong>LineAmountMST</strong> field and then select <strong>Sum</strong> as <strong>Default Aggregate</strong> in the properties.</li>
<li>Select <strong>Save all</strong>.</li>
</ol>
<p>To create aggregate dimensions, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, right-click your project or activate the context menu, and then select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>Analytic and Aggregate dimension</strong>.</li>
<li>Enter a name for the aggregate dimension, and then select <strong>Add</strong>.</li>
<li>In <strong>Application Explorer</strong>, go to <strong>Data model &gt; Views</strong>.</li>
<li>Select <strong>CustInvoiceTransExpanded</strong>, and then drag it to the root of the aggregate dimension.</li>
<li>Go to the <strong>attributes</strong> node and remove all items except <strong>ItemId</strong> and <strong>MyAggregate</strong> dimension.</li>
<li>Select <strong>Save all</strong>.</li>
</ol>
<p>To model dimension references, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, select the aggregate dimension and then drag it into the <strong>dimensions</strong> node on the aggregate measurement. A new out dimension node is created on the aggregate measurement.</li>
<li>Right-click the new node, or activate the context menu, and then select <strong>New relation</strong>.</li>
<li>In the properties, select <strong>ItemId</strong> as the field and <strong>ItemId</strong> as the related field.</li>
<li>Select <strong>Save</strong>.</li>
</ol>
<p>To deploy the aggregate measurement, follow these steps.</p>
<ol>
<li>Select the properties for the top node on the aggregate measurement and then verify that <strong>Usage</strong> is set to <strong>InMemoryRealTime</strong>.</li>
<li>In <strong>Solution Explorer</strong>, right-click the aggregate measurement or activate the context menu, and then select <strong>Add Column Store Indices</strong>.</li>
<li>Select <strong>Save all</strong>, and the measurement indexes are created in the project.</li>
</ol>
<p>To create an aggregate data entity, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, right-click your project or activate the context menu and then select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>Analytic and Aggregate Data Entity</strong>.</li>
<li>Enter a name for the aggregate data entity and then select <strong>Add</strong>.</li>
<li>In <strong>Solution Explorer</strong>, go to <strong>Aggregate measurement</strong> and then drag it into the data source node on the new aggregate data entity.</li>
<li>Go to <strong>Data source &gt; Aggregated measurement &gt; Measures</strong> and then drag <strong>LineAmountMST</strong> to the field’s node.</li>
<li>Set up the measurement property and the extended data type property as applicable.</li>
<li>Go to <strong>Data source &gt; our aggregated measurement and dimensions</strong> and then drag the new aggregated dimension to the field’s node. Set the <strong>Name</strong> property and then select the field in the <strong>Attribute</strong> property.</li>
<li>Set the <strong>IsPublic</strong> top node property to <strong>Yes</strong> to enable the aggregate data entity for OData and then enter names for the public collection name and public entity name as applicable.</li>
<li>Create a primary key for the <strong>ItemId</strong> field.</li>
<li>Set the primary key on the top node to the key name.</li>
<li>Select <strong>Save all</strong> and then build.</li>
</ol>
<p>Now, you can test the aggregate data entity by using the <strong>https://your solution name.axcloud.dynamics.com/data/Aggregate Data Entity Collection name</strong> URL.</p>
<p>The following code sample illustrates how the output might appear.</p>
<pre><code class="lang-xpp">{
  "@odata.context":"https://mb-500-dev23bd5795219c31f9devaos.axcloud.dynamics.com/data/$metadata#MyAggregateDataEntityCollection","value":[
    {
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"","LineAmountMST":5636950
    },{
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"D0001","LineAmountMST":3236760
    },{
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"D0003","LineAmountMST":1651826
    },{
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"D0004","LineAmountMST":11798000
    }
  ]
}
</code></pre>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/develop-composite-data-entities#import-a-composite-entity">Import a composite entity</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Azure Data Lake and Entity Store</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft Azure Data Lake Storage is a no-limits data lake that enables organizations to power intelligent action. It removes the complexities of ingesting and storing all your data while making it faster to get operational with batch, streaming, and interactive analytics.</p>
<p>Azure Data Lake Storage enables you to have cloud storage that is less expensive than the cloud storages that relational databases provide. This data includes business data that is traditionally stored in business systems and data warehouses, in addition to device and sensor data, such as signals from devices. In addition, Data Lake Storage supports a range of tools and programming languages that enable large amounts of data to be reported on, queried, and transformed.</p>
<p>Finance and operations apps can use Data Lake Storage for AI and analytics capabilities, allowing you to take advantage of the cost effectiveness and strengths of the Azure Data Lake Storage technology.</p>
<p>Entity Store is available in Azure Data Lake Storage so that you can enable advanced analytics and AI, such as reasoning over data, across finance and operations apps and other data in your Azure Data Lake Storage. Finance and operations apps provide straightforward access to denormalized transactional data in a near real-time basis.</p>
<p>Entity Store schemas are available in Azure Data Lake Storage so that you can directly access denormalized data for reporting and analytics. Aggregate measurements are stored in Data Lake Storage as Common Data Model folders that enable rich data mash-up and analytical scenarios. For example, aggregate measurement data can be attached as Microsoft Power BI reference data flows and used for reporting with Power BI. Power users can create new data mashups and reports in Power BI Desktop.</p>
<p>Follow these steps to make Entity Store available as a data lake:</p>
<ol>
<li><p>Enable automated Entity Store refresh before you can enable data lake integration by going to <strong>System administration &gt; Setup &gt; Entity Store</strong>.</p>
</li>
<li><p>The <strong>Entity Store</strong> page includes all <strong>Aggregate measures</strong> in the left pane. Select one of the records.</p>
</li>
<li><p>Change the <strong>Automatic refresh enabled</strong> toggle to <strong>Yes</strong>.</p>
<p><a data-linktype="relative-path" href="media/refresh-ss.png#lightbox"> <img alt="Screenshot of the Automatic refresh enabled toggle set to Yes." data-linktype="relative-path" src="./rawmb500/media_refresh_ss.png"/> </a></p>
<div class="IMPORTANT">
<p>Important</p>
<p>This action is not reversable. When you switch to automated Entity Store refresh, you can't revert to the old user interface experience.</p>
</div>
</li>
<li><p>Specify the refresh <strong>Recurrence</strong>. You can select <strong>Every hour</strong>, <strong>Twice per day</strong>, <strong>Once per day</strong>, or <strong>Once per week</strong>.</p>
<div class="NOTE">
<p>Note</p>
<p>Administrators can refresh aggregate measures on demand by selecting the aggregate measure to refresh and then selecting <strong>Refresh</strong> in the Action Pane.</p>
</div>
</li>
</ol>
<p>Follow these steps to be able to work in the Entity Store as a data lake:</p>
<ol>
<li>Go to <strong>System administration &gt; System setup &gt; System parameters</strong>.</li>
<li>Select the <strong>Data connections</strong> tab in the left pane.</li>
<li>Change the <strong>Enable Data Lake integration</strong> toggle to <strong>Yes</strong>.</li>
<li>If you want to update Data Lake Storage in frequent small batches as data is updated in the system, change the <strong>Trickle update Data Lake</strong> toggle to <strong>Yes</strong>.</li>
<li>Enter the following information:
<ul>
<li><strong>Application ID</strong> – Application ID of the Microsoft Entra ID application.</li>
<li><strong>Application Secret</strong> – Application key (secret) for the Microsoft Entra ID application.</li>
<li><strong>DNS name</strong> – DNS name of the Key Vault.</li>
<li><strong>Secret name</strong> – Name of the secret that you added to Key Vault together with connection string information.</li>
</ul>
</li>
<li>When you have entered all information, select <strong>Test Azure Key Vault</strong> and <strong>Test Azure Storage</strong> to validate that Dynamics 365 can access the provided configuration information.</li>
</ol>
<p>Entity Store data should now be populated in the storage location that you provided, not in the relational Entity Store database.</p>
<p>For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-store-data-lake/?azure-portal=true">Make Entity store available as a Data Lake</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Connect to Azure Data Lake Storage</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Connecting to Microsoft Azure Data Lake Storage unlocks hidden insights in your data. Azure Data Lake Storage organizes data by using the Common Data Model (CDM) metadata system in an Azure storage account.</p>
<p>Using Azure Data Lake Storage has advantages compared to using a <em>bring your own database</em> (BYOD) system, including:</p>
<ul>
<li>Data is already present, so you don’t need to conduct an export. Azure Data Lake Storage integration manages continuous data export.</li>
<li>The cost of data storage is reduced.</li>
<li>You can reverse existing downstream and consumption pipelines before the export process occurs.</li>
</ul>
<p>Azure Data Lake Storage stores data as comma separated value (CSV) files in an Azure storage account.</p>
<p>Currently, export to the Azure Data Lake Storage feature isn’t available in Tier-1 (developer) environments. You need to have a cloud-based, Tier-2 or higher sandbox environment to enable this feature. However, you can use a prototype from FastTrack to enable Azure Data Lake Storage for Tier-1 (development) environments.</p>
<h2 id="connect-a-cloud-hosted-development-environment-to-azure-data-lake-storage-in-cdm-format">Connect a cloud-hosted development environment to Azure Data Lake Storage in CDM format</h2>
<p>GitHub provides a solution for connecting a cloud-hosted development environment to Azure Data Lake Storage by using the CDM format, which is a standard entity that you can use to provide integration between systems.</p>
<p>Unlike a standard export process to Azure Data Lake Storage, the FastTrack prototype conducts a full export. In the standard export to Azure Data Lake Storage, you can select entities for export.</p>
<p>A benefit of using export to Azure Data Lake Storage is that the system exports entities in near real time, and you can export denormalized tables.</p>
<p>To use the FastTrack prototype that’s on <a data-linktype="external" href="https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/blob/master/Analytics/AzureDataFactoryARMTemplates/SQLToADLSFullExport/ReadmeV2.md/?azure-portal=true">GitHub</a>, you must meet several prerequisites, including:</p>
<ul>
<li>An Azure subscription.</li>
<li>An Azure storage account.</li>
<li>A Microsoft Azure Synapse Analytics workspace.</li>
<li>Connection to a SQL on-demand endpoint by using a supported tool.</li>
<li>Access to Microsoft Azure Data Factory.</li>
<li>Microsoft Visual Studio 2019, to build the export project.</li>
</ul>
<p>When you’re ready to deploy, complete the following steps:</p>
<ol>
<li>Clone the repository from GitHub.</li>
<li>Open the repository and build it.</li>
<li>Deploy it as an Azure Function.</li>
<li>Enable the Windows Installer MSI files that are built from the repository.</li>
</ol>
<p>To prepare an Azure storage account, Synapse Analysis, and Azure Data Factory for deployment, complete the following steps:</p>
<ol>
<li>Set up the storage account.</li>
<li>Set up Azure Synapse Analysis and SQL on-demand.</li>
<li>Collect Azure Data Factory deployment parameters.</li>
<li>Deploy the Azure Data Factory template from the cloned repository on GitHub.</li>
</ol>
<p>To connect to the finance and operations cloud-hosted development environment, make sure that you complete the following actions:</p>
<ol>
<li>Use Microsoft Dynamics 365 Lifecycle Services and Environment details. The SQL server login is in the <strong>Manage environment</strong> section.</li>
<li>Connect your Azure Data Factory to the finance and operations cloud-hosted environment by creating a self-hosted integration runtime for your Azure Data Factory.</li>
<li>After you deploy the Azure Data Factory template, go to Azure Data Factory, and run the pipelines. Notice that the data structure and metadata are built in CDM format. You can also create reports by using this format and any reporting and business intelligence (BI) tools.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Change data in Azure Data Lake</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you select the <strong>Enable near real-time data changes</strong> option, data is inserted, updated, and deleted in your data lake in near real-time. As data changes in your finance and operations environment, the same data is updated in the data lake within a few minutes. You also get the data changes in a separate <strong>Change feed</strong> folder.</p>
<p>Change data in a data lake lets you build near-real-time data pipelines that react to data changes in finance and operations apps. The <strong>Change feed</strong> folder in the data lake contains every data change in finance and operations apps. This folder is automatically created and maintained by the <strong>Export to Data Lake</strong> feature.</p>
<h2 id="why-do-you-need-change-data-in-a-data-lake">Why do you need change data in a data lake?</h2>
<p>Data in a data lake is often used for reporting purposes. Although you can use the table data in the data lake to create reports, you can also create additional copies of the data to improve your reporting. For example, you might have a data mart that is designed to enable your power users. In this data mart, you might have simplified, often aggregated, fact tables and dimension tables.</p>
<p>As table data in the data lake is updated, you must keep the corresponding fact tables and dimension tables in the data lake updated. Otherwise, your reports won't reflect the latest data.</p>
<p>The easiest way to update fact tables and dimension tables is to periodically create a full copy by using tables. However, this approach can be inefficient. If your tables are large (for example, if they have tens of millions or hundreds of millions of rows), the process of updating a fact table by making a full copy might take hours and consume lots of compute resources. Therefore, your users might not have the reports in time (that is, they might have to wait hours to see the latest data in reports). Additionally, because compute resources are consumed every time that data is reprocessed, you might receive a larger bill from the services that you've consumed.</p>
<p>Incremental update of your fact tables and dimension tables provides the answer to both problems (time consumption and compute resource consumption). In an incremental update, you select only the changed records from source tables, and update them in corresponding fact tables and dimension tables.</p>
<p>Incremental update is a standard capability in most data transformation tools, such as Azure Data Factory. However, for the incremental update feature to work, you must identify the records that changed in source tables.</p>
<p>The <strong>Change feed</strong> folder provides a history of table data changes in the data lake. This history can be used for data pipelines that use incremental update.</p>
<p>For more detailed information about the <strong>Change feed</strong> folder, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/azure-data-lake-change-feeds/?azure-portal=true">Change data in Azure Data Lake</a>.</p>
<h2 id="best-practices-when-change-feeds-are-used">Best practices when change feeds are used</h2>
<p>This section examines some best practices that you should follow when change feeds are used.</p>
<h3 id="updating-near-real-time-data-marts">Updating near-real-time data marts</h3>
<p>If you require that your data warehouse or data marts be updated in near-real time (in other words, if they must be updated within minutes of a data change in finance and operations apps), you should use change feeds.</p>
<p>However, there are several important concepts that must be understood:</p>
<ul>
<li>Change records are grouped into files that are around 4 megabytes (MB) or 8 MB in size. Microsoft has optimized file sizes so that they provide optimum query response times when the files are queried by Synapse SQL Serverless. Optimized file sizes (and batched writes) also reduce the Azure charges that you might incur as the data lake is updated.</li>
<li>Change records are only appended. Files in the <strong>Change feed</strong> folder are never updated. Although each change record contains the LSN number and date/time of a change, you can also use the date/time stamp of the CSV files to identify changes.</li>
<li>When you reactivate a table in finance and operations, the <strong>Change feed</strong> folder is cleared, and the system starts change feeds from the next available change. This behavior ensures that the changes are consistent with the <strong>Tables</strong> folder. When tables are reactivated, you should consider triggering a full refresh of the downstream data pipeline.</li>
<li>Your downstream jobs can be orchestrated on a periodic basis (for example, every 10 minutes), or they can be triggered when a new change feed file is added to a folder.</li>
<li>In either case, your downstream data pipelines must have a <em>last processed</em> marker (also known as a watermark). Whenever you can, you should rely on the <strong>LSN</strong> field in the record as the watermark. However, you can also use the <strong>File Date-Time</strong> stamp as the watermark. By relying on the LSN, you ensure that you consume the changes in the same sequence in which they were committed in the finance and operations database.</li>
</ul>
<p>For an example that shows how you can build a downstream pipeline, see the <a data-linktype="external" href="https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/tree/master/Analytics/SynapseToSQL_ADF/?azure-portal=true">Synapse data ingestion template</a>. You can use it to incrementally ingest data into a SQL-based data warehouse.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Power Platform convergence</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft Power Platform integration removes the barriers to entry for customers to fully harness the Microsoft Power Platform stack with each of their finance and operations environments. Features such as dual-write become a one-click experience to set up. Add-ins are unlocked for an environment using Microsoft Power Platform integration. Virtual entities are also made available by default in the environment. Business events and create/update/delete (CUD) events in finance and operations apps are also integrated with Microsoft Dataverse.</p>
<div class="NOTE">
<p>Note</p>
<p>CUD events are only going to be available with Microsoft Power Platform integration.</p>
</div>
<p>When using a new experience on each environment in Lifecycle Services, a user can complete the first part of the Microsoft Power Platform integration setup. This will create an environment of the same type (production or sandbox) in the Power Platform admin center. This new environment will have the same name as the one in Lifecycle Services and will be powered by Microsoft Dataverse, and the finance and operations URL will be populated on this environment in the admin center.</p>
<p>When the setup is complete, dual-write setup will be enabled and customers who want to use dual-write can do this from Lifecycle Services. They can then select which entity maps to synchronize from the finance and operations app. Virtual entities are also installed in the environment with Microsoft Power Platform integration and it isn’t necessary to set up manual connections because the environments are preconnected.</p>
<p>With Microsoft Power Platform integration enabled, finance and operations users will be automatically added to Dataverse when users access virtual entities from Microsoft Power Apps.</p>
<p>Another benefit of the Microsoft Power Platform integration being enabled is that business events in finance and operations will converge with business events in Dataverse. Users who subscribe to finance and operations business events will receive that event from Dataverse. Also, it will enable the execution of C# plug-ins for Dataverse for finance and operations scenarios that are executed because of business events.</p>
<p>With the integration, CUD events are also available for finance and operations OData-enabled data entities. A CUD operation in a finance and operations app can happen via the finance and operations user interface, finance and operations OData APIs, or from Power Apps/Power Portal, using virtual entities. The CUD event will trigger the entity. Also, it enables the execution of C# plug-ins in Dataverse for finance and operations scenarios that are executed as a response to CUD events.</p>
<p>The Plugin Registration Tool will enable registering C# plug-ins business and CUD events coming from finance and operations apps. Developers can explore Dataverse environments and write, register, deploy, and debug C# plug-ins in Visual Studio, using a Visual Studio extension for Microsoft Power Platform. For developers, such as finance and operations developers, that are already working in Visual Studio, this provides one workspace (Visual Studio) to author their customizations across Dynamics 365 apps, in finance and operations apps, and Dataverse.</p>
<p>See <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/power-platform/overview/?azure-portal=true">Microsoft Power Platform integration with finance and operations apps</a> to learn more.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you've learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What components come included with the Data Integrator templates?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Field mappings</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>X++ code</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>SDK</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>To use OAuth 2.0 with finance and operations apps, you must first register the application. Where can you do this?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>System administration module</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft 365 Admin help center</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft Azure portal</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Apps portal</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which one of the following products or features is used to enable the flow of data between finance and operations apps and other Dynamics 365 applications?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Automate</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft Dataverse</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Data entities</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>In which format is data stored in an Azure storage account?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>As SQL tables</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>As CSV files by using the CDM format that consists of data and metadata</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>In a binary format</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>In a compressed zip format</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>When and where do you set up Microsoft Power Platform to integrate with the Azure-hosted development environment?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>As an Azure service for an Azure-hosted development environment after deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>In Lifecycle Services after deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>In the deployment settings before deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-3">
<input class="radio-dot choice-input" id="quiz-choice-4-3" name="4" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>In the Microsoft Power Platform admin center during deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The exchange of documents and files within finance and operations apps
is important for most organizations. In this module, you learned that integrations
allow you to exchange this information between Dynamics 365 applications
and other third-party applications depending on the needs of the
business.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Identity Platform Access Tokens</td>
<td><a data-linktype="absolute-path" href="/en-us/azure/active-directory/develop/access-tokens/?azure-portal=true">Microsoft identity platform access tokens</a></td>
</tr>
<tr>
<td>OAuth 2.0</td>
<td><a data-linktype="absolute-path" href="/en-us/azure/active-directory/develop/v1-protocols-oauth-code/?azure-portal=true">Authorize access to Microsoft Entra ID web applications using the OAuth 2.0 code grant flow</a></td>
</tr>
<tr>
<td>Setting up batch jobs</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/setup-batch-jobs-finance-operations/?azure-portal=true">Set up batch jobs in finance and operations apps</a></td>
</tr>
<tr>
<td>Microsoft Dataverse</td>
<td><a data-linktype="absolute-path" href="/en-us/training/paths/get-started-cds/?azure-portal=true">Get started using Dataverse</a></td>
</tr>
<tr>
<td>Integrating data into Dataverse</td>
<td><a data-linktype="absolute-path" href="/en-us/power-platform/admin/data-integrator/?azure-portal=true">Integrate data into Dataverse</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When it’s time to migrate data, the more you know, the easier it is to control operational complexity, and reduce costs. Your customer’s business continuity must be your priority. In this module, you will learn how to prepare data for a successful migration, by identifying important factors such as legacy systems, static, and common data.</p>
<p>In this module, you will learn how to:</p>
<ul>
<li>Choose a data integration (import/export) strategy.</li>
<li>Identify common migration scenarios and tools in finance and operations apps.</li>
<li>Work with the Bring your own database (BYOD) feature.</li>
<li>Identify relevant (legacy) systems.</li>
<li>Identify and import static data that is common between industries.</li>
<li>Create and review test plans for data migration.</li>
<li>Identify and extract source data.</li>
<li>Identify relevant data entities and elements.</li>
<li>Generate field mapping between source and target data structures.</li>
<li>Perform a test migration and validate output.</li>
<li>Support the transition between the existing and migrated systems.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Select a data integration (import/export) strategy</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explores integration patterns, scenarios, and solutions for finance and operations. Although this unit does not include technical details about how to use or set up every integration pattern or how to work with sample code, it is always wise to be aware of available integration tools.</p>
<p>The following integration patterns are available for finance and operations apps:</p>
<ul>
<li>OData</li>
<li>Batch data API</li>
<li>Custom service</li>
<li>Consume external web services</li>
<li>Excel integration</li>
</ul>
<h2 id="odata">OData</h2>
<p>OData is a standard protocol for creating and consuming data. The purpose of OData is to provide a protocol that is based on Representational State Transfer (REST) for create, read, update, and delete (CRUD) operations. OData applies web technologies such as HTTP and JavaScript Object Notation (JSON) to provide access to information from various programs.</p>
<p>OData provides the following benefits:</p>
<ul>
<li>Allowing developers to interact with data by using RESTful web services</li>
<li>Providing a simple and uniform way to share data in a discoverable manner</li>
<li>Enabling broad integration across products</li>
<li>Enabling integration by using the HTTP protocol stack</li>
</ul>
<h2 id="batch-data-api">Batch data API</h2>
<p>Use the batch data API in scenarios that require one or both Data management package REST API and Recurring integrations. Both APIs support data import scenarios and data export scenarios.</p>
<p>For finance and operations apps, we have tried to simplify this process for all parties who are involved, from integration solution builders to customer users.</p>
<p>The package API lets you integrate with finance and operations apps by using data packages. The REST API can be used with both cloud and on-premises deployments. The data management framework's package API uses OAuth 2.0 for authorizing access.</p>
<p>The process of data migration, and movement into and out of any enterprise system, are critical pieces that any platform must support.</p>
<p>Recurring integration does the following:</p>
<ul>
<li>Builds on data entities and the Data management framework</li>
<li>Enables the exchange of documents or files between finance and operations apps and any third-party application or service</li>
<li>Supports several document formats, source-mapping, and filters</li>
<li>Uses secure Representational State Transfer (REST) application programming interfaces (APIs) and authorization mechanisms to receive data from, and send data back to, integration systems</li>
</ul>
<p>Before the integrating client application can consume this endpoint, you need to create an application ID in Microsoft Entra ID and give it appropriate permission to finance and operations apps.</p>
<p>When you create and enable a recurring job, you're prompted to enter the Microsoft Entra ID application ID that will interact with that recurring job. Therefore, be sure to make a note of the application ID.</p>
<p>Much effort and planning go into building third-party integrations between an enterprise line of business (LOB) system, such as Microsoft finance and operations apps, and various source systems.</p>
<h2 id="custom-service">Custom service</h2>
<p>A developer can create custom services for finance and operations apps. When a developer writes a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li><strong>SOAP endpoint</strong> – Code examples for consuming custom services using SOAP are available in the <a data-linktype="external" href="https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/SoapConsoleApplication/?azure-portal=true">Microsoft Dynamics AX Integration GitHub repository - SoapConsoleApplication</a>.</li>
<li><strong>JSON endpoint</strong> – Code examples for consuming JSON services are available in the <a data-linktype="external" href="https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/JsonConsoleApplication/?azure-portal=true">Microsoft Dynamics AX Integration GitHub repository - JsonConsoleApplication</a>.</li>
</ul>
<h2 id="consume-external-web-services">Consume external web services</h2>
<p>A developer consumes web services by adding new class libraries to finance and operations apps, such as authentication, requests, and responses. This library is then referenced in the app's project and used within X++ code to enable seamless integration. You can use .NET tools like HTTPClient for REST APIs or WCF for SOAP services, ensuring proper error handling and security for sensitive data. After integrating and testing the library, the app can interact with external systems, such as payment gateways, CRMs, or analytics platforms, to extend its functionality.</p>
<h2 id="excel-integration">Excel integration</h2>
<p>The Microsoft Office integration capabilities provide users with a productive environment that helps them get the job done by using Office products. Microsoft Excel can change and quickly analyze data.</p>
<p>The Excel Data Connector app interacts with Excel workbooks and OData services that are created for publicly exposed data entities. The Excel Data Connector add-in enables Excel to become a seamless part of the user experience. The Excel Data Connector add-in is built by using the Office Web add-ins framework. The add-in runs in a task pane.</p>
<h2 id="synchronous-vs-asynchronous-integration-patterns">Synchronous vs. asynchronous integration patterns</h2>
<p>Processing can be either synchronous or asynchronous. Often, the type of processing that you must use determines the integration pattern that you choose.</p>
<p>A synchronous pattern is a blocking request and response pattern, where the caller is blocked until the recipient has finished running the Excel integration and gives a response. An asynchronous pattern is a non-blocking pattern, where the caller submits the request and then continues without waiting for a response.</p>
<p>We recommend using <strong>OData</strong> for synchronous and <strong>Batch data API</strong> for asynchronous integration scenarios.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Common migration scenarios and tools</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The following are two scenarios, and recommendations for which integration pattern to use.</p>
<h2 id="scenario-1">Scenario 1</h2>
<p>An energy company has field workers who schedule installation jobs for heaters. This company uses finance and operations apps for the back office and third-party software as a service (SaaS) to schedule appointments. When field workers schedule appointments, they must look up inventory availability to make sure that installation parts are available for the job.</p>
<p>The real-time data required:</p>
<ul>
<li>Peak data volume is 1,000 records per hour</li>
<li>Frequency is Ad hoc.</li>
</ul>
<p>This scenario can be implemented by using a custom service integration pattern.</p>
<p>In finance and operations, have a developer create a custom service to calculate the physical on-hand inventory for a given item.</p>
<p>In the scheduling application, make a real-time call to a custom service endpoint, through either SOAP or REST, to retrieve inventory information for the selected item.</p>
<h2 id="scenario-2">Scenario 2</h2>
<p>A company receives a large volume of sales orders from a front-end system that runs on-premises. Periodically, these orders must be sent to finance and operations for processing and management.</p>
<p>The real-time data is not required. Peak data volume is 20,000 records per hour and the Frequency is One time every five minutes.</p>
<p>This scenario is best implemented by using a batch data APIs integration pattern.</p>
<p>Determine all the entities that are required for the integration, and make sure that data management is enabled for the entities.</p>
<h2 id="finance-and-operations-apps-integration-tools">Finance and operations apps integration tools</h2>
<p>Finance and operations apps offer tools for data migration, such as:</p>
<ul>
<li>Data management workspace</li>
<li>Office integration</li>
<li>Excel workbook designer</li>
</ul>
<p>To learn more about API technology for finance and operations apps, see the <a data-linktype="absolute-path" href="/en-us/training/modules/integrate-azure-finance-operations/?azure-portal=true">Integrate finance and operations apps with Microsoft Azure</a>, and <a data-linktype="absolute-path" href="/en-us/training/modules/data-package-api-finance-operations/?azure-portal=true">Implement the Data management package API for finance and operations apps</a> modules.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Bring your own database (BYOD)</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The BYOD feature lets administrators configure their own database, and then export one or more data entities, that are available in finance and operations apps, into it. Specifically, this feature lets you complete the following tasks:</p>
<ul>
<li>Define one or more Microsoft Azure SQL databases that you can export entity data from finance and operations apps into.</li>
<li>Export either all the records (full push) or only the records that have changed or been deleted (incremental push).</li>
<li>Use the rich scheduling capabilities of the batch framework to enable periodic exports.</li>
<li>Access the entity database by using Transact-SQL (T-SQL), and even extend the database by adding more tables.</li>
<li>Export entities into multiple databases.</li>
</ul>
<p>The BYOD feature is recommended for when you do the following:</p>
<ul>
<li>Export data from finance and operations apps into your own data warehouse.</li>
<li>Use analytical tools other than Power BI, and those tools require T-SQL access to data.</li>
<li>Perform batch integration with other systems.</li>
</ul>
<p>If you have integration solutions that require direct T-SQL access to the database, BYOD is the recommended upgrade path.</p>
<p>Before you can configure the export option and use the BYOD feature, you must create an SQL database for production environments by using Azure portal.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/azure-side-bar.png#lightbox"><img alt="Screenshot of the Azure portal SQL databases menu item." data-linktype="relative-path" src="./rawmb500/media_azure_side_bar.png"/></a></p>
</div>
<p>You should also create a SQL user account for sign-in to the database. Make sure to record and save the server name, database name, and the SQL user ID and password. You will use these values when you configure the entity export option.</p>
<p>If you're using the BYOD feature for integration with a business intelligence (BI) tool, consider creating an SQL premium database. Premium databases support clustered columnstore indexes (CCIs). CCIs are in-memory indexes that improve the performance of read queries that are typical in analytical and reporting workloads.</p>
<p>If you're using the BYOD feature to export data into a staging database or for general integration purposes, you can use a standard database.</p>
<p>To configure the entity export, follow this procedure.</p>
<ol>
<li><p>Go to the <strong>Data management</strong> workspace and select the <strong>Configure entity export to database</strong> tile.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/configure-entity.png#lightbox"><img alt="Screenshot of the Configure entity export to database tile." data-linktype="relative-path" src="./rawmb500/media_configure_entity.png"/></a></p>
</div>
</li>
<li><p>If you've already configured any databases, a list is shown, and you will need to select a database. Then, skip step 3.</p>
</li>
<li><p>To configure a new database, select <strong>New</strong>, and then enter a unique name and a description for the new database.</p>
</li>
<li><p>Enter the connection string in the following format: <strong>Data Source</strong>=&lt;logical server name&gt;, <strong>1433</strong>; <strong>Initial Catalog</strong> =&lt;your DB name&gt;; <strong>Integrated Security</strong>=False; <strong>User ID</strong> = &lt;SQL user ID&gt;; <strong>Password</strong> = &lt;password&gt;</p>
</li>
<li><p>Select <strong>Validate</strong>, and make sure that the connection is successful.</p>
<p>When the validation is passed, the database that you configured for entity export appears in lists of databases.</p>
</li>
<li><p>By default, the <strong>Create clustered column store indexes</strong> option is enabled. This option optimizes the destination database for selected queries by defining CCIs for entities that are copied from finance and operations.</p>
</li>
<li><p>By default, the <strong>Enable triggers in target database</strong> option is disabled. This option sets export jobs to enable SQL triggers in the target database, and lets you hook downstream processes into the trigger to orchestrate actions that must be started after records have been inserted.</p>
</li>
<li><p>You can now publish one or more entities to the new database by selecting the <strong>Publish</strong> option on the menu.</p>
</li>
</ol>
<p>After entities are published to the destination database, you can use the <strong>Export</strong> function in the <strong>Data management</strong> workspace to move data. The <strong>Export</strong> function lets you define a <strong>Data movement</strong> job that contains one or more entities.</p>
<p>You can use the <strong>Export</strong> page to export data from finance and operations apps into many target data formats, such as a comma-separated values (CSV) file. This page also supports SQL databases as another destination.</p>
<p>The value of the &lt;logical server name&gt; has a format like &lt;yourSqlAzureServername&gt; .<strong>database.windows.net</strong>, which can be found in Azure portal by selecting the SQL databases menu.</p>
<p>For scenarios in which reporting systems read data from BYOD, there is always the challenge of ensuring that the reporting systems get consistent data from BYOD while the sync from finance and operations apps is in progress.</p>
<p>One trigger is supported per bulk insert operation. The size of the bulk insert is determined by the <strong>Maximum insert commit size</strong> parameter in the Data management framework.</p>
<p>You can achieve this result by not having the reporting systems read directly from the staging tables that were created by the BYOD process. The staging tables hold the data while data is being synced from the finance and operations apps instance and hence will be constantly changing.</p>
<p>Use the SQL trigger feature to determine when the data sync from finance and operations apps has been completed, and then hydrate the downstream reporting systems.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Test a data migration and validate output</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To prepare for data migration, the first step is to identify relevant (legacy) systems that the customer is currently using. Then, you need to identify and import static data that is common between industries.</p>
<p><img alt="Diagram of the steps to Migrate data and validate output." data-linktype="relative-path" src="./rawmb500/media_data_migrate.png"/></p>
<h2 id="identify-relevant-legacy-systems">Identify relevant (legacy) systems</h2>
<p>A legacy system is a business solution that has a few common characteristics with current solutions in the market, such as being based on outdated technology or design, being incompatible or difficult and costly to integrate with current systems, and a potential inability of being purchased from vendors because it is unavailable and discontinued.</p>
<p>Each legacy system might have a different data export format option that must be considered as part of the planning for data migration, and you should be prepared for data extraction from legacy data sources.</p>
<h2 id="identify-and-import-static-data-that-is-common-between-industries">Identify and import static data that is common between industries</h2>
<p>Your customer might have different verticals, such as distribution and trade, manufacturing, and retail. Even if you manage a customer’s data migration that is only focused on one specific industry, such as manufacturing, you still need to investigate to determine whether their customers and suppliers who might be in a different industry such as resellers which are retailers who interchange data with your customer.</p>
<p>When you plan data migration, you need to identify common data that are not frequently changed, such as country codes, zip or postal codes, states, or regions.</p>
<p>Identifying the common static data between different verticals or industries helps reduce the cost and prepare the source data, clean it, and get customer consensus prior to importing the data to finance and operations apps.</p>
<h2 id="create-and-review-test-plans-for-data-migration">Create and review test plans for data migration</h2>
<p>Your plans for data migration need to be ready to guide you through the process. Make sure that the right system permissions are applied on resources to have a successful data migration.</p>
<p>Make sure that you back up the database and source files that you plan to migrate. If you encounter any issues during migration, such as corrupt, incomplete, or missing files, you need to correct the error and restore the database from the backup.</p>
<p>You need to extract all data from the source system, and then migrate the data to the target, which is finance and operations apps. Then, you need to clean the data and transform it into the proper format for transfer to finance and operations apps.</p>
<p>Finally, load your cleaned and deduplicated data into your finance and operations apps data management, map fields, and import data to finance and operations apps.</p>
<p>Make sure to always monitor your data migration during the process so that you can detect and resolve any issues or problems if they arise.</p>
<p>Once the migration is complete, ensure that there are no connectivity problems with source system and finance and operations. Your goal is to make sure that all data correctly migrated by performing unit, system, regression, and other applicable tests. Do not forget the simplest method, which is using built-in reports and inquiries in finance and operations, and then have the customer’s key stakeholder verify the data and compare the migrated data with their legacy system.</p>
<p>For example, assume you are migrating the chart of accounts, posted transactions, and so on. After you migrated data for a specific financial period, you ran the trial balance print, and then asked the CFO (or one of your customer’s financial leaders) to compare the results and match them against the financial report on their legacy system before migrating the next period.</p>
<h2 id="identify-and-extract-source-data">Identify and extract source data</h2>
<p>When you and your team have analyzed the data and retrieved relevant information from data sources (like a database) in a specific pattern, it is then time to extract the relevant data. You might need to perform further data processing, which involves adding metadata and other data integration, another process in the data workflow.</p>
<h2 id="identify-relevant-data-entities-and-elements">Identify relevant data entities and elements</h2>
<p>You need to know what sources of data are important for the analysis. If the information being analyzed is only related to the scenario at hand, it should be set aside because you should only use data sources that are absolutely relevant to the scenario for migration.</p>
<p>You should never bring all the data from multiple data sources to finance and operations apps in one occurrence; rather, you should have a proper plan to guide you according to the business scenario.</p>
<p>For example, if you are planning to bring all the purchase orders in to finance and operations apps from a legacy system, there are many related and relevant entities that you should consider as well, such as vendor groups, vendors, tax codes, headers and lines of purchase orders, and many more.</p>
<p>Prior to starting the data migration process, identify what data you’re migrating, what format it’s currently in, where it lives, and what format it should be in post-migration. Consider whether the data migration will interfere with normal business operations or will contribute to downtime. If so, you need to plan off hours or weekends for the migration process. Also, remember to perform the database backup prior to starting the data migration. You need to communicate the potential downtime with your customer, so they can plan accordingly. Remember that business continuity always should be your first priority.</p>
<p>Often, your source data must be changed and cleaned, or even split into more segments. Data verification helps you check that the data is available, accessible, complete, and in the correct format. This is called data cleansing. The first stage in data cleansing is to define which rules must be carried out manually and which need to be planned as automated.</p>
<p>Typically, manual cleansing will be done before migration starts, while automated cleansing might be done before or as part of the migration’s initial phase.</p>
<h2 id="generate-field-mapping-between-source-and-target-data-structures">Generate field mapping between source and target data structures</h2>
<p>First, you need to identify the format of the data source. You can view the formats in Data management from the <strong>Configure data source</strong> tile.</p>
<p><img alt="Screenshot of the Configure Data Source tile." data-linktype="relative-path" src="./rawmb500/media_configure_data_source.png"/></p>
<p>In <strong>Configure data source</strong>, you can create and modify sources of data for migrations. If you have identified the data sources and their relevant entities, you can use different types of data sources depending on the format exported from external systems, some of which are legacy systems.</p>
<p><a data-linktype="relative-path" href="media/data-source-types.png#lightbox"><img alt="Screenshot of the Data Source Types list." data-linktype="relative-path" src="./rawmb500/media_data_source_types.png"/></a></p>
<p>Upon adding an entity into the Data management project for either import or export, finance and operations apps creates field mapping between the source data and the target table for each data entity, which matches the schema of the table associated with the data entity.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/maps-1.png#lightbox"><img alt="Screenshot of the Map Entity source to target page." data-linktype="relative-path" src="./rawmb500/media_maps_1.png"/></a></p>
</div>
<p>The type of the field, and whether it is a required field, are examples of the metadata of the table that is being shown in the <strong>Mapping details</strong> tab. Here, you can choose to ignore blank values and select a text identifier to properly use the text values from the source data field.</p>
<p>Alternatively, you can use the label for the enumerator fields instead of its value.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/maps-details.svg#lightbox"><img alt="Screenshot of the Map staging to target page details." data-linktype="relative-path" src="./rawmb500/media_maps_details.png"/></a></p>
</div>
<h2 id="support-the-transition-between-the-existing-and-migrated-systems">Support the transition between the existing and migrated systems</h2>
<p>Analyzing the data between what is in the legacy system and what has been imported to finance and operations apps is an important part of data migration. This provides an overview of the source data and its corresponding target table that is represented by data entities in finance and operations apps.</p>
<p>It’s important to know how each system works and how the data within each system is structured. You also need to validate the information discovered in the analysis phase of each phase in data migration, and then ensure that all data is properly migrated by running certain reports, or inquiries. By validating the data, your team can focus solely on structural manipulation and movement and data assurance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following options enables broad integration between finance and operations apps and other products, systems, and applications?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following options enables the exchange of documents or files between finance and operations apps and any external application or service?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch data API</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>The Excel Data Connector app interacts with Microsoft Excel workbooks through which one of the following options?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>External web services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>An energy company has field workers who schedule installation jobs for heaters. This company uses finance and operations apps for the back office and other software as a service (SaaS) to schedule appointments. When field workers schedule appointments, they must look up inventory availability to make sure that installation parts are available for the job. The real-time data is required. Peak data volume is 1,000 records per hour and the frequency is Ad hoc. Which one of the following integration patterns should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>External web services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>You need to enable an exchange of documents between finance and operations apps and an external application at the end of each day. Which of the following would you implement?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel data connector app</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Recurring integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Synchronous integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This module explained how to identify common migration scenarios and import static data that is common between industries. You learned about some of the tools in finance and operations apps, such as Data management and the BYOD feature.</p>
<p>As part of selecting a data integration (import/export) strategy, you were able to observe how important it is to identify relevant (legacy) systems, create, and review test plans for data migration. You also learned about identifying and extracting source data, and its relevant data entities and elements.</p>
<p>Finally, you learned that an important responsibility for the data migration team includes generating field mapping between source and finance and operations apps data entities, performing a test migration and validating the output, and then supporting the transition between the existing and migrated systems.</p>
<p>To learn more about the use cases and limitations for the migration tool, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/data-management-integration-data-entity/?azure-portal=true">Data management and integration by using data entities overview</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use the Entity Store to perform basic reporting and data
analysis. To access data in Finance and
operations apps from outside of the system, you can also connect into your
own Microsoft Azure SQL database with Bring Your Own Database (BYOD).</p>
<p>In this module, you will learn about what types of considerations are needed before you invest time and effort in BYOD and the way to create and manage custom data sources for BYOD. Both options will allow data
analytics and reports, but it is important to understand the uses,
options, and needs of each option for your business.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify report data source requirements for external sources</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You have two options when considering the external sources that you can use for finance and operations apps. If you are only looking into using data for Power BI reporting and analytical workspaces that are in finance and operations, then the best option is to use the Entity Store.</p>
<p>For more information on Power BI integration with the Entity Store, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/power-bi-integration-entity-store/?azure-portal=true">Power BI integration with Entity store</a>.</p>
<p>If you want to export data from finance and operations apps to your own data warehouse, use analytical tools other than Power BI that require Transact-SQL (T-SQL) access to the data that you want to analyze, and if you need batch integration with other systems, then BYOD is the correct external source for you.</p>
<p>For BYOD, you will need to create a separate SQL database that is hosted in Microsoft Azure. The options, such as premium databases, are dependent on your needs and the tools that will be integrating with your data.</p>
<p>We recommend that you take advantage of embedded Power BI and the Entity Store to use the default operations reports as your first choice. BYOD is considered a complementary option that you can use as you require.</p>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/azure-data-lake-ga-version-overview/?azure-portal=true">Export to Azure Data Lake overview</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and manage custom data sources</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Both BYOD and Entity store depend on the creation and management of custom entities and data sources to provide the correct data for your
organization's reporting or analyzing needs. To learn more about
configuring and creating data entities, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/build-consuming-data-entities/?azure-portal=true">Build and consume data entities</a>.</p>
<p>When you have created a data entity with your custom data sources, you
can then manage them in the <strong>Data management</strong> workspace in finance and operations apps.</p>
<h2 id="implement-custom-data-sources">Implement custom data sources</h2>
<p>Creating and managing custom data sources are the first steps of BYOD
setup. However, to implement the customized data sources and entities
that you create, you first need to configure the <strong>Entity export</strong> option in the <strong>Data management</strong> workspace, publish the entity schema to your SQL database in Azure, and finally export the data into the BYOD.</p>
<p>To configure the <strong>Entity export</strong> option in the <strong>Data management</strong>
workspace, follow these steps:</p>
<ol>
<li>Select the <strong>Data management</strong> workspace tile in finance and operations apps.</li>
<li>If you've previously configured any databases, a list is shown; otherwise, you will configure a new database by selecting <strong>New</strong> in the Action Pane and entering a unique name and description.</li>
<li>Enter a connection string. In the connection string, the logical server name should resemble the nnnn.database.windows.net format that is found in the Azure portal. The format is as follows:
<ul>
<li>Data Source=&lt;logical server name&gt;,1433; Initial Catalog=&lt;your DB name&gt;; Integrated Security=False; User ID=&lt;SQL user ID&gt;;  Password=&lt;password&gt;</li>
</ul>
</li>
<li>When the connection string is entered, select <strong>Validate</strong> and ensure that the database that you configured for the entity export appears in the lists of databases.</li>
<li>After the entity export has been configured, you will publish the  entity schema to the database in Azure. Publishing enables you to publish new entities to the database, delete previously published entities from the database, compare published entities with the entity schema from finance and operations apps, and configure change tracking functionality that enables incremental updates of the data.</li>
<li>After all entities are published to the destination database, you can use the export function in the <strong>Data management</strong> workspace to move data by defining the data movement job that contains one or more of the entities that you have chosen.</li>
</ol>
<p>The export option can be used for CSV files in data migration but can also be used to move data to the BYOD.</p>
<p>Consider the following when exporting:</p>
<ul>
<li>There is an option to do a bulk, batch job export, and smaller, incremental exports that occur more often.</li>
<li>Timeouts are associated with the BYOD exports that are set to ten minutes for truncation operations and one hour for actual bulk insert operations. If volumes are high, you might need to adjust the timeout settings for each company.</li>
</ul>
<p>Make sure you know the following limitations of the tools in use:</p>
<ul>
<li>BYOD can have no active locks on your database during
Synchronization.</li>
<li>BYOD cannot export composite entities into your own database.</li>
<li>Entities that don't have unique keys cannot be exported by using the incremental push.</li>
</ul>
<p>For more information on BYOD, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database/?azure-portal=true">Bring your own database (BYOD)</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize data entities to achieve better performance</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When you are implementing data entities, performance is a major factor. The architecture of your entities is key when it comes to performance.</p>
<p>You should create an entity that provides a holistic object that
encapsulates the business logic in one single consumable contract. As
previously mentioned, the data entity is then used to expose data through
APIs like OData, import/export framework, integration, and the
programming model. As a developer, you should consider several factors to ensure that your data entity is designed in a way that promotes
performance and easy maintenance.</p>
<h2 id="entity-encapsulation">Entity encapsulation</h2>
<ul>
<li><p>Your entities should provide an abstraction between the actual data model and the consumer of the entity. For example, the data entity should encapsulate the underlying tables that all together define the entity.</p>
</li>
<li><p>Your entities should encapsulate multiple related tables to represent the object. There might be cases where a single table is used.</p>
</li>
</ul>
<h2 id="have-one-single-public-contract">Have one single public contract</h2>
<ul>
<li><p>The public contract for your data entity should be the same across all integration endpoints. This allows for consistency for the published schema, regardless of the mechanism for consumer interaction.</p>
</li>
<li><p>When an entity is consumed, the business logic that's performed within the entity during CRUD operations should not vary based on the type of consumer.</p>
</li>
</ul>
<h2 id="keep-your-entity-simple">Keep your entity simple</h2>
<ul>
<li><p>The entity consumer should be able to interact with an entity based on the accepted industry or domain definitions. The behavior details of the entity should be kept hidden and should be prevented from distorting the interaction.</p>
</li>
<li><p>The consumer of the entity should be able to interact with the entity by using the natural key of the entity.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a data entity</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As the finance and operations apps developer, you have been asked by the
Fleet Management company to create a data entity to use for data
integrations.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Select <strong>Run as administrator</strong> to open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Create a new project by opening the <strong>File</strong> menu and selecting <strong>New &gt; Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog box, ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementEntityProject2</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-data-entity">Create a data entity</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click your <strong>FleetManagementEntityProject2</strong> project.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong>.</li>
<li>On the middle pane, select <strong>Data Entity</strong>.</li>
<li>Enter <strong>FMMyDataEntity</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>. The <strong>Data Entity Wizard</strong> will open.</li>
<li>In the <strong>Primary datasource</strong> drop-down menu, select the <strong>FMCustomer</strong> table.</li>
<li>Specify the following options:
<ul>
<li>Entity category - <strong>Master</strong></li>
<li>Select the check box for <strong>Enable public API</strong></li>
<li>Select the check box for <strong>Enable data management capabilities</strong></li>
<li>Leave all other fields as-is</li>
</ul>
</li>
<li>Select <strong>Next</strong>.</li>
<li>Define your data entity and specify the fields that will be included in this entity.</li>
<li>Select all fields.</li>
<li>Select the <strong>Convert labels to field names</strong> check box.</li>
<li>Select <strong>Next</strong>. You will see your new data entity in your project, along with a staging table and security privileges.</li>
<li>Perform a build by right-clicking the project  <strong>FleetManagementEntityProject2</strong> in <strong>Solution Explorer</strong> and then selecting <strong>Build</strong>.</li>
</ol>
<p>You may see an error because the batch server needs to be turned off in the environment. However, this does not affect the build and the data entity is created.</p>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Where can you create a data export for a custom data source?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Visual Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>SQL Server Management Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>System administration module</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Is it true that most data entities include just one table?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You can use the Entity Store to perform basic reporting and data
analysis. To access data in finance and operations apps from outside of the
system, you have the capability of connecting into your own Azure
SQL database with Bring Your Own Database (BYOD). Both options will
allow data analytics and reports, but it is important to understand the
uses, options, and needs of each option for your business.</p>
<p>In this module, you learned how to:</p>
<ul>
<li>Identify report data source requirements for external sources.</li>
<li>Create and manage custom data sources.</li>
<li>Optimize data entities to achieve better performance.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Integrating finance and operations apps with Microsoft Azure opens many possibilities for enhancing your business operations. By using Azure’s powerful cloud capabilities, you can streamline processes, improve data accessibility, and scale solutions to meet your organization’s needs. This integration empowers businesses to unlock advanced analytics, automate workflows, and create customized solutions that drive efficiency and innovation across all departments. Let’s explore how you can easily connect finance and operations apps with Microsoft Azure to take your project to the next level.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop and integrate by using Logic Apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Logic Apps is a cloud service that helps you automate and orchestrate
tasks, business processes, and workflows when you need to integrate
apps, data, systems, and services across enterprises or organizations.
Logic Apps simplifies how you design and build scalable solutions for
app integration, data integration, system integration, enterprise
application integration (EAI), and business-to-business (B2B)
communication, whether in the cloud, on-premises, or both. You can build
and edit logic apps from your Azure portal at <a data-linktype="external" href="https://portal.azure.com/?azure-portal=true">Microsoft
Azure</a>.</p>
<p><a data-linktype="relative-path" href="media/logic-apps.png#lightbox"><img alt="Screenshot of the Microsoft Azure Logic apps page." data-linktype="relative-path" src="./rawmb500/media_logic_apps.png"/></a></p>
<p>The following are examples of workloads that you can automate with logic apps:</p>
<ul>
<li>Process and route orders across on-premises systems and cloud services.</li>
<li>Send email notifications with Microsoft 365 when events happen in various systems, apps, and services.</li>
<li>Move uploaded files from an SFTP or FTP server to Azure Storage.</li>
<li>Monitor tweets for a specific subject, analyze the sentiment, and create alerts or tasks for items that need review.</li>
</ul>
<p>To build enterprise integration solutions with Logic Apps, you can
choose from a growing gallery of 200+ connectors, which include services
such as Azure Service Bus, Functions, and Storage, SQL, Microsoft 365,
Dynamics, Salesforce, BizTalk, SAP, Oracle DB, file shares, and more.
Connectors provide triggers, actions, or both for creating logic apps
that securely access and process data in real time.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop and integrate Microsoft Power Platform</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps also integrates with Microsoft Power Platform.
Power Automate supports this integration through its connectors, whereas
Power BI and Power Apps access public data entities that are stored
in the finance and operations apps database.</p>
<h2 id="connect-to-power-automate">Connect to Power Automate</h2>
<p>Follow these steps to find Power Automate connectors for finance and operations apps.</p>
<ol>
<li><p>Sign in to Power Automate.</p>
</li>
<li><p>On the left navigation pane, select <strong>Connections</strong>.</p>
</li>
<li><p>At the top of the page, select <strong>New connection</strong></p>
</li>
<li><p>In the list of available connections, choose the connection that you want to set up (such as Microsoft Power BI) by selecting the plus sign (+)..
<a data-linktype="relative-path" href="media/new-connection.png#lightbox"><img alt="A screenshot showing the plus sign to create a new connection." data-linktype="relative-path" src="./rawmb500/media_new_connection.png"/></a></p>
</li>
<li><p>Select <strong>Create</strong>.</p>
<p><a data-linktype="relative-path" href="media/create-connection.png#lightbox"><img alt="A screenshot showing the Create option." data-linktype="relative-path" src="./rawmb500/media_create_connection.png"/></a></p>
</li>
<li><p>Follow the steps to enter your credentials to configure the connection.</p>
</li>
</ol>
<h2 id="connect-to-power-bi-desktop">Connect to Power BI Desktop</h2>
<p>Follow these steps to connect Power BI Desktop to finance and operations apps.</p>
<ol>
<li><p>Select <strong>Get Data</strong> from the <strong>Home</strong> ribbon.</p>
</li>
<li><p>Select the <strong>Other</strong> category.</p>
</li>
<li><p>Select <strong>OData Feed</strong>.</p>
<p><a data-linktype="relative-path" href="media/power-bi.png#lightbox"><img alt="This screenshot from the Power BI Desktop app shows the Get Data screen to connect to an OData Feed." data-linktype="relative-path" src="./rawmb500/media_power_bi.png"/></a></p>
</li>
<li><p>Click <strong>Connect</strong>.</p>
</li>
<li><p>Enter connection information into the page that appears, and then select  <strong>OK</strong>.</p>
</li>
<li><p>Select the data that you need and then select <strong>Load</strong>.</p>
</li>
</ol>
<h2 id="connect-to-power-apps">Connect to Power Apps</h2>
<p>Follow these steps to connect to finance and operations apps in Power Apps.</p>
<ol>
<li><p>When creating a new Power Apps app, select the <strong>Start from data</strong> option.</p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>In the <strong>Create an app</strong> page, click the right facing arrow to show more connection options.</p>
</li>
<li><p>Click <strong>New connection.</strong></p>
</li>
<li><p>Select the <strong>Dynamics 365 for Fin &amp; Ops</strong> option.</p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>You will now need to select the instance (finance and operations apps environments) and Table (data entity) that you want to connect to. You need to ensure you are an admin user for the environment you select and you have permissions to access the table (data entity) you are selecting.</p>
<p><a data-linktype="relative-path" href="media/power-apps.png#lightbox"><img alt="This Power Apps screenshot shows selecting Data sources in the ribbon and connecting to finance and operations apps data." data-linktype="relative-path" src="./rawmb500/media_power_apps.png"/></a></p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate finance and operations apps with enterprise applications</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Like other Microsoft products, Microsoft 365 can integrate directly with
finance and operations apps. In Microsoft Excel, this is enabled through the Data Connector add-in.</p>
<p>To connect to finance and operations apps by using the Data Connector add-in for Excel, follow these steps:</p>
<ol>
<li>Select <strong>Add server information</strong> on the add-in panel.</li>
<li>Enter the base URL for your finance and operations apps in the <strong>Server URL</strong> field.</li>
<li>Select <strong>OK</strong> and then <strong>Yes</strong>.</li>
<li>Sign in to your user account.</li>
<li>From any form in finance and operations apps, select the Microsoft Office icon in the Action Pane.</li>
<li>In the <strong>Open in Excel</strong> section of the drop-down list, select the table that you want to open in Excel.</li>
<li>When the download completes, use the <strong>Enable Editing</strong> button to enable the data to load.</li>
</ol>
<p>When the data has loaded, the Data Connector offers multiple options for interacting with the data, including the following:</p>
<ul>
<li><strong>New</strong> - Add a record (row) to the table.</li>
<li><strong>Refresh</strong> - Repopulate the table with the most recent data from finance and operations apps.</li>
<li><strong>Publish</strong> - Save your changes to finance and operations apps.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Automate EAI, B2B, EDI, and business processes with Logic Apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Businesses and organizations electronically communicate with each other
by using industry-standard message protocols and formats, such as
EDIFACT, AS2, and X12. With the features in the Enterprise Integration
Pack (EIP), you can build logic apps to convert those messages into
formats that finance and operations apps can use. Logic Apps handles these
exchanges smoothly with encryption and digital signatures.</p>
<p>The first step in processing message files with Logic Apps is to access
them with a file system connector. You could do this by using a trigger
to detect when files are added, or you could use a Recurrence trigger to
aggregate changes periodically instead. Either way, you can find the
file system interactions by entering <strong>file system</strong> into the search bar
when adding a new node.</p>
<p>If you have a large volume of message files, you might take advantage of
Azure Blob Storage rather than local storage. There are Logic Apps
connectors for that, too. Enter <strong>azure blob</strong> into the search bar to
view several connector options. To interact with files in blob storage,
select <strong>Get blob content</strong>.</p>
<p>When you have the data and have processed it, finance and operations apps
connectors help you import the data into your ERP system. The
connector's functionality includes the following options:</p>
<ul>
<li><strong>Create record</strong> - Create a new record in an entity.</li>
<li><strong>Delete record</strong> - Deletes a single record in an entity.</li>
<li><strong>Get a record</strong> - Retrieves a single record.</li>
<li><strong>Get list of entities</strong> - Retrieves a list of entities.</li>
<li><strong>List items present in table</strong> - Retrieves all the records in a table.</li>
<li><strong>Update a record</strong> - Updates a single record in an entity.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Consume data from the Azure Machine Learning service</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>One advantage of finance and operations apps is the seamless integration with Azure Machine Learning, such as Demand Forecasting, where it is used to
predict demand from sales orders in Dynamics 365 Supply Chain Management. To generate the baseline forecast, a
summary of historical transactions must be passed to an Azure Machine
Learning service that is hosted on Azure.</p>
<p>This feature is enabled by default but can still be manually disabled for your preference.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Enable connectivity with external services</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Thanks to data entities and OData, finance and operations apps can connect to several external services. However, to do that, the services must be registered with the Microsoft Entra ID.</p>
<p>To register a service with the Microsoft Entra ID, follow these steps:</p>
<ol>
<li>Go to the <strong>Microsoft Entra ID</strong> tab of the Azure portal.</li>
<li>Select <strong>Properties</strong> and note the tenant ID in the <strong>Directory ID</strong> field. You will need the tenant ID later to retrieve a Microsoft Entra ID authentication token.</li>
<li>On the <strong>Microsoft Entra ID</strong> tab, select <strong>App registrations</strong>.</li>
<li>Select <strong>New registration</strong>.</li>
<li>Enter a <strong>Name</strong>. This is a user-facing display name for this application.</li>
<li>Select a <strong>Supported account type</strong>. The following options are available:
<ul>
<li><strong>Accounts in this organizational directory only</strong> - All user and guest accounts in your directory can use your application or API.</li>
<li><strong>Accounts in any organizational directory</strong> - All users with a work or school account from Microsoft can use your application or API.</li>
<li><strong>Accounts in any organizational directory and personal Microsoft account</strong> - All users with a work or school, or personal Microsoft account can use your application or API. It includes schools and businesses that use Microsoft 365 and personal accounts that are used to sign in to services</li>
<li><strong>Personal Microsoft accounts only</strong> - Personal accounts that are used to sign in to services.</li>
</ul>
</li>
<li>In the <strong>Redirect URI (optional)</strong> section, click <strong>Select a platform</strong> and enter the redirect URI. The options available for platform selection are:
<ul>
<li><strong>Public client/native (mobile &amp; desktop)</strong> - Run on devices, such as desktop, browserless APIs, mobile or client-side browser apps.</li>
<li><strong>Web</strong> - A traditional web application where most of the application logic is performed on the server.</li>
<li><strong>Single-page application (SPA)</strong> - A single-page application where most of the user interface logic is performed in a web browser communicating with the web server primarily using web APIs.</li>
</ul>
</li>
<li>Select <strong>Register</strong>.</li>
</ol>
<p>When you've registered your service in Microsoft Entra ID, you'll also need to register it in finance and operations apps by using the following steps:</p>
<ol>
<li>In finance and operations apps, go to <strong>System administration &gt; Setup &gt; Microsoft Entra ID applications</strong>.</li>
<li>Select <strong>New</strong>.</li>
<li>In the <strong>Client ID</strong> field, enter the application ID that you registered in Microsoft Entra ID.</li>
<li>In the <strong>Name</strong> field, enter a name for the application.</li>
<li>In the <strong>User ID</strong> field, select an appropriate service account user ID.</li>
<li><strong>Save</strong> the record.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize data entities to achieve better performance</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>One method of improving the performance of integrations is to change the
behavior of data entities. When bringing in entities that are not
composite and don't require row-level logic, turning on set-based
processing for the entity can help. Set-based processing allows for rows
to be collected and moved in groups, reducing the effect of latent
communication with the database.</p>
<p>Another method that works for entities that are not composite is to
split input files into multiple parts. Doing so allows finance and operations apps to take advantage of multithreading to the extent that the
environment is capable.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following doesn't have a direct connector to finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Automate</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Azure Logic Apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following tasks can't be automated by using Logic Apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Send email notifications with Microsoft 365 when events happen in various systems, apps, and services.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Move uploaded files from an SFTP or FTP server to Azure Storage.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Monitor tweets for a specific subject, analyze the sentiment, and create alerts or tasks for items that need review.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Update tables in Power BI when data changes in finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>With which of the following options are you not required to register a service to connect it to finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft Entra ID</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Finance and operations apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Lifecycle Services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps connect to a variety of services. In addition to
the direct connections to machine learning services and the reporting
power of Power BI, connections to Power Automate and Azure Logic Apps
enable an endless array of integrations and automations.</p>
<p>To learn more about how to integrate Microsoft Power Platform services with finance and operations apps, go to <a data-linktype="absolute-path" href="/en-us/training/modules/connect-power-platform-finance-operations/?azure-portal=true">Connect to Microsoft Power Platform services with finance and operations apps</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Connect your finance and operations apps data using Power Automate</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Power Automate is part of Microsoft Power Platform, which enables
you to connect to data and services and automate tasks.</p>
<p>Power Automate comes with over 200 services that allow you to quickly
create flows by using templates that are published by Microsoft and
partners. You can also connect to cloud and on-premises data
sources like SharePoint and Microsoft SQL Server.</p>
<p>Finance and operations apps have a connector that comes with
Power Automate. Keep in mind, if you want to connect to data from finance and operations apps, your data must be in a data entity, and that entity must be configured to enable public API. You can find this property on the data entity object in Visual Studio.</p>
<p>In the following screenshot, notice that the <strong>IsPublic</strong> property is set to <strong>Yes</strong>.</p>
<p><img alt="This image shows how to verify that the data entity view is public." data-linktype="relative-path" src="./rawmb500/media_properties.png"/></p>
<p>When you have identified the entities that you need to use to access the finance and operations apps data, you can begin creating your flow.</p>
<p>To get started with Power Automate, follow these high-level steps:</p>
<ol>
<li><p>Open the <a data-linktype="external" href="https://flow.microsoft.com/?azure-portal=true">Power Automate</a> page.</p>
</li>
<li><p>Sign in with your Microsoft account, or you can sign up for free.</p>
</li>
<li><p>When you are signed in to the service, you can use the left pane on the home screen to go where you need to.</p>
</li>
<li><p>You can browse the finance and operations apps templates by selecting <strong>Templates</strong> on the left pane.</p>
</li>
<li><p>Search by entering <strong>Dynamics 365 Operations</strong> in the search bar.</p>
</li>
<li><p>You can also create a new application by selecting <strong>My flows</strong> on the left pane.</p>
</li>
<li><p>Select <strong>New</strong> on the top menu.</p>
</li>
<li><p>Choose from one of several options on the menu.</p>
<div class="mx-imgBorder">
<p><img alt="This image shows how to create a new app in the My flows section." data-linktype="relative-path" src="./rawmb500/media_flow_new_button.png"/></p>
</div>
</li>
<li><p>When you decide how you are going to create your flow, you will need to sign in to the finance and operations apps connection with your login credentials. When authenticated, you can begin building your flow.</p>
</li>
<li><p>Select the <strong>Instance</strong>, which is your <strong>finance and operations apps Environment</strong>.</p>
</li>
<li><p>Select the entity that you want to work with. The following screenshot shows a flow that inserts a record into finance and operations apps when a record is added in Dynamics 365 Sales. The instance has been specified and the entities that the Flow user has access to can be used for the Flow. Notice in the following example that <strong>Customers</strong> is selected in the <strong>Entity name</strong> field.</p>
<p><img alt="This image shows how to initiate a flow creation by linking to the finance and operations apps environment." data-linktype="relative-path" src="./rawmb500/media_flow_entity.png"/></p>
</li>
<li><p>Finish setting up your flow when the Sales <strong>accountnumber</strong> is populated into the <strong>Customer account</strong> field in the <strong>Customers</strong> entity. The <strong>Name</strong> field from Sales is populated into the <strong>Name</strong> field of the <strong>Customers</strong> entity in finance and operations apps, and so on. These fields are specified in the flow by using Dynamics fields.</p>
</li>
<li><p>When finished setting up the flow, you can test it and then publish it.</p>
</li>
</ol>
<p>The <strong>Update and delete record</strong> functionality works in the same way as <strong>Create record</strong>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Triggers and actions used in Power Automate for finance and operations apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Power Automate includes several triggers that you can use with finance and operations apps:</p>
<ul>
<li><strong>When a business event occurs</strong> - Whenever a business event occurs, the flow runs. This action applies to built-in business events and custom business events. For example, you can set up an email to be sent whenever an invoice posts.</li>
<li><strong>Workflow</strong> - Approve a workflow through Power Automate.</li>
<li><strong>Alert rules</strong> - Notify people and other systems with specific information. For example, you can create an alert rule so that an automated email is sent when a vendor is created.</li>
<li><strong>Instant (Button) flow</strong> - A task is started in Power Automate when a user manually selects a button, performs input, or implements actions.</li>
<li><strong>Scheduled flows</strong> - Set up automated processes to run at a specific time.</li>
</ul>
<p>OData actions that you can use for finance and operations apps in Power Automate include:</p>
<ul>
<li>Create record</li>
<li>List items present in a table</li>
<li>Delete record</li>
<li>Execute action</li>
<li>Get a record</li>
<li>Get a list of entities</li>
<li>Update a record</li>
</ul>
<h2 id="use-case-one">Use case one</h2>
<p>Using the <strong>When a Business Event occurs</strong> trigger results in a body. Using the Parse JSON command makes the body more useful.</p>
<p>Then, you can apply actions that you use in finance and operations apps to get more information, such as getting a specific record.</p>
<div class="NOTE">
<p>Note</p>
<p>If you use more fields in the <strong>Object id</strong> area of the <strong>Get a record</strong> form, make sure that the fields have no spaces in between.</p>
</div>
<p>Now, you can use the content from <strong>Get a record</strong> to create an email that's sent automatically.</p>
<h2 id="use-case-two">Use case two</h2>
<p>In finance and operations apps, go to <strong>Data management framework</strong> and create an export project to start the procedure.</p>
<ol>
<li><p>Name the project <strong>CustGroupExport</strong>, set <strong>Generate data package</strong> to <strong>yes</strong>, and then add a <strong>Customer groups</strong> entity with the source data in CSV format.</p>
</li>
<li><p>Save the export project.</p>
</li>
<li><p>Open Power Automate and create a scheduled flow that runs once a week as a trigger. A new step (action) is added, and then you can find and select <strong>Execute action</strong> for the finance and operations apps.</p>
</li>
<li><p>Select your instance and then select <strong>DataManagementDefinitionGroups-ExportToPackage</strong> as the action.</p>
</li>
<li><p>Enter <strong>CustGroupExport</strong> in the <strong>definitionGroupId</strong> field, which is your export project in finance and operations apps.</p>
</li>
<li><p>In the <strong>packageName</strong> field, name your package as <strong>CustGroupExport</strong>. Set <strong>reExecute</strong> to <strong>Yes</strong>, and then use <strong>USMF</strong> as the <strong>legalEntityId</strong>.</p>
</li>
<li><p>Add a new Parse JSON step, select the <strong>body/OutputParameters</strong> dynamic field, and then enter the schema.</p>
</li>
<li><p>Add a new <strong>Send me a mobile notification</strong> step, and then use the value from JSON for the text. Your flow should resemble the following screenshot.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/send-mobile-notification-flow.png#lightbox"><img alt="Screenshot of the flow that you created in use case two." data-linktype="relative-path" src="./rawmb500/media_send_mobile_notification_flow.png"/></a></p>
</div>
</li>
<li><p>Save your flow and test it by running it manually. This step starts the <strong>Export project CustGroupExport</strong> in the <strong>Data management framework</strong> in finance and operations apps. You can control the output by looking at the job history.</p>
</li>
</ol>
<h2 id="use-case-three">Use case three</h2>
<p>Open Power Automate and create a scheduled flow that runs once every week as a trigger. Then, follow these steps.</p>
<ol>
<li><p>Create a new <strong>List items present in table</strong> step, select your environment, and then use the <strong>ReleasedProductsV2</strong> entity.</p>
</li>
<li><p>Create a new step to initialize a variable, give it a name, and then set the <strong>Type</strong> to <strong>String</strong>.</p>
</li>
<li><p>Create a new step for the <strong>Set</strong> variable.</p>
</li>
<li><p>Set the variable to search for a name from the entity, and then add another step in the <strong>Apply to each</strong> action that sends an email with content. The flow should resemble the following screenshot.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/flow-use-case-3.png#lightbox"><img alt="Screenshot of the flow that you created in use case three." data-linktype="relative-path" src="./rawmb500/media_flow_use_case_3.png"/></a></p>
</div>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Connect to your finance and operations apps data with Power Apps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Power Apps is a suite of apps, services, connectors, and a data platform
that provides you with an opportunity to build custom apps for your
business needs. By using Power Apps, you can quickly build custom
business apps that connect to your business data that is stored either
in the underlying data platform (Microsoft Dataverse) or in various
online and on-premises data sources (SharePoint, Excel, Microsoft 365,
Dynamics 365, SQL Server, and so on). Power Apps can also connect to
Dynamics 365 applications, including finance and operations apps.</p>
<p>With the native functionality of finance and operations apps,
you can embed Power Apps. Functionality allows organizations to use
finance and operations apps, combined with Power Apps, to fit the needs of the
business without large customization. This also allows you to connect to
other services and data sources easily with no development experience.
Before you begin to create your app, you need to know how to connect to your finance and operations apps data.</p>
<p>Just like connecting to your data with Power Automate, the data entity that you are using to access data must be <strong>Public</strong>. Check the properties on the data entity to see if the <strong>IsPublic</strong> option is set to <strong>Yes</strong>.</p>
<h2 id="connect-to-finance-and-operations-apps-data-in-power-apps">Connect to finance and operations apps data in Power Apps</h2>
<p>Follow these steps to connect to finance and operations apps data in
Power Apps:</p>
<ol>
<li><p>Identify the data entities that you need to use to access the data in Power Apps.</p>
</li>
<li><p>Access <strong>Power Apps</strong> by going to <a data-linktype="external" href="https://powerapps.microsoft.com/?azure-portal=true">Microsoft Power Apps</a>.</p>
</li>
<li><p>When you are signed in, use the left pane to go to <strong>Power Apps</strong>.</p>
</li>
<li><p>Select <strong>Apps</strong> on the left pane.</p>
</li>
<li><p>Select <strong>Create an app</strong> on the top menu.</p>
</li>
<li><p>Select the type of app that you want to build.</p>
</li>
<li><p>The web designer launches, and you need to connect to your data. In this case, you connect to finance and operations apps.</p>
</li>
<li><p>In the <strong>Start with your data</strong> section on the screen, select the arrow on the right side of the screen to see more data sources.</p>
</li>
<li><p>In the <strong>Start with your data</strong> section, select <strong>New connection</strong> to add your connection.</p>
</li>
<li><p>Select <strong>Dynamics 365 for Fin &amp; Ops</strong> from the connections list:</p>
<p><img alt="Screenshot showing how to set up a new connection to Dynamics 365 Finance using Power Apps." data-linktype="relative-path" src="./rawmb500/media_connect.png"/></p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>Sign in with your finance and operations apps login to authenticate.</p>
</li>
<li><p>When authenticated, select your instance, which is your Dynamics 365 environment.</p>
</li>
<li><p>After you have selected your instance, select the table that you are working with. Keep in mind that these are the public data entities where you have permissions.</p>
</li>
<li><p>When you have selected the table, you can select <strong>Connect</strong> in the bottom-right corner of the screen.</p>
</li>
</ol>
<h2 id="embed-power-apps-and-third-party-apps-in-finance-and-operations-apps">Embed Power Apps and third-party-apps in finance and operations Apps</h2>
<p>You can embed the Power Apps you create in finance and operations apps pages. To embed a Power App on a page, follow these steps:</p>
<ol>
<li><p>Within any page in the application, select the <strong>Power Apps</strong> icon in the top-right corner of the page:</p>
<p><img alt="Screenshot showing the position of the Power Apps icon." data-linktype="relative-path" src="./rawmb500/media_power_apps_icon_ss.png"/></p>
</li>
<li><p>Select <strong>Add an app</strong>.</p>
</li>
<li><p>Type the name of the app in the <strong>Name</strong> field.</p>
</li>
<li><p>Paste the app ID in the <strong>App ID</strong> field. You can access the app ID from the Power App on the <strong>Details</strong> page in Power Apps.</p>
</li>
<li><p>Specify the <strong>Input context for the app</strong>.</p>
</li>
<li><p>Now, select the <strong>Application size</strong>.</p>
</li>
<li><p>You can also specify access for legal entities if necessary using the <strong>Legal entities</strong> FastTab.</p>
</li>
<li><p>Select <strong>Insert</strong></p>
</li>
</ol>
<p>In addition to embedding Power Apps in Dynamics 365, you can also embed third-party applications. You may need to do this if you have already developed an app in-house or with a partner.  The process for embedding third-party apps is similar to embedding Power Apps. When embedding third-party apps, you can choose to embed the app within a tab page within existing pages in the application.</p>
<p>To embed a third-party application, development is required. A website host control has been added within the developer environment in Visual Studio to allow developers to add third-party apps directly into finance and operations pages.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Finance and operations data on Common Data Model and Microsoft Dataverse</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The Common Data Model lets you bring data from multiple systems and applications together. When you need to bring data from multiple places, this process can be expensive and time consuming. The Common Data Model allows you to bring your data together in a simplified process by providing a shared data language for business and analytical application to use. The Common Data Model metadata system makes it possible for data and its meaning to be shared across multiple platforms and business processes like Microsoft Power Platform applications.</p>
<p>The Common Data Model includes extensible data schemes that are predefined and can be used as needed. The schemas include entities, attributes, semantic metadata, and relationships that represent commonly used concepts within organization such as <strong>Account</strong>, or <strong>Case</strong>. You can use the standard entities, extend the standard entities to fit your needs, or create custom entities.</p>
<h2 id="scenario">Scenario</h2>
<p>Your company has recently decided to implement Dynamics 365 for Finance. Outside Finance, your organization also uses Dynamics 365 Sales. Because each of these applications is independent from each other, they have different structures that represent an entity, for instance, <strong>Account</strong>. These may be similar in each of the applications but not exactly the same. By using the Common Data Model, you can build your data in a standardized format. Each of the applications can then use the same data.</p>
<h2 id="the-common-data-model-and-finance-and-operations-apps">The Common Data Model and finance and operations apps</h2>
<p>The Common Data Model includes data that is available in finance and operations apps. You can build downstream application and extensions using the Common Data Model, allowing you to integrate with other Microsoft application and services. By using Common Data Model and finance and operations apps, you can use analytical tools like Power BI to combine data with other apps.</p>
<p>All data in finance and operations apps, including tables and entities are described in the Common Data Model. This will enable you to combine data from multiple applications seamlessly and easily within a broadly accepted set of standard entities.
To learn more about creating and working with entities for the Common Data Model, refer to the <a data-linktype="absolute-path" href="/en-us/training/modules/get-started-with-powerapps-common-data-service/?azure-portal=true">Get started with Microsoft Dataverse</a> module.</p>
<h2 id="dataverse-and-dual-write">Dataverse and dual-write</h2>
<p>If you are using both model-driven apps in Dynamics 365, and finance and operations apps, dual-write lets you seamlessly integrate data between the two applications. For example, you may be using Dynamics 365 Sales, and finance and operations apps. Both applications store your customer data. By using dual-write, when a new customer record is added in Sales, the customer record will also be added in finance and operations apps in near real time. The direction of the data flow is synchronous and bidirectional. This means you can have data going in and out of both applications.</p>
<p><img alt="Diagram showing the Dual-write flow of data." data-linktype="relative-path" src="./rawmb500/media_common_data_service_dual_write.png"/></p>
<p>The dual-write framework is also extensible to allow for organizations to modify the functionality to work according to their unique processes. You can use custom entities, and add extensions to existing entities to enable full use of the Dataverse and tools for your organization. To learn more about dual-write, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/dual-write-overview/?azure-portal=true">Dual-write overview</a>.</p>
<h2 id="enable-dual-write-in-finance-and-operations-apps">Enable dual-write in finance and operations apps</h2>
<p>To use and configure dual write, you start by linking your finance and operations apps environment to the Dataverse by using the <strong>Dual-write wizard</strong>, and then enable the entity maps.</p>
<p>To configure dual write in finance and operations apps, follow these steps:</p>
<ol>
<li>Log in to finance and operations apps.</li>
<li>Navigate to the <strong>Data management</strong> workspace.</li>
<li>From the <strong>Data management</strong> workspace, select the <strong>Dual Write</strong> tile.
<a data-linktype="relative-path" href="media/dual-write-tile-ss.png#lightbox"><img alt="Screenshot of the Dual Write tile on the Data management page." data-linktype="relative-path" src="./rawmb500/media_dual_write_tile_ss.png"/></a></li>
<li>Select <strong>New link to environment</strong>. This will launch the <strong>Setup link to Dataverse</strong> wizard.</li>
<li>On the <strong>Choose environment</strong> page, you will select the environment to link to. This page will display all the Dataverse environments that the signed in user is an administrator for.</li>
<li>Select your legal entities to link. A health check will then run to verify that your system meets the requirements for enabling dual-write.</li>
<li>A summary will display. Review the privacy notice and content, and then select <strong>Create</strong>. A link is now created between your finance and operations app and the Dataverse environment.</li>
<li>Now, you can apply the dual-write application orchestration solution.</li>
<li>In the <strong>Dual-write</strong> page in finance and operations apps, you select <strong>Apply solution</strong> to apply the entity maps that you downloaded when the link was created between the environments.</li>
<li>After you apply the solution, you will see the default entity maps are published.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You're a developer for Contoso Electronics and need to create a Power App app that uses data within the CustTable. You defined the instance, and now you need to specify the table that you want to use for the data source within the app. When you try to find the CustTable, you're unable to find it in the Choose a table list in Power Apps. What can you check to diagnose why the table isn't displaying?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Ensure that the data entity is enabled in the Data management workspace.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Verify that the IsPublic property on the data entity is set to No.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Verify that the IsPublic property on the data entity is set to Yes.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following statements is true about configuring dual-write in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Dual-write is configured in the Feature management workspace.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>You must be an administrator of the Microsoft Dataverse environment to create the link between the applications.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The link between finance and operations apps and the model-driven app is made in Microsoft Azure.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>The link between finance and operations apps and the model-driven app is made in Microsoft Dynamics Lifecycle Services.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>As a developer, you are provided with many tools that help make your development
process easier and more efficient. Microsoft services like Power Apps and
Power Automate enable you to extend the application to
empower your organization to realize its full potential.</p>
<p>You also learned how the Common Data Model lets you bring data from multiple systems and applications together.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Learn how to build flows by using Power Automate.</td>
<td><a data-linktype="absolute-path" href="/en-us/training/paths/automate-process-using-flow/?azure-portal=true">Automate a business process using Power Automate</a>  learning path</td>
</tr>
<tr>
<td>Learn more about Power Apps</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/get-started-with-powerapps/?azure-portal=true">Get started with Power Apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>When it’s time to migrate data, the more you know, the easier it is to control operational complexity, and reduce costs. Your customer’s business continuity must be your priority. In this module, you will learn how to prepare data for a successful migration, by identifying important factors such as legacy systems, static, and common data.</p>
<p>In this module, you will learn how to:</p>
<ul>
<li>Choose a data integration (import/export) strategy.</li>
<li>Identify common migration scenarios and tools in finance and operations apps.</li>
<li>Work with the Bring your own database (BYOD) feature.</li>
<li>Identify relevant (legacy) systems.</li>
<li>Identify and import static data that is common between industries.</li>
<li>Create and review test plans for data migration.</li>
<li>Identify and extract source data.</li>
<li>Identify relevant data entities and elements.</li>
<li>Generate field mapping between source and target data structures.</li>
<li>Perform a test migration and validate output.</li>
<li>Support the transition between the existing and migrated systems.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Select a data integration (import/export) strategy</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explores integration patterns, scenarios, and solutions for finance and operations. Although this unit does not include technical details about how to use or set up every integration pattern or how to work with sample code, it is always wise to be aware of available integration tools.</p>
<p>The following integration patterns are available for finance and operations apps:</p>
<ul>
<li>OData</li>
<li>Batch data API</li>
<li>Custom service</li>
<li>Consume external web services</li>
<li>Excel integration</li>
</ul>
<h2 id="odata">OData</h2>
<p>OData is a standard protocol for creating and consuming data. The purpose of OData is to provide a protocol that is based on Representational State Transfer (REST) for create, read, update, and delete (CRUD) operations. OData applies web technologies such as HTTP and JavaScript Object Notation (JSON) to provide access to information from various programs.</p>
<p>OData provides the following benefits:</p>
<ul>
<li>Allowing developers to interact with data by using RESTful web services</li>
<li>Providing a simple and uniform way to share data in a discoverable manner</li>
<li>Enabling broad integration across products</li>
<li>Enabling integration by using the HTTP protocol stack</li>
</ul>
<h2 id="batch-data-api">Batch data API</h2>
<p>Use the batch data API in scenarios that require one or both Data management package REST API and Recurring integrations. Both APIs support data import scenarios and data export scenarios.</p>
<p>For finance and operations apps, we have tried to simplify this process for all parties who are involved, from integration solution builders to customer users.</p>
<p>The package API lets you integrate with finance and operations apps by using data packages. The REST API can be used with both cloud and on-premises deployments. The data management framework's package API uses OAuth 2.0 for authorizing access.</p>
<p>The process of data migration, and movement into and out of any enterprise system, are critical pieces that any platform must support.</p>
<p>Recurring integration does the following:</p>
<ul>
<li>Builds on data entities and the Data management framework</li>
<li>Enables the exchange of documents or files between finance and operations apps and any third-party application or service</li>
<li>Supports several document formats, source-mapping, and filters</li>
<li>Uses secure Representational State Transfer (REST) application programming interfaces (APIs) and authorization mechanisms to receive data from, and send data back to, integration systems</li>
</ul>
<p>Before the integrating client application can consume this endpoint, you need to create an application ID in Microsoft Entra ID and give it appropriate permission to finance and operations apps.</p>
<p>When you create and enable a recurring job, you're prompted to enter the Microsoft Entra ID application ID that will interact with that recurring job. Therefore, be sure to make a note of the application ID.</p>
<p>Much effort and planning go into building third-party integrations between an enterprise line of business (LOB) system, such as Microsoft finance and operations apps, and various source systems.</p>
<h2 id="custom-service">Custom service</h2>
<p>A developer can create custom services for finance and operations apps. When a developer writes a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li><strong>SOAP endpoint</strong> – Code examples for consuming custom services using SOAP are available in the <a data-linktype="external" href="https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/SoapConsoleApplication/?azure-portal=true">Microsoft Dynamics AX Integration GitHub repository - SoapConsoleApplication</a>.</li>
<li><strong>JSON endpoint</strong> – Code examples for consuming JSON services are available in the <a data-linktype="external" href="https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/JsonConsoleApplication/?azure-portal=true">Microsoft Dynamics AX Integration GitHub repository - JsonConsoleApplication</a>.</li>
</ul>
<h2 id="consume-external-web-services">Consume external web services</h2>
<p>A developer consumes web services by adding new class libraries to finance and operations apps, such as authentication, requests, and responses. This library is then referenced in the app's project and used within X++ code to enable seamless integration. You can use .NET tools like HTTPClient for REST APIs or WCF for SOAP services, ensuring proper error handling and security for sensitive data. After integrating and testing the library, the app can interact with external systems, such as payment gateways, CRMs, or analytics platforms, to extend its functionality.</p>
<h2 id="excel-integration">Excel integration</h2>
<p>The Microsoft Office integration capabilities provide users with a productive environment that helps them get the job done by using Office products. Microsoft Excel can change and quickly analyze data.</p>
<p>The Excel Data Connector app interacts with Excel workbooks and OData services that are created for publicly exposed data entities. The Excel Data Connector add-in enables Excel to become a seamless part of the user experience. The Excel Data Connector add-in is built by using the Office Web add-ins framework. The add-in runs in a task pane.</p>
<h2 id="synchronous-vs-asynchronous-integration-patterns">Synchronous vs. asynchronous integration patterns</h2>
<p>Processing can be either synchronous or asynchronous. Often, the type of processing that you must use determines the integration pattern that you choose.</p>
<p>A synchronous pattern is a blocking request and response pattern, where the caller is blocked until the recipient has finished running the Excel integration and gives a response. An asynchronous pattern is a non-blocking pattern, where the caller submits the request and then continues without waiting for a response.</p>
<p>We recommend using <strong>OData</strong> for synchronous and <strong>Batch data API</strong> for asynchronous integration scenarios.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Common migration scenarios and tools</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The following are two scenarios, and recommendations for which integration pattern to use.</p>
<h2 id="scenario-1">Scenario 1</h2>
<p>An energy company has field workers who schedule installation jobs for heaters. This company uses finance and operations apps for the back office and third-party software as a service (SaaS) to schedule appointments. When field workers schedule appointments, they must look up inventory availability to make sure that installation parts are available for the job.</p>
<p>The real-time data required:</p>
<ul>
<li>Peak data volume is 1,000 records per hour</li>
<li>Frequency is Ad hoc.</li>
</ul>
<p>This scenario can be implemented by using a custom service integration pattern.</p>
<p>In finance and operations, have a developer create a custom service to calculate the physical on-hand inventory for a given item.</p>
<p>In the scheduling application, make a real-time call to a custom service endpoint, through either SOAP or REST, to retrieve inventory information for the selected item.</p>
<h2 id="scenario-2">Scenario 2</h2>
<p>A company receives a large volume of sales orders from a front-end system that runs on-premises. Periodically, these orders must be sent to finance and operations for processing and management.</p>
<p>The real-time data is not required. Peak data volume is 20,000 records per hour and the Frequency is One time every five minutes.</p>
<p>This scenario is best implemented by using a batch data APIs integration pattern.</p>
<p>Determine all the entities that are required for the integration, and make sure that data management is enabled for the entities.</p>
<h2 id="finance-and-operations-apps-integration-tools">Finance and operations apps integration tools</h2>
<p>Finance and operations apps offer tools for data migration, such as:</p>
<ul>
<li>Data management workspace</li>
<li>Office integration</li>
<li>Excel workbook designer</li>
</ul>
<p>To learn more about API technology for finance and operations apps, see the <a data-linktype="absolute-path" href="/en-us/training/modules/integrate-azure-finance-operations/?azure-portal=true">Integrate finance and operations apps with Microsoft Azure</a>, and <a data-linktype="absolute-path" href="/en-us/training/modules/data-package-api-finance-operations/?azure-portal=true">Implement the Data management package API for finance and operations apps</a> modules.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Bring your own database (BYOD)</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The BYOD feature lets administrators configure their own database, and then export one or more data entities, that are available in finance and operations apps, into it. Specifically, this feature lets you complete the following tasks:</p>
<ul>
<li>Define one or more Microsoft Azure SQL databases that you can export entity data from finance and operations apps into.</li>
<li>Export either all the records (full push) or only the records that have changed or been deleted (incremental push).</li>
<li>Use the rich scheduling capabilities of the batch framework to enable periodic exports.</li>
<li>Access the entity database by using Transact-SQL (T-SQL), and even extend the database by adding more tables.</li>
<li>Export entities into multiple databases.</li>
</ul>
<p>The BYOD feature is recommended for when you do the following:</p>
<ul>
<li>Export data from finance and operations apps into your own data warehouse.</li>
<li>Use analytical tools other than Power BI, and those tools require T-SQL access to data.</li>
<li>Perform batch integration with other systems.</li>
</ul>
<p>If you have integration solutions that require direct T-SQL access to the database, BYOD is the recommended upgrade path.</p>
<p>Before you can configure the export option and use the BYOD feature, you must create an SQL database for production environments by using Azure portal.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/azure-side-bar.png#lightbox"><img alt="Screenshot of the Azure portal SQL databases menu item." data-linktype="relative-path" src="./rawmb500/media_azure_side_bar.png"/></a></p>
</div>
<p>You should also create a SQL user account for sign-in to the database. Make sure to record and save the server name, database name, and the SQL user ID and password. You will use these values when you configure the entity export option.</p>
<p>If you're using the BYOD feature for integration with a business intelligence (BI) tool, consider creating an SQL premium database. Premium databases support clustered columnstore indexes (CCIs). CCIs are in-memory indexes that improve the performance of read queries that are typical in analytical and reporting workloads.</p>
<p>If you're using the BYOD feature to export data into a staging database or for general integration purposes, you can use a standard database.</p>
<p>To configure the entity export, follow this procedure.</p>
<ol>
<li><p>Go to the <strong>Data management</strong> workspace and select the <strong>Configure entity export to database</strong> tile.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/configure-entity.png#lightbox"><img alt="Screenshot of the Configure entity export to database tile." data-linktype="relative-path" src="./rawmb500/media_configure_entity.png"/></a></p>
</div>
</li>
<li><p>If you've already configured any databases, a list is shown, and you will need to select a database. Then, skip step 3.</p>
</li>
<li><p>To configure a new database, select <strong>New</strong>, and then enter a unique name and a description for the new database.</p>
</li>
<li><p>Enter the connection string in the following format: <strong>Data Source</strong>=&lt;logical server name&gt;, <strong>1433</strong>; <strong>Initial Catalog</strong> =&lt;your DB name&gt;; <strong>Integrated Security</strong>=False; <strong>User ID</strong> = &lt;SQL user ID&gt;; <strong>Password</strong> = &lt;password&gt;</p>
</li>
<li><p>Select <strong>Validate</strong>, and make sure that the connection is successful.</p>
<p>When the validation is passed, the database that you configured for entity export appears in lists of databases.</p>
</li>
<li><p>By default, the <strong>Create clustered column store indexes</strong> option is enabled. This option optimizes the destination database for selected queries by defining CCIs for entities that are copied from finance and operations.</p>
</li>
<li><p>By default, the <strong>Enable triggers in target database</strong> option is disabled. This option sets export jobs to enable SQL triggers in the target database, and lets you hook downstream processes into the trigger to orchestrate actions that must be started after records have been inserted.</p>
</li>
<li><p>You can now publish one or more entities to the new database by selecting the <strong>Publish</strong> option on the menu.</p>
</li>
</ol>
<p>After entities are published to the destination database, you can use the <strong>Export</strong> function in the <strong>Data management</strong> workspace to move data. The <strong>Export</strong> function lets you define a <strong>Data movement</strong> job that contains one or more entities.</p>
<p>You can use the <strong>Export</strong> page to export data from finance and operations apps into many target data formats, such as a comma-separated values (CSV) file. This page also supports SQL databases as another destination.</p>
<p>The value of the &lt;logical server name&gt; has a format like &lt;yourSqlAzureServername&gt; .<strong>database.windows.net</strong>, which can be found in Azure portal by selecting the SQL databases menu.</p>
<p>For scenarios in which reporting systems read data from BYOD, there is always the challenge of ensuring that the reporting systems get consistent data from BYOD while the sync from finance and operations apps is in progress.</p>
<p>One trigger is supported per bulk insert operation. The size of the bulk insert is determined by the <strong>Maximum insert commit size</strong> parameter in the Data management framework.</p>
<p>You can achieve this result by not having the reporting systems read directly from the staging tables that were created by the BYOD process. The staging tables hold the data while data is being synced from the finance and operations apps instance and hence will be constantly changing.</p>
<p>Use the SQL trigger feature to determine when the data sync from finance and operations apps has been completed, and then hydrate the downstream reporting systems.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Test a data migration and validate output</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To prepare for data migration, the first step is to identify relevant (legacy) systems that the customer is currently using. Then, you need to identify and import static data that is common between industries.</p>
<p><img alt="Diagram of the steps to Migrate data and validate output." data-linktype="relative-path" src="./rawmb500/media_data_migrate.png"/></p>
<h2 id="identify-relevant-legacy-systems">Identify relevant (legacy) systems</h2>
<p>A legacy system is a business solution that has a few common characteristics with current solutions in the market, such as being based on outdated technology or design, being incompatible or difficult and costly to integrate with current systems, and a potential inability of being purchased from vendors because it is unavailable and discontinued.</p>
<p>Each legacy system might have a different data export format option that must be considered as part of the planning for data migration, and you should be prepared for data extraction from legacy data sources.</p>
<h2 id="identify-and-import-static-data-that-is-common-between-industries">Identify and import static data that is common between industries</h2>
<p>Your customer might have different verticals, such as distribution and trade, manufacturing, and retail. Even if you manage a customer’s data migration that is only focused on one specific industry, such as manufacturing, you still need to investigate to determine whether their customers and suppliers who might be in a different industry such as resellers which are retailers who interchange data with your customer.</p>
<p>When you plan data migration, you need to identify common data that are not frequently changed, such as country codes, zip or postal codes, states, or regions.</p>
<p>Identifying the common static data between different verticals or industries helps reduce the cost and prepare the source data, clean it, and get customer consensus prior to importing the data to finance and operations apps.</p>
<h2 id="create-and-review-test-plans-for-data-migration">Create and review test plans for data migration</h2>
<p>Your plans for data migration need to be ready to guide you through the process. Make sure that the right system permissions are applied on resources to have a successful data migration.</p>
<p>Make sure that you back up the database and source files that you plan to migrate. If you encounter any issues during migration, such as corrupt, incomplete, or missing files, you need to correct the error and restore the database from the backup.</p>
<p>You need to extract all data from the source system, and then migrate the data to the target, which is finance and operations apps. Then, you need to clean the data and transform it into the proper format for transfer to finance and operations apps.</p>
<p>Finally, load your cleaned and deduplicated data into your finance and operations apps data management, map fields, and import data to finance and operations apps.</p>
<p>Make sure to always monitor your data migration during the process so that you can detect and resolve any issues or problems if they arise.</p>
<p>Once the migration is complete, ensure that there are no connectivity problems with source system and finance and operations. Your goal is to make sure that all data correctly migrated by performing unit, system, regression, and other applicable tests. Do not forget the simplest method, which is using built-in reports and inquiries in finance and operations, and then have the customer’s key stakeholder verify the data and compare the migrated data with their legacy system.</p>
<p>For example, assume you are migrating the chart of accounts, posted transactions, and so on. After you migrated data for a specific financial period, you ran the trial balance print, and then asked the CFO (or one of your customer’s financial leaders) to compare the results and match them against the financial report on their legacy system before migrating the next period.</p>
<h2 id="identify-and-extract-source-data">Identify and extract source data</h2>
<p>When you and your team have analyzed the data and retrieved relevant information from data sources (like a database) in a specific pattern, it is then time to extract the relevant data. You might need to perform further data processing, which involves adding metadata and other data integration, another process in the data workflow.</p>
<h2 id="identify-relevant-data-entities-and-elements">Identify relevant data entities and elements</h2>
<p>You need to know what sources of data are important for the analysis. If the information being analyzed is only related to the scenario at hand, it should be set aside because you should only use data sources that are absolutely relevant to the scenario for migration.</p>
<p>You should never bring all the data from multiple data sources to finance and operations apps in one occurrence; rather, you should have a proper plan to guide you according to the business scenario.</p>
<p>For example, if you are planning to bring all the purchase orders in to finance and operations apps from a legacy system, there are many related and relevant entities that you should consider as well, such as vendor groups, vendors, tax codes, headers and lines of purchase orders, and many more.</p>
<p>Prior to starting the data migration process, identify what data you’re migrating, what format it’s currently in, where it lives, and what format it should be in post-migration. Consider whether the data migration will interfere with normal business operations or will contribute to downtime. If so, you need to plan off hours or weekends for the migration process. Also, remember to perform the database backup prior to starting the data migration. You need to communicate the potential downtime with your customer, so they can plan accordingly. Remember that business continuity always should be your first priority.</p>
<p>Often, your source data must be changed and cleaned, or even split into more segments. Data verification helps you check that the data is available, accessible, complete, and in the correct format. This is called data cleansing. The first stage in data cleansing is to define which rules must be carried out manually and which need to be planned as automated.</p>
<p>Typically, manual cleansing will be done before migration starts, while automated cleansing might be done before or as part of the migration’s initial phase.</p>
<h2 id="generate-field-mapping-between-source-and-target-data-structures">Generate field mapping between source and target data structures</h2>
<p>First, you need to identify the format of the data source. You can view the formats in Data management from the <strong>Configure data source</strong> tile.</p>
<p><img alt="Screenshot of the Configure Data Source tile." data-linktype="relative-path" src="./rawmb500/media_configure_data_source.png"/></p>
<p>In <strong>Configure data source</strong>, you can create and modify sources of data for migrations. If you have identified the data sources and their relevant entities, you can use different types of data sources depending on the format exported from external systems, some of which are legacy systems.</p>
<p><a data-linktype="relative-path" href="media/data-source-types.png#lightbox"><img alt="Screenshot of the Data Source Types list." data-linktype="relative-path" src="./rawmb500/media_data_source_types.png"/></a></p>
<p>Upon adding an entity into the Data management project for either import or export, finance and operations apps creates field mapping between the source data and the target table for each data entity, which matches the schema of the table associated with the data entity.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/maps-1.png#lightbox"><img alt="Screenshot of the Map Entity source to target page." data-linktype="relative-path" src="./rawmb500/media_maps_1.png"/></a></p>
</div>
<p>The type of the field, and whether it is a required field, are examples of the metadata of the table that is being shown in the <strong>Mapping details</strong> tab. Here, you can choose to ignore blank values and select a text identifier to properly use the text values from the source data field.</p>
<p>Alternatively, you can use the label for the enumerator fields instead of its value.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/maps-details.svg#lightbox"><img alt="Screenshot of the Map staging to target page details." data-linktype="relative-path" src="./rawmb500/media_maps_details.png"/></a></p>
</div>
<h2 id="support-the-transition-between-the-existing-and-migrated-systems">Support the transition between the existing and migrated systems</h2>
<p>Analyzing the data between what is in the legacy system and what has been imported to finance and operations apps is an important part of data migration. This provides an overview of the source data and its corresponding target table that is represented by data entities in finance and operations apps.</p>
<p>It’s important to know how each system works and how the data within each system is structured. You also need to validate the information discovered in the analysis phase of each phase in data migration, and then ensure that all data is properly migrated by running certain reports, or inquiries. By validating the data, your team can focus solely on structural manipulation and movement and data assurance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following options enables broad integration between finance and operations apps and other products, systems, and applications?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following options enables the exchange of documents or files between finance and operations apps and any external application or service?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch data API</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>The Excel Data Connector app interacts with Microsoft Excel workbooks through which one of the following options?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>External web services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>An energy company has field workers who schedule installation jobs for heaters. This company uses finance and operations apps for the back office and other software as a service (SaaS) to schedule appointments. When field workers schedule appointments, they must look up inventory availability to make sure that installation parts are available for the job. The real-time data is required. Peak data volume is 1,000 records per hour and the frequency is Ad hoc. Which one of the following integration patterns should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>External web services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>You need to enable an exchange of documents between finance and operations apps and an external application at the end of each day. Which of the following would you implement?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel data connector app</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Recurring integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Synchronous integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This module explained how to identify common migration scenarios and import static data that is common between industries. You learned about some of the tools in finance and operations apps, such as Data management and the BYOD feature.</p>
<p>As part of selecting a data integration (import/export) strategy, you were able to observe how important it is to identify relevant (legacy) systems, create, and review test plans for data migration. You also learned about identifying and extracting source data, and its relevant data entities and elements.</p>
<p>Finally, you learned that an important responsibility for the data migration team includes generating field mapping between source and finance and operations apps data entities, performing a test migration and validating the output, and then supporting the transition between the existing and migrated systems.</p>
<p>To learn more about the use cases and limitations for the migration tool, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/data-management-integration-data-entity/?azure-portal=true">Data management and integration by using data entities overview</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This module discusses fundamental principles of the Data Management Platform, an important aspect of finance and operations apps. The platform's capabilities include importing and exporting data, managing data entities and data entity packages, and using asynchronous recurring integration features.</p>
<p>Imagine you are a data manager in a large multinational corporation. Your daily tasks involve handling vast amounts of data, migrating data from legacy systems, and ensuring seamless data integration across various departments. However, you often encounter challenges in managing data entities, understanding the impact of configuration keys on these entities, and sequencing data entities based on their relationships.</p>
<p>This module provides you with the knowledge and skills to overcome these challenges and efficiently manage your organization's data.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data management concepts</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The data management framework consists of the following concepts:</p>
<ul>
<li><p><strong>Data entities</strong> – A data entity is a conceptual abstraction and encapsulation of one or more underlying tables. A data entity represents a common data concept or functionality, such as customers or vendors. Data entities are intended to be easily understood by users who are familiar with business concepts. After data entities are created, you can reuse them through the Excel add-in, use them to define import/export packages, or use them for integrations.</p>
</li>
<li><p><strong>Data project</strong> – A data project is automatically created when you select <strong>Import</strong> or <strong>Export</strong> from the workspace and should have at least one job. It contains configured data entities, which include mapping and default processing options. A data project allows users to set up the entities that should be part of the project and defines the format that is used for each entity. It allows users to define the mapping that is used from the source file to the staging and to specify the default processing options.</p>
</li>
<li><p><strong>Data job</strong> – Use a data job to perform the actual import or export operation. A data job contains an execution instance of the data project, uploaded files, the schedule or recurrence information, and the processing options to use for the job.</p>
<p>A data job is created when the import or export operation is performed. The data job creates an instance of the data project and then runs it. If you're doing an unplanned import or export, then only one job for each data project typically exists. If it's being done multiple times with different data, then you can use the same data project to import data multiple times by using different jobs.</p>
<p>Each data project can have one or more data jobs. For instance, if you're doing a single unplanned data import, then you might have one file that is being imported. In this case, a single data project will have one data job.</p>
<p>Another scenario to consider is if you're importing data by using the same data project multiple times but with different data. In this case, more than one data job can exist for a single data project. Each data job can have one or more job histories.</p>
<p>For instance, a data job might be run multiple times after errors have been fixed. The job history describes the details, such as the time taken to run the job, the number of records processed, and the errors that occurred during processing.</p>
</li>
<li><p><strong>Job history</strong> – Histories of source to staging and staging to target jobs. After a job has been run, you can view the job history, which contains the run history for each execution run of the data job and the history of the data move from source to staging and from staging to target.</p>
<p>The <strong>Job history</strong> tab in the <strong>Data management</strong> workspace shows all job histories for the import and export data projects. From <strong>Job history</strong>, you can view the run history for the source to staging and staging to target steps. Each project can have multiple jobs, which in turn have executions. By using the job history, you can view the execution details and determine the time that it took to run the job, the number of records that were processed, and so on.</p>
</li>
<li><p><strong>Data package</strong> – Data packages are key concepts for many application lifecycle management (ALM) scenarios, such as copy configuration and data migration. A data package is a single compressed file that contains a data project manifest and data files. A data package is generated from a data job and is used for the importing or exporting of multiple files with the manifest. After you've defined a data project, including the data entities and the mapping and sequencing between these data entities, you can create a data package. Then, you can use the data package to move the definition of the data project from one environment to another.</p>
<p>You can generate a data package from a data job. To create a data package, go to the <strong>Data management</strong> workspace, load the project that you want to create the data package for, and then select <strong>Download</strong>. This process will generate a zip file.</p>
<p><a data-linktype="relative-path" href="media/dm-1.png#lightbox"><img alt="Screenshot showing the Download option to create a data package." data-linktype="relative-path" src="./rawmb500/media_dm_1.png"/></a></p>
<p>The zip file contains the package header and the manifest. The manifest defines the settings of the data project. You can use the data package to copy the settings of your data project from one environment to another.</p>
</li>
</ul>
<h2 id="data-management-platform">Data management platform</h2>
<p>By using the data management framework, you can quickly migrate reference, master, and document data from legacy or external systems. The framework provides features that help you import data into a staging environment, perform basic data quality services or validation operations on the data, and validate and cleanse the data.</p>
<p>With the data management platform features, you can map data from input to the target and do pre and post-processing on data. If you export data, the source is finance and operations apps, and if you import data, the target is finance and operations apps.</p>
<p>The framework is intended to help you quickly migrate data by using the following features:</p>
<ul>
<li>You can select only the entities that you need to migrate.</li>
<li>If an import error occurs, you can skip selected records and choose to proceed with the import by using only the good data, opting then to fix and import the bad data later. You'll be able to partially continue and use errors to quickly find bad data.</li>
<li>You can move data entities straight from one finance and operations apps system to another, without having to go through Excel or XML.</li>
<li>Data imports can be scheduled by using a batch, which offers flexibility when it's required to run. For example, you can migrate customer groups, customers, vendors, and other data entities in the system anytime.</li>
</ul>
<p>The data management framework supports using data entities in the following core data management scenarios:</p>
<ul>
<li><strong>Data migration</strong> – You can migrate reference, master, and document data from legacy or external systems.</li>
<li><strong>Set up and copy configurations</strong> – Use this scenario to copy configurations between companies or environments and set up processes or modules by using the Lifecycle Services environment.</li>
<li><strong>Integration</strong> – Use this scenario when you need real-time, service-based integration or when you need an asynchronous integration. The real-time integration doesn't have a staging area and is directly processed by the services layer.</li>
</ul>
<h2 id="data-migration">Data migration</h2>
<p>Data migration is an initial or unplanned data load that you can perform manually by using the user interface. A scenario where this pattern might be used is when a functional user has some data in a source, such as an Excel workbook that needs to be imported from a legacy system to finance and operations apps during data migration.</p>
<h2 id="data-flow">Data flow</h2>
<p>The first step is to load the file from the source to the central storage, such as Azure. Then, the data import/export framework picks up the data from the central storage and then pushes it into the staging tables of finance and operations apps. From staging, the data is moved to the target by using data entities that have been defined. This flow of data can be done row-by-row or by using a set base of the data entities for the entire underlying tables for each data entity. You can control the sequence and order in which the target tables will be populated by using the sequence entity feature of finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use data entities for data management and integration</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Data entities provide conceptual abstraction and encapsulation (de-normalized view) of underlying table schema that represent data concepts and functionalities.</p>
<p>After data entities are created, you should be able to reuse them for Excel add-ins, import and export, or integration scenarios. A data entity is an abstraction from the physical implementation of database tables.</p>
<p>This image presents data entity integration scenarios.</p>
<p><img alt="Diagram of data entity integration scenarios." data-linktype="relative-path" src="./rawmb500/media_data_entity.png"/></p>
<p>For example, in normalized tables, a lot of the data for each customer might be stored in a customer table, and then the rest might be spread across a small set of related tables. In this case, the data entity for the customer concept appears as one de-normalized view, in which each row contains all the data from the customer table and its related tables.</p>
<p>A data entity encapsulates a business concept into a format that makes development and integration easier. The abstracted nature of a data entity can simplify application development and customization. Later, the abstraction also insulates application code from the inevitable churn of the physical tables between versions.</p>
<p>A data entity has the following capabilities:</p>
<ul>
<li>It provides a single stack to capture business logic, enable scenarios such as import and export, and integration, and support additional logics by a developer adding code.</li>
<li>It becomes the primary mechanism for exporting and importing data packages for Application Lifecycle Management (ALM) and demo data scenarios.</li>
<li>It can be exposed as OData services, and then used in tabular-style synchronous integration scenarios and Microsoft Office integrations.</li>
</ul>
<h2 id="entity-example">Entity example</h2>
<p>A consumer wants to access data that is related to a customer object, but this data is currently scattered across multiple normalized tables, such as <strong>DirParty, CustTable, LogisticsPostalAddress</strong>, and <strong>LogisticsElectronicAddress</strong>.</p>
<p>Therefore, the process of reading and writing customer data is tedious. Instead, the following customer entity can be designed to encapsulate the entire underlying physical schema into a single de-normalized view. This enables simpler read and write operations, and enables abstraction of any internal interaction between the tables.</p>
<h2 id="categories-of-entities">Categories of entities</h2>
<p>Entities are categorized based on their functions and the type of data that they serve. The following are five categories for data entities:</p>
<ul>
<li>Parameters</li>
<li>Reference</li>
<li>Master</li>
<li>Document</li>
<li>Transactions</li>
</ul>
<h3 id="parameters">Parameters</h3>
<ul>
<li>Functional or behavioral parameters.</li>
<li>Required to set up a deployment or a module for a specific build or customer.</li>
<li>Can include data that is specific to an industry or business. The data can also apply to a broader set of customers.</li>
<li>Tables that contain only one record, where the columns are values for settings. Examples of such tables exist for Accounts payable (AP), General ledger (GL), client performance options, workflows, and so on.</li>
</ul>
<h3 id="reference">Reference</h3>
<ul>
<li>Simple reference data, of small quantity, that is required to operate a business process.</li>
<li>Data that is specific to an industry or a business process.</li>
<li>Examples include units, dimensions, and tax codes.</li>
</ul>
<h3 id="master">Master</h3>
<ul>
<li>Data assets of the business. Generally, these are the "nouns" of the business, which typically fall into categories such as people, places, and concepts.</li>
<li>Complex reference data, of large quantity. Examples include customers, vendors, and projects.</li>
</ul>
<h3 id="document">Document</h3>
<ul>
<li>Worksheet data that is converted into transactions later.</li>
<li>Documents that have complex structures, such as several line items for each header record. Examples include sales orders, purchase orders, open balances, and journals.</li>
<li>The operational data of the business.</li>
</ul>
<h3 id="transactions">Transactions</h3>
<ul>
<li>The operational transaction data of the business.</li>
<li>Posted transactions. These are non-idempotent items such as posted invoices and balances. Typically, these items are excluded during a full dataset copy.</li>
<li>Examples include pending invoices.</li>
</ul>
<h2 id="configuration-keys-and-data-entities">Configuration keys and data entities</h2>
<p>Before you use data entities to import or export data, we recommended that you first determine the impact of configuration keys on the data entities that you are planning to use.</p>
<p>To learn more about configuration keys in finance and operations apps, refer to the <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/sysadmin/license-codes-configuration-keys-report/?azure-portal=true">License codes and configuration keys report</a>.</p>
<h3 id="configuration-key-assignments">Configuration key assignments</h3>
<p>Configuration keys can be assigned to one or all of the following artifacts.</p>
<ul>
<li>Data entities</li>
<li>Tables used as data sources</li>
<li>Table fields</li>
<li>Data entity fields</li>
</ul>
<h2 id="supported-integrations">Supported integrations</h2>
<p>Data management by using data entities can support the following integrations:</p>
<ul>
<li><strong>Synchronous service (OData)</strong> – Data entities enable public application programming interfaces (APIs) on entities to be exposed, which enables synchronous services. This method is used for Office integration and third-party mobile app integrations</li>
<li><strong>Asynchronous integration</strong> – Data entities also support asynchronous integration through a data management pipeline. This enables asynchronous and high-performing data insertion and extraction scenarios. This method is used for interactive file-based import/export and recurring integrations.</li>
<li><strong>Business intelligence</strong> – By using the aggregate measures available in finance and operations apps, built-in controls such as charts and integration with Microsoft Power Platform, provides reports to offer insights to business data.</li>
</ul>
<h2 id="data-migration-from-legacy-or-external-systems">Data migration from legacy or external systems</h2>
<p>After the initial deployment is up and running, the system implementer will migrate existing data assets of the customer into finance and operations apps, such as:</p>
<ul>
<li>Master data (for example, customers and vendors)</li>
<li>Subsets of documents (for example, sales orders)</li>
</ul>
<p>You can use the data management framework to copy configurations between companies or environments, and configure processes or modules by using Lifecycle Services.</p>
<p>Copying configurations is intended to make it easier to start a new implementation, even if your team doesn't deeply understand the structure of data that needs to be entered, data dependencies, or which sequence to add data to an implementation.</p>
<p>The data management framework allows you to:</p>
<p>Move data between two similar systems.</p>
<ul>
<li>Discover entities and dependencies between entities for a given business process or module.</li>
<li>Maintain a reusable library of data templates and datasets.</li>
<li>Use data packages to create incremental data entities. Data entities can be sequenced inside the packages. You can name data packages, which can be easily identifiable during import or export. When building data packages, data entities can be mapped to staging tables in grids or by using a visual mapping tool. You can also drag-and-drop columns manually.</li>
<li>View data during imports, so you can compare data and ensure that it is valid.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Work with the Data management workspace</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains how to work with the <strong>Data management</strong> workspace in finance and operations apps.</p>
<p>The <strong>Data management</strong> workspace provides access to important tasks for data management. It also provides information about projects and project execution tasks.</p>
<p>After you've created a configuration data project, it appears in the <strong>Data projects</strong> grid in the <strong>Data management</strong> workspace.</p>
<p>For each project, the type of configuration (import or export) and the project category (Project, Configuration, Integration, or Other) are shown. Use the options to the left of the grid to filter by the appropriate project. The project definition is shared across legal entities</p>
<p><a data-linktype="relative-path" href="media/data-management.png#lightbox"><img alt="Screenshot of the Data management workspace." data-linktype="relative-path" src="./rawmb500/media_data_management.png"/></a></p>
<p>To open a project, select the project, and then select <strong>Load project</strong> to open the <strong>Import</strong> or <strong>Export</strong> page. Use the <strong>Delete</strong> button to delete the selected projects.</p>
<p><a data-linktype="relative-path" href="media/load-project.png#lightbox"><img alt="Screenshot of the Data projects page with Load project highlighted." data-linktype="relative-path" src="./rawmb500/media_load_project.png"/></a></p>
<p>You can also download the project definitions by using the <strong>Download</strong> button. Use <strong>Job history</strong> to find more details about the projects that you've run. Use the data range filters to filter by the dates when data projects were run. You can view execution details by selecting a job and then using the <strong>Execution details</strong> menu.</p>
<p><a data-linktype="relative-path" href="media/project-1.png#lightbox"><img alt="Screenshot with the Import, Job history and Download buttons highlighted." data-linktype="relative-path" src="./rawmb500/media_project_1.png"/></a></p>
<p>For export tasks, you can also download the data from the workspace by using the <strong>Download page</strong> button. The available projects in the <strong>Data management</strong> workspace are as follows:</p>
<ul>
<li>Export</li>
<li>Import</li>
<li>Copy into legal entity</li>
</ul>
<p>The <strong>All projects</strong> option is a filter to decide which type of project in the workspace to work with.</p>
<p><a data-linktype="relative-path" href="media/data-projects.png#lightbox"><img alt="Screenshot of the Data project operations type drop down list." data-linktype="relative-path" src="./rawmb500/media_data_projects.png"/></a></p>
<h2 id="sequencing">Sequencing</h2>
<p>Two types of sequencing should be considered when you are working with data entities.</p>
<ul>
<li>Sequencing data entities within a data package</li>
<li>Sequencing the order of data package imports</li>
</ul>
<h2 id="sequence-data-entities-within-a-data-package">Sequence data entities within a data package</h2>
<ol>
<li><p>When a user adds data entities to a data project, by default, a sequence is set for the order in which the entities will load. The first entity added to the project will be set as the first entity to load, the next entity added will be second, the next entity will be third, and so on.</p>
</li>
<li><p>For example, if a user added two entities in this order, <strong>Sales tax codes</strong> and <strong>Sales Tax groups</strong>, then <strong>Sales tax codes</strong> is assigned an entity sequence of <strong>1.1.1</strong>, and <strong>Sales tax groups</strong> is assigned an entity sequence of 1.1.2. The sequence level indicates that the second entity will not start the import process until the first level is finished.</p>
</li>
<li><p>To view or edit a sequence, select the <strong>Entity sequence</strong> button (available only in Standard view) on the Action Pane of the data project.</p>
</li>
<li><p>In the Definition group entity sequence, you can view the execution units and the sequence. You can change sequence by selecting the data entity in the list, setting a different Execution unit or Sequence in level, and then selecting <strong>Update selected</strong>. After selecting <strong>Update selected</strong>, the entity will move up or down in the entity list.</p>
<p><a data-linktype="relative-path" href="media/data-project-entity-seq.png#lightbox"><img alt="Screenshot highlighting the data project entity sequence." data-linktype="relative-path" src="./rawmb500/media_data_project_entity_seq.png"/></a></p>
<p>To continue with the example in step 2, to successfully import sales tax codes and groups, the sales tax codes and details have to be loaded before sales tax groups can be imported. Sales tax codes and groups are all in Execution unit = 1, but the sequences are in the order that they will be imported. Other related sales tax entities that are not dependent upon other data entities being loaded are included in the package.</p>
<p>For example, the sales tax exempt numbers entity is set in its own Execution unit = 2. This data entity will start loading immediately because there are no dependencies on other entities loading before it.</p>
<p>Finance and operations apps can determine the sequences of selected data entities in a project by selecting the <strong>Auto sequence</strong> button.</p>
</li>
</ol>
<h2 id="sequence-data-package-imports">Sequence data package imports</h2>
<p>To successfully load data, it's important to set the correct order for importing data packages because of dependencies that exist within and across modules. There is a suggested numbering format that has been created for the data packages within Lifecycle Services, so you can identify which data packages you need to load first.</p>
<p>This could be as follows:</p>
<ul>
<li>First segment: Module</li>
<li>Second segment: Data type (setup, master, transaction)</li>
<li>Third segment: Sequence number</li>
</ul>
<h2 id="mapping">Mapping</h2>
<p>When you are working with data entities, mapping an entity to a source is automatic. The automatic mapping of fields can be overridden, if needed.</p>
<p>To view how an entity is mapped, locate the tile for the entity in the project, and then select <strong>View map</strong>.</p>
<p><a data-linktype="relative-path" href="media/view-map.png#lightbox"><img alt="Screenshot highlighting the View map field." data-linktype="relative-path" src="./rawmb500/media_view_map.png"/></a></p>
<p>The Data management framework provides a mapping visualization view (default) and a mapping details view. A red asterisk (*) identifies any required fields in an entity. These fields must be mapped for you to be able to work with the entity. Other fields can be unmapped as required when you are working with the entity.</p>
<ul>
<li>To unmap a field, highlight the field in either column (<strong>Entity</strong> or <strong>Source</strong>), select <strong>Delete selection</strong>, and then select <strong>Save</strong>. After the changes are saved, close the form to return to the project.</li>
</ul>
<p>After import, you can also edit the field mapping from source to staging by using the same process.</p>
<p><a data-linktype="relative-path" href="media/map-1.png#lightbox"><img alt="Screenshot of the Map source to staging page showing the Mapping visualization view." data-linktype="relative-path" src="./rawmb500/media_map_1.png"/></a></p>
<h2 id="regenerate-a-map">Regenerate a map</h2>
<p>If you have extended an entity (added fields) or if the automatic mapping appears to be incorrect, the mapping of the entity can be regenerated in the <strong>Mapping</strong> page.</p>
<ol>
<li>To do this, select <strong>Generate source mapping</strong>. A message will display asking, "Do you want to generate the mapping from scratch?"</li>
<li>Select <strong>Yes</strong> to regenerate the mapping.</li>
</ol>
<h2 id="generate-data">Generate data</h2>
<p>You may have fields in entities that are not specified in your imported source file. In this case, you can use the auto-generated functionality in the mapping details. This makes the system generate data for a specified field. For example, let’s say you are trying to import customers and customer address information, but your <strong>Party number</strong> field is not included in the import file. You can simply toggle the <strong>Auto-generated</strong> checkbox by the field, and the system will generate a party number automatically.</p>
<p><a data-linktype="relative-path" href="media/map-details.png#lightbox"><img alt="Screenshot of the Map source to staging page showing the Mapping details view." data-linktype="relative-path" src="./rawmb500/media_map_details.png"/></a></p>
<p>However, notice that in the import project, the data source is coming from other systems, such as those legacy applications. finance and operations apps uses the business logics of each data entity, discovers the dependencies, and sequences the data entities based on their relationships and dependencies.</p>
<p>For example, if you want to import customers and customer address information, but the address information was not previously imported with the Global Address Book (GAB) entities, you can have the entity auto-generate the party number upon import and the GAB information will be created. To access this functionality, view the map of the entity, and then select the <strong>Mapping details</strong> tab. Select the fields that you want to auto-generate. This will change the source field to <strong>Auto</strong>.</p>
<p><a data-linktype="relative-path" href="media/generate-source-map.png#lightbox"><img alt="Screenshot of the Map source to staging page highlightling  the Generate source mapping button." data-linktype="relative-path" src="./rawmb500/media_generate_source_map.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Using Standard and Enhanced views for tiles</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>There are two views available to work with in data management projects, the Standard and Enhanced views.</p>
<ul>
<li><strong>Standard view</strong> - Provides a streamlined interface and includes the Entity sequence button, which allows you to define the order of entity processing. This feature is crucial for ensuring dependencies between entities are properly handled during data import/export operations.</li>
<li><strong>Enhanced view</strong> - Offers additional details and controls, making it ideal for more complex projects that require fine-grained management.</li>
</ul>
<p>Both views show all available tiles in the Data management framework. However, the Enhanced view gives more detailed information and control over the project than the Standard view.</p>
<p>The following image shows the Standard view.</p>
<p><a data-linktype="relative-path" href="media/tiles-standard-view.png#lightbox"><img alt="Screenshot of the Data management tiles in the Standard view." data-linktype="relative-path" src="./rawmb500/media_tiles_standard_view.png"/></a></p>
<p>The following image shows the Enhanced view.</p>
<p><a data-linktype="relative-path" href="media/tiles-enhanced-view.png#lightbox"><img alt="Screenshot of the Data management tiles in the Enhanced view." data-linktype="relative-path" src="./rawmb500/media_tiles_enhanced_view.png"/></a></p>
<p>Prior to managing data import and export, you need to configure these tiles to successfully create, manage, and run the jobs to perform the data management activities.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use templates in data management</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Default templates are delivered together with each new release of finance and operations apps. Our long-term goal is to provide the templates in Lifecycle Services so that you can push them to an instance of finance and operations apps. However, for the current releases, select the <strong>Templates</strong> tile in the <strong>Data management</strong> workspace, and then select <strong>Load default templates</strong> to load the templates. To see the <strong>Load default templates</strong> menu, you must use Enhanced view.</p>
<p>We recommend using the Enhanced views to have more features and flexibility while working with your projects.</p>
<p>After the templates are loaded, you can change them to suit your business requirements. If you ever want to retrieve the original default templates, you can use the <strong>Load default templates</strong> button to add them back to your system. The templates will then be replaced with the latest versions. If you've made changes to the templates, you can make a copy of the old templates by exporting them.</p>
<p>Note that system administrator access is required to load default templates and import templates. This requirement helps guarantee that all entities are correctly loaded into the template.</p>
<p>For the newly deployed environment of finance and operations apps, the default templates are not loaded. We recommend that you select the <strong>Load default templates</strong> button to view the default templates.</p>
<p><a data-linktype="relative-path" href="media/template.png#lightbox"><img alt="Screenshot of the Load default templates button." data-linktype="relative-path" src="./rawmb500/media_template.png"/></a>
 </p>
<p>When the <strong>Load default templates</strong> dialog box appears, you can select single, multiple, or all templates to be loaded into your environment.</p>
<p><a data-linktype="relative-path" href="media/load-default-template.png#lightbox"><img alt="Screenshot of the Load default templates dialog box." data-linktype="relative-path" src="./rawmb500/media_load_default_template.png"/></a></p>
<p>Levels 10 to 22 are reserved for shared system entities so that those entities are processed first. Almost all systems also use the company-specific general ledger entities. Therefore, level 25 is reserved for those entities. These levels represent the minimum basic setup that is required for most shared data in a configuration.</p>
<p>After the basic setup is completed, many entities can be loaded in parallel across all the modules. These entities don't have to be loaded in silos by module. Instead, you can set up bands of dependencies between the data for different entities. Bands help establish execution timing between entities added to the groups because each band is defined by its execution level.</p>
<p>Entities that have no dependencies are added to band 30 in this example. Band 40 is added for entities that have a dependency on the entities in band 30. The same process is continued for bands 50 to 90, as shown in the table:</p>
<table>
<thead>
<tr>
<th>Module</th>
<th>Unit</th>
<th>Execution   Level</th>
</tr>
</thead>
<tbody>
<tr>
<td>Band 1   for dependencies</td>
<td>1</td>
<td>30</td>
</tr>
<tr>
<td>Band 2   for dependencies</td>
<td>1</td>
<td>40</td>
</tr>
<tr>
<td>Band 3   for dependencies</td>
<td>1</td>
<td>50</td>
</tr>
<tr>
<td>Band 4   for dependencies</td>
<td>1</td>
<td>60</td>
</tr>
<tr>
<td>Band 5   for dependencies</td>
<td>1</td>
<td>70</td>
</tr>
<tr>
<td>Band 6   for dependencies</td>
<td>1</td>
<td>80</td>
</tr>
<tr>
<td>Band 7   for dependencies</td>
<td>1</td>
<td>90</td>
</tr>
</tbody>
</table>
<p>After organizing the basic entities so that they can be processed in parallel, the remaining entities are organized by module, in the order that the modules should be processed in. However, many entities have many dependencies, some of which are complex.</p>
<p>For example, the Vendor posting profiles entity might require Vendors or Items entities. Although the Vendor posting profiles entity is in the Accounts payable module, it must be processed after the Product management module. In that case, if Vendors entities are 1.130.10 and Items entities are 1.300.10, the Vendor posting profiles entity must be moved so that it's after that sequence (for example, 1.310.20).</p>
<div class="NOTE">
<p>Note</p>
<p>The sequences that we have implemented are a guideline, not a requirement. There is no required relationship between a level and a module. You can rearrange the entities if the sequence doesn't work for your implementation. To add your own templates to a configuration, you can follow the preceding guidelines to help guarantee that your template is correctly merged into a project that uses default templates.</p>
</div>
<h2 id="templates-that-have-the-same-entity">Templates that have the same entity</h2>
<p>Some entities are required in more than one template. For example, you must have payment terms in both the Accounts payable and Accounts receivable templates. However, you might require only the Accounts receivable template. We added the entity to both templates for situations where you require only one of them.</p>
<p>A data project can include only one instance of an entity. If you add a template, and the template contains an entity that already exists in a data project, the entity in that template replaces the entity that is currently in the project.</p>
<p>You can use this capability to override the default templates without changing them. For example, the worker field hasn't been mapped in your data project, but you have your own template that adds workers. In this case, you can build a template that includes the entities that have the worker field. In that template, you can map the worker field. Any entities in the data project that don't have the field mapped will then be replaced.</p>
<h2 id="merged-templates">Merged templates</h2>
<p>We have created larger templates that cover multiple module areas. You can use the larger templates, or any combination of smaller templates, to build a data project. The following combined templates are available:</p>
<ul>
<li><strong>System and Shared</strong> – Include system setup, global address book, shared general ledger, and workflow.</li>
<li><strong>Financials</strong> – Includes general ledger, bank, accounts payable, tax, accounts receivable, fixed assets, and budgeting.</li>
<li><strong>Supply chain management</strong> – Includes inventory management, product management, procurement, sales and marketing, limited warehouse management, production control, and costing.</li>
<li><strong>Expense and Project Management</strong> – These templates aren't included in a larger template. However, they are designed so that they can easily be merged into a project that uses other templates.</li>
<li><strong>Workers</strong> – Includes the entities needed to add workers and re-map entities where the worker mapping was removed.</li>
</ul>
<h2 id="master-data">Master data</h2>
<p>Many default templates include entities for master data, such as customers, vendors, and released products. These entities are included to indicate the correct sequence of entities that you will require after you've loaded parameters and reference data. Master entities are most often sequenced in the module bands that are numbered 100 and above. In the grid, the entity category for these entities will be Master. If you don't want to include master data or any other entities in your configuration, remove those entities from your project.</p>
<h2 id="enable-change-tracking-for-entities">Enable change tracking for entities</h2>
<p>Change tracking enables incremental export of data from finance and operations apps by using Data management. In an incremental export, only records that have changed are exported. To enable incremental export, you must enable change tracking on entities.</p>
<p><a data-linktype="relative-path" href="media/change-tracking.png#lightbox"><img alt="Screenshot of the Change tracking button." data-linktype="relative-path" src="./rawmb500/media_change_tracking.png"/></a></p>
<p>If you don't enable change tracking on an entity, you can only enable a full export each time. For bring your own database (BYOD) use cases, change tracking can also track deletes, if the entity supports this.</p>
<p>For more information regarding BYOD, see <a data-linktype="absolute-path" href="/en-us/training/modules/prepare-data-migration-finance-operations/?azure-portal=true">Prepare data for migration to finance and operations apps</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Export, import, and copy data into a legal entity</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains how to copy data into a legal entity, and how to import and export data in finance and operations apps.</p>
<h2 id="data-import-and-export-jobs">Data import and export jobs</h2>
<p>To create and manage data import and export jobs in finance and operations apps, you can use the <strong>Data management</strong> workspace. By default, the data import and export process creates a staging table for each entity in the target database. Staging tables let you verify, clean up, or convert data before you move it.</p>
<p>The following are steps to import or export data.</p>
<ol>
<li>Create an import or export job, where you will complete the following tasks:
<ul>
<li>Define the project category.</li>
<li>Identify the entities to import or export.</li>
<li>Set the data format for the job.</li>
<li>Sequence the entities so that they are processed in logical groups and in an order that makes sense.</li>
<li>Determine whether to use staging tables.</li>
</ul>
</li>
<li>Validate that the source data and target data are mapped correctly.</li>
<li>Verify the security for your import or export job.</li>
<li>Run the import or export job.</li>
<li>Validate that the job ran as expected by reviewing the job history.</li>
<li>Clean up the staging tables.</li>
</ol>
<h2 id="create-an-import-or-export-job">Create an import or export job</h2>
<p>A data import or export job can be run one time or as many times as needed. We recommend that you take the time to select an appropriate project category for your import or export job. Project categories can help you manage related jobs.</p>
<p>When you select an entity, you must select the format of the data that will be exported or imported. You can define formats by using the <strong>Data sources</strong> setup tile. A source data format is a combination of Type, File format, Row delimiter and Column delimiter.</p>
<p>Entities can be sequenced in a data template or in import and export jobs. When you run a job that contains more than one data entity, you must make sure that they are correctly sequenced. Primarily, you sequence entities to address any functional dependencies among entities. If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</p>
<h2 id="verify-the-security-for-your-import-or-export-job">Verify the security for your import or export job</h2>
<p>Access to the <strong>Data management</strong> workspace can be restricted so that non-administrator users can access only specific data jobs. Access to a data job implies full access to the run history of that job and access to the staging tables. Therefore, you need to make sure that appropriate access controls are in place when you create a data job.</p>
<p>Use the <strong>Applicable roles</strong> menu to restrict the job to one or more security roles. Only users in those roles will have access to the job. You can also restrict a job to specific users. Securing a job by users instead of roles provides more control when multiple users are assigned to a role.</p>
<p>A job can be secured by roles, users, and legal entity at the same time. Data jobs are global in nature. Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system. This default behavior might be preferred in some application scenarios.</p>
<p>For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization. In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities. Therefore, the default behavior meets the requirement from a legal entity perspective.</p>
<p>However, an organization might want to have invoice processing teams for each legal entity. In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity. To meet this requirement, you can configure legal entity–based access control on the data jobs by using the <strong>Applicable legal entities</strong> menu inside the data job. After the configuration is done, users can view only jobs that are available in the legal entity that they are currently signed in to. To view jobs from another legal entity, users must switch to that legal entity.</p>
<h2 id="clean-up-the-staging-tables">Clean up the staging tables</h2>
<p>You can clean up staging tables by using the Staging clean up feature in the <strong>Data management</strong> workspace. You can use the following options to select which records should be deleted from which staging table:</p>
<ul>
<li><strong>Entity</strong> – If only an entity is provided, all records from that entity’s staging table are deleted. Select this option to clean up all the data for the entity across all data projects and all jobs.</li>
<li><strong>Job ID</strong> – If only a job ID is provided, all records for all entities in the selected job are deleted from the appropriate staging tables.</li>
<li><strong>Data projects</strong> – If only a data project is selected, all records for all entities and across all jobs for the selected data project are deleted.</li>
</ul>
<p>Watch this video to learn how to perform data export and import by using the <strong>Data management</strong> workspace:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=d3a1068e-d3ae-4896-bc10-7dce867f60c4"></iframe></div>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/recurring-integrations/?azure-portal=true">Recurring integrations</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Explore the Data management workspace</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>In this lab, you will explore some of the features in the <strong>Data management</strong> workspace in the company <strong>USMF</strong>.</p>
<ol>
<li>In company <strong>USMF</strong>, go to <strong>Workspaces &gt; Data management</strong>.</li>
<li>You will see the message <strong>Execution history was successful</strong> in the <strong>Action center</strong>.</li>
<li>Select <strong>Templates</strong> in the <strong>Data management</strong> workspace.</li>
<li>Select <strong>New</strong>, and when the new draft appears, enter <strong>035 – General Ledger Setup</strong> in the <strong>Template ID</strong> field.</li>
<li>In the <strong>Description</strong> field, enter <strong>General Ledger Setup</strong>.</li>
<li>Under the <strong>Entities</strong> field, select <strong>Add entity</strong>, and in the <strong>Entity name</strong> dropdown, select <strong>All types test entity</strong>, and then select <strong>Add entity</strong>. The entity source will also be under the <strong>Template details</strong> FastTab.</li>
<li>The <strong>Template status</strong> is currently set to <strong>Draft</strong>. To validate this new template select <strong>Validate template</strong> at the top of the page.</li>
<li>Select <strong>Save</strong> and close in the <strong>Templates</strong> page.</li>
<li>Select the  <strong>Data entities</strong> tile in the <strong>Data management</strong> workspace.</li>
<li>View available entities in finance and operations apps.</li>
<li>Select any of the entities of your choice, such as <strong>All types test entity</strong>.</li>
<li>Select <strong>Entity structure</strong> in the top menu, to see the data source. Here, you can enable or disable running business logic in your project. For instance, for data migration, you might have modified the settings of certain configurations to meet customer requirements; however, the legacy data would violate the new rule, so you might need to make the decision to turn off the rule for historical data.</li>
<li>Select <strong>Target fields</strong> in the top menu. Here you can view and edit the target fields.</li>
<li>Close the <strong>Target fields</strong> page.</li>
<li>Close the <strong>Entity structure</strong> page.</li>
<li>Select <strong>Entity model view</strong> in top menu of the <strong>Target entities</strong> page. This provides better visibility by grouping entities for each category and sub category of nodes, and by grouping the entity models.</li>
<li>In the tree on the left, expand <strong>All\SystemAdministration</strong> and select <strong>Master</strong>.</li>
<li>In the tree, expand <strong>All\SalesAndMarketing</strong> and select <strong>Document</strong> to see various entity types and entities.</li>
<li>Close the <strong>Entity model view</strong> page.</li>
<li>Select <strong>Entity category view</strong> in the <strong>Target entities</strong> page.</li>
<li>In the tree, expand <strong>All\Configuration</strong> and select <strong>SystemAdministration</strong>.</li>
<li>Close the <strong>Entity category view</strong> page.</li>
<li>Close the <strong>Target entities</strong> page.</li>
<li>Select the <strong>Data task automation</strong> tile.</li>
<li>Select <strong>Load default tasks</strong> to open the drop-down dialog.</li>
<li>From the drop-down, select a value, <strong>MS_Sample_DMFManifest</strong>.</li>
<li>Select <strong>Load</strong> and wait for the information statement that says the Manifest is loaded successfully.</li>
<li>Select <strong>Cancel</strong>.</li>
<li>Close the <strong>Data task automation</strong> page.</li>
<li>Select the <strong>Configure data source</strong> tile. Here, you can view, edit, and create data types such as CSV, Excel, and Package.</li>
</ol>
<h2 id="go-to-the-next-lab-instructions-from-the-lab-environment">Go to the next lab instructions from the lab environment</h2>
<p>Select the <strong>Next</strong> button in the bottom-right corner of the lab side bar.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Export data using the Data management workspace</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CANNOT sign in with your own credentials.</p>
</div>
<p>If you are signed in to finance and operations in the lab environment, you don’t need to sign in again, and can begin your work on this lab.</p>
<p>If you are not signed in to the lab environment yet, then go to the first lab unit in this module for instructions. Then, after you successfully sign in, use the <strong>Next</strong> button in the <strong>Instructions</strong> tab of the lab side bar to return to this lab scenario, and begin your work.</p>
<h2 id="scenario">Scenario</h2>
<p>In this lab, you will export data from the <strong>All customers</strong> entity using the <strong>Data management</strong> workspace.</p>
<ol>
<li>In the company <strong>USMF</strong>, go to <strong>Workspaces &gt; Data management</strong>.</li>
<li>You will see the message <strong>Execution history was successful</strong> in the <strong>Action center</strong>.</li>
<li>Select <strong>Export</strong> in the <strong>Data management</strong> workspace.</li>
<li>Specify the following information on the page:
<ul>
<li><strong>Group name</strong> - Customers Export</li>
<li><strong>Description</strong> - Customer Export</li>
<li><strong>Data project operation type</strong> - Export</li>
<li><strong>Project category</strong> -  Project</li>
<li><strong>Generate data package</strong> - Yes</li>
</ul>
</li>
<li>Select <strong>Save</strong> in the Action Pane.</li>
<li>In the <strong>Selected entities</strong> FastTab, select <strong>Add entity</strong>.</li>
<li>Specify the following information in the <strong>Add entity</strong> dialog:
<ul>
<li><strong>Entity name</strong> - Select any of the Entity names from the drop-down list.</li>
<li><strong>Target data format</strong> - EXCEL</li>
<li><strong>Select fields</strong> - Importable fields</li>
</ul>
</li>
<li>Select <strong>Add</strong>. A new line will be created with the entity information you defined.</li>
<li>Review any warnings, and then select <strong>Close</strong>.</li>
<li>Select the entity line, and then select <strong>Export</strong> in the Action Pane. The data job will run.</li>
<li>When the <strong>Batch job is scheduled</strong> dialog box appears. select <strong>Close</strong>.</li>
<li>Select <strong>Refresh</strong> when the job is complete (if the <strong>Refresh</strong> button is not displayed return to the previous page by using <strong>Click to go back</strong> on the browser page, and again select <strong>Export</strong>. Now the <strong>Refresh</strong> button will appear on the <strong>Execution summary</strong> page). You will receive a notification that the export is completed.</li>
<li>Select <strong>Download package</strong> in the Action Pane. A .zip file will download.</li>
<li>Open the .zip file and then open the Excel file that is in the .zip file.</li>
<li>Here you will see all the data that exported from finance and operations.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Database movement operations</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Database movement operations are a suite of self-service actions that you can use as part of Data Application Lifecycle Management (also referred to as DataALM). These actions provide structured processes for common implementation scenarios such as golden configuration promotion, debugging/diagnostics, destructive testing, and general refresh for training purposes.</p>
<div class="mx-imgBorder">
<p><img alt="Diagram of the Create request for database movement operation page in Lifecycle Services." data-linktype="relative-path" src="./rawmb500/media_request_database_movement.png"/></p>
</div>
<p>With database movement operations, you can:</p>
<ul>
<li>Run database movement operation from and to Tier-2+ environments directly in Microsoft Dynamics Lifecycle Services.</li>
<li>Create requests for database operations for production environment in Lifecycle Services.</li>
</ul>
<h2 id="refresh-database">Refresh database</h2>
<p>You can use Lifecycle Services to perform a refresh of the database to a sandbox user acceptance testing (UAT) environment. A database refresh lets you copy the transactional and financial reporting databases of your production environment into the target, sandbox UAT environment. If you have another sandbox environment, you can also copy the databases from that environment to your target, sandbox UAT environment.</p>
<div class="NOTE">
<p>Note</p>
<p>Copying production data to your sandbox environment for the purpose of production reporting is not supported.</p>
</div>
<h2 id="export-database">Export database</h2>
<p>You can use Lifecycle Services to export a database from a sandbox user acceptance testing (UAT) environment to the Asset library. The environment will be unavailable for other servicing operations, such as Sandbox refresh or package deployment during this time. The source environment will be usable from a Dynamics user perspective.</p>
<h2 id="import-database">Import database</h2>
<p>You can import a database that is prepared from a developer environment to a standard user acceptance test (UAT), or a database previously exported from a UAT environment.</p>
<h2 id="point-in-time-restore">Point-in-time restore</h2>
<p>You can use Lifecycle Services to perform the point-in-time restore (PITR) for a sandbox user acceptance testing (UAT) environment. Microsoft maintains <a data-linktype="absolute-path" href="/en-us/azure/azure-sql/database/automated-backups-overview?tabs=single-database/?azure-portal=true">automated backups</a> of the business and financial reporting databases for 28 days for Production environments and 14 days for Sandbox environments.</p>
<h2 id="point-in-time-restore-of-the-production-database-to-a-sandbox">Point-in-time restore of the production database to a sandbox</h2>
<p>You can use Lifecycle Services to do a point-in-time restore (PITR) of the production database to a user acceptance testing (UAT) sandbox environment. To provide customers with data application lifecycle management (DataALM) capabilities that do not rely on human or manual processes, the Lifecycle Services team has introduced an automated refresh database actions for this purpose.</p>
<h2 id="database-operations-between-tier-1-and-tier-2">Database operations between Tier-1 and Tier-2+</h2>
<p>You can use the following options to move databases between Tier-1 and Tier-2 customer/partner managed environments:</p>
<ul>
<li>Bacpac procedure: from SQL Server to Azure SQL or from Azure SQL to SQL Server</li>
<li>SQL Server backup/restore between one-box environments (SQL Server)</li>
</ul>
<div class="mx-imgBorder">
<p><img alt="Diagram of the Tier-1 and Tier-2 environments." data-linktype="relative-path" src="./rawmb500/media_tier_1_tier_2_database_operations.png"/></p>
</div>
<p>See <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/database/dbmovement-operations/?azure-portal=true">Database movement operations home page</a> to learn more about database movement operations</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data sharing framework</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Cross-company data sharing lets you replicate (share) reference and group data among companies. Data integrity is verified before replication occurs.</p>
<p>Examples of cross-company data sharing and the basic logic:</p>
<ul>
<li>The same payment terms and payment day definitions are used across fifteen legal entities.</li>
<li>The same terms of delivery are used across seven legal entities in three countries/regions.</li>
<li>Records created, updated, and deleted in any of the companies within the policy will be replicated immediately, across all the companies.</li>
<li>Fields that are not selected for sharing are maintained in each company and will not trigger any replication.</li>
<li>As part of enabling a policy, it is optional to copy any existing records.</li>
</ul>
<h2 id="cross-company-sharing-framework-important-aspects">Cross-company sharing framework important aspects</h2>
<p>The following aspects need to be considered before using cross-company data sharing.</p>
<ul>
<li>Use to replicate (share) reference, parameter, and group data between companies within an environment.</li>
<li>Cannot be used for transactional data between companies.</li>
<li>Data integrity must be verified before replication.</li>
<li>Data sharing policy should be enabled after importing data in seeding company.</li>
<li>Apply to production only after testing and validation sandbox environment.</li>
<li>Data sharing policy can be updated or disabled.</li>
<li>Cannot be used with dual write.</li>
<li>Examples of cross-company shared data includes customers and vendors.</li>
</ul>
<h2 id="when-to-use-cross-company-data-sharing-feature">When to use cross-company data sharing feature?</h2>
<p>Use cross-company data sharing for the following business scenarios:</p>
<ul>
<li>Sharing of simple reference and group data in a single deployment.</li>
<li>Sharing among companies that have similar configurations.</li>
<li>Sharing scenarios that have been explicitly evaluated by Microsoft.</li>
</ul>
<p>Cross-company data sharing is not supported for the following scenarios:</p>
<ul>
<li>Franchising solutions, where thousands of records are shared across thousands of companies.</li>
<li>Sharing of transactional records for reporting or management purposes, such as consolidations.</li>
<li>Sharing across deployments.</li>
<li>Complex scenarios, such as replication of subtype/supertype tables or tables that have date effectivity rules.</li>
<li>Tables that do not have a unique index.</li>
</ul>
<h2 id="other-tools-for-data-management">Other tools for data management</h2>
<p>Other tools for data management are:</p>
<ul>
<li><strong>Bring your own database (BYOD)</strong> – Export entities to your own database.</li>
<li><strong>Entity store refresh</strong> – For embedded Power BI reports.</li>
<li><strong>Process data package</strong> –  A wizard functionality that consolidates multiple data packages in one bundle.</li>
<li><strong>Data validation checklist workspace</strong> –To track data validation processes across companies, areas, and people.</li>
<li><strong>Office add-in</strong> – Export and import data via Excel add-in using data entities.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which one of the following data management concepts contains a data project manifest and data files?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Data entities</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data project</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Data package</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>In which one of the following data management frameworks can you perform asynchronous integration by using data entities?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Data migration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Set up and copy configurations</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which activity is performed using data entities?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Pushing data from source to central storage</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Pushing data from central storage to staging</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Pushing data from staging to target</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>For the import or export operation, users need to configure the entities that are being imported, define the default processing options, and define the mapping definition. Where are these operations performed?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Data Projects</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data Jobs</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Job History</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Data Packages</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>You need to allow access to your Customer records outside of finance and operations apps to be exposed in a Power App. Which of the following must be set up to make that work?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Data job</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data project</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Data entity</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you have learned about the basic concepts of the Data management platform in finance and operations apps, and examined integration scenarios that used data entities.</p>
<p>Additionally, you were able to observe how easy it was to use data management functionality to perform complex tasks of data migration, such as import and export data. This module also showed you how to benefit from data import and export jobs, and then clean up the staging tables prior to each new project run as a best practice.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To test and evaluate the customer solution prior to go-live, you
need to have an environment of finance and operations apps,
with all the configurations and possible customizations through
extensions.</p>
<p>It is always beneficial to have a methodology to ensure that creation and
testing is organized and planned properly for short, efficient, and
role-focused test case scenarios.</p>
<p>To validate the solution that might have been customized by extensions, or
when you are identifying possible issues with functionality of finance and operations apps
that were caused by wrong configuration, you need to create test cases. Test cases
can help you, as a functional consultant, and users to approve
the user acceptance documents.</p>
<p>You can use the task recorder and business process modeler (BPM) to
create user acceptance test libraries. The task recorder is a powerful
tool to record test cases, and you can organize them by business processes
by using BPM.</p>
<p>You can use BPM to distribute test libraries to your customers through
Lifecycle Services and Lifecycle Services solutions. You can also use
BPM to write and distribute test libraries across different projects
and teams.</p>
<p>Because BPM can be synchronized with Azure DevOps (formerly known as
Visual Studio Team Services), test cases are automatically created
(including test steps) in your Azure DevOps project.</p>
<p>Azure DevOps can then serve as your test configuration and test
management tool where you can create targeted test plans and test
suites, manage the running of tests, and investigate results.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create user acceptance test libraries</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The business process modeler (BPM) is a Lifecycle Services tool to describe a
hierarchy of business processes and user tasks. Lifecycle Services also allows
Microsoft partners and customers to write and distribute BPM libraries
across Lifecycle Services projects by means of the Asset library.</p>
<h3 id="create-a-bpm-library">Create a BPM library</h3>
<p>You can browse a BPM library that is a global library or a corporate
library. However, before you can edit and work with a BPM library, it
must be part of your Lifecycle Services project. Libraries that are distributed by
Microsoft appear under <strong>Global libraries</strong>, whereas libraries that are
published by your organization appear under <strong>Corporate libraries</strong>.</p>
<p>Note that BPM localization is not supported. If you edit in the BPM
client in any language other than US English, your changes will only
display when you view the BPM in the language in which the changes were
made. To view any changes that were made in US English, you must synchronize with
Visual Studio Team Server before the changes will display.</p>
<p>You can create a BPM library in several ways.</p>
<p>To create a library, you need to sign in to Lifecycle Services, select the <strong>Business
process modeler</strong> tile, or select it from the LCS menu. Then create a new library.</p>
<p><img alt="Screenshot of the Business process modeler tile." data-linktype="relative-path" src="./rawmb500/media_bpm_1.png"/></p>
<p>The library can also be created by using the Microsoft Excel import functionality.</p>
<p><a data-linktype="relative-path" href="media/bpm-import-excel.png#lightbox"><img alt="Screenshot of the Microsoft Excel import button." data-linktype="relative-path" src="./rawmb500/media_bpm_import_excel.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Record test cases and save to the business process modeler (BPM)</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>After you have created a BPM library, you'll need to use the task
recorder to create your test cases and then upload the cases to BPM.
There are several ways to do this.</p>
<p>If you're using a BPM library that already has all the necessary task
recordings (test cases) attached, you can skip this step. Otherwise,
follow the subsequent instructions to create new task recordings.</p>
<p>To enable the effective running of your tests by using automation tools,
make sure that all your task recordings start on the main dashboard of
finance and operations apps.</p>
<p>For end-to-end processes that are performed by more than one user, we
recommend that you divide your task recordings into user-specific tasks.
This simplifies the maintenance of test cases and allows you to run
test cases in the context of security roles, which is a best practice.</p>
<p>Watch this video for a demonstration of how to use the task recorder to create a test case for the Regression suite automation tool (RSAT).</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=3e1fd568-558a-4647-ae6e-6efc3f4602fc"></iframe></div>
<h3 id="create-and-save-a-new-task-recording">Create and save a new task recording</h3>
<ol>
<li><p>Go to <strong>Settings &gt; Task recorder</strong>.</p>
<p><img alt="Screenshot of the Task recorder option in the settings menu." data-linktype="relative-path" src="./rawmb500/media_task_recorder.png"/></p>
</li>
<li><p>Select <strong>Create recording</strong>.</p>
<p><img alt="Screenshot of the Create recording in the task recorder menu." data-linktype="relative-path" src="./rawmb500/media_create_new_recording.png"/></p>
</li>
<li><p>Enter a name for the recording and then select <strong>Start</strong>.</p>
<p><img alt="Screenshot of the Start page with name and description fields." data-linktype="relative-path" src="./rawmb500/media_start_1.png"/></p>
</li>
<li><p>When the recording is complete, in the Task recorder pane, select
<strong>Stop</strong>.</p>
</li>
<li><p>To save the task recording to an attached BPM, select <strong>Save to Lifecycle Services</strong>.</p>
<p><img alt="Screenshot of the Save to Lifecycle Services feature." data-linktype="relative-path" src="./rawmb500/media_lcs_1.png"/></p>
</li>
<li><p>Select the library that you want to save the recording to and then select <strong>OK</strong>. This automatically saves the recording into Lifecycle Services. If you already have a business library, then identify that in <strong>System administration &gt; Setup &gt; System Parameters &gt; Help</strong> tab.</p>
</li>
<li><p>If you also want to save the recording on your computer, select <strong>Save to this PC</strong>. The extension of the recording file is AXTR.</p>
</li>
</ol>
<h3 id="upload-an-axtr-file-to-bpm">Upload an AXTR file to BPM</h3>
<p>If you have saved your recordings (AXTR files) to your PC, follow these
steps to upload them to BPM.</p>
<ol>
<li><p>In Lifecycle Services, in your project, on the <strong>Business process libraries</strong> page, select the library to upload the task recording to.</p>
</li>
<li><p>In the right pane, select <strong>Upload</strong>.</p>
</li>
<li><p>Select <strong>Browse</strong> to find and select the file to upload, and then  select <strong>Upload</strong>.</p>
</li>
</ol>
<h3 id="download-a-task-recording">Download a task recording</h3>
<p>You can download a task recording (AXTR file) that has been uploaded to a BPM process.</p>
<ol>
<li>In Lifecycle Services, in your project, on the <strong>Business process libraries</strong> page, select the library to download the task recording.</li>
<li>Select a process that has task recording uploaded.</li>
<li>On the <strong>Overview</strong> pane, select <strong>Download</strong> to save the task recording (AXTR).</li>
</ol>
<h3 id="save-an-existing-task-recording-to-bpm">Save an existing task recording to BPM</h3>
<ol>
<li><p>To attach an existing task recording, sign in to the client.</p>
</li>
<li><p>Go to <strong>Settings &gt; Task recorder</strong>.</p>
</li>
<li><p>Select <strong>Edit Recording</strong> and attach the file by either saving directly to Lifecycle Services or downloading the AXTR and then uploading to BPM.</p>
<p><img alt="Screenshot of the Edit recording feature." data-linktype="relative-path" src="./rawmb500/media_edit_recording.png"/></p>
</li>
</ol>
<h3 id="guidelines-for-recording-test-cases">Guidelines for recording test cases</h3>
<p>Follow these guidelines when writing and recording your test cases,
especially if you are planning to automate a test run. The process
and tools that are described in this article apply to business process acceptance
tests; they are not meant to replace component and unit testing that is
typically owned by developers.</p>
<ul>
<li><p>Write a limited number of test cases that, when combined, cover complete end-to-end processes.</p>
</li>
<li><p>Focus on business processes that have been customized.</p>
</li>
<li><p>An individual test case (recording) should cover one or two business tasks only, typically run by one person. This simplifies task recording maintenance. Do not combine a complete end-to-end business process, such as procure-to-pay or order-to-cash, into one large task recording.</p>
<ul>
<li>For example, instead of having <strong>RFQ &gt; Purchase Order &gt; Product Receipt &gt; Vendor Invoice &gt; Vendor Payment</strong> as one test case, divide the process into three or four test cases. You will have the opportunity to combine these tests into an ordered test suite later.</li>
</ul>
</li>
<li><p>A test case should have at least one validation. Try to validate critical fields that cover the impact of other fields.</p>
<ul>
<li>For example, validation of totals on sales or purchase orders cover the unit price/quantity/discount/tax.</li>
</ul>
</li>
<li><p>Avoid printing a report in a test case. If a test case needs to print a report, it should be selected on screen.</p>
</li>
<li><p>80+ percent of test cases should be of transactions or source documents. Master data should be limited to up to 20 percent of test cases only.</p>
</li>
</ul>
<h2 id="regression-suite-automation-rsat-tool">Regression suite automation (RSAT) tool</h2>
<p>To learn more about how to set up and use the Regression suite automation (RSAT) tool, review the <a data-linktype="absolute-path" href="/en-us/training/modules/use-regression-suite-automation-tool-rsat/?azure-portal=true"><strong>Use RSAT with Dynamics 365 Commerce</strong></a> training module. The content applies to other finance and operations apps than Dynamics 365 Commerce.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Synchronize and configure your test plan in Azure DevOps</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>An acceptance test library is your starting point. It typically contains
all test cases (task recordings) of an application that is organized by business
processes.</p>
<p>During a test pass, you usually do not need to run all test cases. The
test cases that you select depend on the phase of your implementation or the
nature of the update that you are planning to apply to your production
environment.</p>
<p>Azure DevOps enables you to organize your test cases in test plans and
test suites. A test plan contains one or more test suites (a subset of
your test library). Test cases can belong to more than one test suite.</p>
<p>When you have selected your acceptance testing BPM library, synchronize
it with Azure DevOps and create your test plan and test suites.</p>
<h3 id="sync-with-azure-devops">Sync with Azure DevOps</h3>
<p>Synchronize your BPM library with your Azure DevOps project. For more
information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/synchronize-bpm-vsts?azure-portal=true#synchronize-a-bpm-library-with-a-azure-devops-project">Synchronize a BPM library with an Azure DevOps project</a>.</p>
<p>After configuration is complete, you can synchronize the BPM library with an
Azure DevOps project.</p>
<ol>
<li><p>On the <strong>Business process libraries</strong> page, on the tile for the library that you want to synchronize, select the ellipsis button (...) and then select <strong>Azure DevOps sync</strong> (VSTS sync). You can also start Azure DevOps synchronization from the toolbar in a BPM library. Select the ellipsis button (...) and then select <strong>Azure DevOps sync</strong>.</p>
</li>
<li><p>After Azure DevOps synchronization is complete, select the ellipsis  button (...) and then select <strong>Sync test cases</strong>. When this step is complete, your task recordings will become test cases in Azure DevOps and a link will appear under the <strong>Requirements</strong> tab.</p>
</li>
</ol>
<p><a data-linktype="relative-path" href="media/sync-test-cases.png#lightbox"><img alt="Screenshot showing the Sync test cases." data-linktype="relative-path" src="./rawmb500/media_sync_test_cases.png"/></a></p>
<p>In addition to the test steps, the task recording XML file is attached
to the Azure DevOps test case. This file will be needed if you want to
automate test runs.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Run user acceptance tests</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>To run your user acceptance tests, you will need to create a test plan and test suite in
Azure DevOps. This will allow you to run an ordered suite of test cases
and easily manage, investigate, and track the results.</p>
<ol>
<li><p>Sign in to Azure DevOps and select the project and test plan that you want to test in.</p>
</li>
<li><p>On the toolbar, select <strong>Test &gt; Test Plans</strong>.</p>
</li>
<li><p>On the left pane, select the drop-down next to the green plus <strong>+</strong> sign and then select <strong>Static suite</strong>.</p>
</li>
<li><p>Enter a name for the suite.</p>
</li>
<li><p>Select <strong>Add existing</strong> and query the tag <strong>Lifecycle Services:Test Cases</strong>.</p>
</li>
<li><p>Select <strong>Run &gt; Add test cases</strong>.</p>
</li>
<li><p>Select the test case to view details and the attached XML file.</p>
</li>
</ol>
<p>Create various test suites under the same test plan and then
use custom queries to add specific test cases to a test suite. A test
case can belong to more than one test suite.</p>
<h3 id="run-manual-test-cases">Run manual test cases</h3>
<p>When you have a test suite, you are ready to use it for regression
testing after updates have been made to your finance and operations apps
application in a sandbox or test environment. You can run the test cases
in your test suite manually. Alternatively, you can play the task recordings that are part of
the test suite and use Azure DevOps to denote the test cases as passed or failed.</p>
<p><img alt="Screenshot of the manual tests outcome field." data-linktype="relative-path" src="./rawmb500/media_manual_tests.png"/></p>
<p>Azure DevOps also provides a tool, named Test Runner, to manage manual
test case runs. For more information about using Test Runner,
see <a data-linktype="absolute-path" href="/en-us/azure/devops/test/run-manual-tests?azure-portal=true">Run manual tests</a>.</p>
<p>We recommend that you take advantage of Azure DevOps because it provides a
rich set of management features that are not only for testing but also for result
management and mitigation.</p>
<h3 id="run-automated-test-cases">Run automated test cases</h3>
<p>The Dynamics 365 Unified Operations platform provides developers with
tools to write test cases based on task recordings and use Azure DevOps
to manage the automated running of these test cases.</p>
<p>Developers can use the build and test automation capabilities of build
and test environments. For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/continuous-delivery-home-page/?azure-portal=true">Continuous delivery home page</a>.</p>
<p>The Regression Suite Automation Tool (RSAT)significantly reduces the time and cost of user acceptance testing (UAT). RSAT lets functional power users record business tasks by using Task recorder and then convert the recordings into a suite of automated tests, without having to write source code. RSAT is fully integrated with Microsoft Azure DevOps for test execution, reporting, and investigation. Test parameters are decoupled from test steps and stored in Microsoft Excel files.</p>
<p>Download the tool and user manual from <a data-linktype="external" href="https://www.microsoft.com/download/details.aspx?id=57357">finance and operations apps, Regression Suite Automation Tool</a>.</p>
<h4 id="trial-without-azure-devops-license">Trial without Azure DevOps license</h4>
<p>If your organization currently does not have a subscription to the Azure DevOps Test plan user license, there are still options for running a trial of the RSAT tool without the connection to Azure DevOps. This will allow you to gain insight and personally experience the test automation abilities of RSAT before fully committing to the subscription in Azure DevOps.</p>
<p>With the ability to run RSAT on a trial basis without a subscription to Azure DevOps, a user can manually upload the task recordings they have made into RSAT. Since this a trial, only the user who is uploading the task recordings will have the ability to run the test automations through the tool. Running the trial will enable the user to see the benefits of the tool for their organization before a commitment to an Azure DevOps subscription. For full access and to be able to run RSAT as normal along with the connection to Azure DevOps.</p>
<p>For information about purchasing a license, see <a data-linktype="external" href="https://azure.microsoft.com/pricing/details/devops/azure-devops-services">Pricing for Azure</a>.</p>
<p>To see how to create a test plan in Azure DevOps to use with RSAT, watch this video.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=5313ebe6-9e73-4a6d-9abe-67b616bcb555"></iframe></div>
<p>To see how to use RSAT, watch this video:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=88daf54a-0b81-4069-89fd-ac528d66543d"></iframe></div>
<h3 id="rsat-supports-parallel-execution">RSAT supports parallel execution</h3>
<p>One of the benefits that RSAT tool provides is that a user can run multiple instances of RSAT on the same environment. This saves both time and money since multiple environments are not required to run test scripts, but instead they can be parallelly executed. An example of this in practice may include one user running a fairly large number of test cases at the same time, instead of having to run them sequentially. Another user would also be able to work out of the same environment and run separate test cases, to maximize environment resources.</p>
<p>There's an option to configure how many concurrent instances the environment can process concurrently. The option can optimize use of environment resources.</p>
<p>This feature can also be used when executing tests from Azure DevOps pipelines, by running multiple pipelines scheduled to run at the same time. This way, multiple test runs can execute in parallel on one environment to help process all tests faster.</p>
<h3 id="investigate-test-runs">Investigate test runs</h3>
<p>When an automated run is complete, on the Azure DevOps toolbar, select <strong>Test &gt; Runs</strong> (or <strong>Test Plans &gt; Runs</strong>) to investigate your test run. Select the desired test run to investigate test case failures
and errors.</p>
<p>You can also go to your test suite in Azure DevOps to see the latest results that are associated with your test cases.</p>
<p>For more information on testing and test management in Azure DevOps, see <a data-linktype="absolute-path" href="/en-us/azure/devops/?azure-portal=true">Azure DevOps documentation</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data task automation</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Data task automation in finance and operations apps lets you repeat many
types of data tasks and validate the outcome of each task. Data task
automation is useful for projects that are in the implementation phase.</p>
<p>For example, you can automate the creation and configuration of data
projects. You can also configure and activate the running of
import/export operations, such as the setup of demo data, golden
configuration data, and other tasks that are related to data migration.
You can also create automated testing of data entities by using task
outcome validation.</p>
<p>We recommend the following approach for data task automation:</p>
<ol>
<li><p><strong>Identify the data-related tasks that will benefit from
automation</strong> - Implementation teams should review their
configuration management plan and data migration plan to identify
potential data tasks for automation and also to identify data
entity test cases.</p>
</li>
<li><p><strong>Define tasks</strong> - Tasks are defined in an XML manifest. You can
keep your manifest under source control as part of configuration
management in your application lifecycle management (ALM) strategy.</p>
</li>
<li><p><strong>Put the data packages that are related to data task automation in
the Shared asset library of Lifecycle Services</strong> - You can also use a specific Lifecycle Services
project as you require. The Data task automation manager can consume
packages from any sandbox and/or production environment that is
related to the Lifecycle Services project.</p>
<div class="NOTE">
<p>Note</p>
<p>The user account that runs Data task automation manager in finance and operations apps must have access to Lifecycle Services and to the Lifecycle Services project that is referenced in the manifest for data packages.</p>
<p>Although data task automation can be run in any environment in the cloud, we recommend that you not run any import/export tasks that use integration application programming interfaces (APIs) in a production environment. Data task automation that involves integration APIs should be used only for automated testing.</p>
</div>
</li>
<li><p><strong>Run the data tasks and then review the outcomes</strong> - Data task
automation manager provides the success or failure outcome for each
task. It also provides insights into the reason why a task failed.</p>
</li>
</ol>
<p>For more information, refer to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/data-task-automation/?azure-portal=true">Data task automation</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Build test scripts to test business functionality</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>After you have created a Business Process Modeler (BPM) library, you'll need to use Task recorder
to create your test cases and then upload the cases to BPM.</p>
<p>Next, you will need to create a test plan and test suite in Azure
DevOps. This will allow you to run an ordered suite of test cases
and easily manage, investigate, and track the results.</p>
<h3 id="before-you-begin">Before you begin</h3>
<p>To get the most benefit from this exercise, we recommend that you have
the standard sample data available in finance and operations apps installed by using Lifecycle Services.</p>
<h3 id="create-a-bpm-library">Create a BPM library</h3>
<ol>
<li>In Lifecycle Services, navigate to your project. In the tiles on the right, select <strong>Business process modeler</strong>.</li>
<li>On the <strong>Business process libraries</strong> page, select <strong>New library</strong>.</li>
<li>Enter a name. for example <strong>Training First</strong> for the new library, and then select <strong>Create</strong>. </li>
</ol>
<h3 id="add-a-new-process">Add a new process</h3>
<ol>
<li>In the BPM library, select <strong>Training First</strong>.</li>
<li>Highlight the process <strong>Sample Core Business Process</strong> and then select <strong>Add process</strong>.</li>
<li>You can select to add the process as a child or a sibling of the selected process node. In this way, you can create a semantic hierarchy of business processes. Select <strong>As child</strong>.</li>
</ol>
<h3 id="edit-the-properties-of-the-process">Edit the properties of the process</h3>
<ol>
<li>In the BPM library, select the process node to edit <strong>New business process</strong>.</li>
<li>On the right-pane, on the <strong>Overview</strong> tab, select <strong>Edit mode</strong>.</li>
<li>Enter a name and description for the process node:
<ul>
<li><strong>Name</strong>: Create a sales order</li>
<li><strong>Description</strong>: This process documents the creation of a sales order.</li>
</ul>
</li>
<li>Optionally, select the industries and the countries or regions that the process applies to. You can also add keywords and links. Keywords let you define categories, work streams, or other metadata. Links (URLs) let you reference external sites or documentation.</li>
<li>When you've finished editing the properties, select <strong>Save</strong>.</li>
</ol>
<h3 id="copy-a-library">Copy a library</h3>
<p>You may have the need to copy a library, for example, for a variation. This task illustrates how it’s done.</p>
<ol>
<li><p>Open the <strong>Business process libraries</strong> page via the <strong>Business process modeler</strong> tile on the project page on Lifecycle Services.</p>
</li>
<li><p>On the tile for <strong>Training first</strong>, as the library that you want to copy, select the ellipsis button (...) and then select <strong>Copy</strong>. </p>
</li>
<li><p>Enter a name for the library <strong>Training Second</strong> and then select <strong>Create</strong>. </p>
</li>
</ol>
<h3 id="add-a-new-child-process">Add a new child process</h3>
<ol>
<li>In the <strong>Training Second</strong> library, select the existing process <strong>Create a sales order</strong>. You do this by selecting the caret next to <strong>Sample Core Business Process</strong> and highlighting the <strong>Create a sales order</strong> line.</li>
<li>Select <strong>Add process</strong>. You can select to add the process as a child or a sibling of the selected process node. In this way, you can create a semantic hierarchy of business processes. Select <strong>As child</strong>.</li>
</ol>
<h3 id="edit-the-properties-of-the-process-1">Edit the properties of the process</h3>
<ol>
<li>On the right-pane, on the <strong>Overview</strong> tab, select <strong>Edit</strong> mode.</li>
<li>Enter a name and description for the process node:
<ul>
<li><strong>Name</strong>: Create a sales line</li>
<li><strong>Description</strong>: This process creates a line for the parent sales order.</li>
</ul>
</li>
<li>When you've finished editing the properties, select <strong>Save</strong>.</li>
</ol>
<h3 id="record-test-cases-and-save-to-bpm">Record test cases and save to BPM</h3>
<ol>
<li><p>Open the finance and operations apps client and sign in.</p>
</li>
<li><p>Select the company that you want to use while recording, in this case <strong>USMF</strong>.</p>
</li>
<li><p>Go to <strong>Settings &gt; Task recorder</strong>.</p>
<blockquote>
<p><img alt="Screenshot of the Task recorder feature in the Settings menu." data-linktype="relative-path" src="./rawmb500/media_task_recorder.png"/></p>
</blockquote>
</li>
<li><p>Select <strong>Create a new recording</strong>.</p>
</li>
<li><p>Enter a name for the recording: <strong>Sales order creation</strong>, and then select <strong>Start</strong>. Recording
begins the moment that you select <strong>Start</strong>.</p>
</li>
<li><p>Navigate to <strong>Modules &gt; Accounts receivable &gt; Orders &gt; All sales orders</strong>.</p>
</li>
<li><p>Click <strong>New</strong>.</p>
</li>
<li><p>Enter <strong>US-001</strong> in the <strong>Customer</strong> field.</p>
</li>
<li><p>Select <strong>OK</strong>.</p>
</li>
<li><p>In the sales order line, enter <strong>A0001</strong> in the <strong>Item</strong> field.</p>
</li>
<li><p>In the <strong>Site</strong> field, enter <em>1</em>.</p>
</li>
<li><p>Allow the remaining values to default.</p>
</li>
<li><p>Select <strong>Save</strong>, and close with the <strong>X</strong> button.</p>
</li>
<li><p>When the task is complete, on the Task recorder pane,
select <strong>Stop</strong>.</p>
</li>
<li><p>To save the task recording to an attached BPM, select <strong>Save to
Lifecycle Services</strong>.</p>
<ul>
<li>If you haven’t connected to Lifecycle Services yet, now is the time to establish a connection. Select the <strong>Click here to connect to Lifecycle Services</strong> button.</li>
<li>You should be sent to a browser tab saying that you were successful. You can close the tab.</li>
<li>Return to your finance and operations screen and select <strong>OK</strong>.</li>
</ul>
</li>
<li><p>Select the library that you want to save the recording to, which will have the name <strong>Training Second</strong>, and the process <strong>Create a sales order</strong>, then select <strong>OK</strong>.</p>
</li>
</ol>
<h3 id="alternate-method--save-locally-then-upload">Alternate method – save locally, then upload</h3>
<ol>
<li><p>Alternatively, you can select <strong>Save to this PC</strong>. Complete the save process of the .axtr.</p>
</li>
<li><p>Open or return to Lifecycle Services, in your project, on the <strong>Business process libraries</strong> page, select the library to upload the task recording to.</p>
</li>
<li><p>Locate and select the process (<strong>Create a sales order</strong> under <strong>Training Second</strong>) to upload the task recording to.</p>
</li>
<li><p>On the right-pane, select <strong>Upload</strong>.</p>
</li>
<li><p>Select <strong>Browse</strong> to find and select the .axtr file to upload, and then select <strong>Upload</strong>.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Manage and distribute BPM libraries is part of which phase of the user acceptance tests processes in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Create user acceptance test library</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Synchronize and configure your test cases in Azure DevOps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Run your tests</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which one of the following considerations is part of the guidelines for recording test cases in finance and operations apps when you create a test case (recording)?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A test case (recording) should cover one or two business tasks only and is typically performed by one person.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A test case (recording) should cover all business tasks and is typically performed by one person.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A test case (recording) should cover all business tasks and is typically performed by multiple roles and different personnel.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which one of the following considerations is part of the guidelines when you create test cases and work with transactions and source documents?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>80+ percent of test cases should be from transactions or source documents. Master data should be limited to up to 20 percent of test cases.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>80+ percent of test cases should be Master data. Twenty percent of test cases should be from transactions or source documents.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>100 percent of test cases should be from transactions or source documents.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>When you run data task automation, which one of the following access controls rights?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Access to Lifecycle Services and to the Lifecycle Services project that is referenced in the manifest for data packages</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Access to the Lifecycle Services project</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Access to Lifecycle Services data packages and asset libraries</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you learned how to build test cases to test business
functionality without the need for development skills.</p>
<p>The main purpose of user acceptance testing (UAT) is to verify that
specific business scenarios work as you would expect.</p>
<p>The goal is to help you catch issues or errors before you go
to the production environment without needing a developer to code for you.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>All your hard work becomes a success by moving the implemented solution in finance and operations apps to the production environment, which is the final stage of completing an implementation.</p>
<p>You want a happy customer, a quality solution, and peace of mind during this important phase, which is known as go-live.</p>
<p>It is important to prepare for the go-live phase of finance and operations apps, and the final stage of implementation.</p>
<p>In this module, you'll learn how to:</p>
<ul>
<li>Prepare for go-live.</li>
<li>Complete the Lifecycle Services methodology.</li>
<li>Perform User acceptance testing (UAT) for your solution.</li>
<li>Understand the FastTrack Go-live assessment.</li>
<li>Request the production environment.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Understand the go-live process</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The go-live process is shown in the following image.</p>
<p><img alt="Diagram of the go-live process with actions highlighted." data-linktype="relative-path" src="./rawmb500/media_go_live_process.png"/></p>
<p>The go-live process consists of the following actions, which should be considered as sequential steps in a checklist:</p>
<ol>
<li><p><strong>Update the go-live date in Lifecycle Services</strong>: Throughout project implementation, make sure that the milestone dates are continuously kept up-to-date. Start this step, at the latest, two to three months prior to go-live. You need to closely engage with customer key stake holders during this period in case anything unusual happens</p>
</li>
<li><p><strong>Complete and send Pre go-live checklist</strong>: You can perform this task after all User Acceptance Tests (UATs) are completed and signed off by key stakeholders. All finance and operations apps customers must complete a go-live assessment with the Microsoft FastTrack team before their production environment can be deployed. This assessment should be successfully completed before you request your production environment. If you aren't familiar with Microsoft FastTrack, refer to <a data-linktype="absolute-path" href="/en-us/dynamics365/fasttrack/?azure-portal=true">Welcome to FastTrack for Dynamics 365</a>. You can also download the checklist from <a data-linktype="external" href="https://www.microsoft.com/fasttrack/resources/?azure-portal=true">FastTrack Resources page</a>.</p>
</li>
<li><p><strong>Project assessment (Fast Track Essentials)</strong>: The architect will deliver the assessment after the checklist is received and will then continue reviewing until questions are clarified and mitigations are in place, if applicable. It should take a few days for the initial report, plus additional time for mitigation, if necessary. This task is a responsibility of a FastTrack Architect.	<strong>Project workshop (FastTrack)</strong>: A FastTrack Architect uses a project workshop to coordinate activities for assessment.</p>
</li>
<li><p><strong>Release for production deployment</strong>: If the production deployment request has already been submitted, deployment will start. However, we request that you only submit the production request after the assessment has successfully completed. Perform this task upon a successfully completed assessment.</p>
</li>
<li><p><strong>Request production deployment</strong>: This is a self-service task and the responsibility of your customer, though it can be done with your help. The customer should request the production deployment and submit it to Microsoft only after the FastTrack Architect has finished the assessment.</p>
<p>As an earlier part of this step, the sizing team should have informed the customer about the topology needed in a pricing option. Automatic sizing is based on a subscription estimate by default, while manual sizing is based on exception.</p>
<p>In the case of automatic sizing, the timing for sizing is immediate, but it could take longer if it requires further clarification of the subscription estimate.</p>
<p>Finally, the Dynamics Service Engineering (DSE) team performs the deployment, which can take up to 48 hours to complete. The <strong>Status</strong> field in Lifecycle Services reflects the deployment progress. Any questions that you might have about your request will be posted as comments on the service request.</p>
</li>
<li><p><strong>Submit deployable package installation request</strong>: Your customer should be aware that applying packages causes system downtime. All relevant services will be stopped, and they won't be able to use the environments while the package is being applied. You should plan accordingly and perhaps perform this task during off hours.
For package installation, depending on number of packages, it could take a minimum of five hours lead time and four hours downtime for each package.</p>
<p>Generally, 95 percent of the updates are applied in less than one hour; however, we still recommend that you provide a downtime window of four hours in case a rollback is required for any reason.</p>
<p>When the package deployment succeeds, the environment will be available as soon as the package deployment has finished, which means that the longer downtime window does not have any negative effect on system availability.</p>
</li>
<li><p><strong>Submit request to copy database from sandbox (if applicable)</strong>: You need to follow the instructions exactly as they are documented in <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/database/database-refresh/?azure-portal=true">Refresh database</a>.</p>
<p>Also, you need to request <strong>copy database</strong> to restore it to the sandbox environment. Once requested, Dynamics Service Engineering (DSE) will copy the production database and make it available in the Lifecycle Services project’s asset library. Note that it might need five hours lead time and result in two hours downtime.</p>
<p>Generally, the database copy is completed in less than one hour. We still recommend that you provide a downtime window of two hours in case a rollback is required for any reason.</p>
</li>
<li><p><strong>Production ready</strong>: In this task, you and your customer can take control of the production environment after all previous steps have been completed. Depending on the project, some cutover activities might need to be performed.</p>
</li>
<li><p><strong>Go-live</strong>: Depending on the project, the customer can go live with finance and operations apps, hosted in the production environment.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Complete the Lifecycle Services methodology</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>After you have prepared to go live, it is time to take finance and operations apps to the production environment.</p>
<p>Completing the Lifecycle Services methodology is a major milestone in each implementation project, and it is the cutover to the production environment.</p>
<p>To help ensure that the production environment is used for live operations, Microsoft will provision the production instance only when the implementation is approaching the Operate phase, after the required activities in the Lifecycle Services methodology are completed.</p>
<p>For more information about the environments in your subscription, refer to the <a data-linktype="external" href="https://dynamics.microsoft.com/pricing/?azure-portal=true">Licensing guide</a>.</p>
<p>Customers must complete the Analysis, Design and develop, and Test phases in the Lifecycle Services methodology before the <strong>Configure</strong> button that is used to request the production environment becomes available.</p>
<p>To complete a phase in Lifecycle Services, you first need to complete every required step in that phase. When all steps in a phase are completed, you can complete the whole phase. You can always reopen a phase later if you need to make changes.</p>
<p>If you require more help, refer to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/lifecycle-services/lcs-works-lcs/?azure-portal=true">Lifecycle Services for finance and operations apps customers</a>.</p>
<p>The process of completing a step has two parts:</p>
<ol>
<li>Performing the actual work, such as a fit-gap analysis or user acceptance testing (UAT).</li>
<li>Selecting the corresponding step in the Lifecycle Services methodology as completed.</li>
</ol>
<p>It's good practice to complete the steps in the methodology as you make progress with the implementation. Avoid waiting until the last minute. Be thorough, rather than simply selecting through all the steps to quickly get a production environment. It's in the customer's best interest to have a solid implementation.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Perform user acceptance testing (UAT) for your solution</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>During the User acceptance test (UAT) phase, you need to test all the business processes that you've implemented, and any customizations that you've made, in a sandbox, or standard acceptance test environment, in the implementation project. To help ensure a successful go-live, you should consider the following as you complete the UAT phase:</p>
<ul>
<li>Test that cases cover the entire scope of requirements.</li>
<li>Test by using migrated data. This data should include master data and opening balances, even if they aren't yet final.</li>
<li>Test by using the correct security roles (default roles and custom roles) that are assigned to users.</li>
<li>Make sure that the solution complies with any company-specific and industry-specific regulatory requirements.</li>
<li>Document all features and obtain approval and sign-off from the customer.</li>
</ul>
<p>Regardless of whether the instance of finance and operations apps used for testing is a cloud-hosted environment or a downloaded virtual hard disk (VHD), testing cannot be considered complete because it might have also been used by a developer or other user for demo and training.</p>
<p>The following are the reasons why testing cannot be considered complete:</p>
<ul>
<li>The topology of the Tier-1 environments differs from the topology of your production environment. It's important that you test all functionality on a Tier-2 or higher sandbox environment in the Microsoft-managed subscription. It's especially important that you test integrations, printing functionality, workflow functionality, and warehouse and retail devices in the sandbox environment.</li>
<li>System performance can't be measured when you do the UAT on local virtual machines (VMs) or VMs that are privately hosted.</li>
<li>To prevent delays during the cutover process, it's important that the team experience the servicing in Lifecycle Services during implementation. This servicing includes the processes of applying deployable packages, creating service requests, and moving databases between environments.</li>
</ul>
<p>For more information about User Acceptance Testing (UAT), see  <a data-linktype="absolute-path" href="/en-us/training/modules/perform-uat-finance-operations/?azure-portal=true">Perform user acceptance testing in finance and operations apps</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">FastTrack go-live assessment</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft FastTrack for finance and operations apps is a customer success service that is designed to help you move smoothly and confidently to finance and operations apps so that you can realize business value faster.</p>
<p>When participating in the FastTrack program, you receive guidance about implementation best practices, planning for successful rollouts, and expanding capabilities. However, you can implement at your own pace. You also have access to Microsoft Solution Architects who are committed to making your experience with finance and operations apps a success.</p>
<p>All finance and operations apps customers need to complete a go-live review with the Microsoft FastTrack team before their production environment can be deployed. This assessment should be successfully completed before you request your Production environment.
If you aren't familiar with Microsoft FastTrack, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fasttrack/?azure-portal=true">Welcome to FastTrack for Dynamics 365</a>.</p>
<p>About eight weeks before go-live, the FastTrack team will ask you to fill in a go-live checklist:</p>
<ul>
<li>If you have a combined annual adjusted revenue of 300,000 U.S.Dollars (USD) or more, a Microsoft Solution Architect is assigned to your project, who drives various workshops with Customer and Partner during the implementation.</li>
<li>If you a combined annual adjusted revenue less than 300,000 USD, all the communication with the FastTrack team is via email.</li>
</ul>
<p>To learn more about FastTrack eligibility, review the <a data-linktype="absolute-path" href="/en-us/dynamics365/fasttrack/eligibility/?azure-portal=true">Customer eligibility and partner qualifications</a>.</p>
<p>You can also download a FastTrack pre-go-live checklist.</p>
<p>The project manager or a key project member needs to complete the go-live checklist during the pre-go-live phase of the project. Typically, the checklist is completed four to six weeks before the proposed go-live date, when UAT is completed or almost completed.</p>
<p>After the checklist is submitted, a Microsoft solution architect will review the project and provide an assessment that describes the potential risks, best practices, and recommendations for a successful go-live of the project. In some cases, the Solution Architect might highlight risk factors and ask for a mitigation plan. When the assessment is completed, the Solution Architect will indicate that you're ready to request the production environment in Lifecycle Services.</p>
<p>If you request the production environment before the assessment is completed, the deployment will remain in the <strong>Queued</strong> state until the assessment is successfully completed.</p>
<p>You can cancel an environment deployment request while it is in a <strong>Queued</strong> state by following these steps:</p>
<ol>
<li>Select <strong>Queued</strong>.</li>
<li>On the <strong>Customer sign-off</strong> tab, select <strong>Clear sign-off</strong>.</li>
</ol>
<p>This will set the environment back into a state of Configure and allow you to make changes to the configuration, such as selecting a different datacenter or environment topology.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Request a production environment</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>After you've completed the analysis, design and develop, and test phases in the Lifecycle Services methodology, and the go-live assessment has concluded that the project is ready, you can request your production environment.</p>
<p>We recommend that you select a service account, for example a generic user account, as the Admin user of the environments that you deploy. If you use a named user account, you might not be able to access an environment if that user isn't available.</p>
<p>The following are scenarios where the Admin user needs to access an environment:</p>
<ul>
<li><strong>First sign in to any environment after initial deployment</strong> – In this case, the Admin user is the only user who can access the environment.</li>
<li><strong>First sign in to a sandbox environment after a database refresh from the production environment</strong> – In this case, all user accounts except the Admin account are unable to sign in.</li>
</ul>
<p>Your production environment should be deployed to the same datacenter where your sandbox environments are deployed.</p>
<p>After you've signed off on the request for the production environment, Microsoft is responsible for deploying the production environment for you. The Microsoft service level agreement (SLA) for deployment of a production environment is 48 hours. The production environment can be deployed at any time within 48 hours after you submit the request, provided that your usage profile doesn't require additional information. You can view the progress of the deployment in Lifecycle Services. Typically, the status of the production environment request remains <strong>Queued</strong> for a few hours before it's changed to <strong>Deploying</strong>.</p>
<p>When you submit the deployment request, a service request for the Microsoft Dynamics Service Engineering (DSE) team is automatically created.
You can view this service request in the Service requests list in Lifecycle Services. If the DSE team has questions that prevent them from deploying the production environment, they will add a comment to the service request.</p>
<p>For example, the DSE team might ask that you update the subscription estimate or change the datacenter. In some cases, you might have to clear the sign-off from the production deployment request to make changes.</p>
<p>You can clear the sign-off only while the status of the production environment request is <strong>Queued</strong>. To clear the sign-off, select the <strong>Queued</strong> button. The status of the request is returned to <strong>Configure</strong>. You can then make any changes that are required and sign-off again.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you've learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Your customer is ready to go live and request to deploy the production environment. What must be done first?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>You must deploy a new environment and call it production.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Contact Dynamics Service Engineering (DSE).</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Complete a go-live review with the Microsoft FastTrack team.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Your customer is ready to go live and request to deploy the production environment by contacting the Microsoft FastTrack team. What happens next?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Your production environment is deployed by the Microsoft FastTrack team.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Your production environment is deployed by Dynamics Service Engineering (DSE).</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The Microsoft FastTrack team reviews the project and provides an assessment.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Your customer requests a copy database to be restored to a sandbox environment. Who is responsible for this process?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>SQL Server administrator</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft FastTrack team</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Dynamics Service Engineering (DSE)</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You have now learned how to prepare for a successful go-live by completing the Lifecycle Services methodology and making sure that the customer has performed and signed off on all user acceptance tests.</p>
<p>You also learned about the FastTrack go-live assessment and how to assist the customer to request the production environment.</p>
<p>If you need to understand how to upgrade customers that are currently using Microsoft Dynamics AX 2012, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/upgrade-overview-2012/?azure-portal=true">Upgrade from AX 2012 to finance and operations</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>A report in finance and operations apps can be defined simply as a structured presentation of data.
Under ideal circumstances, reports materialize data in such a way that it allows the user to make informed decisions.
Finance and operations apps supports a broad spectrum of information access scenarios that include, but are not limited to, the following:</p>
<ul>
<li>Cross company all-up financial reporting</li>
<li>Analytical dashboards and tiles</li>
<li>Electronically-transferable funds</li>
<li>Customer sales invoices</li>
<li>Checks and tax documents</li>
</ul>
<p>In this module, you will learn about:</p>
<ul>
<li>Different types of reports and inquiries in finance and operations apps</li>
<li>Financial reporting</li>
<li>Configuring finance and operations apps for Microsoft Power Platform</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Understand different types of reports and inquiries</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>The first step in working with the reporting functionality in finance and operations apps is to understand the reporting features that already exist and that you can use, either as they are, or through small extensions to match your customer requirements.</p>
<p>Finance and operations apps provide several reporting tools that cater to various data access scenarios.</p>
<p>For example, the needs of users when they are interacting with business documents differ greatly from scenarios where they want to explore data at an aggregate level or derive insights by using Artificial Intelligence models that are hosted in the cloud.</p>
<p>Finance and operations apps provide specialized tools for  reporting experiences:</p>
<ul>
<li><p><strong>Embedded analytics and native controls</strong> - Built-in visualizations that are used in operational reports to aggregate data to workspaces, by using native controls such as charts and grids.</p>
</li>
<li><p><strong>SQL Server Reporting Services (SSRS)</strong> - Primarily used for business documents and high-volume printing scenarios that are common with invoices, packing slips, picking lists, and more.</p>
<p>Many pre-generated SSRS reports come out of the box with finance and operations apps. SSRS reports allow you to print reports to different locations, such as your screen, printer, a file, or an email. You can use SSRS reports to create parameterized views with drill-down navigation. You can also embed hyperlinks from a report to finance and operations apps pages.
Additionally, you can schedule your reports to run periodically by using a batch job. SSRS reports can also help you create precise compliance documents for your local regulatory business. In addition to the out-of-the-box reports, you can create and modify additional reports by using X++ development to suit your organization's needs.</p>
</li>
<li><p><strong>Financial Report Designer</strong> - Flexible tool that is used to customize and create financial statements such as balance sheets, income statements, and cashflow statements.</p>
</li>
<li><p><strong>Microsoft Power Platform</strong> - Includes dashboards and workspaces that contain predefined and personalized views, Power BI, Power Apps, and Power Automate integrations.</p>
</li>
<li><p><strong>Electronic reporting</strong> - Used to configure formats for incoming and outgoing electronic documents in accordance with the legal requirements of various countries or regions. Electronic Reporting lets you manage these formats during their lifecycle.
For example, you can adopt new regulatory requirements, and generate business documents in the required format to electronically exchange information with government bodies, banks, and other parties.</p>
<p>The Electronic reporting engine is targeted at business users instead of developers. Because you configure formats instead of code, the processes for creating and adjusting formats for electronic documents are faster and easier.</p>
<p>See <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/general-electronic-reporting/?azure-portal=true">Electronic reporting (ER) overview</a> to learn more.</p>
</li>
</ul>
<h2 id="microsoft-office-integrations">Microsoft Office integrations</h2>
<p>By using the Microsoft Office integration built-in feature, you can export selected, or all, rows from a list page grid and export data entity values into a Microsoft Excel workbook for reporting purposes. Then, you can use the rich capabilities of Excel, such as pivot table, charts, and more, to present your data.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/grid-export.svg#lightbox"><img alt="Screenshot of the Export to Excel menu from the List page grid." data-linktype="relative-path" src="./rawmb500/media_grid_export.png"/></a></p>
</div>
<p>Finance and operations uses the Excel Data Connector to view, update, and edit data within an Excel workbook. You will need to download the Microsoft Dynamics Add-in to use this feature. On some pages, you can select the <strong>Open in Office</strong> icon on the Action Pane.</p>
<p>From there, you can select <strong>Open in Excel</strong> or <strong>Export to Excel</strong>.</p>
<ul>
<li><p><strong>Open in Excel</strong> - Lets you use the data entity that is related to the form data. The columns that appear on your Excel workbook are defined in the <strong>AutoReport</strong> field group on the entity. You can also add or remove fields from the entity by using the <strong>Design</strong> button. Additionally, you can filter the data by using the <strong>Filter</strong> button. The <strong>Open in Excel</strong> feature also gives you the ability to change the data in the grid and publish the changes back to finance and operations apps.</p>
</li>
<li><p><strong>Export to Excel</strong> - Exports all the grid data to an Excel workbook. When the data is in a workbook, you can use the tools in Excel to manipulate the data and create visual charts for your reporting needs.</p>
</li>
</ul>
<h2 id="financial-reporting">Financial reporting</h2>
<p>Standard financial reports are provided by using the default main account categories in finance and operations apps. Use the Report designer to create or modify traditional financial statements, such as the Income statement and Balance sheet, and share the results with other members of your organization.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Financial reporting</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Financial reporting allows financial and business professionals to create, maintain, and view financial statements. It moves beyond traditional reporting constraints to help you efficiently design various types of reports.</p>
<p>Financial reporting includes dimension support to determine what financial dimensions you want to include, and the sequence, and enables the building of a custom reporting structure.</p>
<p>You can map the following to gain better insight of financial data:</p>
<ul>
<li>Main accounts</li>
<li>Financial dimensions</li>
<li>Combinations of the two</li>
</ul>
<p>For example, you can create financial row structures to focus on cost accounts. You can set up unlimited financial dimensions that allow for cost detail.
The following financial dimensions are examples that might be associated with cost accounts:</p>
<ul>
<li>Cost centers</li>
<li>Departments</li>
<li>Combinations of the two</li>
</ul>
<p>The Financial reporting database is deployed to its own SQL Azure database on the same SQL Azure service as the finance and operations apps instance. This means that the database is preconfigured when you deploy finance and operations apps, and automatically links to available databases so that the Financial report designer can connect to it.</p>
<h2 id="report-designer">Report designer</h2>
<p>By using Report designer, you will be able to:</p>
<ul>
<li>Save and reuse dimension combinations for multiple reports.</li>
<li>Control how to format and display the dimension descriptions.</li>
<li>Identify the accounts or dimensions that have been omitted from report building blocks.</li>
<li>Format the headers for rolling forecasts.</li>
</ul>
<p>You can manage the generation and distribution of reports by using the following features:</p>
<ul>
<li>Scheduling reports so that they are automatically generated on a daily, weekly, monthly, or annual basis.</li>
<li>Exporting the report result to the read-only PDF format, which provides better document security through digital signatures.</li>
<li>Exporting to a Microsoft Excel worksheet.</li>
</ul>
<p>Interactive features let you perform the following tasks within Financial reporting:</p>
<ul>
<li>Change the report date for the report that you're viewing.</li>
<li>Change the currency of the report that you're viewing.</li>
<li>View the report in either a summary view or a detailed view.</li>
<li>Add dimension filters to limit the report content to a specific dimension or combination of dimensions.</li>
<li>Add attribute filters to limit the report content to a specific attribute or a combination of attributes.</li>
</ul>
<p>We recommend that you link your main accounts to your main account categories. This makes it easier and faster when setting up your reporting in Financial reporting.</p>
<p>For example, if you are creating a report, rather than listing many main accounts, you can simply list your main account category and get a total of all the main accounts in that category.</p>
<h2 id="accessing-financial-reporting">Accessing financial reporting</h2>
<p>Before creating and generating the financial reports, ensure that the following items have been set up for your company:</p>
<ul>
<li>Currency</li>
<li>Fiscal calendar</li>
<li>Chart of accounts</li>
<li>Ledger</li>
</ul>
<p>For more information, see the following Microsoft Learn documentation and training content:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/finance/budgeting/fiscal-calendars-fiscal-years-periods/?azure-portal=true">Fiscal calendars, fiscal years, and periods</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/finance/general-ledger/plan-chart-of-accounts/?azure-portal=true">Plan your chart of accounts</a></li>
<li><a data-linktype="absolute-path" href="/en-us/training/modules/configure-currencies-dyn365-finance/?azure-portal=true">Configure currencies in Dynamics 365 Finance</a></li>
<li><a data-linktype="absolute-path" href="/en-us/training/modules/create-fiscal-calendars-years-periods-dyn365-finance/?azure-portal=true">Create fiscal calendars, years, and periods in Dynamics 365 Finance</a></li>
<li><a data-linktype="absolute-path" href="/en-us/training/modules/configure-chart-accounts-dyn365-finance/?azure-portal=true">Configure chart of accounts in Dynamics 365 Finance</a></li>
<li><a data-linktype="absolute-path" href="/en-us/training/modules/configure-ledgers-journals-dyn365-finance/?azure-portal=true">Configure ledgers and journals in Dynamics 365 Finance</a></li>
</ul>
<p>You can find the <strong>Financial reporting</strong> menu in the following locations in Dynamics 365 Finance:</p>
<ul>
<li><strong>General Ledger &gt; Inquiries and reports</strong></li>
<li><strong>Budgeting &gt; Inquires and reports &gt; Basic budgeting</strong></li>
<li><strong>Budgeting &gt; Inquiries and reports &gt; Budget planning</strong></li>
<li><strong>Budgeting &gt; Inquiries and reports &gt; Budget control</strong></li>
<li><strong>Consolidations</strong></li>
</ul>
<h2 id="financial-reporting-setup">Financial reporting setup</h2>
<p>The <strong>Financial reporting setup</strong> page in <strong>General ledger &gt; Ledger setup</strong> has a list of all financial dimensions in the system. It has two sections that determine the data that you will report on in Financial reporting:</p>
<ul>
<li><strong>Dimensions tab</strong> - Because different companies use different dimensions and account structures, there is no way to determine the order in which users want to view all financial dimensions on reports. This page allows you to set the order in which you want financial dimensions to appear when you build and view a report in Financial reporting.</li>
<li><strong>Attributes tab</strong> - This is where you can select whether you want to use vendors and customers as attributes for filtering and report design. Reporting on vendor and customer will only be valuable if you do not enter multiple vendors or customers in a single voucher when posting transactions. Selecting <strong>Vendor</strong> and/or <strong>Customer</strong> will add more time to the integration.</li>
</ul>
<h2 id="financial-reporting-components">Financial reporting components</h2>
<p>The following components of financial reporting make it easy to create, view, and schedule reports:</p>
<ul>
<li><strong>Report designer</strong> - Create report building blocks that can be combined to define and generate a report. Advanced users can create new report building blocks or modify existing building blocks to meet their requirements.</li>
<li><strong>Report schedules</strong> - Schedule a single report, or a group of reports, so that it is generated on a regular basis.</li>
</ul>
<p>The financial statement functionality simplifies your ability to build reporting structures for internal analytical purposes. You can create many financial reports to comply with requirements and international accounting standards.</p>
<p>There are two default balance sheet reports:</p>
<ul>
<li><strong>Balance Sheet – Default</strong> - The sections are stacked. Provides a view of the organization's financial position for the year.</li>
<li><strong>Side by Side Balance Sheet – Default</strong> The sections are side by side. Provides a view of the organization's financial position for the year. Assets and liability and shareholder’s equity are side by side.</li>
</ul>
<p>The three trial balance reports are:</p>
<ul>
<li><strong>Detailed Trial Balance – Default</strong> - Provides balance information for all accounts, and includes debit and credit balances, and the net of these, together with the transaction date, voucher, and journal description.</li>
<li><strong>Summary Trial Balance – Default</strong> - Provides balance information for all accounts and includes opening and closing balances, and debit and credit balances, together with their net difference.</li>
<li><strong>Summary Trial Balance Year Over Year – Default</strong> - Provides balance information for all accounts and includes opening and closing balances, and debit and credit balances, together with their net difference for the current year and the past year.</li>
</ul>
<p>The <strong>Income Statement – Default</strong> report provides a view of the organization’s profitability for the current period and for the year to date.</p>
<h2 id="financial-report-retention-policies">Financial report retention policies</h2>
<p>As you run Financial reports, default expiration dates are applied to each one to automatically delete them after a period of time. Any reports can be retained for regulatory purposes, however, by using the Expiration feature in Financial reports. You have two choices:</p>
<ul>
<li>90 days</li>
<li>Never</li>
</ul>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/expiration-date-ssm.png#lightbox"><img alt="Screenshot of the Reports expiration page with expires after date." data-linktype="relative-path" src="./rawmb500/media_expiration_date_ssm.png"/></a></p>
</div>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/expiration-date-choices-ssm.png#lightbox"><img alt="Screenshot of the Reports expiration page with expiration date choices." data-linktype="relative-path" src="./rawmb500/media_expiration_date_choices_ssm.png"/></a></p>
</div>
<h2 id="row-definition">Row definition</h2>
<p>A row definition is a report component, or building block, that specifies the contents of each row on a financial report. It can be combined with column definitions, reporting tree definitions, and report definitions to create a building block group that can be used by multiple companies.</p>
<p>A row definition defines the descriptive lines (for example, salaries or sales) on a report. It also lists the segment values or dimensions that contain the values for each line item and includes row formatting and calculations.</p>
<p>You can use row definitions in the financial statements to present financial figures by the following:</p>
<ul>
<li>Financial dimension</li>
<li>Main accounts</li>
<li>A combination of the two</li>
</ul>
<p>A row definition can contain up to 20,000 financial dimension rows and can include the following information:</p>
<ul>
<li>Descriptive text that adds meaning to the report by creating section headings, lines, and spaces, such as Cash or Total revenue.</li>
<li>Links to financial data, which can include dimension values in finance and operations apps.</li>
<li>Row totals and formulas that are based on the linked financial data.</li>
</ul>
<p>Usually, each row in a row definition contains one of the following types of information:</p>
<ul>
<li>References to the financial dimensions system.</li>
<li>Totals or calculations that are based on the data.</li>
<li>Formatting.</li>
</ul>
<p>Two methods for entering information in a row definition are:</p>
<ul>
<li><strong>Manually</strong> - Enter row information in a new row definition. For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/modify-row-definition-cells-financial-reporting?azure-portal=true&amp;toc=%2Ffin-and-ops%2Ftoc.json">Modify row definition cells</a>.</li>
<li><strong>Use the Report designer</strong> - Use this to pull row information directly from the financial dimensions.</li>
</ul>
<p>You can set up a row definition to pull data from the financial dimensions system every time that the report is generated.</p>
<p>A dimension is an intersection of data and values. You can group data and values in the Report designer. Then, you can classify and analyze transactions in more detail. You can use the <strong>Insert rows</strong> function from <strong>Dimensions</strong> dialog box to add multiple rows to a row definition at the same time.</p>
<p>The following list describes the information that you can specify for each dimension:</p>
<ul>
<li><strong>Dimension</strong> - The pattern that identifies the dimension to add to the row definition. This pattern contains one ampersand (&amp;) or number sign (#) for each position in the dimensions. If a dimension has an ampersand, then that dimension will populate the row definition. By default, it's set on the main account, which is the most common way to build a row definition.</li>
<li><strong>Dimension Range Start</strong> - The first value for this dimension to add to the row definition.</li>
<li><strong>Dimension Range End</strong> - The last value for this dimension to add to the row definition.</li>
</ul>
<h2 id="column-definition">Column definition</h2>
<p>A column definition is a report component, or building block, that defines the contents of columns on a report. Like row definitions, basic column definitions can be used on multiple reports.</p>
<p>A column definition defines the period to use when data is extracted from the financial dimensions. It also includes column formatting and calculations. You can also restrict a report column to a specific unit or for specific dates.</p>
<p>Often, you might need to combine financial dimension sets to make detailed financial reports, which match the customer’s requirements. This helps companies to analyze transactions from the following transactions:</p>
<ul>
<li>General ledger</li>
<li>Budget</li>
</ul>
<p>You can add, modify, and delete the headers that appear at the top of the columns on a report. You can also configure conditional spanning column headers, based on the <strong>Period</strong> field from column definitions and the <strong>Base period</strong> field from report definitions. The base period feature helps save time when you create rolling forecast reports.</p>
<h2 id="reporting-tree-definition">Reporting tree definition</h2>
<p>A reporting tree definition helps define the structure and hierarchy of your organization. It's a cross-dimensional and cross-company hierarchical structure that is based on the dimensional relationships in your financial data. It provides information at the reporting unit level and at a summary level for all units in the tree.</p>
<p>Reporting tree definitions can be combined with column definitions and report definitions to create a building block group that can be used by multiple companies.</p>
<p>A reporting unit can be an individual department from the financial data, or it can be a higher-level summary unit that combines information from other reporting units. For a report definition that includes a reporting tree, one report is generated for each reporting unit and for the summary level.</p>
<p>Financial reports that aren't based on a reporting tree use only some of the capabilities of Financial reporting. You can use multiple reporting tree definitions together with the same row and column definitions to view your organization's data in various ways.
All these reports use the row and column definitions that are specified in the report definition, unless the report definition specifies that the reporting tree from the row definition should be used. Row and column definitions are important components in the design and functionality of financial reports.</p>
<h2 id="security-considerations">Security considerations</h2>
<p>You can create a password to lock and help protect a building block. In this way, you can add a level of security to a report component without securing the whole system.</p>
<p>A password can help protect building block information that is important to your month-end reporting process.
A user in any role can lock a building block. However, other users always have read-only access to a locked component. Users can open, change, and save the locked component under a new name.
A user who has the role of administrator can always access and change a locked building block.</p>
<h2 id="learn-more">Learn more</h2>
<p>For more information about financial reports, see <a data-linktype="absolute-path" href="/en-us/dynamics365/finance/general-ledger/financial-reporting-getting-started/?azure-portal=true">Get started with Financial reporting</a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Find inquiries and reports</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Modules like Supply Chain Management, Human Resources, and Finance, provide a comprehensive set of out-of-the-box reports and inquiries designed to enhance business decision-making. Each module typically includes a dedicated <strong>Inquiries and Reports</strong> menu, offering predefined tools and templates for quickly accessing, viewing, and analyzing data. Users can explore detailed transactional records, summary data, and system-generated analytics without requiring advanced technical expertise.</p>
<p>The following screenshot is an example of the <strong>General ledger &gt; Inquiries and Reports</strong> menu item.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/inq-rep.png#lightbox"><img alt="Screenshot of the Inquiries and Reports menu item." data-linktype="relative-path" src="./rawmb500/media_inq_rep.png"/></a></p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Generate and consume inquiries and reports</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In finance and operations apps, you can perform the following tasks with reports and inquiries:</p>
<ul>
<li>Export application reports as Word documents.</li>
<li>Export options while previewing documents.</li>
<li>Send documents to network printers while previewing online.</li>
</ul>
<h2 id="export-application-reports-as-word-documents">Export application reports as Word documents</h2>
<p>By using Report Definition Language (RDL) based design definitions, a user can create editable documents. Dynamics 365 offers specific application solutions that allow you to access predetermined business views of Finance and Supply Chain Management apps data. When completed, the data can be exported to PDF, CSV, and other Microsoft Office formats.</p>
<p>In addition to the formats mentioned above, reports created using the cloud-hosted service can be downloaded as a standard Microsoft Word document.</p>
<div class="NOTE">
<p>Note</p>
<p>A request for more than one report at a time results in a .ZIP file that must be downloaded and uncompressed before using the Word documents.</p>
</div>
<h2 id="export-options-while-previewing-documents">Export options while previewing documents</h2>
<p>Because most users prefer to view their documents before exporting them, toolbar options are available on all supported devices, providing a simple and intuitive solution for exporting documents. For more information on PDF previewing, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/preview-pdf-documents/?azure-portal=true">Preview PDF documents using a PDF viewer</a>.</p>
<p>Unlike the Report Viewer, which used HTML to display documents before exporting them, the new toolbar actions convert documents into a format that ensures better consistency when downloaded.</p>
<h2 id="send-documents-to-network-printers-while-previewing-online">Send documents to network printers while previewing online</h2>
<p>In addition to printing on local devices, users can also select to send documents directly to Dynamics 365-supported network printers. Making direct networking printing options easily accessible to users helps companies enhance efficiency by printing reports connected to network-based printers even when working remotely from their mobile devices or any computer connected to the internet.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Configure finance and operations apps for Microsoft Power Platform</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>finance and operations apps delivers interactive reports that are seamlessly integrated into application workspaces. Workspaces can use rich infographics and visuals that are supported by Microsoft Power BI.</p>
<p>You can also use Power Apps and Power Automate with finance and operations apps.</p>
<h2 id="power-apps">Power Apps</h2>
<p>You can embed Power Apps into finance and operations apps by using the <strong>Personalize</strong> toolbar that is available on most pages in the system. When you build a PowerApp, it’s important that you are logged in to Power Apps.com and your instance of finance and operations apps by using the same credentials.</p>
<p>By using Power Apps, you can build apps fast with a point-and-click approach to app design. Choose from a large selection of templates or start from a blank canvas. Easily connect your app to data and use Excel-like expressions to easily add logic. Publish your app to the web, iOS, Android, and Windows 10.</p>
<p>With Microsoft Dataverse built in, you get a powerful data service with rich customization, business logic, and security capabilities. Your data is stored in a standard format through Common Data Model so it’s ready to go and easy to use.</p>
<p>To read more about Power Apps in finance and operations apps, go to the following sources:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/get-started/embed-power-apps/?azure-portal=true">Embed Power Apps apps</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/powerapps-host-control/?azure-portal=true">Power Apps Host control</a></li>
</ul>
<h2 id="power-automate">Power Automate</h2>
<p>Power Automate includes powerful workflow automation that flows directly in your apps with a no-code approach that connects to hundreds of popular apps and services. You can create automated workflow between your favorite apps and services to get notifications, insights, synchronize files, collect data, and much more.</p>
<p>To read more about Power Automate in finance and operations apps, go to:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/business-events/business-events-flow/?azure-portal=true">Business events in Power Automate</a></li>
</ul>
<h2 id="power-bi">Power BI</h2>
<p>Use the features of Power BI to unify data from many sources to create interactive, immersive dashboards, and reports that provide actionable insights and drive business results.</p>
<p>The following Power BI solutions are available in the <strong>Shared assets library</strong> of Lifecycle Services. Refer to the version information in the <strong>Shared assets library</strong> to download the correct version for your environment.</p>
<ul>
<li><p><strong>Actual vs. budget</strong> - Individuals who are responsible for monitoring actual versus budget performance in their organization can use this Power BI content. It provides visibility into your budget variances.</p>
</li>
<li><p>You can analyze budget for the current year by account category, budget code, main account, main account descriptions, or fiscal period to gain better understanding of the cause of any variances.</p>
</li>
<li><p><strong>Cash overview</strong> - Business users who are responsible for cash in their organization can have visibility into the business cash flow by using this Power BI content. It provides forecasts that can help financial leaders make better decisions and therefore improve the health of the business cash flow.</p>
</li>
<li><p>You can analyze cash by legal entity, currency, and bank account to gain better understanding of surpluses and shortfalls. Reports from the <strong>Cash overview Power BI</strong> content are displayed in the <strong>Cash overview</strong> and <strong>Bank management</strong> workspaces.</p>
</li>
<li><p><strong>Compensation and benefits</strong> - Two reports are available in this Power BI content:</p>
<ul>
<li><strong>Comp and Benefits Analysis</strong> - Provides information for hourly and salaried employees by company, average hourly pay, average salaried pay, employees by employment type, and plan enrollment.</li>
<li><strong>Employee Benefits</strong> - Provides information for employee enrollment by selected benefit so you can filter all employees by each benefit.</li>
</ul>
</li>
<li><p><strong>Cost accounting analysis</strong> - This Power BI content is intended for cost controllers or anyone who is responsible for performing cost control of an organization.</p>
<p>This report includes the key metrics, such as cost, magnitude, and cost rate by actual cost, budget cost, and flexible budget cost. It uses transaction data from the Cost accounting module and provides an aggregate view of costs for the whole organization in one reporting currency. Managers can filter the data by cost objects to perform cost control of their organizational units, even if the organization can have several legal entities.</p>
</li>
<li><p><strong>Compensation</strong> - This Power BI content is shown in the <strong>Compensation management</strong> workspace. The following reports are available:</p>
<ul>
<li><strong>Compensation overview</strong> – Provides a summary of other reports.</li>
<li><strong>Compensation analysis</strong> - Hourly and salaried employees by company, total employees by compensation plan, male and female employees by compensation plan, and employee compensation by department.</li>
<li><strong>Position pay analysis</strong> - Highest and lowest hourly and salary pay, positions with highest and lowest pay, and full-time and part-time positions.</li>
<li><strong>Compensation Plan Analysis</strong> - Provides information regarding the employee enrollment by selected benefit.</li>
</ul>
</li>
<li><p><strong>Credit and collections management</strong> - The credit and collections managers and collections clerks can benefit from this Power BI content. It provides key credit and collections metrics, such as days sales outstanding, balance overdue, credit exposure, and customers that are over their credit limit.</p>
<p>It uses transactional data and provides aggregate views of credit and collections across all companies. It also provides a breakdown per company, customer group, and customer.</p>
</li>
<li><p><strong>Employee competencies and development</strong> - The following reports are available in this Power BI content:</p>
<ul>
<li><strong>Competency &amp; Development Analysis</strong> - Provides information of the team member skills by type.</li>
<li><strong>Skill Profile</strong> - Provides information regarding the skill profile for the selected employee.</li>
<li><strong>Skill Analysis</strong> - Provides information regarding skills by type and rating.</li>
</ul>
</li>
<li><p><strong>Financial analysis (current company and all companies options)</strong> - Describes the dashboard and reports that are included, and provides information about the data model and entities that were used to build the solution.</p>
<p>Because organizations want liabilities and revenue amounts to appear as positive amounts on reports, the setup of the main accounts is important.
For these main accounts to appear as positive amounts, the main account type must be set to <strong>Liability</strong> or <strong>Revenue</strong>. When these account types are used, reporting through Power BI will reverse the signs and show the amounts as positive.</p>
</li>
<li><p><strong>Fixed asset management</strong> – This workspace shows information that is related to fixed assets that are entered in the system. It includes a summary view and an analytics view. The <strong>My work</strong> tab shows summary tiles, fixed asset details, and related information about fixed assets in the current company.</p>
<p>You can also add analytics to the <strong>Power BI analytics</strong> section directly in the workspace. <strong>The Analytics – all companies</strong> tab uses capabilities of Microsoft Power BI to show visuals that are related to fixed assets in all companies.</p>
</li>
<li><p><strong>Organizational training</strong> - Two reports are available in this Power BI content:</p>
<ul>
<li><strong>Course Analysis</strong> - Provides information for registration by location, course attendees by status, and registration list.</li>
<li><strong>Course Types</strong> - Provides information on course types by skill.</li>
</ul>
</li>
<li><p><strong>Practice manager</strong> - Practice managers and project managers can benefit from this Power BI content. It provides key metrics that are related to the projects that the organization is working on. The dashboard gives an overview of the projects and related customers.</p>
<p>A report-level filter can be used to report for specific legal entities. This Power BI content pulls data from the project accounting aggregate measurements.
The Practice manager Power BI content contains five report pages: one overview page, and four pages that provide details about project costs, revenues, earned value management, and hour metrics that are broken down across various dimensions.
All the amounts in the content are shown in the system currency. You can set the system currency on the <strong>System parameters</strong> page.</p>
</li>
<li><p><strong>Cost Management</strong> - Inventory accountants and individuals who are responsible for or interested in the status of inventory or work in process (WIP), and people who analyze the standard cost variance benefit from this Power BI content.</p>
</li>
<li><p><strong>Production performance</strong> - Production managers can benefit from this Power BI content. It can monitor the performance of manufacturing operations for a timely running process, quality control, and cost analysis. This report uses transactional data from production orders and batch orders and provides an aggregate view of production metrics.</p>
</li>
<li><p><strong>Purchase spend analysis</strong> - This Power BI content helps purchasing managers make sure that the purchase spending is within the allocated budget over time.</p>
</li>
<li><p><strong>Recruiting</strong> - This Power BI content is shown on the <strong>Recruitment management</strong> workspace and contains information such as:</p>
<ul>
<li><strong>Applicant Analysis</strong> - Shows the total number of applicants, and then groups them by jobs, gender, and location.</li>
<li><strong>Applicant Status</strong> – Shows applicants by type, status, and applicant status.</li>
<li><strong>Recruiting Analysis</strong> - Shows net hire ratio, average days to hire, percentage of bad hires, recruiting costs, number of recruitment projects, hire to applied, and applicants versus openings by recruitment project.</li>
</ul>
</li>
<li><p><strong>Sales and profitability performance</strong> - The sales managers can monitor the key sales metrics of revenue, gross profit, and profit margins by using this Power BI content. It uses sales transactional data and provides both an aggregate view of the company-wide sales figures and a breakdown of sales performance for customers and products.</p>
</li>
<li><p><strong>Vendor payment</strong> - This Power BI content shows information that is related to the processing of vendor payments. This workspace includes a <strong>My work</strong> view and an <strong>Analytics</strong> page.</p>
<p>The <strong>My work</strong> view shows summary tiles, vendor transaction grids, and related vendor information. The <strong>Analytics</strong> page uses the capabilities of Power BI to show visuals that are related to vendor payments.</p>
</li>
<li><p><strong>Warehouse performance</strong> - The warehouse and operations managers can monitor important inbound, outbound, and inventory metrics by using this Power BI content.</p>
<p>It uses warehouse management, product, and other transactional data from finance and operations apps and provides both an aggregate view of warehouse performance and a breakdown for vendors, product groups and products, and site and warehouses.</p>
</li>
<li><p><strong>Workforce metrics</strong> - This Power BI content provides information for headcount analysis by company, department, location, job, and more.</p>
</li>
</ul>
<p>Read more about Power BI content in finance and operations apps in the <a data-linktype="absolute-path" href="/en-us/dynamics365/unified-operations/dev-itpro/analytics/power-bi-home-page?azure-portal=true&amp;toc=/fin-and-ops/toc.json">PowerBI.com solutions home page</a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Work with reports</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario---generate-and-explore-a-financial-report">Scenario - Generate and explore a financial report</h2>
<p>You need to generate and explore an existing default financial report.
The report includes all accounts and contains account properties (attributes) for the accounts.
You'll be drilling into transaction detail, applying a dimension filter, and changing the currency on the report.</p>
<h3 id="display-the-order-of-dimensions-for-financial-reporting">Display the order of dimensions for financial reporting</h3>
<p>Displaying the order of dimensions for financial reporting lets you select how the dimensions are displayed.</p>
<ol>
<li>In the company <strong>USMF</strong>, go to <strong>General ledger &gt; Chart of Accounts &gt; Dimensions &gt; Financial dimension configuration for integrating applications</strong>.</li>
<li>Expand the <strong>Financial dimensions</strong> FastTab of the <strong>Default dimension format</strong>.</li>
<li>Arrange the dimensions so that the <strong>MainAccount</strong> is first on the list - you will need to select <strong>MainAccount</strong> from the <strong>AVAILABLE</strong> list and use the right arrow to move it to the <strong>SELECTED</strong> list.</li>
<li>Arrange the dimensions so that the <strong>BusinessUnit</strong> is second on the list.</li>
<li>Arrange the dimensions so that the <strong>CostCenter</strong> is third on the list.</li>
<li>Arrange the dimensions so that the <strong>Department</strong> is fourth on the list.</li>
<li>Select <strong>Save</strong> and <strong>Yes</strong> to save the changes.</li>
<li>Close the page.</li>
</ol>
<h3 id="generate-a-report-and-explore-the-data-in-the-report">Generate a report and explore the data in the report</h3>
<ol>
<li>Go to <strong>General ledger</strong> &gt; <strong>Inquiries and reports</strong> &gt; <strong>Financial reports</strong>.</li>
<li>Select the row for the report named <strong>Ledger Transaction List – Default</strong>.</li>
<li>Select <strong>Edit</strong>.</li>
<li>In the <strong>Do you want to open ReportDesigner.application from usnconeboxax1aos.cloud.onebox.dynamics.com?</strong> prompt, select <strong>Open</strong>.</li>
<li>Select <strong>Run</strong> in the <strong>Microsoft Dynamics 365 Finance: Financial Report Designer</strong> box to download the Report designer.</li>
<li>Use the same credentials to log in, as you used to log in to finance and operations, located in the <strong>Azure Portal</strong> section in the right side of the lab page. The log-in window may appear behind the finance and operations window. The Report designer will now open in another window.</li>
<li>In the Report designer, change the <strong>Base year</strong> to <strong>2016</strong> and select <strong>Generate</strong> in the top right of the Report designer page.</li>
<li>Return to the <strong>Financial reports</strong> page in finance and operations. You will need to refresh the screen until the report you generated appears.</li>
<li>Select the report, and then select <strong>View</strong>.</li>
<li>In the opened report, select <strong>All accounts</strong>.</li>
<li>Select <strong>Accounts Receivable - Domestic - Home</strong> to drill into the account detail for the report.</li>
<li>At the report transaction level, you can view the properties (attributes) that are included in the design of this report. Depending on the transaction and account, some or all the attributes might be displayed.</li>
<li>Close the report transaction level by using the back arrow at the top of the report.</li>
</ol>
<p>Within a financial report, you can view the data either for a different period and year, or with different attributes and dimensions applied. This is done by using <strong>Report options</strong>.</p>
<ol>
<li>While on <strong>All accounts</strong> select <strong>Report options</strong>.</li>
<li>Select <strong>Add a dimension filter</strong>, select <strong>BusinessUnit</strong> and then type <strong>001</strong> in the <strong>BusinessUnit is</strong> field.</li>
<li>Select <strong>OK</strong>. The report now displays only the data for the <strong>001 Business Unit</strong>. This is a personalized view of the report and isn't available for others to view.</li>
<li>Close the filtered report.</li>
</ol>
<p>Financial reports can be displayed in any currency that has been added to finance and operations apps.</p>
<ol>
<li>Select <strong>Currency</strong> and then select <strong>Euro (EUR)</strong>. The report now displays in Euros. Any currency codes or currency symbols that are included in the report design now display in the applied currency. If no currency symbol is defined for a currency, the currency symbol is not displayed.</li>
<li>Close the <strong>Ledger Transaction List  - Default (EUR)</strong> report.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following Power BI content is intended for cost controllers or anyone who is responsible for performing cost control of an organization?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Cost accounting analysis</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Financial performance</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Credit and collections management</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>What is the name of the tool that is used to customize and create financial statements such as balance sheet, income statements, and cashflow statements?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Financial report designer</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>SQL Server Reporting Services (SSRS)</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Electronic reporting</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you learned about various types of reports and inquiries in finance and operations apps, including the reports that are out-of-the-box in a standard installation. You also learned how to use the Report designer to update the design of financial reports.</p>
<p>Finally, you learned about the integration of Power BI, Power Apps, and Power Automate in finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Often, different countries and regions have legal requirements regarding the format for incoming and outgoing electronic documents. The Electronic reporting (ER) functionality manages those formats during their life cycle. Additionally, potential regular requirement changes by government bodies or banks mean that business documents must be updated accordingly.</p>
<p>The ER reporting functionality is intended for advanced business users because it is a matter of configuration and not code to maintain formats for electronic documents.</p>
<p>The following section explains the ER engine from a high level.</p>
<h2 id="capabilities">Capabilities</h2>
<p>ER functionality provides the following capabilities:</p>
<ul>
<li>It is a single tool for electronic reporting and is a single source for what was previously 20 different engines that performed electronic reporting.</li>
<li>The format is applicable for different versions.</li>
<li>A custom format can be created that is based on another format. ER functionality will automatically upgrade the custom format when the original one is changed.</li>
<li>It is the primary standard tool to support localization.</li>
<li>Formats can be distributed through Microsoft Dynamics Lifecycle Services.</li>
</ul>
<p>For more technical information on the following electronic reporting topics, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/general-electronic-reporting?azure-portal=true&amp;toc=/dynamics365/commerce/toc.json">Electronic reporting (ER) overview</a>.</p>
<ul>
<li>Data models and model-mapping components</li>
<li>Format components for outgoing electronic documents</li>
<li>Format components for incoming electronic documents</li>
<li>Component versioning</li>
<li>Component date effectivity</li>
<li>Component access</li>
<li>Configuration</li>
<li>Provider</li>
<li>Repository</li>
<li>Supported scenarios</li>
<li>Handling ER components</li>
<li>List of ER configurations that are delivered in the Finance application</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Configure electronic reporting</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Before you can start configuring the Electronic reporting functionality, set up the required document types in Document management:</p>
<ul>
<li>Office documents that are used as templates for reports</li>
<li>Storage for the output of ER reports in the jobs archive</li>
<li>Storage for the output of reports so that they can be viewed in other programs</li>
<li>Documents for keeping baselines of configuration output</li>
<li>Documents for handling files in the framework for all other purposes</li>
</ul>
<p>Follow these steps to set up the basic functionality of electronic reporting:</p>
<ol>
<li>Open the <strong>Electronic reporting</strong> workspace.</li>
<li>In the <strong>App links</strong> section, select <strong>Electronic reporting parameters</strong>.</li>
<li>On the <strong>General</strong> tab, turn on the <strong>Enable design mode</strong> option to enable the ER design experience to the current Finance instance.</li>
<li>On the <strong>Attachments</strong> tab, define the types of documents that should be used for file storage in the ER framework. Notice that in the <strong>Configurations</strong> section, the document type is a file with each legal entity, while all other document types are files or images.</li>
<li>On the <strong>Lifecycle Services</strong> tab, define the number of parallel threads that should be used to load an ER configuration from repositories in Lifecycle Services, so that the configurations are loaded in the most efficient manner. The value can vary from <strong>1</strong> to <strong>15</strong>, depending on the available resources of the current program. The real number of threads will be defined automatically based on this setting and on the number of other tasks and their priorities.</li>
<li>Close the page.</li>
<li>Under <strong>Configuration providers</strong>, you select a provider. Select the ellipses to see the <strong>Set active</strong> option. If the configuration is already active, the <strong>Set active</strong> option will be dimmed. The active provider's name and internet address are stored in an ER configuration as attributes of the configuration owner.</li>
</ol>
<h2 id="create-a-new-configuration-provider">Create a new configuration provider</h2>
<p>In the <strong>USMF</strong> demo company in finance and operations apps, there is already a configuration provider. You can create a new configuration provider by going through the steps in the following sections. The newly created configuration providers are automatically shared with all legal entities.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/electronic-reporting-workspace.svg#lightbox"><img alt="Screenshot of the Electronic reporting workspace." data-linktype="relative-path" src="./rawmb500/media_electronic_reporting_workspace.png"/></a></p>
</div>
<h3 id="create-a-provider">Create a provider</h3>
<p>To create a new configuration provider, follow these steps:</p>
<ol>
<li>Go to <strong>Organization administration &gt; Workspaces &gt; Electronic reporting</strong>.</li>
<li>Select <strong>Configuration providers</strong> in the <strong>App links</strong> section.</li>
<li>Select <strong>New</strong>.</li>
<li>In the <strong>Name</strong> field, enter <strong>Adventure Works Cycles International</strong>.</li>
<li>In the <strong>Internet address</strong> field, enter <code>https://www.adventure-works.com</code>.</li>
<li>Select <strong>Save</strong> and close the page.</li>
</ol>
<h3 id="set-the-new-provider-as-active">Set the new provider as active</h3>
<p>To set the newly created configuration provider as active, follow these steps:</p>
<ol>
<li>Select the <strong>Adventure Works Cycles International</strong> provider tile.</li>
<li>Select <strong>Set active</strong>.</li>
</ol>
<p>For more detail about creating configurations, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/tasks/er-design-domain-specific-data-model-2016-11?azure-portal=true&amp;toc=/dynamics365/commerce/toc.json">ER Design domain specific data model</a>.</p>
<h2 id="legal-entity-specific-parameters">Legal entity-specific parameters</h2>
<p>An advanced user can define corporate rules, which translate the terms to all the languages that are supported in finance and operations apps. This functionality allows business users to specify terms and conditions in their chosen language.</p>
<p>If a power user configures an independent rule for a legal entity, a field for the data source is defined to return values describing the configured rule. The entire path to this field is provided, thus enabling a power user to navigate to it quickly. Also, when electronic reporting format-specific company (legal entity) master data is set up, this feature enables a power user to define what areas of the search data source will be provided to a business user.</p>
<p>Furthermore, you can configure a legal entity-independent rule to return only the enumeration data type for each configured condition. An advanced user can also configure a rule to also return a text value.</p>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/general-electronic-reporting-formulas-list-extension/?azure-portal=true">Extend the list of Electronic reporting (ER) functions</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use barcode data sources to generate bar code images</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>Barcode data sources are supported in electronic reporting (ER). You can create a picture that resembles a bar code for any text. You can use data sources of the <strong>Barcode</strong> type to produce bar code pictures when configuring an ER format. The photographs can then be added to company documents such as orders, invoices, packing slips, and receipts that have been prepared. You can also use them on product and shelf labels, as well as packing and shipping labels.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/barcode.png#lightbox"><img alt="Screenshot of a barcode photograghm on a voided bank check." data-linktype="relative-path" src="./rawmb500/media_barcode.png"/></a></p>
</div>
<p>By using a data source of the <strong>Barcode</strong> type, you can generate bar codes in the following formats:</p>
<ul>
<li>One-dimensional bar codes:
<ul>
<li>Codabar</li>
<li>Code 39</li>
<li>Code 93</li>
<li>Code 128</li>
<li>EAN-8</li>
<li>EAN-13</li>
<li>ITF-14</li>
<li>Intelligent Mail (IMB)</li>
<li>MSI</li>
<li>Plessey</li>
<li>PDF417</li>
<li>UPC-A</li>
<li>UPC-E</li>
</ul>
</li>
<li>Two-dimensional bar codes:
<ul>
<li>Aztec</li>
<li>Data Matrix</li>
<li>QR Code</li>
</ul>
</li>
</ul>
<p>For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-barcode-data-sources?azure-portal=true&amp;toc=/dynamics365/finance/toc.json">Use Barcode data sources to generate bar code images</a>.</p>
<h2 id="check-number-validation">Check number validation</h2>
<p>When you have generated a barcode, you can use Finance to validate check numbers. By validating check numbers, you can eliminate the risk of errors in processing checks preventing delays and additional fees.</p>
<p>There are two options to perform check number validation:</p>
<ul>
<li><p><strong>Interval validation</strong> - Interval validation can be set up in the cash and bank management parameters by setting up a default check number interval. If your check number falls outside of your defined interval, you will be prompted with a warning message that notifies you of the issue.</p>
</li>
<li><p><strong>Character validation</strong> - Character validation triggers a warning message when a character appears within the check number.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Generate electronic documents for payments</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>. If you see a <strong>Your connection isn't private</strong> message, select <strong>Advanced</strong>, and then select <strong>Continue to usnconeboxax1aos.cloud.onebox.dynamics.com (unsafe)</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As the Finance manager for the company <strong>USMF</strong>, you need to set up Electronic reporting due to a local requirement. Your technical team has set up the format, and now you need to test it, by creating a file to see that it matches what is needed.</p>
<h2 id="verify-file-format-is-set-up">Verify file format is set up</h2>
<ol>
<li>In company <strong>USMF</strong> go to <strong>Accounts payable &gt; Payment setup &gt; Methods of payment</strong>.</li>
<li>Place your cursor in the left navigation bar on <strong>Electronic</strong>.</li>
<li>Select the <strong>File formats</strong> FastTab.</li>
<li>If the <strong>Export format</strong> is not <strong>NACHA (US)</strong>, then select it.</li>
<li><strong>Save</strong> and close the page.</li>
</ol>
<h2 id="test-the-format-of-generated-payment-files">Test the format of generated payment files</h2>
<ol>
<li>Go to <strong>Accounts payable &gt; Payments &gt; Vendor payment journal</strong>.</li>
<li>Select <strong>New</strong>.</li>
<li>In the <strong>Name</strong> field, select <strong>VendPay</strong>.</li>
<li>Select <strong>Save</strong>.</li>
<li>Select <strong>Lines</strong>.</li>
<li>In the <strong>Company</strong> field, enter <strong>DEMF</strong>.</li>
<li>In the <strong>Account</strong> field, specify the value <strong>DE-01001</strong>.</li>
<li>In the <strong>Description</strong> field, enter <strong>Payment</strong>.</li>
<li>In the <strong>Debit</strong> field, enter <strong>175</strong>.</li>
<li>Select the <strong>Payment</strong> tab.</li>
<li>In the <strong>Method of payment</strong> field, select the <strong>Electronic</strong>.</li>
<li>Select <strong>Save</strong>.</li>
<li>Select <strong>Generate payments</strong>.</li>
<li>In the <strong>Method of payment</strong> field, select <strong>Electronic</strong>.</li>
<li>In the <strong>Bank account</strong> field, select <strong>USMF OPER</strong>.</li>
<li>Select the radio button on <strong>Export format</strong>.</li>
<li>Select the <strong>Export format</strong> of <strong>NACHA (US)</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Note the <strong>File name</strong> created. (The batch number followed by the bank, etc.).</li>
<li>Select <strong>OK</strong>. You will see a pop-up message asking you to open the file.</li>
<li>Select <strong>Open file</strong>. You will see the electronic file in <strong>Notepad</strong>.</li>
<li>Close the page.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>
<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Before you can configure the Electronic reporting functionality, there are required document types that must be set up in Document management. How many required documents are there?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Five</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Four</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Three</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Two</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>In which module in Dynamics 365 Finance can you access the Electronic reporting workspace from?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Accounts payable</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Accounts receivable</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Organization administration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Inventory management</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>In which FastTab can providers be configured in the Electronic reporting workspace?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Configurations</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Configuration providers</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Related links</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div hidden="" id="module-unit-notification-container"></div>
<p>You have learned that by using Electronic Reporting (ER), you can easily control and modify your own reports as a business user without having a developer extend and customize Dynamics 365 Finance to meet your regulatory needs.</p>
<p>ER has the following features:</p>
<ul>
<li>It supports TEXT, XML, PDF, and OPENXML worksheet formats.</li>
<li>It is designed for business users who are familiar with Excel-based formulas.</li>
<li>It easily adheres to changes in regulatory requirements.</li>
<li>Versioning is available to manage definition lifecycle.</li>
<li>Electronic invoicing is available.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
