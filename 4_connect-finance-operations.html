<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This module helps developers and solution architects make
thoughtful decisions about data integration scenarios when implementing
finance and operations apps. Additionally, this module discusses integration patterns and scenarios, including the following topics.</p>
<ul>
<li><p>Integration API choices:</p>
<ul>
<li>Open Data Protocol (OData)</li>
<li>Custom services</li>
<li>External web services</li>
<li>Microsoft Office integrations</li>
<li>Recurring integrations</li>
<li>Data management package API</li>
</ul>
</li>
<li><p>Synchronous and asynchronous integrations</p>
<ul>
<li>Synchronous integrations are ideal for scenarios requiring immediate feedback, such as validation or real-time updates</li>
<li>Asynchronous integrations excel in high-volume data exchanges where performance and reliability are prioritized over immediacy.</li>
</ul>
</li>
<li><p>Data integration scenarios
Explore common data integration scenarios and their challenges, such as:</p>
<ul>
<li>Master data synchronization</li>
<li>Transactional data exchange</li>
<li>Real-time updates versus scheduled batch processes</li>
</ul>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data integration overview</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps contain multiple APIs that support file-based integration scenarios:</p>
<ul>
<li>Open Data Protocol (OData)</li>
<li>Custom services</li>
<li>External web services</li>
<li>Office integrations</li>
<li>Recurring integrations</li>
<li>Data management package API</li>
</ul>
<p>Recurring integrations API and the data management framework API support
file-based integration scenarios, which is the focus of this
unit. The data management framework comes out of the box with finance and operations and supports data import and export. Recurring
integrations also support data import and export scenarios.</p>
<p>When selecting an integration API, there are many considerations. Some of the decision points for the Data management framework
and recurring integrations can help you select your implementation
integration scenario.</p>
<h2 id="open-data-protocol-odata">Open Data Protocol (OData)</h2>
<p>OData is a widely used protocol for building and consuming RESTful APIs. It allows seamless interaction with finance and operations apps by enabling developers to query and manipulate data using familiar HTTP methods like GET, POST, PUT, and DELETE, these are some key features:</p>
<ul>
<li><strong>Real-time Integration</strong> - OData APIs are ideal for scenarios requiring real-time data interaction. For instance, querying up-to-date customer data or creating new records directly from an external application.</li>
<li><strong>Standard Protocol</strong> - Built on open standards, OData supports uniform resource identifiers (URIs), making it highly interoperable across systems.</li>
<li><strong>Flexible Query Options</strong> - OData supports advanced querying capabilities such as filtering, sorting, pagination, and data projections, reducing the need for additional customizations.</li>
<li><strong>Built-in Security</strong> - OData uses OAuth 2.0 for secure access, ensuring that only authenticated and authorized users can interact with the API.</li>
</ul>
<h2 id="recurring-integrations">Recurring integrations</h2>
<p>Recurring integrations API supports both data import and export with
many other benefits, depending on your situation. With recurring
integrations you can do the following:</p>
<ul>
<li><strong>Job scheduling</strong> - Job scheduling for recurring integrations is  performed in finance and operations apps.</li>
<li><strong>Multiple data formats</strong> - Recurring integrations support files and data packages for import and export.</li>
<li><strong>Transformation</strong> - If your data is in XML formation, Extensible    Style sheet Language Transformation is supported to convert the data.</li>
<li><strong>Protocols</strong> - The two supported protocols for recurring    integrations are SOAP and REST.</li>
<li><strong>Service type</strong> - Recurring integrations are part of data    management APIs and are available out of the box.</li>
<li><strong>Availability</strong> - Recurring integrations aren't supported for on-premises implementations.</li>
</ul>
<h2 id="data-management-framework-package-api">Data management framework package API</h2>
<p>The Data management framework is a file-based integration scenario that is supported with finance and operations apps. Several reasons why your organization might choose this scenario include:</p>
<ul>
<li><strong>Scheduling</strong> - Unlike recurring integrations, scheduling is done outside of finance and operations apps.</li>
<li><strong>Formats</strong> - The only format that is supported is data packages.</li>
<li><strong>Transformation</strong> - Data transformations that are external to the system.</li>
<li><strong>Protocols</strong> - REST is supported.</li>
<li><strong>Service type</strong> - OData is used for the data management framework. OAuth 2.0 is used for authorization and access to the application.</li>
<li><strong>Availability</strong> - This functionality is available in finance and operations apps, platform 5 and later. This is the only supported API for on-premises deployments.</li>
</ul>
<p>Service protection limits are to increase system performance and reliability. Service protection limits are in place for OData and custom integrations such that, if a request exceeds the imposed service protection limits, it is throttled. The request also receives a 429 response. For more information about service protection limits, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/service-protection-api-limits/?azure-portal=true">Service protection API limits</a>.</p>
<p>For more information on APIs, see <a data-linktype="absolute-path" href="/en-us/training/modules/data-integrations-finance-operations/?azure-portal=true">Data integrations with finance and operations apps</a> and <a data-linktype="absolute-path" href="/en-us/training/modules/data-package-api-finance-operations/?azure-portal=true">Implement the Data management package API for finance and operations apps</a> modules. Links to these modules are provided in the <strong>Summary</strong> unit.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Synchronous integration</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Data integrations can be either synchronous or asynchronous.</p>
<p>Synchronous integration patterns use the Open Data Protocol (OData) with a continuous flow of data. They follow a blocking request and response pattern, meaning the caller is blocked until the request is completed and a response is returned. In the case of custom services and synchronous integration patterns, business logic is run immediately when the APIs are called.</p>
<p>For example, when a custom service is used to look up on-hand inventory, the business logic runs immediately, and the inventory sum number is returned. Similarly, when OData is used to insert records, they're immediately inserted as part of the OData call. REST and SOAP integration APIs in finance and operations apps can be invoked synchronously.</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Synchronous programming paradigm</th>
</tr>
</thead>
<tbody>
<tr>
<td>OData</td>
<td>DbResourceContextSaveChanges</td>
</tr>
<tr>
<td>Custom Service</td>
<td>httpRequestGetResponse</td>
</tr>
<tr>
<td>SOAP</td>
<td>UserSessionServiceGetUserSessionInfo</td>
</tr>
<tr>
<td>Batch data API</td>
<td>ImportFromPackage</td>
</tr>
</tbody>
</table>
<h2 id="odata-integration-scenario">OData Integration Scenario</h2>
<p>In this scenario, a retailer uses finance and operations apps along with a third-party application to manage their product catalog, which is hosted on-premises. The requirement is to see real-time updates in finance and operations apps whenever a product is created or modified in the third-party application. Since real-time data is required, OData service endpoints should be used for this integration. The steps involved include:</p>
<ul>
<li>Determining which entities are required for integration.</li>
<li>Ensuring that the OData service endpoints are available for the required entities.</li>
<li>Configuring the third-party application to make an OData call to finance and operations apps whenever a product is created or modified.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Asynchronous integration</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Asynchronous integration patterns use batch data APIs, running through a batch service. It's a nonblocking pattern, meaning the caller submits the request and continues without waiting for the response. Batch data APIs are suited for asynchronous integration because they handle large-volume data imports and exports. When these APIs are called, the import or export process runs in a batch. One advantage of using batch data APIs is their ability to handle large volumes of data, especially when business logic runs concurrently with the import or export process. As a best practice, when dealing with several hundred records, a batch data API integration should be used.</p>
<p>Like synchronous patterns, REST and SOAP integration APIs in finance and operations apps can also be invoked asynchronously.</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Asynchronous programming paradigm</th>
</tr>
</thead>
<tbody>
<tr>
<td>OData</td>
<td>DbResourceContextSaveChangesAsync</td>
</tr>
<tr>
<td>Custom Service</td>
<td>httpRequestBeginGetResponse</td>
</tr>
<tr>
<td>SOAP</td>
<td>UserSessionServiceGetUserSessionInfoAsync</td>
</tr>
<tr>
<td>Batch data API</td>
<td>BeginInvoke</td>
</tr>
</tbody>
</table>
<p>A retailer uses finance and operations apps for financial and statement posting, while their point-of-sale (POS) system is a third-party, on-premises system. The retailer processes hundreds of transactions daily, but real-time data is not required. At the end of the day, all transaction data needs to be imported into finance and operations apps for financial processing. Because real-time data is not necessary and the volume of data is large, this scenario is best suited for asynchronous integration using batch data APIs.</p>
<p>The steps to implement this include:</p>
<ul>
<li>Identifying the entities required for the integration in finance and operations apps and enabling data management.</li>
<li>Using the REST batch data API in the on-premises third-party system to import the transaction data into finance and operations apps at the end of each business day.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following types of integrations should you select when you need to asynchronously import data to finance and operations apps from a third-party system on an hourly basis?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>OData integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch data integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which type of integration API supports both file and data package formats?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Recurring integrations</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Is it true that both recurring integrations and the data management framework support REST protocols?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Understanding data integrations and scenarios for the various types of
integrations is one of the first steps to determining your data
integration plan.</p>
<p>In this module, you learned how to select an API integration that best
fits the needs of your business depending on format, protocol,
transformation type, job scheduling, and service type needs.</p>
<p>You also learned the difference between synchronous and asynchronous
integrations and how to decide which one you should choose for your
scenario. To learn about implementing these data integration solutions,
continue with the Connect to finance and operations apps learning path.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>As a developer, you're usually part of the data integration scenarios
during and after a finance and operations apps
implementation. In this module, you learn how to make thoughtful
data integration scenario decisions when implementing finance and operations apps.</p>
<h2 id="data-entities-and-integrations">Data entities and integrations</h2>
<p>Data entities are consumed in various integration scenarios, such as
data import and export, integration, and OData services. Custom services
are used to expose X++ functionality to external clients. You can also
access your data in external applications such as in Microsoft Power Apps and
Microsoft Excel.</p>
<p>The <strong>Dynamics</strong> add-in is available in Microsoft Excel to manipulate entity data. Data entities are also used when you create Power Apps applications. Electronic Data Interchange (EDI) is used to improve the connection between your
organization and partners for accounts payable, accounts receivable, and third-party logistics (3PL). You can use the <strong>Data
validation checklist</strong> workspace to verify data during an implementation, upgrade, or migration.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop an entity and enable it for data export</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>A data entity is a de-normalized view of data that is spread across
multiple normalized tables. The abstracted nature of a data entity
simplifies application development and customization. Data entities
provide a single stack to capture business logic and to enable scenarios
such as import and export and integrations. Data entities are the primary method for importing and exporting data packages, and they can be exposed as OData services and then used in tabular-style synchronous integration
scenarios. You can use data entities to access your finance and operations apps data through a third-party application, which is any program outside of finance and operations apps, whether it is a Microsoft product or not.</p>
<p>Data entities enable public application programming interfaces (APIs) to
be exposed, and then enables synchronous services, which are used in
Office integrations and third-party apps. By using a data management
pipeline, data entities support asynchronous integrations, such as
interactive file-based import/export and recurring integrations.</p>
<p>Many data entities are available in the Application Object Tree
(AOT) in Visual Studio. You can also create a new data entity by using a
wizard in Visual Studio.</p>
<p>The following steps show the normal process to create a new data entity:</p>
<ol>
<li>Select a primary and secondary data source to build your entity, which could be tables from either the AOT or from your own project.</li>
<li>Enable public API and data management capabilities so your data entity can be used for data exports. When public API and data management capabilities have been enabled, a staging table is created with the entity, which is used in import/export scenarios to provide intermediary storage during file parsing and transformation.</li>
<li>Select the fields from your primary table that you want included in your entity.</li>
<li>You can rename the fields or select <strong>Convert labels to field names</strong> to generate names from existing labels.</li>
<li>Select the check box in the <strong>Is Mandatory</strong> column for the field that you want to use as the natural key.</li>
<li>Select your secondary data source and choose the fields that you want included. In the field selection, you have the same label options that you did with the primary data source.</li>
<li>After you have finished creating the entity, new items are displayed under your project in the <strong>Solution Explorer</strong> window. In addition to having your data entity listed, a staging table and two privileges to view and maintain the entity is available for you.</li>
</ol>
<p>To see how to create a new data entity in Visual Studio, watch this video.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=1f5522f7-bbe8-4f65-879f-0b949c198ec1"></iframe></div>
<h2 id="add-a-data-entity">Add a data entity</h2>
<p>New data entities can be added from Solution Explorer by using the <strong>Data Entity Wizard</strong>.</p>
<ol>
<li>Right-click your project or activate the context menu, and then select <strong>Add</strong>, <strong>New Item</strong>, <strong>Data Model</strong>, <strong>Data Entity</strong>.</li>
<li>Create a name, such as <strong>mySalesPoolEntity</strong>, and then select <strong>Add</strong>. The <strong>Data Entity Wizard</strong> opens, and you should enter a primary data source, such as <strong>SalesPool</strong>.</li>
<li>Enable <strong>Public API</strong> and the <strong>Public entity name</strong> and <strong>Public collection name</strong> prefixes with <strong>my</strong>, such as <strong>mySalesPoolEntity</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>On the <strong>Add fields</strong> tab, select <strong>Next</strong>, and remove any fields that have the container type. A data entity should now be added to your project.</li>
<li>Ensure that <strong>Synchronize Database on Build</strong> is set to <strong>true</strong> for your project’s property, and then save and build your project in Solution Explorer. If you experience build errors, find the model used for the field and add it as a reference to your model.</li>
</ol>
<p>Entities are created as views in the database, and fields and keys are taken from our primary data source.</p>
<p>Test your entity by using X++, as follows.</p>
<ol>
<li><p>Right-click your project or activate the context menu, and then select <strong>Add</strong>, <strong>New Item</strong>, <strong>Code</strong>, <strong>Runnable class</strong> to add a runnable class. Use the name <strong>mySalesPoolRunnableClass</strong>, and select <strong>Add</strong>.</p>
</li>
<li><p>Enter the following code into your runnable class:</p>
<pre><code class="lang-xpp">public static void main(Args _args)
{
    mySalesPoolEnitity  salesPoolEntity;
    SalesPoolId         salesPoolId = "myPool-1";

    // create records with entity

    salesPoolEntity.clear();
    salesPoolEntity.SalesPoolId = salesPoolId;
    salesPoolEntity.Name        = "My sales pool";
    salesPoolEntity.insert();

    Info(strFmt("Sales pool %1 created with name %2", salesPoolEntity.SalesPoolId,  salesPoolEntity.Name));

    select forupdate salesPoolEntity
        where salesPoolEntity.SalesPoolId == salesPoolId;

    Info(strFmt("Sales pool %1 %2 selected", salesPoolEntity.SalesPoolId, salesPoolEntity.Name));

    salesPoolEntity.delete();

    select salesPoolEntity
        where salesPoolEntity.SalesPoolId == salesPoolId;

    Info(strFmt("Deleted sales pool does not exists: %1", salesPoolEntity.SalesPoolId));
}
</code></pre>
</li>
<li><p>Run the job with the debugger. The following screenshot depicts what you should observe in the Infolog.</p>
<p><a data-linktype="relative-path" href="media/infolog.png#lightbox"><img alt="Screenshot showing the infolog after running the debugger." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/infolog.png"/></a></p>
</li>
</ol>
<p>The data entity can be accessed with OData by entering the <strong>you base url for dynamics/data/MySalesPoolEntities</strong> URL, which the following screenshot shows.</p>
<p><a data-linktype="relative-path" href="media/data-entity.png#lightbox"><img alt="Screenshot showing the code that is shown after entering the url." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/data-entity.png"/></a></p>
<p>To add an action to the data entity, follow these steps.</p>
<ol>
<li><p>In Solution Explorer, right-click <strong>mySalesPoolEntity</strong> or activate the context menu and then select <strong>View code</strong>.</p>
</li>
<li><p>Add the following code:</p>
<pre><code class="lang-xpp">public class MySalesPoolEnitity extends common
{
    [SysODataActionAttribute("Check", false)]
    public static str check(SalesPoolId _salesPoolId)
    {
        // do something

        return SalesPool::exist(_salesPoolId) ? "Sales pool exist" : "Sales pool does not exist";
    }
}
</code></pre>
<p>The <strong>SysODataActionAttribute</strong> attribute defines the action attribute on the data entity.</p>
</li>
<li><p>After building the project, the OData endpoint needs to be updated by using <strong>Restart IIS Express</strong>.</p>
</li>
<li><p>Test the action on the data entity by using the <strong>https://base url.axcloud.dynamics.com/data/MySalesPoolEntities/Microsoft.Dynamics.DataEntities.Check</strong> URL.</p>
<p>If you have a body with the parameter for <strong>_salesPoolId = “my01”</strong>, the following output appears.</p>
<p><a data-linktype="relative-path" href="media/salespool-id.png#lightbox"><img alt="Screenshot showing the output if you have a body with the parameter salespoolid." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/salespool-id.png"/></a></p>
</li>
</ol>
<p>To find metadata and actions on a data entity, use the <strong>https://base url.axcloud.dynamics.com/Metadata/PublicEntities/</strong> URL.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extend a data entity</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When you add fields to tables, you need to ensure that the corresponding data entity includes these fields. Additionally, you can extend existing data entities with these new fields.
Data entities have two parts:</p>
<ul>
<li><strong>Data entity</strong> - You need to create an extension of the existing data entity.</li>
<li><strong>Staging table</strong> - You need to create a table extension manually for a staging table.</li>
</ul>
<p>Also, you can add new fields to a data entity by creating a duplicate entity and then adding the new fields and functionality. As a result, you don’t need to extend the original entity.</p>
<h2 id="add-new-fields-to-extend-a-data-entity">Add new fields to extend a data entity</h2>
<p>You can add fields to a data entity by creating an extension. For example, consider a scenario where you create a new <strong>PhoneMobile</strong> field (EDT: PhoneMobile) as an extension on the <strong>CustTable</strong> table. In this case, you could create an extension for the data entity by completing the following steps:</p>
<ol>
<li><p>Find the <strong>CustCustomerV3Entity</strong> data entity in Application Explorer (under <strong>Data Model</strong>) in Visual Studio. (In addition to the usual options, make sure that your model references the Directory, Dimensions, and PersonnelCore packages.)</p>
</li>
<li><p>Right-click the data entity to open the context menu, and then select <strong>Create extension</strong>. The system adds an extension for <strong>CustCustomerV3Entity</strong> to your project in Solution Explorer.</p>
</li>
<li><p>Select the extension to add it to the Designer.</p>
</li>
<li><p>Go to the <strong>Data sources</strong> node, select <strong>CustTable</strong>, select <strong>Fields</strong>, and then locate the new <strong>PhoneMobile</strong> field.</p>
</li>
<li><p>Right-click the new <strong>PhoneMobile</strong> field to open the context menu, and then select <strong>Copy</strong>.</p>
</li>
<li><p>Go to the <strong>Fields</strong> node on the data entity. Right-click the node to open the context menu, and then select <strong>Paste</strong>. The new field should now show in <strong>CustCustomerV3Entity</strong>.</p>
</li>
<li><p>Select <strong>Save all</strong>. Right-click your project in Solution Explorer to open the context menu, and then select <strong>Build</strong>.</p>
</li>
<li><p>Right-click your project again to open the context menu, and then select <strong>Synchronize &lt;your project&gt; With Database</strong> (if available). The <strong>CustCustomerV3Entity</strong> data entity shows as extended and includes the <strong>PhoneMobile</strong> field.</p>
<p><a data-linktype="relative-path" href="media/extend-data-entity.png#lightbox"><img alt="Screenshot showing the new PhoneMobile field." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/extend-data-entity.png"/></a></p>
</li>
</ol>
<p>You can create code extensions by finding the data entity in Application Explorer, right-clicking it to open the context menu, and then selecting <strong>Create Code Extension</strong>.</p>
<p>The system creates a class for code extensions of the data entity, and then you can extend methods with Chain of Command or create new methods.</p>
<p>For example, you can create a computed column on the data entity and then have the system create its static method in the code extension class.</p>
<p>You should be aware of performance considerations when doing data entity extensions and data entity code extensions. For more information, see the previous unit in this module.</p>
<p>As a best practice, your organization could require a naming standard for new fields, such as a specific prefix. However, the example in this unit doesn't use a naming standard.</p>
<h2 id="extend-a-staging-table">Extend a staging table</h2>
<p>In the Designer, you can use <strong>Regenerate staging table</strong> and <strong>Update staging table</strong> to add fields to a staging table. However, this method isn’t possible for a data entity extension. You must create fields manually by using a table extension.</p>
<ol>
<li>Find the <strong>CustCustomerV3Staging</strong> table in Application Explorer.</li>
<li>Right-click the table to open the context menu, and then select <strong>Create extension</strong>. The system adds an extension for <strong>CustCustomerV3Staging</strong> to your project in Solution Explorer.</li>
<li>Select the extension to add it to the Designer.</li>
<li>Find the extended data type for the field that you want to add. In this example, it’s <strong>Extended Data Type PhoneMobile</strong>, which you should drag into the <strong>Fields</strong> node for the staging table.</li>
<li>Select <strong>Save all</strong>. Select your project in Solution Explorer to open the context menu and then select <strong>Build</strong>.</li>
<li>Right-click the project again to open the context menu, and then select <strong>Synchronize &lt;your project&gt; With Database</strong> (if available). The new field on the staging table now shows as synced with SQL Server.</li>
</ol>
<div class="NOTE">
<p>Note</p>
<p>Fields, and the data type for fields, on a staging table extension and data entity extension should be the same. If you’re using different data types, a best practice error appears after the build finishes.</p>
</div>
<h2 id="refresh-an-entity-list-and-verify-the-extension">Refresh an entity list and verify the extension</h2>
<p>If you want to use changes to an entity that extensions made, select <strong>Refresh entity</strong> in finance and operations apps. The <strong>Refresh entity</strong> option re-creates mappings for an entity, including new fields.</p>
<p>To refresh manually on the front end, go to <strong>Data management &gt; Framework parameters &gt; Entity settings &gt; Refresh entity</strong> list.
Refreshing the entity list ensures all entities are available in the environment and that the entities have the latest metadata.</p>
<p>Developers can open SQL Server Management Studio to verify the view and table that they create for the data entity and staging table, respectively. Extensions to data entities should appear on the data entity and the staging table.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement custom services</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can develop custom services for finance and operations apps to expose X++ functionality to external clients. Existing code can be exposed as a custom service by adding an attribute to the code. The attribute is set on the data contract class and its members to automatically serialize and deserialize data that is sent and received across a network connection.</p>
<p>You can use custom service when the schema for the entity can be written as a simple data contract class with relevant data member attributes set. X++ data contract serialization and deserialization are specified by using the attributes <code>DataContractAttribute</code> and <code>DataMemberAttribute</code>.</p>
<p>When you write a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li>SOAP endpoint</li>
<li>JavaScript Object Notation (JSON) endpoint</li>
</ul>
<p>With a SOAP-based custom service, all service groups under the
<strong>AOTService group</strong> node are automatically deployed, and services that are deployed must be part of a service group. X++ classes are consumed as JSON services, so the return data set is in JSON format. JSON is used to communicate data between the client and the server.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement custom services and the Batch OData API</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use custom services to expose business logic to an external service. Data contracts help you pass complex business logic.</p>
<p>The Batch OData application programming interface (API) provides an interface that you can use to reschedule batch jobs by using OData.</p>
<h2 id="implement-custom-services">Implement custom services</h2>
<p>Data entities expose data simply and externally. When you use custom services, you can expose more complex business logic to an external service. Essentially, you can conduct advanced calculations for a request and then return it as a response.</p>
<p>All custom services in finance and operations apps always deploy with SOAP and JSON endpoints. A custom service consists of three classes:</p>
<ul>
<li><p><strong>A data contract class for requests</strong> - The suffix for this class should be <strong>Request</strong>.</p>
</li>
<li><p><strong>A service class for business logic</strong> - The suffix for this class should be <strong>Service</strong>.</p>
</li>
<li><p><strong>A data contract class for responses</strong> - The suffix for this class should be <strong>Response</strong>.</p>
</li>
</ul>
<p>After creating the classes, you need to add the service class to a service. Then, the system can include it in a service group.</p>
<p>To make a simple custom service in which you send two numbers and get a summary in return, follow these steps:</p>
<ol>
<li>Create a data contract request class with two attributes for each number.</li>
<li>Create a data contract response class with one attribute for the result.</li>
<li>Create the service class.</li>
<li>Add your business logic method from the service class to a service, and then add the service to a service group.</li>
<li>Test the new custom service by using tools that you prefer.</li>
</ol>
<h3 id="create-a-data-contract-request-class-with-two-attributes-for-each-number">Create a data contract request class with two attributes for each number</h3>
<p>To create a data contract request class with two attributes for each number, follow these steps:</p>
<ol>
<li><p>Create a new project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>Enter a request name for your data contract class. In the following example, the class is named <strong>MB500_CustomServiceRequest</strong>.</p>
</li>
<li><p>In the code editor, add the <code>DataContractAttribute</code> attribute before the class name to indicate that it's a data contract class, as shown in the following example:</p>
<pre><code class="lang-xpp"> [DataContractAttribute]
 internal final class MB500_CustomServiceRequest
 {
 }
</code></pre>
</li>
<li><p>Add the <code>DataMemberAttribute</code> attribute for each number that the system should serialize in the request, as shown in the following example:</p>
<pre><code class="lang-xpp"> [DataContractAttribute] 
 internal final class MB500_CustomServiceRequest
 {
     real        numberA;
     real        numberB;

     [DataMemberAttribute('numberA')]
     public real parmNumberA(real _numberA = numberA)
{
         if (!prmisDefault(_numberA))
         {
             numberA = _numberA;
         }
         return numberA;
     }

     [DataMemberAttribute('numberB')]
     public real parmNumberB(real _numberB = numberB)
     {
         if (!prmisDefault(_numberB))
         {
             numberB = _numberB;
         }
         return numberB;
     }
 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="create-a-data-contract-response-class-with-one-attribute-for-the-result">Create a data contract response class with one attribute for the result</h3>
<p>To create a data contract response class with one attribute for the result, follow these steps:</p>
<ol>
<li><p>Use the same project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>Enter a response name for your data contract class. In the following example, the class is named <strong>MB500_CustomServiceResponse</strong>.</p>
</li>
<li><p>Indicate the class as a data contract class with an attribute.</p>
</li>
<li><p>Add <code>DataMemberAttribute</code> data member for the result that you want to have in your response. The following code is an example of a data contract for a response:</p>
<pre><code class="lang-xpp"> [DataContractAttribute] 
 internal final class MB500_CustomServiceResponse
 {
 	real        result;

 	[DataMemberAttribute('result')]
 	public real parmResult(real _result = result)
 	{
		if (!prmisDefault(_result))
		{
    		result = _result;
		}
		return result;
 	}

 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="create-the-service-class">Create the service class</h3>
<p>To create the service class, follow these steps:</p>
<ol>
<li><p>Use the same project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>Enter a name for your service class (business logic). In the following example, the class is named <strong>MB500_CustomServiceService</strong>.</p>
</li>
<li><p>Use a new method that has your data contract request class as a parameter and that returns your data contract response class, as follows:</p>
<pre><code class="lang-xpp"> internal final class MB500_CustomServiceService 
 {
     public MB500_CustomServiceResponse summarize(MB500_CustomServiceRequest  _request)
     {
         MB500_CustomServiceResponse response = new MB500_CustomServiceResponse();

         real numberA = _request.parmNumberA();
         real numberB = _request.parmNumberB();

         response.parmResult(numberA + numberB);

         return response;
     }

 }
</code></pre>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="add-a-business-logic-method-from-the-service-class-to-a-service-and-add-the-service-to-a-service-group">Add a business logic method from the service class to a service and add the service to a service group</h3>
<p>To add your business logic method from the service class to a service and then add the service to a service group, follow these steps:</p>
<ol>
<li><p>Use the same project in Visual Studio for your code.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Find the <strong>Services</strong> group, and then select <strong>Service</strong>.</p>
</li>
<li><p>Enter a name for your service. In the following example, the service is named <strong>MB500_CustomServiceSum</strong>.</p>
</li>
<li><p>Add the service class to the properties for the service.</p>
</li>
<li><p>Right-click the <strong>Service Operations</strong> node to open the context menu, and then select <strong>New Service Operation</strong>.</p>
</li>
<li><p>Select your method in the service class in the properties for service operation, and then set the name to the same value.</p>
<p><a data-linktype="relative-path" href="media/service-operation-summarize.png#lightbox"><img alt="Screenshot showing the Service Operation summarize properties." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/service-operation-summarize.png"/></a></p>
</li>
<li><p>Select <strong>Save all</strong>.</p>
</li>
<li><p>Right-click your project to open the context menu, and then select <strong>Add &gt; New Item</strong>. Find the <strong>Services</strong> group, and then select <strong>Service Group</strong>.</p>
</li>
<li><p>Enter a name for your service. In the following example, the service is named <strong>MB500_CustomServices</strong>.</p>
</li>
<li><p>Enter <strong>MB500</strong> as a description in the properties for the service group.</p>
</li>
<li><p>Drag your service named <strong>MB500_CustomServiceSum</strong> to the service group’s <strong>MB500_CustomServices</strong> node.</p>
</li>
<li><p>Select <strong>Save all</strong>. Right-click the project to open the context menu and then select <strong>Build</strong>.</p>
</li>
</ol>
<h3 id="test-the-new-custom-service-using-your-preferred-tools">Test the new custom service using your preferred tools</h3>
<p>If you review the services at your URL, your new service should appear.</p>
<h2 id="implement-the-batch-odata-api">Implement the Batch OData API</h2>
<p>Many tasks are run as batch jobs, and critical batch jobs require monitoring. Often, a reschedule is necessary to restart a job if something goes wrong.</p>
<p>Batch OData API raises a business event so that Microsoft Power Automate can capture the state and automate rescheduling. However, some errors require manual intervention.</p>
<p>To create a Microsoft Power Automate flow for Batch OData API, follow these steps:</p>
<ol>
<li>Sign in to Microsoft Power Automate and create an automated flow.</li>
<li>Provide a name for the flow, and then search for <strong>Fin &amp; Ops</strong> to find <strong>When a Business Event occurs</strong> in the list. Select <strong>Create</strong>.</li>
<li>Select the <strong>When a Business Event occurs</strong> trigger and then specify parameters.</li>
<li>Select your instance.</li>
<li>Select <strong>Batch</strong> as the <strong>Category</strong>.</li>
<li>Notice that you now have the following <strong>Business Event</strong> options in the <strong>Category</strong> list:
<ul>
<li>Batch job canceled</li>
<li>Batch job failed</li>
<li>Batch job finished</li>
<li>Batch job started</li>
</ul>
</li>
<li>Restart your batch job when it fails by selecting <strong>Batch job failed</strong>.</li>
<li>Select <strong>USMF</strong> as the legal entity.</li>
<li>Add a new action for <strong>Parse JSON</strong>.</li>
<li>Access the schema for a <strong>Batch job failed</strong> business event by following these steps:
<ol>
<li>Go to finance and operations apps and find the <strong>Business Event Catalog</strong> in System Administration.</li>
<li>Filter the category for <strong>Batch</strong>, and then select <strong>Batch job failed</strong>.</li>
<li>Download the schema from the <strong>Download schema</strong> menu.</li>
<li>Open the schema and copy all text by selecting the <strong>Ctrl+C</strong> keyboard shortcut.</li>
</ol>
</li>
<li>Set <strong>Content</strong> to <strong>Body</strong> in the <strong>Parse JSON</strong> action, select <strong>Use sample payload to generate schema</strong>, and then paste the JSON from the business event.</li>
<li>Select <strong>Done</strong> and the system creates the schema from the business event.</li>
<li>Add a new action for <strong>Condition</strong>.</li>
<li>Use the <strong>Job ID</strong> for the condition. Every batch job has a Job ID that you can use to filter for a specific batch job.</li>
<li>Add a new action for <strong>Execute OData API</strong> in the <strong>Condition</strong> if it returns a value of <strong>True</strong>:
<ol>
<li>Search for <strong>Fin &amp; Ops</strong>, and then select <strong>See more</strong>.</li>
<li>Find and select <strong>Execute action</strong>.</li>
</ol>
</li>
<li>Select the instance that you want to use.</li>
<li>Find and select the <strong>BatchJobs-SetBatchJobToWaiting</strong> action.</li>
<li>Save the flow.</li>
</ol>
<p>The following image shows that the business event for <strong>Batch job failed</strong> triggers a flow. Afterward, the system sets the batch job ID to <strong>Waiting</strong>, which means that it runs the flow again.</p>
<p><a data-linktype="relative-path" href="media/flow.png#lightbox"><img alt="Screenshot showing the result of the flow." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/flow.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Expose OData endpoints from data entities</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>OData is a standard protocol for creating and consuming data. OData
provides a protocol that is based on Representational State Transfer
(REST) for create, read, update, and delete (CRUD) operations. OData
applies web technologies such as HTTP and JavaScript Object Notation
(JSON) to provide access to information from various programs. OData
allows you to interact with data by using RESTful web services. The public OData service endpoint enables access to data in a consistent manner across a broad range of clients. An OData REST endpoint exposes all data entities that are selected as <code>IsPublic</code> in the AOT in Visual
Studio. The OData REST endpoint also supports CRUD functionality that
you can use to insert and retrieve data from the system.</p>
<p>Insomnia is a tool that is often used to interact with RESTful services (such as OData) in scenarios that
involve the development and testing of application programming
interfaces (APIs).</p>
<p>OData entities are based on an updatable view. When the
<strong><code>IsPublic</code></strong> property for an updatable view is set to
<strong>True</strong>, then that view is exposed as a top-level OData entity. Links
between OData entities are described by navigation properties, which
detail the navigation from one end of an association to the other.</p>
<p>For more information about how to query finance and operations apps by using
Insomnia, go to <a data-linktype="absolute-path" href="/en-us/power-apps/developer/data-platform/webapi/insomnia/?azure-portal=true">Use Insomnia with Dataverse Web API</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Consume external web services</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can consume web services in finance and operations apps to receive data from external systems, without the need for an external library. Consuming web services should happen in a safer way.</p>
<h2 id="set-up-key-vault-parameters">Set up key vault parameters</h2>
<p>Microsoft Azure Key Vault is a cloud service for storing and accessing secrets in a more secure way. A secret is anything to which you want to tightly control access, such as API keys, passwords, certificates, connection strings, or cryptographic keys. In finance and operations apps, you shouldn’t store secrets on a parameter table but rather in Azure Key Vault.</p>
<p>In the right navigation pane of finance and operations apps, you can store secrets from <strong>System administration &gt; Setup &gt; Key Vault parameters</strong> by selecting the connected <strong>Azure Key Vault URL</strong>, <strong>Key vault client ID</strong>, and <strong>Key vault secret</strong>. After setting up the key value parameters, you can add secrets by a given name and point to a specific secret in Azure Key Vault.</p>
<p>In X++, you can receive the secrets in an Azure Key Vault by using those settings for the key vault parameters, as the following code sample depicts:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// The method returns the key vault value for the supplied name.
    /// &lt;/summary&gt;
    /// &lt;param name = "_keyvaultSecretName"&gt;Name of the secret to look up&lt;/param&gt;
    /// &lt;returns&gt;string value for the secret&lt;/returns&gt;
    public static str getKeyVaultSecretValue(str _keyVaultSecretName)
    {
        KeyVaultCertificateTable    certificateTable    = KeyVaultCertificateTable::findByName(_keyVaultSecretName);
        str keyVaultValue = KeyVaultCertificateHelper::getManualSecretValue(certificateTable.RecId);
        return keyVaultValue;
    }
</code></pre>
<p>In the previous <code>getKeyVaultSecretName</code> X++ method, you can find the secret for a specific parameter in the key vault parameters and connect to Azure Key Vault by using the <code>KeyVaultCertificationHelper</code> standard class in a more secure and trusted way.</p>
<h2 id="create-an-http-client-to-call-an-external-webservice">Create an HTTP client to call an external webservice</h2>
<p>An HTTP client can send a request to, and get a response from, a web server in HTTP format. The client uses JSON for the request and response body. For authentication, the client uses an API key, and then you receive an API key from Azure Key Vault.</p>
<p>The following code sample depicts how you can create a method by using URL and JSON for the request, and it shows that the system responds with JSON.</p>
<pre><code class="lang-xpp">
using System.IO;

    private const       str headerApiKey = "apiKey";
    protected const     str contentType = "application/json";

    public str getResponse(URL _url, str _json)
    {
        System.Net.HttpWebRequest request = null;
        System.Net.HttpWebResponse response = null;
        CLRObject webResponse;
        System.Net.WebHeaderCollection headers;
        System.Exception ex;
        System.Net.WebException webException;

        str apiKey              = MyConsumeExternalWebService::getKeyVaultSecretValue("MyWebServiceAPIKey");

        try
        {
            request = System.Net.WebRequest::Create(_url) as System.Net.HttpWebRequest;
            
            headers = request.get_Headers();
            headers.Add(HeaderApiKey, apiKey);

            request.set_ContentType(contentType);

            using (var streamWriter = new StreamWriter(request.GetRequestStream()))
            {
                streamWriter.Write(_json);
            }

            webResponse = request.GetResponse();

            response = webResponse as System.Net.HttpWebResponse;

            return response.GetResponseStream().ToString();
        }
        catch (Exception::CLRError)
        {
            ex = ClrInterop::getLastException();
            if (ex != null)
            {
                ex = ex.get_InnerException();
            }
        }
        return '';
    }
</code></pre>
<p>For the request body and response body, you need to create two data contracts. The following example depicts the use of <code>itemId</code> as the data member in the request body and <code>onhand</code> as the data member in the request body.</p>
<pre><code class="lang-xpp">[DataContractAttribute]
class MyConsumeExternalWebServiceRequestContract
{
    str             itemId;

    [DataMemberAttribute('itemId')]
    public str parmItemId(str _itemId = itemId)
    {
        itemId = _itemId;
        return itemId;
    }
}
[DataContractAttribute]
class MyConsumeExternalWebServiceResponseContract
{
    InventQty onhand;

    [DataMemberAttribute('onhand')]
    public InventQty parmOnhand(InventQty _onhand = onhand)
    {
        onhand = _onhand;
        return onhand;
    }
}
</code></pre>
<p>Now, you can create the request contract with a value for consuming the external web service and receive a result in the response data contract, as the following code sample depicts.</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        URL         url = "myURL.com";
        str         serializedJSONstr;

        MyConsumeExternalWebService                 webService = new MyConsumeExternalWebService();

        MyConsumeExternalWebServiceRequestContract  requestContract = new MyConsumeExternalWebServiceRequestContract();
        MyConsumeExternalWebServiceResponseContract responseConract = new MyConsumeExternalWebServiceResponseContract();

        requestContract.parmItemId("ABC");

        serializedJSONstr = webService.getResponse(url, FormJsonSerializer::serializeClass(requestContract));
        
        responseConract = FormJsonSerializer::deserializeObject(classNum(MyConsumeExternalWebServiceResponseContract), serializedJSONstr);
    }
}
</code></pre>
<p>Using data contracts for requests and responses can simplify a developer's processes. Without data contracts, you need to code the JSON serializing and deserializing manually. Data contracts have a framework for serializing and deserializing.</p>
<p>Consuming external web services is common in finance and operations apps because functionality has moved from within the apps to external web services.</p>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/finance/localizations/global/setting-up-azure-key-vault-client/?azure-portal=true">Set up the Azure Key Vault client</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate finance and operations apps with Microsoft Excel</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>By using the <strong>Dynamics 365</strong> add-in for Excel, entity data can be opened in
Excel to view, update, and add the data. You can open data either from
Excel or from finance and operations apps. When you open data in Excel, you
can quickly and easily view and edit the data by using the Excel add-in.</p>
<p>To open data in Excel from finance and operations apps, follow these
high-level steps:</p>
<ol>
<li>Open your desired page in finance and operations apps.</li>
<li>In the top-right corner of the page, select the Office logo, and then select the <strong>Open in Excel</strong> button to open a new workbook.</li>
<li>An Excel workbook will open. Select <strong>Enable editing</strong> so that the Excel add-in can run in the right pane of the window. If you haven't run the Excel-add in, you will need to select <strong>Trust this Add-in</strong>.</li>
<li>Sign in using your credentials for finance and operations apps.</li>
<li>When the Excel add-in loads your data, you will be able to view the data for the selected entity.</li>
</ol>
<p>To open entity data from within Microsoft Excel, follow these steps:</p>
<ol>
<li>In Excel, select the <strong>Insert</strong> tab and then select <strong>Store</strong> to open the Office Store.</li>
<li>Search to find the <strong>Microsoft Dynamics Office Add-in</strong>, commonly referred to as the Excel add-in, and select <strong>Add</strong>.</li>
<li>The Excel add-in will open in the right pane of Excel. If you haven't run the add-in before, you will need to select <strong>Trust this Add-in</strong>.</li>
<li>Select <strong>Add server information</strong>, which opens the <strong>Options</strong> pane.</li>
<li>In the <strong>Server URL</strong> field, paste the URL of your target finance and operations apps instance, deleting everything after the host name. For example, <em>https://abcompany.dynamics.com</em>.</li>
<li>Select <strong>OK</strong> and then select <strong>Yes</strong> to confirm the change.</li>
<li>Select the <strong>Design</strong> button to retrieve entity metadata.</li>
<li>Select <strong>Add table</strong> to view a list of entities.</li>
<li>Select your desired entity from the list and select <strong>Next</strong>.</li>
<li>Add a field from the <strong>Available fields</strong> list to the <strong>Selected fields</strong> list by selecting the field, and then select <strong>Add</strong>. You can also double-click the field in the <strong>Available fields</strong> list.</li>
<li>When you have finished adding your desired fields to the <strong>Selected fields</strong> list, select <strong>Done</strong>.</li>
<li>Select <strong>Refresh</strong> to pull in a set of data.</li>
</ol>
<p>You can use the Excel add-in after entity data has been loaded into
the workbook to update data by selecting <strong>Refresh</strong> in the add-in
window. You can also modify entity data and publish it back to finance and operations by selecting <strong>Publish</strong> in the add-in window after you
modify the contents of a cell. You can add a new record by selecting the
<strong>New</strong> button, provided that all key and mandatory fields are bound in the worksheet or the default values were filled in by using the filter
condition. You can delete a record in the worksheet by right-clicking
the row that you want to delete and selecting <strong>Delete</strong>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate finance and operations apps with external applications by using Power Apps</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps integrate with Microsoft Power Apps, which is a
service for developers and non-technical users to build custom business
apps for mobile devices, tablets, and the web without writing code.
You can embed Power Apps apps in finance and operations apps to modify the
product's functionality. You can embed Power Apps apps from within the user interface by selecting the Power Apps logo on the page you wish to embed a Power Apps app.</p>
<p>For example, you can build a Power Apps app to supplement finance and operations apps with information that is pulled from another system.</p>
<p>When using finance and operations apps as the data source for a Power Apps app, you
will select from a list of your data entities. As with all other
integration scenarios, the Power Apps integration uses data entities to
access your finance and operations apps data. Many data sources exist
outside of finance and operations apps, which you can also use for Power Apps apps.</p>
<p>Examples of other data sources are:</p>
<ul>
<li>Microsoft Dataverse</li>
<li>Azure</li>
<li>SharePoint</li>
<li>SQL Server</li>
<li>Other Dynamics 365 apps</li>
</ul>
<p>The two ways that you can access a Power Apps app on a page are:</p>
<ul>
<li><p>Select the <strong>Power Apps</strong> button in the right-corner of the Action Pane. When you embed a Power Apps app to be launched by using the <strong>Power Apps</strong> button, a menu item for the Power Apps app appears, and the app will open in a side pane.</p>
</li>
<li><p>Display a Power Apps app on a page as a new tab, FastTab, blade, or new section in a workspace. The following screenshot is from the <strong>All vendors</strong> page in the finance and operations apps user interface that shows the <strong>Power Apps</strong> button. Because there is no Power Apps app on the <strong>All vendors</strong> page, you are prompted to insert one.</p>
<p><a data-linktype="relative-path" href="media/insert-powerapp.png#lightbox"><img alt='All vendors page that highlights the PowerApp button. When selected, this button opens to a menu option to "Insert a PowerApp".' data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/insert-powerapp.png"/></a></p>
</li>
</ul>
<p>As a developer, you're able to control where a Power Apps app can be embedded.
By default, any user can embed a Power Apps app on a page. You can configure
the Power Apps feature to only allow embedding on certain pages by
implementing two methods:</p>
<ul>
<li><strong><code>isPowerAppPersonalizationEnabled</code></strong> - If this method returns false for a page, then the <strong>Power Apps</strong> menu button won't be shown and users won't be able to embed Power Apps apps anywhere on that page.</li>
<li><strong><code>isPowerAppTabPersonalizationEnabled</code></strong> - If this method returns false for a page, then a user can't embed Power Apps as a tab, FastTab, or panorama section. However, a user can still embed a Power Apps through the <strong>Power Apps</strong> menu button.</li>
</ul>
<h2 id="data-integration">Data integration</h2>
<p>You can connect to your data from finance and operations apps seamlessly within Microsoft Power Platform to build canvas and model-driven apps. As a System Administrator, you can access finance and operations apps data that is exposed through Data entities. These entities must be enabled for public API in the development environment to be exposed.</p>
<p>If you are using finance and operations apps and wish to create model-driven Power Apps, OData entities are all available as virtual entities in Microsoft Dataverse and Microsoft Power Platform. You can build experiences in applications such as Sales, Marketing, Customer Engagement using data directly from finance and operations apps. By doing this, you can use Create, Read, Update, and Delete capabilities from the Dataverse and Microsoft Power Platform. You can also use this capability to create Power Pages.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Download electronic document interchange solutions</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Integrating electronic document interchange (EDI) with finance and operations apps lets you format EDI transactions so that they comply with
specific requirements from your partners.</p>
<p>By using <a data-linktype="external" href="https://appsource.microsoft.com/en-us/marketplace/apps">AppSource</a>, and selecting <strong>Products &gt;  Dynamics 365 &gt; Finance</strong> you can download an EDI module within the finance and operations apps user interface.</p>
<p>Users can connect with their supply chain partners without costly customizations. You can integrate accounts receivable and accounts payable transactions, among other features, that reduce your time investment.</p>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-quick-start3-customize-report/?azure-portal=true">Customize Electronic reporting configurations to generate an electronic document</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Verify source and target data for auditing</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The <strong>Data validation checklist</strong> workspace is used to track data
validation processes during a new implementation, after an upgrade, or
after a migration.</p>
<p>The following screenshot shows the <strong>Data validation checklist</strong> workspace, and highlights the drop-down menu where you select your <strong>Project name</strong>.  When you’ve selected your project, you'll see data load into the <strong>Summary</strong>  and <strong>Tasks and Status</strong> sections.</p>
<p><a data-linktype="relative-path" href="media/data-checklist.png#lightbox"><img alt="Screenshot showing the Data validation checklist workspace, highlighting the Project name drop-down menu" data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/data-checklist.png"/></a></p>
<p>Depending on your view, you'll see only tasks that are assigned to you, or all tasks and statuses for a data validation project. In the workspace, select a data validation project at the top of the page. The data will then be filtered by the project that you selected.</p>
<p>The tiles in the <strong>Summary</strong> section show an overview of the process,
which helps you keep the data validation process on track. There are
tiles for not started tasks, in-progress tasks, completed tasks, and all
remaining tasks. If multiple companies are included in the project, you
will see data across all included companies.</p>
<p>In the <strong>Tasks and status</strong> section, you'll see details of the status of
the overall project. You can view the status by legal entity, by area,
by task, or for a specific company. These <strong>Status</strong> tabs give you a
breakdown of the percentage completed and the number of tasks that
still need to be completed. There is also a tab that shows a filterable
detailed task list. You can change the status of a task or assign a task
by using the <strong>Edit task</strong> button. The task names link you to the page
where the user needs to complete the work necessary for the task. You
can add files, notes, images, or URLs to a task by using the
<strong>Attachments</strong> button. The <strong>Completed by</strong> and <strong>Completed date</strong>
fields are automatically filled in when a worker completes the task.</p>
<p>To set up a project in the workspace, select the <strong>Data
validation project</strong> page.
The following screenshot shows the <strong>Data validation project</strong> page where you can add new <strong>Tasks</strong>, <strong>Legal entities</strong>, and <strong>Task areas</strong>.</p>
<p><a data-linktype="relative-path" href="media/configure-project.png#lightbox"><img alt="Screenshot of the Configure data validation project page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integration-concepts-finance-operations/media/configure-project.png"/> </a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Debug with JSON Web Tokens</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use various procedures to troubleshoot service authentication issues. A common procedure is to inspect the JSON Web Tokens (JWTs).</p>
<p>The first option is to capture the JWT from an HTTP request. You
can use the <a data-linktype="external" href="https://go.microsoft.com/fwlink/?linkid=2098190" target="_blank">Fiddler</a>. You can set up HTTPS
capture to watch the HTTPS traffic from the client. Then, you need to find the Open Authorization (OAuth) JWT, which is the value of the HTTP
authorization header with the bearer segment removed.</p>
<p>You can also use a deserializer tool to examine the token contents. To
do this, go to <a data-linktype="external" href="https://go.microsoft.com/fwlink/?linkid=2098441" target="_blank">JWT.io</a> and paste your JWT into
the input section. Next, you can view the contents as name-value pairs and then verify that the displayed information is correct.</p>
<p>Use the following guide to verify your information:</p>
<ul>
<li><strong>aud</strong> - Corresponds to the Microsoft Entra ID resource concept. A couple of typical issues are that the <strong>aud</strong> segment of the JWT contains a Uniform Resource Identifier (URI) that has a trailing slash or the <strong>aud</strong> uses incorrect capitalization.</li>
<li><strong>appid</strong> - Corresponds to the Microsoft Entra ID Native Client App ID, which is sometimes referred to as the Service App ID.</li>
<li><strong>upn</strong> - Corresponds to the user who is being authenticated through a Native Client App.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You want to better track your organization’s data validation processes for an upgrade of finance and operations apps. Which tool best suits your needs?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>JSON web tokens</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Embedded Power Apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The Data validation checklist workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>The Excel add-in for finance and operations apps lets you manipulate data in a data entity. Which task cannot be accomplished by using the Excel add-in?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Add a new record to your data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Delete a record from your data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Publish modified data back to finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a new data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You need to add fields to a staging table when you're creating a data entity extension. What is the recommended method for accomplishing this task?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Update the staging table by right-clicking the data entry to open the context menu in the Visual Studio Designer and then selecting the <strong>Regenerate staging</strong> table.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Add new fields manually to the staging table by using a table extension.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Update the staging table by selecting <strong>Refresh entities</strong> in finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Make a duplicate data entity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you learned about the following concepts that allow you
to be a better-equipped developer to create data integration solutions:</p>
<ul>
<li>Data entities are used to access your finance and operations apps data from a third-party application. Many data entities are available out of the box with the application, but you can also create your own data entity.</li>
<li>Programs such as Power Apps and Excel are used to view and/or manipulate entity data. Even though Power Apps and Excel are Microsoft products, they are considered third party because they are outside of finance and operations apps.</li>
<li>You can consume external web services in finance and operations apps.</li>
<li>Custom services are used in finance and operations apps to expose X++ functionality to external clients.</li>
<li>The public OData service endpoint enables access to data  consistently across a wide range of clients.</li>
<li>EDI solutions that are available through AppSource enable you to connect your data with your partners in an efficient manner.</li>
<li>When you need to troubleshoot service authentication issues, you can inspect JWTs.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The Data management framework's package Representational state transfer
(REST) application programming interface (API) lets you integrate with
finance and operations apps by using data packages. The REST
API can be used with cloud deployments and on-premises deployments.</p>
<p>You can develop custom services for finance and operations apps. When a developer writes a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li>Simple Object Access Protocol (SOAP) endpoint</li>
<li>JavaScript Object Notation (JSON) endpoint</li>
</ul>
<p>To implement the data management package API, you must have experience making API calls, knowledge of JSON, &gt;NET programming language, and basic x++ development.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Import and export APIs</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Developers can import and export APIs between finance and operations apps and
on-premises deployments. Keep in mind that there are some key differences with these processes for on-premises and cloud deployments:</p>
<ul>
<li>For on-premises deployments, support is added for the Data  management package REST API even though API names aren't changed. This way, Microsoft can keep a single API set for both cloud deployments and on-premises deployments.</li>
<li>The Data management framework API package uses OAuth 2.0 (Open Authorization Protocol) to authorize access.</li>
<li>For on-premises deployments, authorization is managed with Active  Directory Federation Services (AD FS).</li>
<li>Recurring integration APIs aren't supported for on-premises   deployments.</li>
</ul>
<h2 id="importing-apis">Importing APIs</h2>
<p>To start the data package import process, the <strong>ImportFromPackage</strong> API is used to initiate an import from a data package. The data package is uploaded to the Blob storage that is associated with the finance and operations apps implementation.</p>
<p>For on-premises deployments, the import is initiated from the local storage file that was uploaded previously.</p>
<p>The following code is an example that is used to initiate the import process.</p>
<pre><code class="lang-csharp">POST /data/DataManagementDefinitionGroups/Microsoft.Dynamics.DataEntities.**ImportFromPackage**
BODY
{
	"packageUrl":"&lt;string&gt;",
	"definitionGroupId":"&lt;string&gt;",
	"executionId":"&lt;string&gt;",
	"execute":&lt;bool&gt;,
	"overwrite":&lt;bool&gt;,
	"legalEntityId":"&lt;string&gt;"
}
</code></pre>
<p>The following list describes the various code elements:</p>
<ul>
<li><code>ImportFromPackage</code> is initiating the import.</li>
<li><code>packageurl</code> is a unique file name that is used to track Blob IDs. You can include a globally unique identifier (GUID) to help guarantee a unique file name.</li>
<li><code>definitionGroupID</code> is a string that represents the name of the data project for the import.</li>
<li><code>executionId</code> is the ID to use for the job. If an empty ID is assigned, a new execution ID is created automatically.</li>
<li><code>execute</code> is a Boolean. If the parameter is set to <strong>True</strong>, the target step runs.</li>
<li><code>overwrite</code> is also a Boolean that must be set to <strong>False</strong> when a composite entity is used in a package, if not, then this should be set to <strong>True</strong>.</li>
<li><code>legalentityId</code> is the legal entity for the import.</li>
</ul>
<p>If the import is successfully finished, you receive a JSON success response.</p>
<h2 id="exporting-apis">Exporting APIs</h2>
<p>The export for APIs is similar to the import. The difference is that the <strong>ExportToPackage</strong> API is used to initiate the export. This is applicable for both cloud and on-premises deployments.</p>
<p>The following is an example of code that is used to initiate the export process.</p>
<pre><code class="lang-csharp">POST
/data/DataManagementDefinitionGroups/Microsoft.Dynamics.DataEntities.**ExportToPackage**
BODY
{
	"definitionGroupId":"&lt;string&gt;",
	"packageName":"&lt;string&gt;",
	"executionId":"&lt;string&gt;",
	"reExecute":&lt;bool&gt;,
	"legalEntityId":"&lt;string&gt;"
}
</code></pre>
<p>The following list describes the various code elements:</p>
<ul>
<li><strong>ExportToPackage</strong> - Initiates the export.</li>
<li><strong>definitionGroupId</strong> - Data project Id.</li>
<li><strong>packageName</strong> - Name to use for downloaded file.</li>
<li><strong>executionId</strong> - Execution Id if it's a rerun.</li>
<li><strong>reExecute</strong> - A Boolean. If the parameter is set to <strong>True</strong>, the target step reruns.</li>
<li><strong>legalentityId</strong> - The legal entity for the export.</li>
</ul>
<p>If the export is finished successfully, you receive a JSON success response.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Monitor the status of APIs</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use <code>GetExecutionSummaryStatus</code> for both import and
export jobs. This is used to check the status of a data project
run job. This API is applicable to cloud deployments and
on-premises deployments. Keep in mind that the file remains in the Blob storage for seven days, and then it is automatically deleted.</p>
<p>To check the status of the API, use <code>GetExecutionSummaryStatus</code> and then specify the executionId.</p>
<p>For example:</p>
<pre><code class="lang-csharp">POST /data/DataManagementDefinitionGroups/Microsoft.Dynamics.DataEntities.GetExecutionSummaryStatus
BODY
{"executionId":"&lt;executionId&gt;"}
</code></pre>
<p>A JSON successful response message is sent and the execution status is displayed. There are several outputs you might receive in this message:</p>
<ul>
<li><strong>Unknown</strong> – The execution status can't be determined, possibly due to missing or invalid information.</li>
<li><strong>NotRun</strong> – The job was created, but is not started execution.</li>
<li><strong>Executing</strong> - The job is currently in progress and actively being processed.</li>
<li><strong>Succeeded</strong> – The job completed without errors.</li>
<li><strong>PartiallySucceeded</strong> – The job completed, but some parts encountered issues or errors, resulting in partial success.</li>
<li><strong>Failed</strong> – The job couldn't be completed due to errors or issues encountered during execution.</li>
<li><strong>Canceled</strong> – The job is manually stopped or interrupted before it could finish.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage entity change tracking</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The change tracking functionality allows you to incrementally export
data from finance and operations apps by using the Data management framework.
To do this, you must first enable change tracking for entities. If
change tracking is not enabled, you can only enable a full export each
time.</p>
<p>Change tracking supports both Bring Your Own Database and non-Bring Your
Own Database (non-BYOD) scenarios. Only BYOD allows tracking of deletion if the entity supports it.</p>
<p>To enable change tracking, you will need access to the <strong>Data
management</strong> workspace. For non-BYOD scenarios, change tracking can be
enabled from the data entities list page in the <strong>Data management</strong>
workspace by selecting <strong>Change tracking</strong> on the entity.</p>
<ol>
<li><p>Within the <strong>Data management</strong> workspace, select <strong>Configure entity    export to database</strong>.</p>
</li>
<li><p>On the <strong>Entity store</strong> page, select the data to export data to.</p>
</li>
<li><p>Select <strong>Publish</strong> in the Action Pane. You can publish more than one    entity to the database.</p>
</li>
<li><p>When the entity is published, select the entity.</p>
</li>
<li><p>Select <strong>Change tracking</strong>.</p>
<p><a data-linktype="relative-path" href="media/workspace-change-tracking.png#lightbox"> <img alt="This screenshot shows the data management workspace, and
highlights the Change tracking option in the Action
Pane." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-package-api-finance-operations/media/workspace-change-tracking.png"/> </a></p>
</li>
<li><p>You can select from several options for change tracking for your environment:</p>
<ul>
<li><strong>Enable primary table</strong> - Changes that are made to any fields in the primary table trigger a change in the entity. Changes that are made to fields in secondary tables don't trigger a change in the entity.</li>
<li><strong>Enable entire entity</strong> - Changes that are made to any fields in any table in the entity trigger a change in the entity.</li>
<li><strong>Enable custom query</strong> - Select a set of custom fields from any tables that must trigger a change in the entity.</li>
</ul>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create wrapper classes to consume external web services</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>To consume external web services within finance and operations apps, you can
use wrapper classes. You can wrap logic around methods that are defined
in the base class that you're augmenting.</p>
<p>This means that you can extend the code of both public and protected
methods without having to use event handlers. When you wrap a method for
a table, form, data entity, or other object, you must use an extension
class. Before learning about how to use wrapper classes to connect to external web services, consider the following example of a wrapper class.</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(FMCustomer))]
final class MyFleet_Extension
{
	public void salute(str message)
	{
		// ...
	}
}
</code></pre>
<p>In the previous code sample, the <code>ExtensionOf</code> attribute is applied to the class, and the <strong>FMCustomer</strong> table class is extended. Because the class is an extension class, it must be <code>public</code> and <code>final</code>. The <code>salute</code> method doesn't include the default value of the message parameter.</p>
<p>You can create wrapper classes to connect to external web services. You
can do this by wrapping a service endpoint in Visual Studio and then adding the reference in your project.</p>
<div class="NOTE">
<p>Note</p>
<p>This functionality is available in finance and operations apps Platform update 9 or later. Methods that are compiled by using earlier versions don't have the infrastructure to support wrapping.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create wrapper classes with C#</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>To create a wrapper class, you'll need to use some .NET programming language to consume an external web service. finance and operations can create a reference of the wrapper class and can access the external web service through the wrapper class.</p>
<p>The following code shows an example of creating a C# class library. A service reference of the SOAP web service will be set up in the class library.</p>
<pre><code class="lang-csharp">using System.ServiceModel;

namespace &lt;WebServiceProviderName&gt;
{
      public class &lt;classname&gt;
      {
             public static string &lt;methodname&gt;()
             {
                     var binding = new System.ServiceModel.BasicHttpBinding();
                     var endpointAddress = new EndpointAddress(“SOAP web service url”);
                     WebServiceSoapClient client = new WebServiceSoapClient(binding, endpointAddress);

                      return client.&lt;web service method name&gt;();
               }
       }
} 
</code></pre>
<p>The finance and operations apps development environment includes an element named <strong>References</strong> under <strong>Application explorer</strong>. The assembly of the wrapper class should be included in the reference. You can call the method that's created in the wrapper class directly by using the created reference.</p>
<p>The code will resemble the following example:</p>
<p><code>WebServiceDataProvider.&lt;classname&gt;::&lt;methodname&gt;();</code></p>
<p>You can create separate methods in the wrapper class to access all methods of the web service, which you can eventually call from finance and operations apps code wherever required.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following messages isn't a response message that you can receive when using <code>GetExecutionSummaryStatus</code> for monitoring the status of an API?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>NotRun</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Failed</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Canceled</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Starting</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Where can you enable change tracking for entities?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Visual Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data entity parameters on the AOT object</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>System administration module</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Is it true that importing APIs isn't supported for on-premises deployments?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The Data management framework allows integrations with APIs by using
data packages, which are supported for cloud and on-premises
deployments. By using the Data management API, you can import and export
APIs seamlessly and monitor their status, as necessary. Data entity
change tracking can also be used for on-premises and cloud deployments to incrementally import and export data.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Integrations support many types of document formats, source mapping, and
filters. This support allows you to use secure representational state transfer (REST)
application programming interfaces (APIs) and other authorization
mechanisms to send and receive data with integration systems and build
on data entities and the Data management framework.</p>
<p>In this module, you learn about the essential features and best practices for using integrations. You learn how to set them up to streamline processes and keep your data safe.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Set up a data project and recurring data job</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The <strong>Data management</strong> workspace allows users to set up recurring data
jobs within a project for finance and operations apps. Within this workspace,
you can set up an import or export project that will point to a specific
data entity.</p>
<p><a data-linktype="relative-path" href="media/data-management.png#lightbox"><img alt="Screenshot of the Data management workspace." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/data-management.png"/></a></p>
<p>The three main components of setting up a recurring data project
in the <strong>Data management</strong> workspace are:</p>
<ul>
<li><strong>File</strong> - Your external integration will push or pull individual files so that they can be processed through this recurring data job. In  this case, the expected file format is the same as the format that was specified when the entity was added to the data project.</li>
<li><strong>Data package</strong> - You can push or pull data package files for processing. A data package is a new format that lets you submit multiple data files as a single unit that can be used in integration jobs.</li>
<li><strong>Process messages in order</strong> - You can enable this option to force sequential processing of incoming files in an import scenario. This option is only applicable to files and not data packages.</li>
</ul>
<div class="IMPORTANT">
<p>Important</p>
<p>Before you can create a recurring data job, you must register the application with Microsoft Entra ID to obtain the Application ID (client ID). Note that only one Azure Service administrator user can add the application and share the client ID with developers.</p>
</div>
<p>To learn more about registering an application with Microsoft Entra ID, see  <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/services-home-page/?azure-portal=true">Service
endpoints overview</a>.</p>
<p>To access the <strong>Data management</strong> workspace and create a recurring data job, follow these steps:</p>
<ol>
<li>Go to finance and operations apps.</li>
<li>Select the Navigation pane and then go to <strong>Workspaces &gt; Data management</strong>.</li>
<li>In the <strong>Data management</strong> workspace, select <strong>Export</strong>. You can  optionally select <strong>Import</strong> because recurring jobs can be set up for  both import and export jobs.</li>
<li>On the <strong>Export</strong> page, enter a name for the job.</li>
<li>Select the <strong>Target data format</strong>.</li>
<li>Select the <strong>Entity name</strong> from the drop-down list.</li>
<li>Specify if you want to generate a data package.</li>
<li>Select <strong>Add entity</strong>.</li>
<li>You can follow steps 4-8 to add more entities to the job.</li>
<li>After you have added all the entities to the export job, select all the files and entities that you want as part of the recurring data job by selecting the check box in the upper-right corner of each entity.</li>
<li>Select <strong>Create recurring data job</strong> on the Action Pane.</li>
<li>On the <strong>Create recurring data job</strong> page, specify a name for the  job.</li>
<li>Optionally, add a description for the job.</li>
<li>Select the <strong>Batch group</strong> that this job will be a part of.</li>
<li>Set up the recurrence by selecting the <strong>Set processing recurrence</strong> link at the top of the page.</li>
<li>Specify the start date, start time, time zone, end date, and  recurrence pattern on the <strong>Set processing recurrence</strong> page.</li>
<li>Select <strong>OK</strong>.</li>
<li>Expand the <strong>Set up authorization policy</strong> FastTab.</li>
<li>Paste the Application ID into the field and enable.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="benefits-of-recurring-data-jobs">Benefits of recurring data jobs</h2>
<p>The benefits of recurring data jobs are:</p>
<ul>
<li>Automates routine tasks, saving time and resources.</li>
<li>Ensures data consistency by synchronizing updates across systems regularly.</li>
<li>Reduces the risk of errors caused by manual data handling.</li>
</ul>
<h2 id="monitoring-and-ttroubleshooting">Monitoring and tTroubleshooting</h2>
<p>You can use the Execution log to monitor job progress and resolve errors, and address issues by reprocessing failed files or checking mapping configurations.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create a data project and recurring data job</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You have been asked to create a new data
project that will import data on a recurring basis, for the Fleet
Management company to export its sales orders monthly.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>To get the most benefit from this exercise, we recommend that you have the
standard sample data available in finance and operations apps installed by using Lifecycle Services. You will also need a
developer sandbox environment and a trial or permanent license for using
Visual Studio.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>Launch, and log into your environment.</li>
<li>When your environment has loaded, locate and open the Windows file explorer.</li>
<li>Navigate to C:\temp.</li>
<li>Add a folder named <strong>dixf</strong>.</li>
</ol>
<h2 id="create-a-recurring-data-job">Create a recurring data job</h2>
<ol>
<li>Open finance and operations apps.</li>
<li>Locate the <strong>Company</strong> drop-down menu, and select <strong>USMF</strong></li>
<li>Go to <strong>Workspaces &gt; Data management</strong>.</li>
<li>Select the <strong>Export</strong> tile to create a new data project.</li>
<li>Enter <strong>Fleet customers</strong> in the <strong>Group name</strong> field.</li>
<li>Enter <strong>Fleet customers export</strong> in the <strong>Description</strong> field.</li>
<li>Toggle <strong>Generate data package</strong> to <strong>YES</strong>.</li>
<li>In the <strong>Selected entities</strong> FastTab select <strong>+Add entity</strong>.</li>
<li>Select <strong>Fleet Management Customers</strong> for the entity name from the drop-down menu.</li>
<li>Select <strong>Excel</strong> for the target data format.</li>
<li>Ensure that <strong>Skip staging</strong> is set to <strong>YES</strong>.</li>
<li>Ensure that the <strong>Default refresh type</strong> field is set to <strong>Full Push Only</strong>.</li>
<li>Ensure that the <strong>Select fields</strong> field is set to <strong>All fields</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Select <strong>Save</strong> in the Action Pane.</li>
<li>On the <strong>Fleet customers export project</strong> page, select <strong>Create recurring data job</strong>.</li>
<li>Enter <strong>Fleet customers export</strong> for the <strong>Name</strong> field.</li>
<li>On the <strong>Set up authorization policy</strong> tab, enter the application ID that was generated for your application, and select it as enabled. Your application ID can be located in your Azure portal.</li>
<li>Select <strong>Set processing recurrence</strong>.</li>
<li>In the <strong>Define recurrence</strong> dialog box, set up a valid recurrence for your data job.</li>
<li>Select the recurrence pattern of <strong>Months</strong> and the count to <strong>1</strong>.</li>
<li>Optional: Select <strong>Set monitoring recurrence</strong> and set up a monitoring recurrence.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement authorization to support integration</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The Data management framework's package API uses OAuth 2.0 to authorize
access. For you to use the API, it must be connected with a valid OAuth
access token. For organizations that are doing an on-premises
deployment, you will use Active Directory Federation Services (AD FS).</p>
<p>Microsoft Entra ID uses OAuth 2.0 to enable you to authorize access to web applications and web Application Programming Interfaces within your Microsoft Entra tenant. To begin, you must register the
application with your Microsoft Entra tenant. This is done through the
<a data-linktype="external" href="https://ms.portal.azure.com/#home/?azure-portal=true">Microsoft Azure portal</a>.</p>
<p>The following is an overview of the OAuth 2.0 authorization code request flow:</p>
<ol>
<li><p>The client directs the user to the <code>/authorize endpoint</code>.</p>
</li>
<li><p>With this request, the client indicates the permissions that it needs to acquire from the user who is needing access. To get your OAuth 2.0  authorization endpoint for your tenant, you can go to <strong>App registrations &gt; Endpoints</strong> in the Azure portal.</p>
</li>
<li><p>In the native application, the user is directed to sign in and  consent to permissions that are requested by the app. When the user authenticates and grants consent, Microsoft Entra ID will send a response to your application at the <code>redirect_uri</code> address in your request.</p>
<pre><code class="lang-odata">// Line breaks for legibility only

https://login.microsoftonline.com/{tenant}/oauth2/authorize?
client_id=
&amp;response_type=code
&amp;redirect_uri=http%3A%2F%2Flocalhost%3A12345
&amp;response_mode=query
&amp;resource=https%3A%2F%2Fservice.contoso.com%2F
&amp;state=12345
</code></pre>
<p>The two types of responses are:</p>
<ul>
<li><strong>Successful response</strong> - A successful response will grant access and include the admin consent, the authorization code that the application requested, a unique session value, and a state parameter.</li>
<li><strong>Error response</strong> - An error response will not grant an authorization code. The error response includes the error code value, error description, and state value.</li>
</ul>
<p>With a successful response, an authorization code is granted and access is given to the user.</p>
</li>
<li><p>The code can now be redeemed for an access token to the desired resource. This is accomplished by sending a POST request to the <code>/token</code> endpoint.</p>
</li>
<li><p>Upon a successful response, Microsoft Entra ID returns an access token. The access token is a Json Web Token (JWT).</p>
</li>
<li><p>When the access token is requested, Microsoft Entra ID returns metadata about the access token for the application's consumption. The client should cache access tokens for the specified token lifetime within the OAuth2 response. A web API might return an <code>invalid_token</code> response; this could be due to an expired token.</p>
</li>
<li><p>When the access token is obtained, the token can be used in requests to web APIs.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Monitor status and availability of entities</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>A data entity is a combination of one or multiple tables that are related to each other, and it facilitates the abstraction of an internal communication between those tables. Data entities play an important part in the integration process. You can run a synchronous integration through OData endpoints by using a data entity.</p>
<p>The Data management framework can run asynchronous data transfer by using a data entity. Make sure that you monitor the run status, availability, and performance of a data entity while a large amount of data is being transmitted in the integration process.</p>
<h2 id="configuration-key">Configuration key</h2>
<p>The availability of a data entity is dependent on the configuration key that's assigned to the following artifacts:</p>
<ul>
<li>Data entity</li>
<li>Table that's used in the data entity</li>
<li>Table fields</li>
<li>Data entity fields</li>
</ul>
<p>The following scenarios depict the configuration-based availability status of the data entity:</p>
<ul>
<li>If the configuration key status is disabled in the data entity, then the data entity won’t be available for any purpose. The configuration key value on other artifacts doesn't matter.</li>
<li>If the configuration key of the data entity is enabled, and the configuration key of the primary table of the data entity is disabled, then the data entity won’t be available for any purpose.</li>
<li>If the configuration key of the data entity is enabled, and the configuration key of any child table of the data entity is disabled, then that table and all its child tables won’t be available in the data entity. However, the overall data entity is available for use.</li>
<li>If the configuration key of the data entity and the table are enabled, but some fields of the data entity or table are disabled, then those fields won't be available in the data entity. However, the overall data entity is available for use.</li>
</ul>
<h2 id="entity-list-refresh">Entity list refresh</h2>
<p>You can view the entity list from the <strong>Data entity</strong> tile of the <strong>Data management</strong> workspace. When you refresh the data entity list, the system rebuilds the configuration key metadata so that it's up to date. We recommend that you wait for the entity list refresh to complete before you use jobs and entities in the Data management framework. Otherwise, the configuration key metadata might not be up to date and could result in unexpected outcomes.</p>
<p>When changing the configuration key, you should refresh the entity list. Until the entity list is refreshed, a warning message appears, stating that <strong>The entity list must be refreshed from the framework parameters form to fetch configuration key information for the data entities</strong>. Make sure that you validate the existing data projects and jobs to ensure that they function as expected after the configuration key changes are put into effect.</p>
<h2 id="parallel-processing">Parallel processing</h2>
<p>You can accelerate the import of data that uses data entities by enabling parallel processing of importing a file, if the entity supports parallel imports. In the <strong>Framework parameters</strong> of the <strong>Data management</strong> workspace, open <strong>Configure entity execution parameters</strong> on the <strong>Entity settings</strong> tab. Select the entity that requires parallel processing for better performance. In the <strong>Import threshold record count</strong> field, enter the threshold record count for import that determines the record count to be processed by a thread. In the <strong>Import task count</strong> field, enter the count of import tasks, which can't exceed the max batch threads that are allocated for batch processing in the Server configuration of the System administration module.</p>
<h2 id="job-history-clean-up">Job history clean-up</h2>
<p>Use the job history clean-up functionality in Data management to schedule a periodic cleanup of the run history. This functionality replaces the previous staging table cleanup functionality, which is now deprecated.</p>
<p>You can use the system batch jobs for cleaning up the history. Using system batch jobs allows finance and operations apps to have the cleanup batch job automatically scheduled and running when the system is ready. Manual scheduling of the batch job isn't required.</p>
<p>The cleanup job will archive the deleted records to the blob storage that Data management framework uses for regular integrations. The archived file is in the Data management framework package format and is available for seven days in the blob, during which time you can download it.</p>
<h2 id="monitor-run-status">Monitor run status</h2>
<p>Running a data import or export job typically includes an execution status for the job. A data import/export job can have the following status in the <strong>Execution status</strong> field.</p>
<ul>
<li><strong>Not run</strong> - The initial value when the data job is created.</li>
<li><strong>Executing</strong> - The status when the job is running.</li>
<li><strong>Succeeded</strong> - Indication that the job ran successfully.</li>
<li><strong>Failed</strong>- Indication that an error occurred. If you receive this status, review the <strong>View execution</strong> log to determine why the job has an error. You can also open the Infolog for more information and review <strong>View staging data</strong>, which provides a complete list of issues.</li>
</ul>
<p>Status and errors might appear under <strong>Job history</strong> in the Data management framework. Then, you should be able to view execution logs and staging data. If you view staging data, you can validate data and copy data to the target after you fix issues.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop data transformation</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Data management is an important feature to help you asynchronously import or export data with other systems. The <strong>Data entity</strong> element in the Application Object Tree (AOT) runs the data transfer operations. As part of the export or import process, you're required to perform intermediate data transformation to prepare the data for the target application. You can transform data through configuration. Additionally, options are available to help you develop code to perform complex transformations.</p>
<h2 id="transformation-using-configuration">Transformation using configuration</h2>
<p>Finance and operations apps has a concept of staging tables between the source and the destination tables. From the source, data is inserted or updated into the staging table and then transferred to the destination. You can transform the data before it's inserted into the staging table. Data transformation is also possible while data is being transferred to the destination from staging.</p>
<h2 id="data-transformation-between-the-external-data-source-and-staging-table">Data transformation between the external data source and staging table</h2>
<p>When a new <strong>Export</strong> or <strong>Import</strong> project is created in Data management, an icon will appear in the project line in the <strong>View map</strong> column. When you select this icon, the mapping visualization between the staging table and the external data source appears, as shown in the following screenshot. The <strong>Mapping details</strong> tab, next to the <strong>Mapping visualization</strong> tab, provides the source-to-target field mapping details and an option for basic transformation of the data.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/staging-external.png#lightbox"><img alt="Screenshot of the Mapping visualization tab, showing Entity (sourced) and Target entities." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/staging-external.png"/></a></p>
</div>
<p>The functionalities that you can achieve from the <strong>Mapping details</strong> page include:</p>
<ul>
<li><p><strong>Ignore blank values</strong> - If a requirement is in place to ignore a record if a specific field value is blank, then you should use this feature.</p>
</li>
<li><p><strong>Text qualifier</strong> - Requirements are in place, such as the data transfer file needs to contain a column of type string and the value of that column might contain a comma, which is also the column delimiter.
For example, your organization names include commas, and the value that you're using for a column delimiter is also a comma. You can use a text qualifier to resolve this conflict, which will add double quotes to identify the <strong>Text</strong> column.</p>
</li>
<li><p><strong>Use enum label</strong> - This option is a check box, which you can select to use the enum label in the data transfer file.</p>
</li>
<li><p><strong>Auto-generated</strong> - Some fields in an entity might have requirements to update system-generated data during import instead of providing the data in the source import file. In such a scenario, you can use auto-generated functionality in the mapping details for the entity.
For example, the customer entity can have the party number be auto generated during import and the Global Address Book information created. When you select the <strong>Auto-generated</strong> checkbox for a field, the source field will change to <strong>Auto</strong>.</p>
</li>
<li><p><strong>Auto default</strong> - Some fields in an entity might have requirements to update default data during import instead of providing the data in the source import file. For such a scenario, you can select the <strong>Auto default</strong> checkbox in the mapping details for the entity. When you select the <strong>Auto default</strong> checkbox, the <strong>Default value</strong> button will be enabled in the <strong>Map source to the staging</strong> page, where the default value should be entered.</p>
</li>
<li><p><strong>Conversion</strong> - Some fields in an entity might have requirements to update specific values during import based on the value that's provided in the source import file. For example, in the source application, the value of a certain field is false or true. While you're importing in Dynamics 365, the value should be imported as <strong>No</strong> or <strong>Yes</strong>. The <strong>Conversion</strong> button in the <strong>Map source to staging</strong> form will allow you to enter value-to-value mapping information, which will update the involved fields during the import operation.</p>
</li>
</ul>
<h2 id="data-transformation-between-finance-and-operations-apps-and-the-staging-table">Data transformation between finance and operations apps and the Staging table</h2>
<p>You can access a data entity from the <strong>Data entities</strong> tile in the <strong>Data management</strong> workspace. To add data transformation logic, select the <strong>Modify target mapping</strong> button in the command bar for the selected data entity. The <strong>Mapping details</strong> page should appear.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/staging-finance-operations.png#lightbox"><img alt="Screenshot of the Map staging to target page, showing the Mapping details tab." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/staging-finance-operations.png"/></a></p>
</div>
<p>Options to create virtual fields and computed columns are available in the data entity. These fields will appear in the <strong>Staging</strong> field, which you can map with the <strong>Target</strong> fields in finance and operations. You can develop the data transformation logic in virtual fields or computed columns by writing X++ code.</p>
<h3 id="computed-columns">Computed columns</h3>
<p>Consider the following factors when developing the data transformation logic in computed columns:</p>
<ul>
<li><strong>Value</strong> is generated by an SQL view computed column.</li>
<li>During read, data is computed by SQL and is fetched directly from the view.</li>
<li>For writes, custom X++ code must parse the input value and then write the parsed values to the regular fields of the data entity. The values are stored in the regular fields of the data sources of the entity.</li>
<li>Computed fields are used mostly for reads.</li>
<li>If possible, you should use computed columns instead of virtual fields because they're computed at the SQL Server level, whereas virtual fields are computed row by row in X++.</li>
</ul>
<h3 id="virtual-fields">Virtual fields</h3>
<p>Consider the following factors when developing the data transformation logic in virtual fields:</p>
<ul>
<li>Virtual fields are non-persisted.</li>
<li>Virtual fields are controlled by custom X++ code.</li>
<li>Read and write happens through custom X++ code.</li>
<li>Virtual fields are typically used for intake values that are calculated by using X++ code and can't be replaced by computed columns.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Microsoft Dataverse integrations</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use Microsoft Dataverse to enable the flow of data between
finance and operations apps and Dynamics 365 Sales, and Dynamics 365 Customer Service. Because
Sales and Customer Service reside in Dataverse, and finance and operations apps integrates with Dataverse, finance and operations apps integrates with all parts of customer engagement apps, such as Dynamics 365 Sales, Dynamics 365 Customer service, Dynamics 365 Customer Insights - Journeys, Dynamics 365 Field service, as well as Dynamics 365 Talent.</p>
<p>For example, customer information in Sales can flow to finance and operations apps. You don't have to manually move the data or use a third-party data integration tool. Using a Dataverse approach to data integrations enables a One Dynamics 365 user experience. It also enables digital feedback loops among customers, products, people, and operations.</p>
<p>To keep the data in the Dataverse up to date, you can configure finance and operations apps environments to link to the Dataverse as part of the environment deployment flow in Lifecycle Services. When deploying environments, you can configure an existing Dataverse environment, or create a new one. The data can then be set up to flow between the applications with little work required on the back end.</p>
<p>The Data Integrator for Admins is a point-to-point integration service
that is used to integrate data into Dataverse, which is how you can synchronize data across Dynamics 365 applications. The Data Integration platform includes out-of-the-box templates that are provided by application teams, including finance and operations apps and Sales.</p>
<p>Custom templates have also been built by Microsoft partners and customers. These integration templates provide a blueprint with predefined entities and field mappings, which enable data to flow from the source to the destination. Additionally, integration templates provide the ability to transform the data before it is imported.</p>
<p>Many times, the schema between the source and destination apps can be
different, and a template with predefined entities and field
mappings is a good starting point for an integration project.</p>
<p>The following graphic shows the behind-the-scenes architecture of the
synchronous approach to data integrations. Data flows between finance
and operations apps and Dataverse in a bi-directional pattern in nearly real time. This functionality is available out of the box and is the preferred data integration approach.</p>
<p><img alt="Diagram of the architecture for the synchronous approach to data integrations between Dataverse and finance and operations apps." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/synch-arch.png"/></p>
<p>To learn more about synchronous data integration, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/supply-chain/sales-marketing/accounts-template-mapping-direct/?azure-portal=true">Synchronize accounts directly from Sales to customers in Supply Chain Management</a>, which provides an example of the prospect-to-cash flow that is used to synchronize data from Sales to Dynamics 365 Supply Chain Management.</p>
<p>To set up a data integration project and create a connection, follow these high-level steps:</p>
<ol>
<li>Create a connection (provide credentials to data sources).</li>
<li>Create a connection set (identify environments for connections that you created in the previous step).</li>
<li>Create a data integration project by using a template (create or use predefined mappings for one or more entities).</li>
<li>After the integration project has been created, you must provide a connection for each system that you will be working with in the Microsoft Power Apps portal.</li>
</ol>
<p>You can choose to use an asynchronous approach for data integrations
between finance and operations apps and Dataverse, but it is one-directional. This means that data can flow only from finance and operations apps to Dataverse, or from Dataverse to finance and operations apps. It does not seamlessly flow back and forth.
The data flow is also not in real time.</p>
<p>For more information about Dataverse data integration, see the
Summary unit of this module for references.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate Dataverse by using virtual entities</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In finance and operations apps, you can use virtual entities as virtual data sources in Microsoft Dataverse. As a result, you can create, read, update, and delete (CRUD) operations from Dataverse and Microsoft Power Platform.</p>
<p>Virtual entities, dual-write, business events, and data events comprise the shared data layer for the convergence of finance and operations apps and the Microsoft Dataverse platform. They’re complementary technologies that are intended for working together.</p>
<p>Dual-write operates on physical copies of data in finance and operations apps and Dataverse. The system syncs the data and then it creates, updates, or deletes the data in the target environment when the action occurs in the source environment.</p>
<p>Virtual entities don’t copy data between systems. Instead, the system accesses the data directly through the standard virtual entity infrastructure to which Microsoft Power Platform technologies already bind. Virtual entities give no data inconsistency because data only exists in finance and operations apps.</p>
<p>Before you complete CRUD operations in Dataverse, make sure that you make the virtual entity available in Dataverse. All Open Data (OData) Protocol entities are available as virtual entities in Dataverse.</p>
<p>The following image illustrates the architecture of virtual entities.</p>
<p><a data-linktype="relative-path" href="media/architecture-virtual-entities.png#lightbox"><img alt="Diagram of the architecture of virtual entities." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/architecture-virtual-entities.png"/></a></p>
<p>All calls between Dataverse and finance and operations apps (that are part of virtual entities) are done as service-to-service calls behind the scenes. To use virtual entities, make sure that you enable the <strong>Power Platform Integration</strong> feature.</p>
<h2 id="enable-power-platform-integration">Enable Power Platform Integration</h2>
<p>For Tier-2+ environments, you can enable the <strong>Power Platform Integration</strong> feature after the finance and operation apps deployment. However, for Tier-1 (development environment), you need to enable Power Platform Integration during deployment.</p>
<p>You can only enable the Power Platform Integration feature for Azure-hosted environments; meaning, you can’t enable it for virtual hard drive (VHD) development environments.</p>
<p>For Tier-2+ environments, go to your sandbox or production environment and then select the <strong>Power Platform Integration</strong> FastTab. If the <strong>Setup</strong> button is available, you can set up your connection to Dataverse. You can choose to continue your setup on the environment that was provisioned automatically for you, or you can choose a preexisting Microsoft Power Platform environment.</p>
<p>For Tier-1 environments, when you’re deploying the environment in Microsoft Dynamics 365 Lifecycle Services, go to <strong>Advanced settings</strong> &gt; <strong>Power Platform Integration</strong>. In the <strong>Deployment settings</strong> window, set the <strong>Configure Power Platform Environment</strong> toggle to <strong>Yes</strong>, select the applicable <strong>Power Platform template</strong> and <strong>Environment Type</strong>, and then select the <strong>Agree</strong> checkbox, as shown in the following image.</p>
<p><a data-linktype="relative-path" href="media/power-platform-integration.png#lightbox"><img alt="Screenshot of the Deployment settings window and Power Platform Integration." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/power-platform-integration.png"/></a></p>
<p>After completing the <strong>Advanced deployment</strong> settings, select <strong>Done</strong> and then continue deploying the environment.</p>
<p>Now, the finance and operations apps and Microsoft Power Platform environment show as deployed.</p>
<p>If you need to install dual-write to your deployed environment, select <strong>Setup Dual-write application</strong> under <strong>Power Platform Integration</strong>. This selection opens a dialog in which you need to select <strong>I agree</strong> and then <strong>Configure</strong> to start data-entity mapping.</p>
<h2 id="enable-virtual-entities">Enable virtual entities</h2>
<p>By default, virtual entities for finance and operations apps don’t exist in Dataverse. You need to query the catalog entity to view the entities that are available in the linked instance of finance and operations apps. From the catalog, you can select one or more entities and then request that Dataverse generate the virtual entities, as follows:</p>
<ol>
<li><p>Open <a data-linktype="external" href="https://admin.powerplatform.microsoft.com/?azure-portal=true">Microsoft Power Platform admin center</a>.</p>
</li>
<li><p>In the <strong>Environments</strong> list, select the Microsoft Power Platform environment that’s associated with your finance and operations apps environment.</p>
</li>
<li><p>In the <strong>Details</strong> section of the environment page, select the <strong>Environment</strong> URL link to open the Microsoft Power Platform environment.</p>
</li>
<li><p>In the upper-right corner of the page, select the <strong>Settings</strong> gear icon and then select <strong>Advanced Settings</strong>.</p>
</li>
<li><p>In the upper-right corner of the <strong>Settings</strong> page, select the <strong>Advanced find</strong> filter icon.</p>
</li>
<li><p>Select <strong>Look for</strong>, and then enter <strong>Available finance and operations entities</strong> , and then select <strong>Results</strong>. Now all existing entities should appear.</p>
</li>
<li><p>Find and open the entity that you want to enable.</p>
</li>
<li><p>Select the <strong>Visible</strong> checkbox and then save your change.</p>
</li>
</ol>
<p>For example, if you’re enabling the Customers V3 entity by using the previous steps, the virtual entity appears in the Dataverse table list with a prefix of (mserp), such as Customers V3 (mserp). Then, you would continue the enabling process as follows:</p>
<ol>
<li>Go to <a data-linktype="external" href="https://make.powerapps.com/?azure-portal=true">Microsoft Power Apps maker portal</a>  and select your environment.</li>
<li>Go to the <strong>Table list</strong> and select <strong>All</strong> for all tables.</li>
<li>In the upper-right corner of the page, enter <strong>Customers V3</strong> in the search field.</li>
<li>Select the <strong>Customers V3 (mserp)</strong> table to open it.</li>
</ol>
<p>Now all customer accounts appear in the columns and data section.</p>
<p>You can make fields visible or hidden, as desired. Additionally, Power Apps can now use the virtual entity by referring to the <strong>Customers V3 (mserp)</strong> table in Dataverse, which isn’t a physical table, by using CRIUD operations.</p>
<p>The following video demonstrates the configuration and integration of an existing virtual entity with Dataverse.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=c64eed61-b720-4479-ac8e-ebbc25b7ec3d"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Work with composite data entities</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>A composite entity is a concept that allows you to build a single entity
by using multiple entities that are related to each other. Usually, you'd use the
concept in scenarios where you can represent an entity
as a single document, such as a sales order header, sales order line, invoice header, invoice line, and vendor catalog.</p>
<p>A composite entity is applicable in asynchronous integration scenarios
rather than synchronous OData scenarios.
A programmatic interface isn't available for composite entities in X++, and it's only supported for a data management platform that's part of XML file-based imports and/or exports.</p>
<p>Importing and exporting composite entities is a quick and simple process
within the <strong>Data management</strong> workspace in finance and operations apps.</p>
<p>To import or export a composite data entity, follow these
steps:</p>
<ol>
<li>Select the <strong>Import/Export</strong> tile in the <strong>Data management</strong>
workspace.</li>
<li>Enter a name in the <strong>Name</strong> field.</li>
<li>Select the data source format for imports or add the entity to export.</li>
<li>Select <strong>Import</strong> for imports or select <strong>Download package</strong> to perform an export.</li>
</ol>
<h2 id="work-with-aggregate-data-entities">Work with aggregate data entities</h2>
<p>An aggregate data entity is conceptually different from data entities, which are used for import and export with the data management framework. Aggregate data entities are based on views of data, and you can use them to consolidate, summarize, and simplify the data structure for analytics purposes.</p>
<p>Aggregate data entities have the following components:</p>
<ul>
<li>Aggregate measurements</li>
<li>Aggregate dimensions</li>
<li>Model dimension references</li>
</ul>
<p>When you build the aggregate data entity with the <strong>IsPublic</strong> property set to <strong>true</strong>, you can access it with OData as data entities by using the same url: https://your dynamics name.dynamics.com/data/aggregate data entity.</p>
<p>To create aggregate data entities, all development happens in Visual Studio.</p>
<p>To create an aggregate measurement in Visual Studio, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, right-click your project or activate the context menu, and then select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>Analytic and Aggregate measurement</strong>.</li>
<li>Enter a name for the aggregate measurement, and then select <strong>Add</strong>.</li>
<li>In <strong>Application Explorer</strong>, go to <strong>Data model &gt; Views</strong>.</li>
<li>Select <strong>CustInvoiceTransExpanded</strong>, and then drag it to the <strong>MeasureGroup1</strong> on the aggregate measurement.</li>
<li>Go to the <strong>dimension</strong> node and remove the <strong>Date</strong> field.</li>
<li>Go to the <strong>measures</strong> node and create a new measure.</li>
<li>Select the <strong>LineAmountMST</strong> field and then select <strong>Sum</strong> as <strong>Default Aggregate</strong> in the properties.</li>
<li>Select <strong>Save all</strong>.</li>
</ol>
<p>To create aggregate dimensions, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, right-click your project or activate the context menu, and then select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>Analytic and Aggregate dimension</strong>.</li>
<li>Enter a name for the aggregate dimension, and then select <strong>Add</strong>.</li>
<li>In <strong>Application Explorer</strong>, go to <strong>Data model &gt; Views</strong>.</li>
<li>Select <strong>CustInvoiceTransExpanded</strong>, and then drag it to the root of the aggregate dimension.</li>
<li>Go to the <strong>attributes</strong> node and remove all items except <strong>ItemId</strong> and <strong>MyAggregate</strong> dimension.</li>
<li>Select <strong>Save all</strong>.</li>
</ol>
<p>To model dimension references, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, select the aggregate dimension and then drag it into the <strong>dimensions</strong> node on the aggregate measurement. A new out dimension node is created on the aggregate measurement.</li>
<li>Right-click the new node, or activate the context menu, and then select <strong>New relation</strong>.</li>
<li>In the properties, select <strong>ItemId</strong> as the field and <strong>ItemId</strong> as the related field.</li>
<li>Select <strong>Save</strong>.</li>
</ol>
<p>To deploy the aggregate measurement, follow these steps.</p>
<ol>
<li>Select the properties for the top node on the aggregate measurement and then verify that <strong>Usage</strong> is set to <strong>InMemoryRealTime</strong>.</li>
<li>In <strong>Solution Explorer</strong>, right-click the aggregate measurement or activate the context menu, and then select <strong>Add Column Store Indices</strong>.</li>
<li>Select <strong>Save all</strong>, and the measurement indexes are created in the project.</li>
</ol>
<p>To create an aggregate data entity, follow these steps.</p>
<ol>
<li>In <strong>Solution Explorer</strong>, right-click your project or activate the context menu and then select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>Analytic and Aggregate Data Entity</strong>.</li>
<li>Enter a name for the aggregate data entity and then select <strong>Add</strong>.</li>
<li>In <strong>Solution Explorer</strong>, go to <strong>Aggregate measurement</strong> and then drag it into the data source node on the new aggregate data entity.</li>
<li>Go to <strong>Data source &gt; Aggregated measurement &gt; Measures</strong> and then drag <strong>LineAmountMST</strong> to the field’s node.</li>
<li>Set up the measurement property and the extended data type property as applicable.</li>
<li>Go to <strong>Data source &gt; our aggregated measurement and dimensions</strong> and then drag the new aggregated dimension to the field’s node. Set the <strong>Name</strong> property and then select the field in the <strong>Attribute</strong> property.</li>
<li>Set the <strong>IsPublic</strong> top node property to <strong>Yes</strong> to enable the aggregate data entity for OData and then enter names for the public collection name and public entity name as applicable.</li>
<li>Create a primary key for the <strong>ItemId</strong> field.</li>
<li>Set the primary key on the top node to the key name.</li>
<li>Select <strong>Save all</strong> and then build.</li>
</ol>
<p>Now, you can test the aggregate data entity by using the <strong>https://your solution name.axcloud.dynamics.com/data/Aggregate Data Entity Collection name</strong> URL.</p>
<p>The following code sample illustrates how the output might appear.</p>
<pre><code class="lang-xpp">{
  "@odata.context":"https://mb-500-dev23bd5795219c31f9devaos.axcloud.dynamics.com/data/$metadata#MyAggregateDataEntityCollection","value":[
    {
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"","LineAmountMST":5636950
    },{
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"D0001","LineAmountMST":3236760
    },{
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"D0003","LineAmountMST":1651826
    },{
      "@odata.etag":"W/\"JzAsMTAxMCc=\"","ItemId":"D0004","LineAmountMST":11798000
    }
  ]
}
</code></pre>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/develop-composite-data-entities#import-a-composite-entity">Import a composite entity</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Azure Data Lake and Entity Store</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft Azure Data Lake Storage is a no-limits data lake that enables organizations to power intelligent action. It removes the complexities of ingesting and storing all your data while making it faster to get operational with batch, streaming, and interactive analytics.</p>
<p>Azure Data Lake Storage enables you to have cloud storage that is less expensive than the cloud storages that relational databases provide. This data includes business data that is traditionally stored in business systems and data warehouses, in addition to device and sensor data, such as signals from devices. In addition, Data Lake Storage supports a range of tools and programming languages that enable large amounts of data to be reported on, queried, and transformed.</p>
<p>Finance and operations apps can use Data Lake Storage for AI and analytics capabilities, allowing you to take advantage of the cost effectiveness and strengths of the Azure Data Lake Storage technology.</p>
<p>Entity Store is available in Azure Data Lake Storage so that you can enable advanced analytics and AI, such as reasoning over data, across finance and operations apps and other data in your Azure Data Lake Storage. Finance and operations apps provide straightforward access to denormalized transactional data in a near real-time basis.</p>
<p>Entity Store schemas are available in Azure Data Lake Storage so that you can directly access denormalized data for reporting and analytics. Aggregate measurements are stored in Data Lake Storage as Common Data Model folders that enable rich data mash-up and analytical scenarios. For example, aggregate measurement data can be attached as Microsoft Power BI reference data flows and used for reporting with Power BI. Power users can create new data mashups and reports in Power BI Desktop.</p>
<p>Follow these steps to make Entity Store available as a data lake:</p>
<ol>
<li><p>Enable automated Entity Store refresh before you can enable data lake integration by going to <strong>System administration &gt; Setup &gt; Entity Store</strong>.</p>
</li>
<li><p>The <strong>Entity Store</strong> page includes all <strong>Aggregate measures</strong> in the left pane. Select one of the records.</p>
</li>
<li><p>Change the <strong>Automatic refresh enabled</strong> toggle to <strong>Yes</strong>.</p>
<p><a data-linktype="relative-path" href="media/refresh-ss.png#lightbox"> <img alt="Screenshot of the Automatic refresh enabled toggle set to Yes." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/data-integrations-finance-operations/media/refresh-ss.png"/> </a></p>
<div class="IMPORTANT">
<p>Important</p>
<p>This action is not reversable. When you switch to automated Entity Store refresh, you can't revert to the old user interface experience.</p>
</div>
</li>
<li><p>Specify the refresh <strong>Recurrence</strong>. You can select <strong>Every hour</strong>, <strong>Twice per day</strong>, <strong>Once per day</strong>, or <strong>Once per week</strong>.</p>
<div class="NOTE">
<p>Note</p>
<p>Administrators can refresh aggregate measures on demand by selecting the aggregate measure to refresh and then selecting <strong>Refresh</strong> in the Action Pane.</p>
</div>
</li>
</ol>
<p>Follow these steps to be able to work in the Entity Store as a data lake:</p>
<ol>
<li>Go to <strong>System administration &gt; System setup &gt; System parameters</strong>.</li>
<li>Select the <strong>Data connections</strong> tab in the left pane.</li>
<li>Change the <strong>Enable Data Lake integration</strong> toggle to <strong>Yes</strong>.</li>
<li>If you want to update Data Lake Storage in frequent small batches as data is updated in the system, change the <strong>Trickle update Data Lake</strong> toggle to <strong>Yes</strong>.</li>
<li>Enter the following information:
<ul>
<li><strong>Application ID</strong> – Application ID of the Microsoft Entra ID application.</li>
<li><strong>Application Secret</strong> – Application key (secret) for the Microsoft Entra ID application.</li>
<li><strong>DNS name</strong> – DNS name of the Key Vault.</li>
<li><strong>Secret name</strong> – Name of the secret that you added to Key Vault together with connection string information.</li>
</ul>
</li>
<li>When you have entered all information, select <strong>Test Azure Key Vault</strong> and <strong>Test Azure Storage</strong> to validate that Dynamics 365 can access the provided configuration information.</li>
</ol>
<p>Entity Store data should now be populated in the storage location that you provided, not in the relational Entity Store database.</p>
<p>For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-store-data-lake/?azure-portal=true">Make Entity store available as a Data Lake</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Connect to Azure Data Lake Storage</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Connecting to Microsoft Azure Data Lake Storage unlocks hidden insights in your data. Azure Data Lake Storage organizes data by using the Common Data Model (CDM) metadata system in an Azure storage account.</p>
<p>Using Azure Data Lake Storage has advantages compared to using a <em>bring your own database</em> (BYOD) system, including:</p>
<ul>
<li>Data is already present, so you don’t need to conduct an export. Azure Data Lake Storage integration manages continuous data export.</li>
<li>The cost of data storage is reduced.</li>
<li>You can reverse existing downstream and consumption pipelines before the export process occurs.</li>
</ul>
<p>Azure Data Lake Storage stores data as comma separated value (CSV) files in an Azure storage account.</p>
<p>Currently, export to the Azure Data Lake Storage feature isn’t available in Tier-1 (developer) environments. You need to have a cloud-based, Tier-2 or higher sandbox environment to enable this feature. However, you can use a prototype from FastTrack to enable Azure Data Lake Storage for Tier-1 (development) environments.</p>
<h2 id="connect-a-cloud-hosted-development-environment-to-azure-data-lake-storage-in-cdm-format">Connect a cloud-hosted development environment to Azure Data Lake Storage in CDM format</h2>
<p>GitHub provides a solution for connecting a cloud-hosted development environment to Azure Data Lake Storage by using the CDM format, which is a standard entity that you can use to provide integration between systems.</p>
<p>Unlike a standard export process to Azure Data Lake Storage, the FastTrack prototype conducts a full export. In the standard export to Azure Data Lake Storage, you can select entities for export.</p>
<p>A benefit of using export to Azure Data Lake Storage is that the system exports entities in near real time, and you can export denormalized tables.</p>
<p>To use the FastTrack prototype that’s on <a data-linktype="external" href="https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/blob/master/Analytics/AzureDataFactoryARMTemplates/SQLToADLSFullExport/ReadmeV2.md/?azure-portal=true">GitHub</a>, you must meet several prerequisites, including:</p>
<ul>
<li>An Azure subscription.</li>
<li>An Azure storage account.</li>
<li>A Microsoft Azure Synapse Analytics workspace.</li>
<li>Connection to a SQL on-demand endpoint by using a supported tool.</li>
<li>Access to Microsoft Azure Data Factory.</li>
<li>Microsoft Visual Studio 2019, to build the export project.</li>
</ul>
<p>When you’re ready to deploy, complete the following steps:</p>
<ol>
<li>Clone the repository from GitHub.</li>
<li>Open the repository and build it.</li>
<li>Deploy it as an Azure Function.</li>
<li>Enable the Windows Installer MSI files that are built from the repository.</li>
</ol>
<p>To prepare an Azure storage account, Synapse Analysis, and Azure Data Factory for deployment, complete the following steps:</p>
<ol>
<li>Set up the storage account.</li>
<li>Set up Azure Synapse Analysis and SQL on-demand.</li>
<li>Collect Azure Data Factory deployment parameters.</li>
<li>Deploy the Azure Data Factory template from the cloned repository on GitHub.</li>
</ol>
<p>To connect to the finance and operations cloud-hosted development environment, make sure that you complete the following actions:</p>
<ol>
<li>Use Microsoft Dynamics 365 Lifecycle Services and Environment details. The SQL server login is in the <strong>Manage environment</strong> section.</li>
<li>Connect your Azure Data Factory to the finance and operations cloud-hosted environment by creating a self-hosted integration runtime for your Azure Data Factory.</li>
<li>After you deploy the Azure Data Factory template, go to Azure Data Factory, and run the pipelines. Notice that the data structure and metadata are built in CDM format. You can also create reports by using this format and any reporting and business intelligence (BI) tools.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Change data in Azure Data Lake</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When you select the <strong>Enable near real-time data changes</strong> option, data is inserted, updated, and deleted in your data lake in near real-time. As data changes in your finance and operations environment, the same data is updated in the data lake within a few minutes. You also get the data changes in a separate <strong>Change feed</strong> folder.</p>
<p>Change data in a data lake lets you build near-real-time data pipelines that react to data changes in finance and operations apps. The <strong>Change feed</strong> folder in the data lake contains every data change in finance and operations apps. This folder is automatically created and maintained by the <strong>Export to Data Lake</strong> feature.</p>
<h2 id="why-do-you-need-change-data-in-a-data-lake">Why do you need change data in a data lake?</h2>
<p>Data in a data lake is often used for reporting purposes. Although you can use the table data in the data lake to create reports, you can also create additional copies of the data to improve your reporting. For example, you might have a data mart that is designed to enable your power users. In this data mart, you might have simplified, often aggregated, fact tables and dimension tables.</p>
<p>As table data in the data lake is updated, you must keep the corresponding fact tables and dimension tables in the data lake updated. Otherwise, your reports won't reflect the latest data.</p>
<p>The easiest way to update fact tables and dimension tables is to periodically create a full copy by using tables. However, this approach can be inefficient. If your tables are large (for example, if they have tens of millions or hundreds of millions of rows), the process of updating a fact table by making a full copy might take hours and consume lots of compute resources. Therefore, your users might not have the reports in time (that is, they might have to wait hours to see the latest data in reports). Additionally, because compute resources are consumed every time that data is reprocessed, you might receive a larger bill from the services that you've consumed.</p>
<p>Incremental update of your fact tables and dimension tables provides the answer to both problems (time consumption and compute resource consumption). In an incremental update, you select only the changed records from source tables, and update them in corresponding fact tables and dimension tables.</p>
<p>Incremental update is a standard capability in most data transformation tools, such as Azure Data Factory. However, for the incremental update feature to work, you must identify the records that changed in source tables.</p>
<p>The <strong>Change feed</strong> folder provides a history of table data changes in the data lake. This history can be used for data pipelines that use incremental update.</p>
<p>For more detailed information about the <strong>Change feed</strong> folder, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/azure-data-lake-change-feeds/?azure-portal=true">Change data in Azure Data Lake</a>.</p>
<h2 id="best-practices-when-change-feeds-are-used">Best practices when change feeds are used</h2>
<p>This section examines some best practices that you should follow when change feeds are used.</p>
<h3 id="updating-near-real-time-data-marts">Updating near-real-time data marts</h3>
<p>If you require that your data warehouse or data marts be updated in near-real time (in other words, if they must be updated within minutes of a data change in finance and operations apps), you should use change feeds.</p>
<p>However, there are several important concepts that must be understood:</p>
<ul>
<li>Change records are grouped into files that are around 4 megabytes (MB) or 8 MB in size. Microsoft has optimized file sizes so that they provide optimum query response times when the files are queried by Synapse SQL Serverless. Optimized file sizes (and batched writes) also reduce the Azure charges that you might incur as the data lake is updated.</li>
<li>Change records are only appended. Files in the <strong>Change feed</strong> folder are never updated. Although each change record contains the LSN number and date/time of a change, you can also use the date/time stamp of the CSV files to identify changes.</li>
<li>When you reactivate a table in finance and operations, the <strong>Change feed</strong> folder is cleared, and the system starts change feeds from the next available change. This behavior ensures that the changes are consistent with the <strong>Tables</strong> folder. When tables are reactivated, you should consider triggering a full refresh of the downstream data pipeline.</li>
<li>Your downstream jobs can be orchestrated on a periodic basis (for example, every 10 minutes), or they can be triggered when a new change feed file is added to a folder.</li>
<li>In either case, your downstream data pipelines must have a <em>last processed</em> marker (also known as a watermark). Whenever you can, you should rely on the <strong>LSN</strong> field in the record as the watermark. However, you can also use the <strong>File Date-Time</strong> stamp as the watermark. By relying on the LSN, you ensure that you consume the changes in the same sequence in which they were committed in the finance and operations database.</li>
</ul>
<p>For an example that shows how you can build a downstream pipeline, see the <a data-linktype="external" href="https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/tree/master/Analytics/SynapseToSQL_ADF/?azure-portal=true">Synapse data ingestion template</a>. You can use it to incrementally ingest data into a SQL-based data warehouse.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Power Platform convergence</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft Power Platform integration removes the barriers to entry for customers to fully harness the Microsoft Power Platform stack with each of their finance and operations environments. Features such as dual-write become a one-click experience to set up. Add-ins are unlocked for an environment using Microsoft Power Platform integration. Virtual entities are also made available by default in the environment. Business events and create/update/delete (CUD) events in finance and operations apps are also integrated with Microsoft Dataverse.</p>
<div class="NOTE">
<p>Note</p>
<p>CUD events are only going to be available with Microsoft Power Platform integration.</p>
</div>
<p>When using a new experience on each environment in Lifecycle Services, a user can complete the first part of the Microsoft Power Platform integration setup. This will create an environment of the same type (production or sandbox) in the Power Platform admin center. This new environment will have the same name as the one in Lifecycle Services and will be powered by Microsoft Dataverse, and the finance and operations URL will be populated on this environment in the admin center.</p>
<p>When the setup is complete, dual-write setup will be enabled and customers who want to use dual-write can do this from Lifecycle Services. They can then select which entity maps to synchronize from the finance and operations app. Virtual entities are also installed in the environment with Microsoft Power Platform integration and it isn’t necessary to set up manual connections because the environments are preconnected.</p>
<p>With Microsoft Power Platform integration enabled, finance and operations users will be automatically added to Dataverse when users access virtual entities from Microsoft Power Apps.</p>
<p>Another benefit of the Microsoft Power Platform integration being enabled is that business events in finance and operations will converge with business events in Dataverse. Users who subscribe to finance and operations business events will receive that event from Dataverse. Also, it will enable the execution of C# plug-ins for Dataverse for finance and operations scenarios that are executed because of business events.</p>
<p>With the integration, CUD events are also available for finance and operations OData-enabled data entities. A CUD operation in a finance and operations app can happen via the finance and operations user interface, finance and operations OData APIs, or from Power Apps/Power Portal, using virtual entities. The CUD event will trigger the entity. Also, it enables the execution of C# plug-ins in Dataverse for finance and operations scenarios that are executed as a response to CUD events.</p>
<p>The Plugin Registration Tool will enable registering C# plug-ins business and CUD events coming from finance and operations apps. Developers can explore Dataverse environments and write, register, deploy, and debug C# plug-ins in Visual Studio, using a Visual Studio extension for Microsoft Power Platform. For developers, such as finance and operations developers, that are already working in Visual Studio, this provides one workspace (Visual Studio) to author their customizations across Dynamics 365 apps, in finance and operations apps, and Dataverse.</p>
<p>See <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/power-platform/overview/?azure-portal=true">Microsoft Power Platform integration with finance and operations apps</a> to learn more.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you've learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What components come included with the Data Integrator templates?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Field mappings</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>X++ code</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>SDK</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>To use OAuth 2.0 with finance and operations apps, you must first register the application. Where can you do this?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>System administration module</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft 365 Admin help center</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft Azure portal</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Apps portal</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which one of the following products or features is used to enable the flow of data between finance and operations apps and other Dynamics 365 applications?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Automate</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft Dataverse</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Data entities</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>In which format is data stored in an Azure storage account?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>As SQL tables</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>As CSV files by using the CDM format that consists of data and metadata</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>In a binary format</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>In a compressed zip format</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>When and where do you set up Microsoft Power Platform to integrate with the Azure-hosted development environment?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>As an Azure service for an Azure-hosted development environment after deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>In Lifecycle Services after deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>In the deployment settings before deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-3">
<input class="radio-dot choice-input" id="quiz-choice-4-3" name="4" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>In the Microsoft Power Platform admin center during deployment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The exchange of documents and files within finance and operations apps
is important for most organizations. In this module, you learned that integrations
allow you to exchange this information between Dynamics 365 applications
and other third-party applications depending on the needs of the
business.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Identity Platform Access Tokens</td>
<td><a data-linktype="absolute-path" href="/en-us/azure/active-directory/develop/access-tokens/?azure-portal=true">Microsoft identity platform access tokens</a></td>
</tr>
<tr>
<td>OAuth 2.0</td>
<td><a data-linktype="absolute-path" href="/en-us/azure/active-directory/develop/v1-protocols-oauth-code/?azure-portal=true">Authorize access to Microsoft Entra ID web applications using the OAuth 2.0 code grant flow</a></td>
</tr>
<tr>
<td>Setting up batch jobs</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/setup-batch-jobs-finance-operations/?azure-portal=true">Set up batch jobs in finance and operations apps</a></td>
</tr>
<tr>
<td>Microsoft Dataverse</td>
<td><a data-linktype="absolute-path" href="/en-us/training/paths/get-started-cds/?azure-portal=true">Get started using Dataverse</a></td>
</tr>
<tr>
<td>Integrating data into Dataverse</td>
<td><a data-linktype="absolute-path" href="/en-us/power-platform/admin/data-integrator/?azure-portal=true">Integrate data into Dataverse</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When it’s time to migrate data, the more you know, the easier it is to control operational complexity, and reduce costs. Your customer’s business continuity must be your priority. In this module, you will learn how to prepare data for a successful migration, by identifying important factors such as legacy systems, static, and common data.</p>
<p>In this module, you will learn how to:</p>
<ul>
<li>Choose a data integration (import/export) strategy.</li>
<li>Identify common migration scenarios and tools in finance and operations apps.</li>
<li>Work with the Bring your own database (BYOD) feature.</li>
<li>Identify relevant (legacy) systems.</li>
<li>Identify and import static data that is common between industries.</li>
<li>Create and review test plans for data migration.</li>
<li>Identify and extract source data.</li>
<li>Identify relevant data entities and elements.</li>
<li>Generate field mapping between source and target data structures.</li>
<li>Perform a test migration and validate output.</li>
<li>Support the transition between the existing and migrated systems.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Select a data integration (import/export) strategy</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explores integration patterns, scenarios, and solutions for finance and operations. Although this unit does not include technical details about how to use or set up every integration pattern or how to work with sample code, it is always wise to be aware of available integration tools.</p>
<p>The following integration patterns are available for finance and operations apps:</p>
<ul>
<li>OData</li>
<li>Batch data API</li>
<li>Custom service</li>
<li>Consume external web services</li>
<li>Excel integration</li>
</ul>
<h2 id="odata">OData</h2>
<p>OData is a standard protocol for creating and consuming data. The purpose of OData is to provide a protocol that is based on Representational State Transfer (REST) for create, read, update, and delete (CRUD) operations. OData applies web technologies such as HTTP and JavaScript Object Notation (JSON) to provide access to information from various programs.</p>
<p>OData provides the following benefits:</p>
<ul>
<li>Allowing developers to interact with data by using RESTful web services</li>
<li>Providing a simple and uniform way to share data in a discoverable manner</li>
<li>Enabling broad integration across products</li>
<li>Enabling integration by using the HTTP protocol stack</li>
</ul>
<h2 id="batch-data-api">Batch data API</h2>
<p>Use the batch data API in scenarios that require one or both Data management package REST API and Recurring integrations. Both APIs support data import scenarios and data export scenarios.</p>
<p>For finance and operations apps, we have tried to simplify this process for all parties who are involved, from integration solution builders to customer users.</p>
<p>The package API lets you integrate with finance and operations apps by using data packages. The REST API can be used with both cloud and on-premises deployments. The data management framework's package API uses OAuth 2.0 for authorizing access.</p>
<p>The process of data migration, and movement into and out of any enterprise system, are critical pieces that any platform must support.</p>
<p>Recurring integration does the following:</p>
<ul>
<li>Builds on data entities and the Data management framework</li>
<li>Enables the exchange of documents or files between finance and operations apps and any third-party application or service</li>
<li>Supports several document formats, source-mapping, and filters</li>
<li>Uses secure Representational State Transfer (REST) application programming interfaces (APIs) and authorization mechanisms to receive data from, and send data back to, integration systems</li>
</ul>
<p>Before the integrating client application can consume this endpoint, you need to create an application ID in Microsoft Entra ID and give it appropriate permission to finance and operations apps.</p>
<p>When you create and enable a recurring job, you're prompted to enter the Microsoft Entra ID application ID that will interact with that recurring job. Therefore, be sure to make a note of the application ID.</p>
<p>Much effort and planning go into building third-party integrations between an enterprise line of business (LOB) system, such as Microsoft finance and operations apps, and various source systems.</p>
<h2 id="custom-service">Custom service</h2>
<p>A developer can create custom services for finance and operations apps. When a developer writes a custom service under a service group, the service group is always deployed on two endpoints:</p>
<ul>
<li><strong>SOAP endpoint</strong> – Code examples for consuming custom services using SOAP are available in the <a data-linktype="external" href="https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/SoapConsoleApplication/?azure-portal=true">Microsoft Dynamics AX Integration GitHub repository - SoapConsoleApplication</a>.</li>
<li><strong>JSON endpoint</strong> – Code examples for consuming JSON services are available in the <a data-linktype="external" href="https://github.com/Microsoft/Dynamics-AX-Integration/tree/master/ServiceSamples/JsonConsoleApplication/?azure-portal=true">Microsoft Dynamics AX Integration GitHub repository - JsonConsoleApplication</a>.</li>
</ul>
<h2 id="consume-external-web-services">Consume external web services</h2>
<p>A developer consumes web services by adding new class libraries to finance and operations apps, such as authentication, requests, and responses. This library is then referenced in the app's project and used within X++ code to enable seamless integration. You can use .NET tools like HTTPClient for REST APIs or WCF for SOAP services, ensuring proper error handling and security for sensitive data. After integrating and testing the library, the app can interact with external systems, such as payment gateways, CRMs, or analytics platforms, to extend its functionality.</p>
<h2 id="excel-integration">Excel integration</h2>
<p>The Microsoft Office integration capabilities provide users with a productive environment that helps them get the job done by using Office products. Microsoft Excel can change and quickly analyze data.</p>
<p>The Excel Data Connector app interacts with Excel workbooks and OData services that are created for publicly exposed data entities. The Excel Data Connector add-in enables Excel to become a seamless part of the user experience. The Excel Data Connector add-in is built by using the Office Web add-ins framework. The add-in runs in a task pane.</p>
<h2 id="synchronous-vs-asynchronous-integration-patterns">Synchronous vs. asynchronous integration patterns</h2>
<p>Processing can be either synchronous or asynchronous. Often, the type of processing that you must use determines the integration pattern that you choose.</p>
<p>A synchronous pattern is a blocking request and response pattern, where the caller is blocked until the recipient has finished running the Excel integration and gives a response. An asynchronous pattern is a non-blocking pattern, where the caller submits the request and then continues without waiting for a response.</p>
<p>We recommend using <strong>OData</strong> for synchronous and <strong>Batch data API</strong> for asynchronous integration scenarios.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Common migration scenarios and tools</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The following are two scenarios, and recommendations for which integration pattern to use.</p>
<h2 id="scenario-1">Scenario 1</h2>
<p>An energy company has field workers who schedule installation jobs for heaters. This company uses finance and operations apps for the back office and third-party software as a service (SaaS) to schedule appointments. When field workers schedule appointments, they must look up inventory availability to make sure that installation parts are available for the job.</p>
<p>The real-time data required:</p>
<ul>
<li>Peak data volume is 1,000 records per hour</li>
<li>Frequency is Ad hoc.</li>
</ul>
<p>This scenario can be implemented by using a custom service integration pattern.</p>
<p>In finance and operations, have a developer create a custom service to calculate the physical on-hand inventory for a given item.</p>
<p>In the scheduling application, make a real-time call to a custom service endpoint, through either SOAP or REST, to retrieve inventory information for the selected item.</p>
<h2 id="scenario-2">Scenario 2</h2>
<p>A company receives a large volume of sales orders from a front-end system that runs on-premises. Periodically, these orders must be sent to finance and operations for processing and management.</p>
<p>The real-time data is not required. Peak data volume is 20,000 records per hour and the Frequency is One time every five minutes.</p>
<p>This scenario is best implemented by using a batch data APIs integration pattern.</p>
<p>Determine all the entities that are required for the integration, and make sure that data management is enabled for the entities.</p>
<h2 id="finance-and-operations-apps-integration-tools">Finance and operations apps integration tools</h2>
<p>Finance and operations apps offer tools for data migration, such as:</p>
<ul>
<li>Data management workspace</li>
<li>Office integration</li>
<li>Excel workbook designer</li>
</ul>
<p>To learn more about API technology for finance and operations apps, see the <a data-linktype="absolute-path" href="/en-us/training/modules/integrate-azure-finance-operations/?azure-portal=true">Integrate finance and operations apps with Microsoft Azure</a>, and <a data-linktype="absolute-path" href="/en-us/training/modules/data-package-api-finance-operations/?azure-portal=true">Implement the Data management package API for finance and operations apps</a> modules.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Bring your own database (BYOD)</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The BYOD feature lets administrators configure their own database, and then export one or more data entities, that are available in finance and operations apps, into it. Specifically, this feature lets you complete the following tasks:</p>
<ul>
<li>Define one or more Microsoft Azure SQL databases that you can export entity data from finance and operations apps into.</li>
<li>Export either all the records (full push) or only the records that have changed or been deleted (incremental push).</li>
<li>Use the rich scheduling capabilities of the batch framework to enable periodic exports.</li>
<li>Access the entity database by using Transact-SQL (T-SQL), and even extend the database by adding more tables.</li>
<li>Export entities into multiple databases.</li>
</ul>
<p>The BYOD feature is recommended for when you do the following:</p>
<ul>
<li>Export data from finance and operations apps into your own data warehouse.</li>
<li>Use analytical tools other than Power BI, and those tools require T-SQL access to data.</li>
<li>Perform batch integration with other systems.</li>
</ul>
<p>If you have integration solutions that require direct T-SQL access to the database, BYOD is the recommended upgrade path.</p>
<p>Before you can configure the export option and use the BYOD feature, you must create an SQL database for production environments by using Azure portal.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/azure-side-bar.png#lightbox"><img alt="Screenshot of the Azure portal SQL databases menu item." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/azure-side-bar.png"/></a></p>
</div>
<p>You should also create a SQL user account for sign-in to the database. Make sure to record and save the server name, database name, and the SQL user ID and password. You will use these values when you configure the entity export option.</p>
<p>If you're using the BYOD feature for integration with a business intelligence (BI) tool, consider creating an SQL premium database. Premium databases support clustered columnstore indexes (CCIs). CCIs are in-memory indexes that improve the performance of read queries that are typical in analytical and reporting workloads.</p>
<p>If you're using the BYOD feature to export data into a staging database or for general integration purposes, you can use a standard database.</p>
<p>To configure the entity export, follow this procedure.</p>
<ol>
<li><p>Go to the <strong>Data management</strong> workspace and select the <strong>Configure entity export to database</strong> tile.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/configure-entity.png#lightbox"><img alt="Screenshot of the Configure entity export to database tile." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/configure-entity.png"/></a></p>
</div>
</li>
<li><p>If you've already configured any databases, a list is shown, and you will need to select a database. Then, skip step 3.</p>
</li>
<li><p>To configure a new database, select <strong>New</strong>, and then enter a unique name and a description for the new database.</p>
</li>
<li><p>Enter the connection string in the following format: <strong>Data Source</strong>=&lt;logical server name&gt;, <strong>1433</strong>; <strong>Initial Catalog</strong> =&lt;your DB name&gt;; <strong>Integrated Security</strong>=False; <strong>User ID</strong> = &lt;SQL user ID&gt;; <strong>Password</strong> = &lt;password&gt;</p>
</li>
<li><p>Select <strong>Validate</strong>, and make sure that the connection is successful.</p>
<p>When the validation is passed, the database that you configured for entity export appears in lists of databases.</p>
</li>
<li><p>By default, the <strong>Create clustered column store indexes</strong> option is enabled. This option optimizes the destination database for selected queries by defining CCIs for entities that are copied from finance and operations.</p>
</li>
<li><p>By default, the <strong>Enable triggers in target database</strong> option is disabled. This option sets export jobs to enable SQL triggers in the target database, and lets you hook downstream processes into the trigger to orchestrate actions that must be started after records have been inserted.</p>
</li>
<li><p>You can now publish one or more entities to the new database by selecting the <strong>Publish</strong> option on the menu.</p>
</li>
</ol>
<p>After entities are published to the destination database, you can use the <strong>Export</strong> function in the <strong>Data management</strong> workspace to move data. The <strong>Export</strong> function lets you define a <strong>Data movement</strong> job that contains one or more entities.</p>
<p>You can use the <strong>Export</strong> page to export data from finance and operations apps into many target data formats, such as a comma-separated values (CSV) file. This page also supports SQL databases as another destination.</p>
<p>The value of the &lt;logical server name&gt; has a format like &lt;yourSqlAzureServername&gt; .<strong>database.windows.net</strong>, which can be found in Azure portal by selecting the SQL databases menu.</p>
<p>For scenarios in which reporting systems read data from BYOD, there is always the challenge of ensuring that the reporting systems get consistent data from BYOD while the sync from finance and operations apps is in progress.</p>
<p>One trigger is supported per bulk insert operation. The size of the bulk insert is determined by the <strong>Maximum insert commit size</strong> parameter in the Data management framework.</p>
<p>You can achieve this result by not having the reporting systems read directly from the staging tables that were created by the BYOD process. The staging tables hold the data while data is being synced from the finance and operations apps instance and hence will be constantly changing.</p>
<p>Use the SQL trigger feature to determine when the data sync from finance and operations apps has been completed, and then hydrate the downstream reporting systems.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Test a data migration and validate output</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>To prepare for data migration, the first step is to identify relevant (legacy) systems that the customer is currently using. Then, you need to identify and import static data that is common between industries.</p>
<p><img alt="Diagram of the steps to Migrate data and validate output." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/data-migrate.png"/></p>
<h2 id="identify-relevant-legacy-systems">Identify relevant (legacy) systems</h2>
<p>A legacy system is a business solution that has a few common characteristics with current solutions in the market, such as being based on outdated technology or design, being incompatible or difficult and costly to integrate with current systems, and a potential inability of being purchased from vendors because it is unavailable and discontinued.</p>
<p>Each legacy system might have a different data export format option that must be considered as part of the planning for data migration, and you should be prepared for data extraction from legacy data sources.</p>
<h2 id="identify-and-import-static-data-that-is-common-between-industries">Identify and import static data that is common between industries</h2>
<p>Your customer might have different verticals, such as distribution and trade, manufacturing, and retail. Even if you manage a customer’s data migration that is only focused on one specific industry, such as manufacturing, you still need to investigate to determine whether their customers and suppliers who might be in a different industry such as resellers which are retailers who interchange data with your customer.</p>
<p>When you plan data migration, you need to identify common data that are not frequently changed, such as country codes, zip or postal codes, states, or regions.</p>
<p>Identifying the common static data between different verticals or industries helps reduce the cost and prepare the source data, clean it, and get customer consensus prior to importing the data to finance and operations apps.</p>
<h2 id="create-and-review-test-plans-for-data-migration">Create and review test plans for data migration</h2>
<p>Your plans for data migration need to be ready to guide you through the process. Make sure that the right system permissions are applied on resources to have a successful data migration.</p>
<p>Make sure that you back up the database and source files that you plan to migrate. If you encounter any issues during migration, such as corrupt, incomplete, or missing files, you need to correct the error and restore the database from the backup.</p>
<p>You need to extract all data from the source system, and then migrate the data to the target, which is finance and operations apps. Then, you need to clean the data and transform it into the proper format for transfer to finance and operations apps.</p>
<p>Finally, load your cleaned and deduplicated data into your finance and operations apps data management, map fields, and import data to finance and operations apps.</p>
<p>Make sure to always monitor your data migration during the process so that you can detect and resolve any issues or problems if they arise.</p>
<p>Once the migration is complete, ensure that there are no connectivity problems with source system and finance and operations. Your goal is to make sure that all data correctly migrated by performing unit, system, regression, and other applicable tests. Do not forget the simplest method, which is using built-in reports and inquiries in finance and operations, and then have the customer’s key stakeholder verify the data and compare the migrated data with their legacy system.</p>
<p>For example, assume you are migrating the chart of accounts, posted transactions, and so on. After you migrated data for a specific financial period, you ran the trial balance print, and then asked the CFO (or one of your customer’s financial leaders) to compare the results and match them against the financial report on their legacy system before migrating the next period.</p>
<h2 id="identify-and-extract-source-data">Identify and extract source data</h2>
<p>When you and your team have analyzed the data and retrieved relevant information from data sources (like a database) in a specific pattern, it is then time to extract the relevant data. You might need to perform further data processing, which involves adding metadata and other data integration, another process in the data workflow.</p>
<h2 id="identify-relevant-data-entities-and-elements">Identify relevant data entities and elements</h2>
<p>You need to know what sources of data are important for the analysis. If the information being analyzed is only related to the scenario at hand, it should be set aside because you should only use data sources that are absolutely relevant to the scenario for migration.</p>
<p>You should never bring all the data from multiple data sources to finance and operations apps in one occurrence; rather, you should have a proper plan to guide you according to the business scenario.</p>
<p>For example, if you are planning to bring all the purchase orders in to finance and operations apps from a legacy system, there are many related and relevant entities that you should consider as well, such as vendor groups, vendors, tax codes, headers and lines of purchase orders, and many more.</p>
<p>Prior to starting the data migration process, identify what data you’re migrating, what format it’s currently in, where it lives, and what format it should be in post-migration. Consider whether the data migration will interfere with normal business operations or will contribute to downtime. If so, you need to plan off hours or weekends for the migration process. Also, remember to perform the database backup prior to starting the data migration. You need to communicate the potential downtime with your customer, so they can plan accordingly. Remember that business continuity always should be your first priority.</p>
<p>Often, your source data must be changed and cleaned, or even split into more segments. Data verification helps you check that the data is available, accessible, complete, and in the correct format. This is called data cleansing. The first stage in data cleansing is to define which rules must be carried out manually and which need to be planned as automated.</p>
<p>Typically, manual cleansing will be done before migration starts, while automated cleansing might be done before or as part of the migration’s initial phase.</p>
<h2 id="generate-field-mapping-between-source-and-target-data-structures">Generate field mapping between source and target data structures</h2>
<p>First, you need to identify the format of the data source. You can view the formats in Data management from the <strong>Configure data source</strong> tile.</p>
<p><img alt="Screenshot of the Configure Data Source tile." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/configure-data-source.png"/></p>
<p>In <strong>Configure data source</strong>, you can create and modify sources of data for migrations. If you have identified the data sources and their relevant entities, you can use different types of data sources depending on the format exported from external systems, some of which are legacy systems.</p>
<p><a data-linktype="relative-path" href="media/data-source-types.png#lightbox"><img alt="Screenshot of the Data Source Types list." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/data-source-types.png"/></a></p>
<p>Upon adding an entity into the Data management project for either import or export, finance and operations apps creates field mapping between the source data and the target table for each data entity, which matches the schema of the table associated with the data entity.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/maps-1.png#lightbox"><img alt="Screenshot of the Map Entity source to target page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/maps-1.png"/></a></p>
</div>
<p>The type of the field, and whether it is a required field, are examples of the metadata of the table that is being shown in the <strong>Mapping details</strong> tab. Here, you can choose to ignore blank values and select a text identifier to properly use the text values from the source data field.</p>
<p>Alternatively, you can use the label for the enumerator fields instead of its value.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/maps-details.svg#lightbox"><img alt="Screenshot of the Map staging to target page details." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/prepare-data-migration-finance-operations/media/maps-details.svg"/></a></p>
</div>
<h2 id="support-the-transition-between-the-existing-and-migrated-systems">Support the transition between the existing and migrated systems</h2>
<p>Analyzing the data between what is in the legacy system and what has been imported to finance and operations apps is an important part of data migration. This provides an overview of the source data and its corresponding target table that is represented by data entities in finance and operations apps.</p>
<p>It’s important to know how each system works and how the data within each system is structured. You also need to validate the information discovered in the analysis phase of each phase in data migration, and then ensure that all data is properly migrated by running certain reports, or inquiries. By validating the data, your team can focus solely on structural manipulation and movement and data assurance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following options enables broad integration between finance and operations apps and other products, systems, and applications?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following options enables the exchange of documents or files between finance and operations apps and any external application or service?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch data API</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>The Excel Data Connector app interacts with Microsoft Excel workbooks through which one of the following options?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>External web services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>OData</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>An energy company has field workers who schedule installation jobs for heaters. This company uses finance and operations apps for the back office and other software as a service (SaaS) to schedule appointments. When field workers schedule appointments, they must look up inventory availability to make sure that installation parts are available for the job. The real-time data is required. Peak data volume is 1,000 records per hour and the frequency is Ad hoc. Which one of the following integration patterns should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>External web services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Custom service</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>You need to enable an exchange of documents between finance and operations apps and an external application at the end of each day. Which of the following would you implement?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Excel data connector app</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Recurring integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Synchronous integration</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This module explained how to identify common migration scenarios and import static data that is common between industries. You learned about some of the tools in finance and operations apps, such as Data management and the BYOD feature.</p>
<p>As part of selecting a data integration (import/export) strategy, you were able to observe how important it is to identify relevant (legacy) systems, create, and review test plans for data migration. You also learned about identifying and extracting source data, and its relevant data entities and elements.</p>
<p>Finally, you learned that an important responsibility for the data migration team includes generating field mapping between source and finance and operations apps data entities, performing a test migration and validating the output, and then supporting the transition between the existing and migrated systems.</p>
<p>To learn more about the use cases and limitations for the migration tool, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/data-management-integration-data-entity/?azure-portal=true">Data management and integration by using data entities overview</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use the Entity Store to perform basic reporting and data
analysis. To access data in Finance and
operations apps from outside of the system, you can also connect into your
own Microsoft Azure SQL database with Bring Your Own Database (BYOD).</p>
<p>In this module, you will learn about what types of considerations are needed before you invest time and effort in BYOD and the way to create and manage custom data sources for BYOD. Both options will allow data
analytics and reports, but it is important to understand the uses,
options, and needs of each option for your business.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify report data source requirements for external sources</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You have two options when considering the external sources that you can use for finance and operations apps. If you are only looking into using data for Power BI reporting and analytical workspaces that are in finance and operations, then the best option is to use the Entity Store.</p>
<p>For more information on Power BI integration with the Entity Store, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/power-bi-integration-entity-store/?azure-portal=true">Power BI integration with Entity store</a>.</p>
<p>If you want to export data from finance and operations apps to your own data warehouse, use analytical tools other than Power BI that require Transact-SQL (T-SQL) access to the data that you want to analyze, and if you need batch integration with other systems, then BYOD is the correct external source for you.</p>
<p>For BYOD, you will need to create a separate SQL database that is hosted in Microsoft Azure. The options, such as premium databases, are dependent on your needs and the tools that will be integrating with your data.</p>
<p>We recommend that you take advantage of embedded Power BI and the Entity Store to use the default operations reports as your first choice. BYOD is considered a complementary option that you can use as you require.</p>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/azure-data-lake-ga-version-overview/?azure-portal=true">Export to Azure Data Lake overview</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and manage custom data sources</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Both BYOD and Entity store depend on the creation and management of custom entities and data sources to provide the correct data for your
organization's reporting or analyzing needs. To learn more about
configuring and creating data entities, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/build-consuming-data-entities/?azure-portal=true">Build and consume data entities</a>.</p>
<p>When you have created a data entity with your custom data sources, you
can then manage them in the <strong>Data management</strong> workspace in finance and operations apps.</p>
<h2 id="implement-custom-data-sources">Implement custom data sources</h2>
<p>Creating and managing custom data sources are the first steps of BYOD
setup. However, to implement the customized data sources and entities
that you create, you first need to configure the <strong>Entity export</strong> option in the <strong>Data management</strong> workspace, publish the entity schema to your SQL database in Azure, and finally export the data into the BYOD.</p>
<p>To configure the <strong>Entity export</strong> option in the <strong>Data management</strong>
workspace, follow these steps:</p>
<ol>
<li>Select the <strong>Data management</strong> workspace tile in finance and operations apps.</li>
<li>If you've previously configured any databases, a list is shown; otherwise, you will configure a new database by selecting <strong>New</strong> in the Action Pane and entering a unique name and description.</li>
<li>Enter a connection string. In the connection string, the logical server name should resemble the nnnn.database.windows.net format that is found in the Azure portal. The format is as follows:
<ul>
<li>Data Source=&lt;logical server name&gt;,1433; Initial Catalog=&lt;your DB name&gt;; Integrated Security=False; User ID=&lt;SQL user ID&gt;;  Password=&lt;password&gt;</li>
</ul>
</li>
<li>When the connection string is entered, select <strong>Validate</strong> and ensure that the database that you configured for the entity export appears in the lists of databases.</li>
<li>After the entity export has been configured, you will publish the  entity schema to the database in Azure. Publishing enables you to publish new entities to the database, delete previously published entities from the database, compare published entities with the entity schema from finance and operations apps, and configure change tracking functionality that enables incremental updates of the data.</li>
<li>After all entities are published to the destination database, you can use the export function in the <strong>Data management</strong> workspace to move data by defining the data movement job that contains one or more of the entities that you have chosen.</li>
</ol>
<p>The export option can be used for CSV files in data migration but can also be used to move data to the BYOD.</p>
<p>Consider the following when exporting:</p>
<ul>
<li>There is an option to do a bulk, batch job export, and smaller, incremental exports that occur more often.</li>
<li>Timeouts are associated with the BYOD exports that are set to ten minutes for truncation operations and one hour for actual bulk insert operations. If volumes are high, you might need to adjust the timeout settings for each company.</li>
</ul>
<p>Make sure you know the following limitations of the tools in use:</p>
<ul>
<li>BYOD can have no active locks on your database during
Synchronization.</li>
<li>BYOD cannot export composite entities into your own database.</li>
<li>Entities that don't have unique keys cannot be exported by using the incremental push.</li>
</ul>
<p>For more information on BYOD, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database/?azure-portal=true">Bring your own database (BYOD)</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize data entities to achieve better performance</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When you are implementing data entities, performance is a major factor. The architecture of your entities is key when it comes to performance.</p>
<p>You should create an entity that provides a holistic object that
encapsulates the business logic in one single consumable contract. As
previously mentioned, the data entity is then used to expose data through
APIs like OData, import/export framework, integration, and the
programming model. As a developer, you should consider several factors to ensure that your data entity is designed in a way that promotes
performance and easy maintenance.</p>
<h2 id="entity-encapsulation">Entity encapsulation</h2>
<ul>
<li><p>Your entities should provide an abstraction between the actual data model and the consumer of the entity. For example, the data entity should encapsulate the underlying tables that all together define the entity.</p>
</li>
<li><p>Your entities should encapsulate multiple related tables to represent the object. There might be cases where a single table is used.</p>
</li>
</ul>
<h2 id="have-one-single-public-contract">Have one single public contract</h2>
<ul>
<li><p>The public contract for your data entity should be the same across all integration endpoints. This allows for consistency for the published schema, regardless of the mechanism for consumer interaction.</p>
</li>
<li><p>When an entity is consumed, the business logic that's performed within the entity during CRUD operations should not vary based on the type of consumer.</p>
</li>
</ul>
<h2 id="keep-your-entity-simple">Keep your entity simple</h2>
<ul>
<li><p>The entity consumer should be able to interact with an entity based on the accepted industry or domain definitions. The behavior details of the entity should be kept hidden and should be prevented from distorting the interaction.</p>
</li>
<li><p>The consumer of the entity should be able to interact with the entity by using the natural key of the entity.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a data entity</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As the finance and operations apps developer, you have been asked by the
Fleet Management company to create a data entity to use for data
integrations.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Select <strong>Run as administrator</strong> to open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Create a new project by opening the <strong>File</strong> menu and selecting <strong>New &gt; Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog box, ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementEntityProject2</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-data-entity">Create a data entity</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click your <strong>FleetManagementEntityProject2</strong> project.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong>.</li>
<li>On the middle pane, select <strong>Data Entity</strong>.</li>
<li>Enter <strong>FMMyDataEntity</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>. The <strong>Data Entity Wizard</strong> will open.</li>
<li>In the <strong>Primary datasource</strong> drop-down menu, select the <strong>FMCustomer</strong> table.</li>
<li>Specify the following options:
<ul>
<li>Entity category - <strong>Master</strong></li>
<li>Select the check box for <strong>Enable public API</strong></li>
<li>Select the check box for <strong>Enable data management capabilities</strong></li>
<li>Leave all other fields as-is</li>
</ul>
</li>
<li>Select <strong>Next</strong>.</li>
<li>Define your data entity and specify the fields that will be included in this entity.</li>
<li>Select all fields.</li>
<li>Select the <strong>Convert labels to field names</strong> check box.</li>
<li>Select <strong>Next</strong>. You will see your new data entity in your project, along with a staging table and security privileges.</li>
<li>Perform a build by right-clicking the project  <strong>FleetManagementEntityProject2</strong> in <strong>Solution Explorer</strong> and then selecting <strong>Build</strong>.</li>
</ol>
<p>You may see an error because the batch server needs to be turned off in the environment. However, this does not affect the build and the data entity is created.</p>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Where can you create a data export for a custom data source?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Visual Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Data management workspace</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>SQL Server Management Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>System administration module</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Is it true that most data entities include just one table?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use the Entity Store to perform basic reporting and data
analysis. To access data in finance and operations apps from outside of the
system, you have the capability of connecting into your own Azure
SQL database with Bring Your Own Database (BYOD). Both options will
allow data analytics and reports, but it is important to understand the
uses, options, and needs of each option for your business.</p>
<p>In this module, you learned how to:</p>
<ul>
<li>Identify report data source requirements for external sources.</li>
<li>Create and manage custom data sources.</li>
<li>Optimize data entities to achieve better performance.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Integrating finance and operations apps with Microsoft Azure opens many possibilities for enhancing your business operations. By using Azure’s powerful cloud capabilities, you can streamline processes, improve data accessibility, and scale solutions to meet your organization’s needs. This integration empowers businesses to unlock advanced analytics, automate workflows, and create customized solutions that drive efficiency and innovation across all departments. Let’s explore how you can easily connect finance and operations apps with Microsoft Azure to take your project to the next level.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop and integrate by using Logic Apps</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Logic Apps is a cloud service that helps you automate and orchestrate
tasks, business processes, and workflows when you need to integrate
apps, data, systems, and services across enterprises or organizations.
Logic Apps simplifies how you design and build scalable solutions for
app integration, data integration, system integration, enterprise
application integration (EAI), and business-to-business (B2B)
communication, whether in the cloud, on-premises, or both. You can build
and edit logic apps from your Azure portal at <a data-linktype="external" href="https://portal.azure.com/?azure-portal=true">Microsoft
Azure</a>.</p>
<p><a data-linktype="relative-path" href="media/logic-apps.png#lightbox"><img alt="Screenshot of the Microsoft Azure Logic apps page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integrate-azure-finance-operations/media/logic-apps.png"/></a></p>
<p>The following are examples of workloads that you can automate with logic apps:</p>
<ul>
<li>Process and route orders across on-premises systems and cloud services.</li>
<li>Send email notifications with Microsoft 365 when events happen in various systems, apps, and services.</li>
<li>Move uploaded files from an SFTP or FTP server to Azure Storage.</li>
<li>Monitor tweets for a specific subject, analyze the sentiment, and create alerts or tasks for items that need review.</li>
</ul>
<p>To build enterprise integration solutions with Logic Apps, you can
choose from a growing gallery of 200+ connectors, which include services
such as Azure Service Bus, Functions, and Storage, SQL, Microsoft 365,
Dynamics, Salesforce, BizTalk, SAP, Oracle DB, file shares, and more.
Connectors provide triggers, actions, or both for creating logic apps
that securely access and process data in real time.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop and integrate Microsoft Power Platform</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps also integrates with Microsoft Power Platform.
Power Automate supports this integration through its connectors, whereas
Power BI and Power Apps access public data entities that are stored
in the finance and operations apps database.</p>
<h2 id="connect-to-power-automate">Connect to Power Automate</h2>
<p>Follow these steps to find Power Automate connectors for finance and operations apps.</p>
<ol>
<li><p>Sign in to Power Automate.</p>
</li>
<li><p>On the left navigation pane, select <strong>Connections</strong>.</p>
</li>
<li><p>At the top of the page, select <strong>New connection</strong></p>
</li>
<li><p>In the list of available connections, choose the connection that you want to set up (such as Microsoft Power BI) by selecting the plus sign (+)..
<a data-linktype="relative-path" href="media/new-connection.png#lightbox"><img alt="A screenshot showing the plus sign to create a new connection." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integrate-azure-finance-operations/media/new-connection.png"/></a></p>
</li>
<li><p>Select <strong>Create</strong>.</p>
<p><a data-linktype="relative-path" href="media/create-connection.png#lightbox"><img alt="A screenshot showing the Create option." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integrate-azure-finance-operations/media/create-connection.png"/></a></p>
</li>
<li><p>Follow the steps to enter your credentials to configure the connection.</p>
</li>
</ol>
<h2 id="connect-to-power-bi-desktop">Connect to Power BI Desktop</h2>
<p>Follow these steps to connect Power BI Desktop to finance and operations apps.</p>
<ol>
<li><p>Select <strong>Get Data</strong> from the <strong>Home</strong> ribbon.</p>
</li>
<li><p>Select the <strong>Other</strong> category.</p>
</li>
<li><p>Select <strong>OData Feed</strong>.</p>
<p><a data-linktype="relative-path" href="media/power-bi.png#lightbox"><img alt="This screenshot from the Power BI Desktop app shows the Get Data screen to connect to an OData Feed." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integrate-azure-finance-operations/media/power-bi.png"/></a></p>
</li>
<li><p>Click <strong>Connect</strong>.</p>
</li>
<li><p>Enter connection information into the page that appears, and then select  <strong>OK</strong>.</p>
</li>
<li><p>Select the data that you need and then select <strong>Load</strong>.</p>
</li>
</ol>
<h2 id="connect-to-power-apps">Connect to Power Apps</h2>
<p>Follow these steps to connect to finance and operations apps in Power Apps.</p>
<ol>
<li><p>When creating a new Power Apps app, select the <strong>Start from data</strong> option.</p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>In the <strong>Create an app</strong> page, click the right facing arrow to show more connection options.</p>
</li>
<li><p>Click <strong>New connection.</strong></p>
</li>
<li><p>Select the <strong>Dynamics 365 for Fin &amp; Ops</strong> option.</p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>You will now need to select the instance (finance and operations apps environments) and Table (data entity) that you want to connect to. You need to ensure you are an admin user for the environment you select and you have permissions to access the table (data entity) you are selecting.</p>
<p><a data-linktype="relative-path" href="media/power-apps.png#lightbox"><img alt="This Power Apps screenshot shows selecting Data sources in the ribbon and connecting to finance and operations apps data." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/integrate-azure-finance-operations/media/power-apps.png"/></a></p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Integrate finance and operations apps with enterprise applications</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Like other Microsoft products, Microsoft 365 can integrate directly with
finance and operations apps. In Microsoft Excel, this is enabled through the Data Connector add-in.</p>
<p>To connect to finance and operations apps by using the Data Connector add-in for Excel, follow these steps:</p>
<ol>
<li>Select <strong>Add server information</strong> on the add-in panel.</li>
<li>Enter the base URL for your finance and operations apps in the <strong>Server URL</strong> field.</li>
<li>Select <strong>OK</strong> and then <strong>Yes</strong>.</li>
<li>Sign in to your user account.</li>
<li>From any form in finance and operations apps, select the Microsoft Office icon in the Action Pane.</li>
<li>In the <strong>Open in Excel</strong> section of the drop-down list, select the table that you want to open in Excel.</li>
<li>When the download completes, use the <strong>Enable Editing</strong> button to enable the data to load.</li>
</ol>
<p>When the data has loaded, the Data Connector offers multiple options for interacting with the data, including the following:</p>
<ul>
<li><strong>New</strong> - Add a record (row) to the table.</li>
<li><strong>Refresh</strong> - Repopulate the table with the most recent data from finance and operations apps.</li>
<li><strong>Publish</strong> - Save your changes to finance and operations apps.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Automate EAI, B2B, EDI, and business processes with Logic Apps</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Businesses and organizations electronically communicate with each other
by using industry-standard message protocols and formats, such as
EDIFACT, AS2, and X12. With the features in the Enterprise Integration
Pack (EIP), you can build logic apps to convert those messages into
formats that finance and operations apps can use. Logic Apps handles these
exchanges smoothly with encryption and digital signatures.</p>
<p>The first step in processing message files with Logic Apps is to access
them with a file system connector. You could do this by using a trigger
to detect when files are added, or you could use a Recurrence trigger to
aggregate changes periodically instead. Either way, you can find the
file system interactions by entering <strong>file system</strong> into the search bar
when adding a new node.</p>
<p>If you have a large volume of message files, you might take advantage of
Azure Blob Storage rather than local storage. There are Logic Apps
connectors for that, too. Enter <strong>azure blob</strong> into the search bar to
view several connector options. To interact with files in blob storage,
select <strong>Get blob content</strong>.</p>
<p>When you have the data and have processed it, finance and operations apps
connectors help you import the data into your ERP system. The
connector's functionality includes the following options:</p>
<ul>
<li><strong>Create record</strong> - Create a new record in an entity.</li>
<li><strong>Delete record</strong> - Deletes a single record in an entity.</li>
<li><strong>Get a record</strong> - Retrieves a single record.</li>
<li><strong>Get list of entities</strong> - Retrieves a list of entities.</li>
<li><strong>List items present in table</strong> - Retrieves all the records in a table.</li>
<li><strong>Update a record</strong> - Updates a single record in an entity.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Consume data from the Azure Machine Learning service</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>One advantage of finance and operations apps is the seamless integration with Azure Machine Learning, such as Demand Forecasting, where it is used to
predict demand from sales orders in Dynamics 365 Supply Chain Management. To generate the baseline forecast, a
summary of historical transactions must be passed to an Azure Machine
Learning service that is hosted on Azure.</p>
<p>This feature is enabled by default but can still be manually disabled for your preference.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Enable connectivity with external services</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Thanks to data entities and OData, finance and operations apps can connect to several external services. However, to do that, the services must be registered with the Microsoft Entra ID.</p>
<p>To register a service with the Microsoft Entra ID, follow these steps:</p>
<ol>
<li>Go to the <strong>Microsoft Entra ID</strong> tab of the Azure portal.</li>
<li>Select <strong>Properties</strong> and note the tenant ID in the <strong>Directory ID</strong> field. You will need the tenant ID later to retrieve a Microsoft Entra ID authentication token.</li>
<li>On the <strong>Microsoft Entra ID</strong> tab, select <strong>App registrations</strong>.</li>
<li>Select <strong>New registration</strong>.</li>
<li>Enter a <strong>Name</strong>. This is a user-facing display name for this application.</li>
<li>Select a <strong>Supported account type</strong>. The following options are available:
<ul>
<li><strong>Accounts in this organizational directory only</strong> - All user and guest accounts in your directory can use your application or API.</li>
<li><strong>Accounts in any organizational directory</strong> - All users with a work or school account from Microsoft can use your application or API.</li>
<li><strong>Accounts in any organizational directory and personal Microsoft account</strong> - All users with a work or school, or personal Microsoft account can use your application or API. It includes schools and businesses that use Microsoft 365 and personal accounts that are used to sign in to services</li>
<li><strong>Personal Microsoft accounts only</strong> - Personal accounts that are used to sign in to services.</li>
</ul>
</li>
<li>In the <strong>Redirect URI (optional)</strong> section, click <strong>Select a platform</strong> and enter the redirect URI. The options available for platform selection are:
<ul>
<li><strong>Public client/native (mobile &amp; desktop)</strong> - Run on devices, such as desktop, browserless APIs, mobile or client-side browser apps.</li>
<li><strong>Web</strong> - A traditional web application where most of the application logic is performed on the server.</li>
<li><strong>Single-page application (SPA)</strong> - A single-page application where most of the user interface logic is performed in a web browser communicating with the web server primarily using web APIs.</li>
</ul>
</li>
<li>Select <strong>Register</strong>.</li>
</ol>
<p>When you've registered your service in Microsoft Entra ID, you'll also need to register it in finance and operations apps by using the following steps:</p>
<ol>
<li>In finance and operations apps, go to <strong>System administration &gt; Setup &gt; Microsoft Entra ID applications</strong>.</li>
<li>Select <strong>New</strong>.</li>
<li>In the <strong>Client ID</strong> field, enter the application ID that you registered in Microsoft Entra ID.</li>
<li>In the <strong>Name</strong> field, enter a name for the application.</li>
<li>In the <strong>User ID</strong> field, select an appropriate service account user ID.</li>
<li><strong>Save</strong> the record.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize data entities to achieve better performance</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>One method of improving the performance of integrations is to change the
behavior of data entities. When bringing in entities that are not
composite and don't require row-level logic, turning on set-based
processing for the entity can help. Set-based processing allows for rows
to be collected and moved in groups, reducing the effect of latent
communication with the database.</p>
<p>Another method that works for entities that are not composite is to
split input files into multiple parts. Doing so allows finance and operations apps to take advantage of multithreading to the extent that the
environment is capable.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following doesn't have a direct connector to finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Automate</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Azure Logic Apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Power Apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following tasks can't be automated by using Logic Apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Send email notifications with Microsoft 365 when events happen in various systems, apps, and services.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Move uploaded files from an SFTP or FTP server to Azure Storage.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Monitor tweets for a specific subject, analyze the sentiment, and create alerts or tasks for items that need review.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Update tables in Power BI when data changes in finance and operations apps.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>With which of the following options are you not required to register a service to connect it to finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Microsoft Entra ID</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Finance and operations apps</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Lifecycle Services</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps connect to a variety of services. In addition to
the direct connections to machine learning services and the reporting
power of Power BI, connections to Power Automate and Azure Logic Apps
enable an endless array of integrations and automations.</p>
<p>To learn more about how to integrate Microsoft Power Platform services with finance and operations apps, go to <a data-linktype="absolute-path" href="/en-us/training/modules/connect-power-platform-finance-operations/?azure-portal=true">Connect to Microsoft Power Platform services with finance and operations apps</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Connect your finance and operations apps data using Power Automate</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Power Automate is part of Microsoft Power Platform, which enables
you to connect to data and services and automate tasks.</p>
<p>Power Automate comes with over 200 services that allow you to quickly
create flows by using templates that are published by Microsoft and
partners. You can also connect to cloud and on-premises data
sources like SharePoint and Microsoft SQL Server.</p>
<p>Finance and operations apps have a connector that comes with
Power Automate. Keep in mind, if you want to connect to data from finance and operations apps, your data must be in a data entity, and that entity must be configured to enable public API. You can find this property on the data entity object in Visual Studio.</p>
<p>In the following screenshot, notice that the <strong>IsPublic</strong> property is set to <strong>Yes</strong>.</p>
<p><img alt="This image shows how to verify that the data entity view is public." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/properties.png"/></p>
<p>When you have identified the entities that you need to use to access the finance and operations apps data, you can begin creating your flow.</p>
<p>To get started with Power Automate, follow these high-level steps:</p>
<ol>
<li><p>Open the <a data-linktype="external" href="https://flow.microsoft.com/?azure-portal=true">Power Automate</a> page.</p>
</li>
<li><p>Sign in with your Microsoft account, or you can sign up for free.</p>
</li>
<li><p>When you are signed in to the service, you can use the left pane on the home screen to go where you need to.</p>
</li>
<li><p>You can browse the finance and operations apps templates by selecting <strong>Templates</strong> on the left pane.</p>
</li>
<li><p>Search by entering <strong>Dynamics 365 Operations</strong> in the search bar.</p>
</li>
<li><p>You can also create a new application by selecting <strong>My flows</strong> on the left pane.</p>
</li>
<li><p>Select <strong>New</strong> on the top menu.</p>
</li>
<li><p>Choose from one of several options on the menu.</p>
<div class="mx-imgBorder">
<p><img alt="This image shows how to create a new app in the My flows section." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/flow-new-button.png"/></p>
</div>
</li>
<li><p>When you decide how you are going to create your flow, you will need to sign in to the finance and operations apps connection with your login credentials. When authenticated, you can begin building your flow.</p>
</li>
<li><p>Select the <strong>Instance</strong>, which is your <strong>finance and operations apps Environment</strong>.</p>
</li>
<li><p>Select the entity that you want to work with. The following screenshot shows a flow that inserts a record into finance and operations apps when a record is added in Dynamics 365 Sales. The instance has been specified and the entities that the Flow user has access to can be used for the Flow. Notice in the following example that <strong>Customers</strong> is selected in the <strong>Entity name</strong> field.</p>
<p><img alt="This image shows how to initiate a flow creation by linking to the finance and operations apps environment." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/flow-entity.png"/></p>
</li>
<li><p>Finish setting up your flow when the Sales <strong>accountnumber</strong> is populated into the <strong>Customer account</strong> field in the <strong>Customers</strong> entity. The <strong>Name</strong> field from Sales is populated into the <strong>Name</strong> field of the <strong>Customers</strong> entity in finance and operations apps, and so on. These fields are specified in the flow by using Dynamics fields.</p>
</li>
<li><p>When finished setting up the flow, you can test it and then publish it.</p>
</li>
</ol>
<p>The <strong>Update and delete record</strong> functionality works in the same way as <strong>Create record</strong>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Triggers and actions used in Power Automate for finance and operations apps</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Power Automate includes several triggers that you can use with finance and operations apps:</p>
<ul>
<li><strong>When a business event occurs</strong> - Whenever a business event occurs, the flow runs. This action applies to built-in business events and custom business events. For example, you can set up an email to be sent whenever an invoice posts.</li>
<li><strong>Workflow</strong> - Approve a workflow through Power Automate.</li>
<li><strong>Alert rules</strong> - Notify people and other systems with specific information. For example, you can create an alert rule so that an automated email is sent when a vendor is created.</li>
<li><strong>Instant (Button) flow</strong> - A task is started in Power Automate when a user manually selects a button, performs input, or implements actions.</li>
<li><strong>Scheduled flows</strong> - Set up automated processes to run at a specific time.</li>
</ul>
<p>OData actions that you can use for finance and operations apps in Power Automate include:</p>
<ul>
<li>Create record</li>
<li>List items present in a table</li>
<li>Delete record</li>
<li>Execute action</li>
<li>Get a record</li>
<li>Get a list of entities</li>
<li>Update a record</li>
</ul>
<h2 id="use-case-one">Use case one</h2>
<p>Using the <strong>When a Business Event occurs</strong> trigger results in a body. Using the Parse JSON command makes the body more useful.</p>
<p>Then, you can apply actions that you use in finance and operations apps to get more information, such as getting a specific record.</p>
<div class="NOTE">
<p>Note</p>
<p>If you use more fields in the <strong>Object id</strong> area of the <strong>Get a record</strong> form, make sure that the fields have no spaces in between.</p>
</div>
<p>Now, you can use the content from <strong>Get a record</strong> to create an email that's sent automatically.</p>
<h2 id="use-case-two">Use case two</h2>
<p>In finance and operations apps, go to <strong>Data management framework</strong> and create an export project to start the procedure.</p>
<ol>
<li><p>Name the project <strong>CustGroupExport</strong>, set <strong>Generate data package</strong> to <strong>yes</strong>, and then add a <strong>Customer groups</strong> entity with the source data in CSV format.</p>
</li>
<li><p>Save the export project.</p>
</li>
<li><p>Open Power Automate and create a scheduled flow that runs once a week as a trigger. A new step (action) is added, and then you can find and select <strong>Execute action</strong> for the finance and operations apps.</p>
</li>
<li><p>Select your instance and then select <strong>DataManagementDefinitionGroups-ExportToPackage</strong> as the action.</p>
</li>
<li><p>Enter <strong>CustGroupExport</strong> in the <strong>definitionGroupId</strong> field, which is your export project in finance and operations apps.</p>
</li>
<li><p>In the <strong>packageName</strong> field, name your package as <strong>CustGroupExport</strong>. Set <strong>reExecute</strong> to <strong>Yes</strong>, and then use <strong>USMF</strong> as the <strong>legalEntityId</strong>.</p>
</li>
<li><p>Add a new Parse JSON step, select the <strong>body/OutputParameters</strong> dynamic field, and then enter the schema.</p>
</li>
<li><p>Add a new <strong>Send me a mobile notification</strong> step, and then use the value from JSON for the text. Your flow should resemble the following screenshot.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/send-mobile-notification-flow.png#lightbox"><img alt="Screenshot of the flow that you created in use case two." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/send-mobile-notification-flow.png"/></a></p>
</div>
</li>
<li><p>Save your flow and test it by running it manually. This step starts the <strong>Export project CustGroupExport</strong> in the <strong>Data management framework</strong> in finance and operations apps. You can control the output by looking at the job history.</p>
</li>
</ol>
<h2 id="use-case-three">Use case three</h2>
<p>Open Power Automate and create a scheduled flow that runs once every week as a trigger. Then, follow these steps.</p>
<ol>
<li><p>Create a new <strong>List items present in table</strong> step, select your environment, and then use the <strong>ReleasedProductsV2</strong> entity.</p>
</li>
<li><p>Create a new step to initialize a variable, give it a name, and then set the <strong>Type</strong> to <strong>String</strong>.</p>
</li>
<li><p>Create a new step for the <strong>Set</strong> variable.</p>
</li>
<li><p>Set the variable to search for a name from the entity, and then add another step in the <strong>Apply to each</strong> action that sends an email with content. The flow should resemble the following screenshot.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/flow-use-case-3.png#lightbox"><img alt="Screenshot of the flow that you created in use case three." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/flow-use-case-3.png"/></a></p>
</div>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Connect to your finance and operations apps data with Power Apps</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Power Apps is a suite of apps, services, connectors, and a data platform
that provides you with an opportunity to build custom apps for your
business needs. By using Power Apps, you can quickly build custom
business apps that connect to your business data that is stored either
in the underlying data platform (Microsoft Dataverse) or in various
online and on-premises data sources (SharePoint, Excel, Microsoft 365,
Dynamics 365, SQL Server, and so on). Power Apps can also connect to
Dynamics 365 applications, including finance and operations apps.</p>
<p>With the native functionality of finance and operations apps,
you can embed Power Apps. Functionality allows organizations to use
finance and operations apps, combined with Power Apps, to fit the needs of the
business without large customization. This also allows you to connect to
other services and data sources easily with no development experience.
Before you begin to create your app, you need to know how to connect to your finance and operations apps data.</p>
<p>Just like connecting to your data with Power Automate, the data entity that you are using to access data must be <strong>Public</strong>. Check the properties on the data entity to see if the <strong>IsPublic</strong> option is set to <strong>Yes</strong>.</p>
<h2 id="connect-to-finance-and-operations-apps-data-in-power-apps">Connect to finance and operations apps data in Power Apps</h2>
<p>Follow these steps to connect to finance and operations apps data in
Power Apps:</p>
<ol>
<li><p>Identify the data entities that you need to use to access the data in Power Apps.</p>
</li>
<li><p>Access <strong>Power Apps</strong> by going to <a data-linktype="external" href="https://powerapps.microsoft.com/?azure-portal=true">Microsoft Power Apps</a>.</p>
</li>
<li><p>When you are signed in, use the left pane to go to <strong>Power Apps</strong>.</p>
</li>
<li><p>Select <strong>Apps</strong> on the left pane.</p>
</li>
<li><p>Select <strong>Create an app</strong> on the top menu.</p>
</li>
<li><p>Select the type of app that you want to build.</p>
</li>
<li><p>The web designer launches, and you need to connect to your data. In this case, you connect to finance and operations apps.</p>
</li>
<li><p>In the <strong>Start with your data</strong> section on the screen, select the arrow on the right side of the screen to see more data sources.</p>
</li>
<li><p>In the <strong>Start with your data</strong> section, select <strong>New connection</strong> to add your connection.</p>
</li>
<li><p>Select <strong>Dynamics 365 for Fin &amp; Ops</strong> from the connections list:</p>
<p><img alt="Screenshot showing how to set up a new connection to Dynamics 365 Finance using Power Apps." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/connect.png"/></p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>Sign in with your finance and operations apps login to authenticate.</p>
</li>
<li><p>When authenticated, select your instance, which is your Dynamics 365 environment.</p>
</li>
<li><p>After you have selected your instance, select the table that you are working with. Keep in mind that these are the public data entities where you have permissions.</p>
</li>
<li><p>When you have selected the table, you can select <strong>Connect</strong> in the bottom-right corner of the screen.</p>
</li>
</ol>
<h2 id="embed-power-apps-and-third-party-apps-in-finance-and-operations-apps">Embed Power Apps and third-party-apps in finance and operations Apps</h2>
<p>You can embed the Power Apps you create in finance and operations apps pages. To embed a Power App on a page, follow these steps:</p>
<ol>
<li><p>Within any page in the application, select the <strong>Power Apps</strong> icon in the top-right corner of the page:</p>
<p><img alt="Screenshot showing the position of the Power Apps icon." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/power-apps-icon-ss.png"/></p>
</li>
<li><p>Select <strong>Add an app</strong>.</p>
</li>
<li><p>Type the name of the app in the <strong>Name</strong> field.</p>
</li>
<li><p>Paste the app ID in the <strong>App ID</strong> field. You can access the app ID from the Power App on the <strong>Details</strong> page in Power Apps.</p>
</li>
<li><p>Specify the <strong>Input context for the app</strong>.</p>
</li>
<li><p>Now, select the <strong>Application size</strong>.</p>
</li>
<li><p>You can also specify access for legal entities if necessary using the <strong>Legal entities</strong> FastTab.</p>
</li>
<li><p>Select <strong>Insert</strong></p>
</li>
</ol>
<p>In addition to embedding Power Apps in Dynamics 365, you can also embed third-party applications. You may need to do this if you have already developed an app in-house or with a partner.  The process for embedding third-party apps is similar to embedding Power Apps. When embedding third-party apps, you can choose to embed the app within a tab page within existing pages in the application.</p>
<p>To embed a third-party application, development is required. A website host control has been added within the developer environment in Visual Studio to allow developers to add third-party apps directly into finance and operations pages.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Finance and operations data on Common Data Model and Microsoft Dataverse</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The Common Data Model lets you bring data from multiple systems and applications together. When you need to bring data from multiple places, this process can be expensive and time consuming. The Common Data Model allows you to bring your data together in a simplified process by providing a shared data language for business and analytical application to use. The Common Data Model metadata system makes it possible for data and its meaning to be shared across multiple platforms and business processes like Microsoft Power Platform applications.</p>
<p>The Common Data Model includes extensible data schemes that are predefined and can be used as needed. The schemas include entities, attributes, semantic metadata, and relationships that represent commonly used concepts within organization such as <strong>Account</strong>, or <strong>Case</strong>. You can use the standard entities, extend the standard entities to fit your needs, or create custom entities.</p>
<h2 id="scenario">Scenario</h2>
<p>Your company has recently decided to implement Dynamics 365 for Finance. Outside Finance, your organization also uses Dynamics 365 Sales. Because each of these applications is independent from each other, they have different structures that represent an entity, for instance, <strong>Account</strong>. These may be similar in each of the applications but not exactly the same. By using the Common Data Model, you can build your data in a standardized format. Each of the applications can then use the same data.</p>
<h2 id="the-common-data-model-and-finance-and-operations-apps">The Common Data Model and finance and operations apps</h2>
<p>The Common Data Model includes data that is available in finance and operations apps. You can build downstream application and extensions using the Common Data Model, allowing you to integrate with other Microsoft application and services. By using Common Data Model and finance and operations apps, you can use analytical tools like Power BI to combine data with other apps.</p>
<p>All data in finance and operations apps, including tables and entities are described in the Common Data Model. This will enable you to combine data from multiple applications seamlessly and easily within a broadly accepted set of standard entities.
To learn more about creating and working with entities for the Common Data Model, refer to the <a data-linktype="absolute-path" href="/en-us/training/modules/get-started-with-powerapps-common-data-service/?azure-portal=true">Get started with Microsoft Dataverse</a> module.</p>
<h2 id="dataverse-and-dual-write">Dataverse and dual-write</h2>
<p>If you are using both model-driven apps in Dynamics 365, and finance and operations apps, dual-write lets you seamlessly integrate data between the two applications. For example, you may be using Dynamics 365 Sales, and finance and operations apps. Both applications store your customer data. By using dual-write, when a new customer record is added in Sales, the customer record will also be added in finance and operations apps in near real time. The direction of the data flow is synchronous and bidirectional. This means you can have data going in and out of both applications.</p>
<p><img alt="Diagram showing the Dual-write flow of data." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/common-data-service-dual-write.png"/></p>
<p>The dual-write framework is also extensible to allow for organizations to modify the functionality to work according to their unique processes. You can use custom entities, and add extensions to existing entities to enable full use of the Dataverse and tools for your organization. To learn more about dual-write, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/dual-write-overview/?azure-portal=true">Dual-write overview</a>.</p>
<h2 id="enable-dual-write-in-finance-and-operations-apps">Enable dual-write in finance and operations apps</h2>
<p>To use and configure dual write, you start by linking your finance and operations apps environment to the Dataverse by using the <strong>Dual-write wizard</strong>, and then enable the entity maps.</p>
<p>To configure dual write in finance and operations apps, follow these steps:</p>
<ol>
<li>Log in to finance and operations apps.</li>
<li>Navigate to the <strong>Data management</strong> workspace.</li>
<li>From the <strong>Data management</strong> workspace, select the <strong>Dual Write</strong> tile.
<a data-linktype="relative-path" href="media/dual-write-tile-ss.png#lightbox"><img alt="Screenshot of the Dual Write tile on the Data management page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/connect-power-platform-finance-operations/media/dual-write-tile-ss.png"/></a></li>
<li>Select <strong>New link to environment</strong>. This will launch the <strong>Setup link to Dataverse</strong> wizard.</li>
<li>On the <strong>Choose environment</strong> page, you will select the environment to link to. This page will display all the Dataverse environments that the signed in user is an administrator for.</li>
<li>Select your legal entities to link. A health check will then run to verify that your system meets the requirements for enabling dual-write.</li>
<li>A summary will display. Review the privacy notice and content, and then select <strong>Create</strong>. A link is now created between your finance and operations app and the Dataverse environment.</li>
<li>Now, you can apply the dual-write application orchestration solution.</li>
<li>In the <strong>Dual-write</strong> page in finance and operations apps, you select <strong>Apply solution</strong> to apply the entity maps that you downloaded when the link was created between the environments.</li>
<li>After you apply the solution, you will see the default entity maps are published.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You're a developer for Contoso Electronics and need to create a Power App app that uses data within the CustTable. You defined the instance, and now you need to specify the table that you want to use for the data source within the app. When you try to find the CustTable, you're unable to find it in the Choose a table list in Power Apps. What can you check to diagnose why the table isn't displaying?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Ensure that the data entity is enabled in the Data management workspace.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Verify that the IsPublic property on the data entity is set to No.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Verify that the IsPublic property on the data entity is set to Yes.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following statements is true about configuring dual-write in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Dual-write is configured in the Feature management workspace.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>You must be an administrator of the Microsoft Dataverse environment to create the link between the applications.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The link between finance and operations apps and the model-driven app is made in Microsoft Azure.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>The link between finance and operations apps and the model-driven app is made in Microsoft Dynamics Lifecycle Services.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>As a developer, you are provided with many tools that help make your development
process easier and more efficient. Microsoft services like Power Apps and
Power Automate enable you to extend the application to
empower your organization to realize its full potential.</p>
<p>You also learned how the Common Data Model lets you bring data from multiple systems and applications together.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Learn how to build flows by using Power Automate.</td>
<td><a data-linktype="absolute-path" href="/en-us/training/paths/automate-process-using-flow/?azure-portal=true">Automate a business process using Power Automate</a>  learning path</td>
</tr>
<tr>
<td>Learn more about Power Apps</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/get-started-with-powerapps/?azure-portal=true">Get started with Power Apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
