<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>With a downloadable virtual hard disk (VHD) for finance and operations apps, you can:</p>
<ul>
<li><p>Download it to develop on, ensuring that no issues will occur with other pieces of architecture or your implementation.</p>
</li>
<li><p>Use it for extra testing.</p>
</li>
</ul>
<p>Therefore, a VHD is a useful tool to know how to create and update. The VHD environment is hosted on your own computer, with a server that's hosted in Microsoft Azure, or any other on-premises architecture. You can download the VHD files from Lifecycle Services.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Set up a VHD for first-time use</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Set up a VHD for first-time use</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Your first step is to locate the files for the VHD, which you can access from the Asset library of Lifecycle Services. To find the Asset library, select the dropdown menu in the upper-left corner, as shown in the following screenshot.</p>
<p>The files that you need will be under the asset type <strong>Downloadable VHD</strong>. On the <strong>Downloadable VHD</strong> files page, an <strong>IMPORT</strong> button will display, which allows you to import the version of VHD that you’re trying to set up.</p>
<p>The versions that are available from Microsoft vary depending on the latest version that’s available of the application overall.</p>
<p>To set up the VHD for first-time use, select the <strong>IMPORT</strong> button and then add all parts of the VHD by selecting the <strong>Pick</strong> button in the sidebar for each part of the VHD.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/virtual-disk-download.png#lightbox"><img alt="Screenshot highlighting how to import and pick a downloadable virtual hard disk." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/set-up-vhd-finance-operations/media/virtual-disk-download.png"/></a></p>
</div>
<p>Then, download the parts of the VHD by selecting the highlighted text for each part of the VHD.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Set up and manage a downloadable VHD for development</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Set up and manage a downloadable VHD for development</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>After you’ve downloaded the VHD files, double-click the <strong>part01</strong> file because it contains the .exe file that will extract all compressed files (part02 – part09) and will create a single virtual hard disk (.vhd) file. However, before the VHD file is created, you’ll need to accept the license agreement and specify a destination folder before selecting the <strong>Extract</strong> button.</p>
<h2 id="enable-hyper-v-in-windows">Enable Hyper-V in Windows</h2>
<p>Before you can run the VHD, you’ll need to ensure that Hyper-V is enabled on your computer. To do so, go to the search bar in the start menu, enter <strong>Turn windows features on or off</strong>, and then select the result that matches this text. After you’ve opened the result, find the <strong>Hyper-V</strong> folder and check whether it’s ready or not. By completing this action, you’ll ensure that the system will also check all folders inside that folder.</p>
<p>After you’ve checked the <strong>Hyper-V</strong> folder, select the <strong>OK</strong> button. You’ll need to wait for the installation to complete if it wasn’t already installed on your computer. After installation is complete, you’ll need to restart your computer.</p>
<h2 id="set-up-a-new-hyper-v-virtual-machine">Set up a new Hyper-V virtual machine</h2>
<p>After you’ve verified that Hyper-V has been installed and set up correctly, you’ll want to ensure that a virtual machine (VM) is set up correctly. To set up your new VM, open the Hyper-V application. When you’re in the Hyper-V Manager, select <strong>New &gt; Virtual Machine</strong>.</p>
<p>The <strong>Before You Begin</strong> screen will appear, where you’ll select the <strong>Next</strong> button to set up a virtual machine with a custom configuration.</p>
<p>On the next page, enter a name for your virtual machine and then select the <strong>Next</strong> button again. Select a generation (usually, <strong>generation 1</strong> should work for the purposes of this exercise), and then select <strong>Next</strong>.</p>
<p>Next, you’ll need to enter how much memory the VM can use. At this point, you should specify at least 8 gigabytes (GB), or 8,000 megabytes MB, of memory, if not more. Otherwise, your Dynamics 365 development environment might be slow. Keep in mind the amount of memory that this VM will use from your computer.</p>
<p>Then, in the <strong>Configure Networking</strong> section, set the <strong>Connection</strong> setting to <strong>Default Switch</strong>. This setting controls the system’s access to the internet.</p>
<p>In the <strong>Connect Virtual Hard Disk</strong> section, you’ll attach the VHD file that you previously created to the VM. To do so, you’ll need to select the <strong>Use an Existing Virtual Hard Drive</strong> option, select the <strong>Browse</strong> button, and then point it to wherever you had saved your VHD file. Then, select <strong>Next</strong> to go to the final summary screen.</p>
<p>The final <strong>Summary</strong> page gives you an overview of the VM that you’re about to set up with the information that you entered. You can return and change your entries if something doesn’t appear correct. Select <strong>Finish</strong> to finish setting up your VM.</p>
<h2 id="set-up-visual-studio-microsoft-sql-server-management-studio-and-more">Set up Visual Studio, Microsoft SQL Server Management Studio, and more</h2>
<p>After you’ve finished installing and setting up the virtual hard disk (VHD), you’ll need to ensure that the programs are installed and set up that you will need for finance and operations apps development, data querying, and access to the application. Because this environment isn’t connected to Lifecycle Services for status and isn’t deployed like other cloud hosted environments, a few differences occur in this process.</p>
<p>Search for <strong>Visual Studio</strong> in the Windows search bar and then open the program as an administrator. You’ll need to sign in to Visual Studio with an account that has a Microsoft Visual Studio license. Though a trial is available, most trials end quickly, so we recommend that you license Visual Studio to ensure long-term use on your virtual machine. After you’ve signed in, you can change the settings and personalize the application. Additionally, you can connect it to your organization’s Microsoft Azure DevOps website through the <strong>Team Explorer</strong> window inside of Visual Studio.</p>
<p>This approach can be useful if you have code that’s been developed by other resources and you want to test it or continue making changes on your new virtual machine. Keep in mind that you’ll also need to restore a database over the VHD to have any relevant data. Otherwise, you’ll be testing the development of your organization with demo data that’s provided from Microsoft. Both scenarios have benefits and drawbacks based on your needs as an owner of the virtual machine.</p>
<p>Using SQL Server Management Studio is a simpler way to ensure that the virtual machine is set up correctly because you can open the application and select <strong>Connect to the database</strong>. From that point, you can select <strong>AXDB</strong>, and then you can query the data as necessary.</p>
<p>Many who use these environments need custom or production data restored on the environment for accurate troubleshooting or development. If you want to restore the database with a copy from the Production environment, you’ll need to first restore the database from Production over to a Tier2 or above environment and then export the database by using the Microsoft supported processes.</p>
<p>To learn about the process for exporting and importing databases from your Lifecycle Services managed environments, go to <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/database/dbmovement-operations/?azure-portal=true">Database movement operations home page</a>.</p>
<p>Microsoft Excel and other products exist on the virtual machine as well; we suggest that you review the different programs that are available. For example, you can license Microsoft Excel with use of an Office 365 account by signing in to the application.</p>
<p>Additionally, you can install other applications that might be necessary for your development or testing processes. You can install applications, such as Microsoft Power BI Desktop, Insomnia for API management, and other integrations for finance and operations apps, on the virtual machine. You might need to allocate more space or memory from your local server for this process.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Upgrade the VHD</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Upgrade the VHD</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>As you continue to work on the virtual hard disk (VHD) and use it with your Lifecycle Services deployed environments, updates happen and make the local VHD out of date in comparison. Therefore, you might want to update your VHD to keep up with the environments in Lifecycle Services as they continue to move from version to version. The process to update the environments is similar to the process of deploying code packages to a Development topology environment that’s deployed from Lifecycle Services. For that reason, the process should be familiar to more technical resources.</p>
<p>Your first step is to download the newest version of your update from Lifecycle Services in the Asset library onto the VHD.  To do this, sign in to Lifecycle Services by using your credentials. In the Lifecycle Services project, select an environment. On the <strong>Environment</strong> page, go to <strong>Available updates</strong>.</p>
<p>Make sure that the .zip file is unlocked after it’s downloaded. To do so, locate the .zip file in your downloads, right-click the file, and then select <strong>Properties</strong>. The properties window contains a checkbox that you’ll need to select.</p>
<p>When you’re finished, select <strong>OK</strong>.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/zip-properties.png#lightbox"><img alt="Screenshot showing the Properties windows of a .zip file that contains a checkbox." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/set-up-vhd-finance-operations/media/zip-properties.png"/></a></p>
</div>
<p>After you’ve unlocked the .zip file, you’ll need to extract its contents to a place on the VHD’s local drive. A good place to put these files is <strong>C:/Temp</strong> because it’s accessible from the command prompt and simple to navigate to. After the files are extracted in a secondary location, you’ll need to go to that folder. Open the Command Prompt tool as an administrator, from File Explorer or separately, and then go to the same folder.</p>
<p>When in the folder, run the following command:</p>
<p><code>AXUpdateInstaller.exe devinstall</code></p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/admin-command-prompt.png#lightbox"><img alt="Screenshot showing how to run the command when you are in a folder." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/set-up-vhd-finance-operations/media/admin-command-prompt.png"/></a></p>
</div>
<p>This process might take some time; it runs through the entire devinstall playbook that’s located inside the package that was downloaded. After the process has completed, you’ll need to complete a compile and sync through Visual Studio to ensure that the VHD is set up and operational after the update.</p>
<p>For more information, see: <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/deployment/install-deployable-package/?azure-portal=true">Install deployable packages from the command line</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Exercise – Install a virtual machine</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise – Install a virtual machine</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In this exercise scenario, you're a developer at a company and need to download the virtual hard disk (VHD). You want to use your local resources on your laptop to run the VHD and to ensure that you can use it at your convenience. You're already in Lifecycle Services and have downloaded the files from the Asset library into your downloads folder, and Hyper-V has been enabled on your computer.</p>
<p>To install the virtual machine, follow these steps:</p>
<ol>
<li><p>Go to the <strong>Downloads</strong> folder on your laptop.</p>
</li>
<li><p>Double-click the <strong>part01</strong> file to extract the compressed files (part02 -- part09) and create a single virtual hard disk (.vhd) file. Make sure that you note the location of this file for Step 10.</p>
</li>
<li><p>Open Hyper-V Manager.</p>
</li>
<li><p>Select <strong>New &gt; Virtual Machine</strong>.</p>
</li>
<li><p>Select <strong>Next</strong>.</p>
</li>
<li><p>Specify the <strong>Name</strong> and <strong>Location</strong> by entering a name for your virtual machine, and then select <strong>Next</strong>.</p>
</li>
<li><p>Specify the <strong>Generation</strong> by selecting <strong>Generation 1</strong> and then select <strong>Next</strong>.</p>
</li>
<li><p>Assign memory by entering <strong>12000</strong>, selecting the <strong>Use Dynamic Memory for this Virtual Machine</strong> checkbox, and then selecting <strong>Next</strong>.</p>
</li>
<li><p>Set up the networking by setting the <strong>Connection</strong> to <strong>Default Switch</strong> and then selecting <strong>Next</strong>.</p>
</li>
<li><p>Connect the virtual hard disk by selecting <strong>Use an existing virtual hard disk</strong> and then selecting <strong>Browse</strong>.</p>
</li>
<li><p>Go to the .vhd file that you created in Step 2.</p>
</li>
<li><p>Select <strong>Open</strong> to select the .vhd file and then select <strong>Next</strong>.</p>
</li>
<li><p>Select <strong>Finish</strong> and your virtual machine should be set up and ready for use.</p>
</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Where is the downloadable VHD located in Dynamics 365 Lifecycle Services?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>In the Business Process Modeler section</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>In the Asset library</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Under the environment’s full details page</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>What installation process is like updating the VHD’s finance and operations apps version?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Installing Excel</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Installing a deployable package on a cloud-hosted development environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Installing Visual Studio</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>How do you restore a copy of your Production environment database over the local database on the VHD?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>You can’t; this process isn’t supported.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>You’ll download the database file directly from Production and can overwrite the local database.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You’ll follow the directions for database operations that are provided by Microsoft to first restore the database from Production to a Tier 2/UAT environment through Lifecycle Services and then export it.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In this module, you’ve learned how to download and update a virtual hard disk (VHD) for finance and operations apps. Because you can use this environment for development and to work alongside the application, you also learned how to set up SQL Server Management Studio, Visual Studio, and more to use the VHD.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>While users are typically working in the user interface, developers work in Visual Studio in their own developer environment. Developers use Visual Studio to create and customize elements and perform other developer operations. The new developer environment allows developers to work in their own environment while still having the ability to collaborate and work with other developers and teams by using source control. The Element Designer is used to create elements, while the Application Explorer is used to manage elements.</p>
<p>It is important to synchronize any data changes with the database to
Ensure that all elements are up to date in the Application Object Tree (AOT).</p>
<p><a data-linktype="relative-path" href="media/visual-studio.png#lightbox"><img alt="Screenshot of the Visual Studio user interface." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/visual-studio.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and build projects</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and build projects</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Creating a project in Visual Studio is essential for organizing, managing, and deploying your code effectively. It groups related elements, manages dependencies, and controls builds, making it easier to navigate your solution. Projects also integrate with source control for version tracking, allow debugging and testing within Visual Studio, and prepare code for deployment to production or test environments. This structured approach streamlines development and reduces errors, ensuring your customizations work seamlessly with Dynamics 365. Projects in Visual Studio contain elements, which are stored as metadata when they are built. The metadata is then used by the application to run your extensions.</p>
<p>In Visual Studio, a <strong>solution</strong> is a container that organizes one or more related projects, allowing you to manage them as a single unit. Solutions help developers coordinate multiple projects, which may represent different parts of an application, such as business logic, UI components, and services. By grouping projects within a solution, you can build, debug, and deploy them together, ensuring consistency across the entire application. Solutions also facilitate dependency management and make it easier to navigate complex projects with shared code, providing a centralized workspace for development.</p>
<p>To create a new project, go to <strong>File</strong> &gt; <strong>New</strong> &gt; <strong>Project</strong>, or hold <strong>Ctrl + Shift</strong> while pressing the <strong>N</strong> key. In the project wizard, name your project and make sure to select the model
where it belongs. The model is difficult to change when you start adding
files to the project, so getting it right early on is crucial.</p>
<p>The <strong>New project</strong> wizard also lets you select dependencies if you know
which models you might be using or extending elements from. If not, you
can edit the model dependencies list later as you add elements. It's important to ensure that that model is correct from the start, as it will be difficult to change after files are added to the project.</p>
<h2 id="build-rebuild-and-clean">Build, rebuild, and clean</h2>
<p>To compile your code, you have multiple options: you can build, rebuild, or clean your project from the <strong>Solution Explorer</strong> by right-clicking and selecting the desired option. A <em>build</em> compiles any changes, a <em>rebuild</em> compiles all components from scratch, and <em>clean</em> removes previous build outputs, preparing for a fresh build. You can also access these options from the <strong>Build</strong> menu in Visual Studio.</p>
<p><img alt="Screenshot of the Visual Studio Build menu." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/build.png"/></p>
<p>Watch this video to learn how to create a new project in Visual Studio.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=8259afe8-e4b2-46d6-af49-2e8c159ba4cc"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and use label files</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and use label files</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use label files to store text localizations for a user interface (UI).
To fully support multiple languages for a UI, the best practice is to use labels for all text that’s used in the UI, including:</p>
<ul>
<li>Properties such as <strong>Label</strong>, <strong>Description</strong>, and <strong>Help</strong> text.</li>
<li>Information, warnings, or errors that might be returned in the UI.</li>
</ul>
<p>You can create and modify labels in Microsoft Visual Studio. We don’t recommend that you change standard labels. Rather, you should create your own customized labels.</p>
<h2 id="create-label-files">Create label files</h2>
<p>Before you can use labels, you need to create them in a label file.</p>
<p>To find all current labels, go to <strong>Application Explorer</strong> &gt; <strong>Label Files</strong>. Typically, the labels are named as the module in Dynamics 365 (one label file for Accounts Payable, one for Accounts Receivable, and similar). You should create one label file for each language.</p>
<p>The naming and numbering of label files depend on the policies that you’re using for development.</p>
<p>Best practices for label files are to use a clear name, such as the solution name, and then use a descriptive label ID for each one.</p>
<p>To add label files to a project, follow these steps:</p>
<ol>
<li><p>Go to the <strong>Solution Explorer</strong> window and right-click the project or activate the context menu, and then select <strong>Add</strong>. <strong>New Item</strong>.</p>
</li>
<li><p>Select <strong>Label and Resources</strong>, <strong>Label file</strong>. The Label file Wizard will appear, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/label-file-wizard.png#lightbox"><img alt="Screenshot of the Label file Wizard." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/label-file-wizard.png"/></a></p>
</li>
<li><p>Enter a value in <strong>Label file ID</strong>, and then select <strong>Next</strong> to select languages, but you can add them later, too. A summary preview of the label file creation process displays.</p>
</li>
<li><p>If your entries appear correct, select <strong>Next</strong>. In Solution Explorer, notice that one label file for each language is created in your project, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/summary-preview.png#lightbox"><img alt="Screenshot of the summary preview." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/summary-preview.png"/></a></p>
</li>
</ol>
<p>To add labels into a label file, follow these steps:</p>
<ol>
<li><p>Open the file in the designer, which lists all labels for a label file and language, see the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/label-file.png#lightbox"><img alt="Screenshot of the file designer and the selection of a CustName label file." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/label-file.png"/></a></p>
</li>
<li><p>To create a label, select <strong>New</strong>. A new row for labels is created.</p>
</li>
<li><p>Enter a <strong>Label ID</strong> and a label. We recommend that you add a description, such as a task number. Examples of good label names to use are as follows:</p>
<ul>
<li><strong>Label file name</strong> - MyLabelFile</li>
<li><strong>Label ID</strong> - CustName</li>
<li><strong>Label string</strong> - My cust name</li>
</ul>
</li>
<li><p>If you’re supporting more than one language, you need to create a <strong>Label ID</strong> for applicable languages in each label file.</p>
</li>
</ol>
<p>You can’t use label files unless you build them.</p>
<h2 id="use-label-files">Use label files</h2>
<p>All text in a UI should have a label created. You need to set up some labels on a property and other elements in X++.</p>
<p>The simplest way to use a label is to find it in the label file by following these steps:</p>
<ol>
<li>Open the label file in Application Explorer or Solution Explorer in the designer.</li>
<li>Copy the row with the label (right-click or activate the context menu, and then select <strong>Copy</strong> or Ctrl+C).</li>
<li>Go to the property or X++ and paste (right-click or activate the context menu, and then select <strong>Paste</strong> or Ctrl+V).</li>
</ol>
<p>The following example shows how the inserted label should appear:</p>
<p><strong>@MyLabelFile:CustName (Label File Id and Label Id)</strong></p>
<p>The language that you use for a label is dependent on the functionality. Typically, you would use the language from the user; occasionally, a language-specific label is used, such as using English for an invoice to an English customer.</p>
<p>The following code sample illustrates how labels in X++ might appear:</p>
<pre><code class="lang-xpp">internal final class MyRunnableClassLabel
{
   /// &lt;summary&gt;
   /// Class entry point. The system will call this method when a designated menu 
   /// is selected or when execution starts and this class is set as the startup class.
   /// &lt;/summary&gt;
   /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
   public static void main(Args _args)
   {
       Info(strFmt('@MyLabelFile:CustName'));
   }
 
}
</code></pre>
<p>You can’t extend labels out of the box, but you can create a label in the label wizard with the <strong>postfix _Extension</strong>, such as <strong>Sys_Extension</strong>. Use the language that you want, and then create a label that has the same <strong>Label ID</strong> as in the <strong>Sys label</strong> file, giving it a new text. Now, the system uses the newly created label instead of the standard label.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Manage metadata by using the Application Explorer</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Manage metadata by using the Application Explorer</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In Visual Studio, all objects that define the application's structure and functionality-such as tables, forms, classes, and workflows-are stored within the Application Object Tree (AOT). The AOT serves as a centralized repository, organizing these elements for easy access and management during development and customization. Metadata in existing models is available in the Application Explorer  as well.</p>
<h1 id="metadata-types">Metadata types</h1>
<p>The metadata types include:</p>
<ul>
<li><strong>Extended Data Types (EDTs)</strong> - If you have programmed before, you might think of these as primitive types: Boolean, String, Real, Integer, Globally Unique Identifier (GUID), Container, Time, Date, and Enum.</li>
<li><strong>Enums</strong> - A type with a value that is chosen from a predefined list. One example might be a weekday, which must be one of Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, or Sunday. An enum has great value because the enum values are stored as enum values in the database, rather than the full string value.</li>
<li><strong>Tables</strong> - Organize data into rows and columns.</li>
<li><strong>Forms</strong> -  User interface elements that get their own page in finance and operations apps.</li>
<li><strong>Data entities</strong> - An abstraction of database tables that are used for integrations, data import/export, and more.</li>
</ul>
<p>The Application Explorer contains the Application Object Tree (AOT),
which has two views: the model view and the classic view.
To access these views, right-click the <strong>AOT</strong> node and select <strong>model view</strong> or <strong>classic view</strong>.</p>
<h1 id="model-view">Model view</h1>
<p>The model view organizes metadata by the model that contains it, which is useful when you are browsing for elements that are related to a certain model's features.</p>
<p><a data-linktype="relative-path" href="media/model-view.png#lightbox"><img alt="Screenshot of the Application Object Tree model view." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/model-view.png"/></a></p>
<h1 id="classic-view">Classic view</h1>
<p>The classic view groups metadata elements by their type, which is more helpful when you know what kind of element that you need but not which module contains it.</p>
<p><a data-linktype="relative-path" href="media/classic-view.png#lightbox"><img alt="Screenshot of the Application Object Tree classic view." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/classic-view.png"/></a></p>
<p>There are more elements in <strong>Application Explorer</strong> that are specific to building solutions, including:</p>
<ul>
<li><strong>Analytics</strong> - Use for aggregate dimensions, measurements, and Key Performance Indicators (KPIs).</li>
<li><strong>Label files</strong> - Use in both properties and in X++ code. Label files are categorized per language.</li>
<li><strong>Reports</strong> - Defined in the system, you must ensure the SSRS reports are published before using them.</li>
<li><strong>Resources</strong> - Use for extensible controls. Can be saved pictures, HTML, and JavaScript.</li>
<li><strong>Configuration</strong> - License codes and configuration keys that you define in the configuration.</li>
<li><strong>Security</strong> - Security roles, duties, privileges, and policies.</li>
<li><strong>References</strong> - .NET Framework assemblies from a dynamics link library (dll).</li>
<li><strong>Services</strong> - Custom services and service groups.</li>
</ul>
<h1 id="use-queries-to-find-objects-in-the-aot">Use queries to find objects in the AOT</h1>
<p>If these views aren't sufficient to help you find the elements that you need, you can also filter the AOT by entering the field name, followed by a colon and a space, and then followed by a value. If you are looking for a recently created element, but cannot find what you need, try using the <strong>Refresh</strong> button to make sure that the AOT has the latest data.</p>
<p>To view the types of filters you can use in the AOT, select the <strong>Search</strong> field and begin typing in the Application explorer. The list of filters and a list of previously searched terms will appear.</p>
<p><a data-linktype="relative-path" href="media/aot-filter.png#lightbox"><img alt="Screenshot of the Application Object Tree filter." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/aot-filter.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Build deployment packages</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Build deployment packages</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>To apply your code changes to a non-development environment, build a Software Deployable Package (SDP) and upload it to Lifecycle
Services. This allows for a reliable and repeatable code
application process as your code gets closer to production.</p>
<p>To build an SDP from Visual Studio, follow these steps.</p>
<ol>
<li>Go to <strong>Builds</strong> in Team Explorer.</li>
<li>Right-click the desired build definition.</li>
<li>Select <strong>Queue New Build</strong>.</li>
<li>In the browser window that opens, sign in to Azure DevOps (unless you are automatically signed in).</li>
<li>Use the <strong>Queue</strong> button to open the build queue dialog box.</li>
<li>Enter any parameters that you need to in the dialog box.</li>
<li>Select <strong>Confirm</strong> to queue the build.</li>
</ol>
<p>When the build completes, the logs and the built code are available to download. The code is available as just the models that it includes, or
as what Azure DevOps calls an AX Deployable Runtime. The AX Deployable
Runtime is an SDP. All these downloads are accessible by using the
<strong>Artifacts</strong> button on a completed build's status page.</p>
<p>You can use Visual Studio to monitor and track your Azure DevOps builds.
From the <strong>Builds</strong> screen of Team Explorer, your active builds are
visible in the <strong>My Builds</strong> section. Each entry notes the time of the
last status change, such as "started 20 minutes ago" or "completed 6
seconds ago." When the build completes, you can download the resulting
AX Deployable Runtime from the connected Azure DevOps project site and
upload it to the Lifecycle Services Asset Library.</p>
<p>Watch the following video to learn about creating a deployable package.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=ddcfa344-d72b-4948-b66c-4619a2457e35"></iframe></div>
<p>To learn more about deployment packages, use these resources:</p>
<ul>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/deployment/create-apply-deployable-package/?azure-portal=true">Create deployable packages of models</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/deployment/install-deployable-package/?azure-portal=true">Install deployable packages from the command line</a></li>
<li><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-tools/continuous-delivery-home-page/?azure-portal=true">Continuous delivery home page</a></li>
<li><a data-linktype="absolute-path" href="/en-us/business-applications/playbook/FusionOps-for-Dynamics-365-Finance/DevSecOps/CI_Pipeline#set-up-the-git-repository">Set up the Git Repository</a></li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Synchronize data changes with the database</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Synchronize data changes with the database</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When you add or change elements, you must synchronize the
database so that it knows in which fields (columns) that it needs to store these elements. To do that, select <strong>Synchronize Database</strong> from the <strong>Dynamics 365</strong> menu and then use the <strong>Synchronize</strong> button in the
dialog box.</p>
<p>You can also select <strong>Synchronize Database on Build</strong> on the <strong>Options</strong>
tab of the <strong>Build Models</strong> dialog box to automatically synchronize the
database after a successful build. This option is handy  because you will need to synchronize immediately after building.</p>
<p>Sometimes, an out-of-sync database will cause finance and operations apps to throw SQL errors. This problem can often be resolved with a successful database sync. Synchronizing the database with locally built code is necessary when you are bringing data onto a new machine.</p>
<p>The following screenshots show the different options for synchronizing both your project and the overall code base with the database.</p>
<ul>
<li><p>Project</p>
<p><img alt="Screenshot of the synchronize database option for a project." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/database-sync-project.png"/></p>
</li>
<li><p>Code base</p>
<p><img alt="Screenshot of the synchronize database option for the code base." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/database-sync-code-base.png"/></p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create new elements</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create new elements</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>If you are a developer for Dynamics 365, you may need to create new elements to meet the requirements of a customization or modification being made to the application. Creating a new object allows developers to tailor the system to meet specific business needs not covered by standard features. New objects like tables, forms, and classes enable custom data storage, workflows, and logic, ensuring the application aligns closely with unique organizational requirements.</p>
<p>The Element Designer is the central development tool in Visual Studio, where you use it to edit and configure elements. New elements can be created and modified here, and existing elements within the AOT can be extended to fit specific needs within this window.</p>
<p>Creating a new element starts in the <strong>Solution Explorer</strong> window:</p>
<ol>
<li>Right-click the project and select <strong>Add new item</strong>.</li>
<li>This opens a dialog box where you can choose what kind of object to add and then give it a name. When you have confirmed your choices, the element will appear in the <strong>Solution Explorer</strong> window.</li>
<li>Select the element in the <strong>Solution Explorer</strong> window, which will bring it into the Element Designer for editing.</li>
<li>To extend an element from the AOT, right-click it and select
<strong>Extend</strong>. This will add it to the <strong>Solution Explorer</strong> window.</li>
</ol>
<p>The appearance of the Element Designer varies by the type of element but generally contains a hierarchical view of the element data and related elements or code. You can drag and drop elements into this view, where they are structurally appropriate, and view the properties of any selected node in the <strong>Properties</strong> window. By right-clicking code elements, you can open them in a code editor to make modifications by using the coding features that you are used to seeing in Visual Studio, such as Intellisense.</p>
<p>Forms have their own layout, which consists of three windows:</p>
<ul>
<li><strong>Form Designer</strong> - Contains a hierarchical view of the form's structure.</li>
<li><strong>Normal Element Designer</strong> - For the selected node in the view.</li>
<li><strong>Pattern Designer</strong>- Helps you match the existing form layouts and UI conventions in finance and operations apps. When you start building a form, you can apply a pattern by right-clicking the form node in the Form Designer and selecting <strong>Apply Pattern</strong>. This populates the pattern's requirements in the Pattern Designer so that you know what you need to add to complete the form.</li>
</ul>
<p>The image below is an example of the Form element designer.</p>
<p><a data-linktype="relative-path" href="media/element-designer.png#lightbox"><img alt="Screenshot of an example of the Form Element designer." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/customize-visual-studio-finance-operations/media/element-designer.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a project and add an element</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a project and add an element</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer is a new employee at the Fleet
Management company. The developer needs to create their own project in Visual Studio to begin developing new elements. The developer has been tasked with creating a new Extended Data Type (EDT) for vehicle color.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Select <strong>Run as administrator</strong> to open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure that the correct project settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Ensure that the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-new-vehicle-color-edt">Create a new vehicle color EDT</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project
<strong>FleetManagementProject (ISV) [Fleet Management]</strong>. (In this lab, (ISV) and [Fleet Management] denote parameters of the project or object)</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong> and then select <strong>Data Types</strong>.</li>
<li>On the middle pane, select <strong>EDT String</strong>.</li>
<li>Enter <strong>FMVehicleColor</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>.</li>
<li>The <strong>FMVehicleColor</strong> EDT will now be open in the element designer window.</li>
<li>Right-click the <strong>FMVehicleColor (ISV) [Fleet Management]</strong> heading in the element designer and select <strong>Properties</strong>.</li>
<li>In the <strong>Label</strong> property, enter <strong>Vehicle color</strong>.</li>
<li>In the <strong>String Size</strong> property, enter <strong>20</strong> to allow 20 characters to be entered for a color.</li>
<li>Perform a build by right-clicking the <strong>FleetManagementProject (ISV) [Fleet Management]</strong> project in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to change how the VendorInvoiceLineEntity functions. Which of the following actions should you take to start?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a new entity and copy all the properties from VendorInvoiceLineEntity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Extend VendorInvoiceLineEntity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Overlayer your changes on the existing VendorInvoiceLineEntity.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Edit VendorInvoiceLineEntity directly.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>When does your code become available locally in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>When you save it</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>When you shelve your changes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>When you check in your changes to source control.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>When you build it.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You extended a table to add fields in Visual studio, you performed a build, but you aren't seeing the new fields that you added to the table. Which of the following actions should you perform to ensure your table extension updates, and displays on the table?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Debug the table code</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Database synchronization</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Run a code analysis on the solution</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a deployable package</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Visual Studio is the development home for finance and operations apps. It
allows you to find, and extend existing functionality, or create your
own. It also lets you have your changes available to test locally as soon as you build and synchronize.</p>
<p>In this module, you learned how to perform the following tasks in Visual
Studio:</p>
<ul>
<li>Create and build projects</li>
<li>Manage metadata by using the Application Explorer</li>
<li>Build deployment packages</li>
<li>Synchronize data changes with the database</li>
<li>Use the Element Designer to create elements</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>X++ has a user-friendly memory management model that is identical to .NET. A few areas where X++ differs from other managed languages are:</p>
<ul>
<li>Strong data access statements</li>
<li>Tight integration with system and user metadata</li>
<li>A strong extensibility story with Pre/Post event handlers and chain of command</li>
<li>Case insensitivity, meaning that "While," "while," and "WHILE" are the same (C# is case-sensitive)</li>
</ul>
<p>X++ includes existing application classes for programming different
business processes that can be easily extended for customizations.</p>
<p>X++ shares many keywords from SQL, and you can access data directly by
using table objects and views. These objects allow data access and
manipulation directly from code. The compiler checks the code against a
set of established best practices.</p>
<p>In addition, finance and operations apps support
interoperability between classes that are written in X++ and any other .NET Framework language.</p>
<p>To start programming, you will need access to a finance and operations apps
developer environment and Visual Studio, you will also need a Visual Studio license.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement base types and operators</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement base types and operators</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains the different data types and operators that are used in X++.</p>
<h2 id="data-types">Data types</h2>
<p>Primitive data types are the most common data types that you encounter. The primitive data types are: <code>anytype</code>, <code>boolean</code>, <code>date</code>,
<code>enum</code>, <code> guid</code>, <code>int</code>, <code>int64</code>, <code>real</code>, <code>str</code>,<code>timeOfday</code>, and <code>utcdatetime</code>.</p>
<ul>
<li><strong>Date</strong> - This data type contains the day, month, and year. You can write out the date as literals by using the format day\month\year. The year must be entered as four digits. The dates must be within the January 1, 1900 and December 31, 2154 range. We recommend that you use <code>utcDateTime</code> instead of <code>Date</code> because it combines <code>date</code>, <code>timeOfDay</code>, and time zone information into a single data type.</li>
<li><strong>Enumerations (enums)</strong> - Are a named list of literals. For example, there's an enum called <code>NoYes</code>, with a list of literals No and Yes. Each literal can also be represented by a number. The first literal has the number 0, the next literal has the number 1, and so on. You can also provide your own values in the enum metadata. To reference an enum value, you would use the enum name followed by two colons and the name of the literal. Considering the <code>NoYes</code> enum again, to reference the Yes literal, you would write <strong><code>NoYes::Yes</code></strong>.</li>
<li><strong>GUID</strong> - This data type is a globally unique identifier (GUID) value. A <code>GUID</code> number is unique across all computers and networks.</li>
<li><strong>Int</strong> - These values are 32-bit wide integer signed numbers that don't include a decimal place. There's no support for unsigned integer    types.</li>
<li><strong>Int64</strong> - A larger, signed integer data type that works like the <code>int</code> data type, except that it's 64 bits wide compared to 32 bits. The <code>int64</code> type has a greater range for larger numbers.</li>
<li><strong>Real</strong> - These data types hold number values with decimals.</li>
<li><strong>Str</strong> - This data type contains values that are a string of characters. The <code>str</code> value must be wrapped in double quotation marks ("text") or single quotation marks ('text').</li>
<li><strong>TimeOfday</strong> - This data type is an integer value that represents the number of seconds that passed since midnight.</li>
<li><strong>Utcdatetime</strong> - This data type is a combination of the <code>date</code> type and the <code>timeOfday</code> data type. The format is yyyy-mm-ddThh:mm:ss with the    default value being 1900-01-01T00:00:00.</li>
</ul>
<h3 id="composite-data-types">Composite data types</h3>
<p>Along with primitive data types, there are composite data types.
Composite data types include arrays, containers, classes, delegates, and tables.</p>
<ul>
<li><strong>Arrays</strong> - Contain a list of items that have the same data type. You can retrieve an element in the array with an integer index. You can use arrays in different ways. Dynamic arrays are open and fixed-length arrays specify a certain length. Partly on disk arrays can be dynamic or fixed, with an option to determine how many items are held in memory.</li>
<li><strong>Containers</strong> - Are dynamic collections of primitive items or other    containers. Containers can be useful to pass different types of    values, but they aren't ideal when used in processes that frequently change the size or contents.</li>
<li><strong>Classes</strong> - Can be used as a data type to declare an instance of a    class within a method.</li>
<li><strong>Delegates</strong> - Can be defined on a method, table, form, or query. When a delegate is called, it also calls their subscriber methods.    Delegates never return a value and have a default value of <em>no handlers added</em>, which means nothing is called when you call them.</li>
<li><strong>Tables</strong> - Can be used to declare an instance of a table. Once a table instance is declared, you can manipulate the data within the table.
We recommend that the table variable has the same name as the table, but you should use camel casing. For example, the table EcoResProduct    would be declared by using camel casing as ecoResProduct.</li>
</ul>
<h3 id="user-defined-data-types">User-defined data types</h3>
<p>Extended data types (EDT) are user-defined types that are based on the
<code>boolean</code>,<code> int</code>, <code>int64</code>, <code>real</code>, <code>str</code>, <code>date</code>, and
<code>container</code> data types. EDTs can be used on variables, method parameters, and field declarations. User-defined data types offer significant benefits, such as reusing type definitions, including assigned labels and string lengths. They make code easier to read because the EDT name can be defined by the user. Therefore, instead of using just <code>str</code>, you could use an EDT named <em>Color</em>, which would be a more meaningful name. You can also set certain properties on the EDT that all instances of that type use. Additionally, you can create hierarchies for EDTs so an EDT can inherit the properties of a parent.</p>
<h2 id="variables">Variables</h2>
<p>Variables are identifiers that designate a storage location where a value of a data type is stored. The size, precision, default value, and conversion functions depend on the variable's data type. Variables can be declared anywhere in a code block in a method; they don't have to be declared at the beginning of a method.</p>
<p>In a class, member (global) variables and local variables have different scopes. Global variables can be used throughout the instance (excluding static methods) of the class, while local variables are only available within the scope of the class method.</p>
<p>When you declare a variable, you must assign the data type and then assign the variable name. At this point, you can assign a value or leave it open to set the value. The following procedure is an example of declaring a variable.</p>
<ol>
<li>Declare the data type inline and within code. In this example, use <strong>str</strong> for string data type.</li>
<li>Name the variable. It must start with a letter or underscore. We recommend using meaningful names for variables that follow camel case. Camel case is where you don't capitalize the first letter of the name, but each word or abbreviation that follows the first in the phrase is capitalized (for example, purchaseOrderLine). Spacing or punctuation isn't permitted.</li>
<li>If you're assigning a value, add the equal sign and the value of the variable. String values must be either surrounded by double quotation marks or by single quotation marks for hard-coded text. It's best practice to use labels in strings, excluding the few exceptions where this isn't feasible. Single quotation marks around hard-coded text suppress the best practice error that you would get for not using a label.</li>
<li>End the declaration with a semicolon.</li>
</ol>
<pre><code class="lang-xpp">str customerName;

	or

str customerName = "Name";
</code></pre>
<p>Watch the following video to learn how to declare a variable.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=244c6d92-177b-4657-ba4d-d83b53984932"></iframe></div>
<h2 id="operators">Operators</h2>
<p>Operators are used to compute values. The different types of
operators include assignment operators, arithmetic operators, and relational operators.</p>
<p>Assignment operators can change the value of the variable or field.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>Assigns the value after the equal sign to the variable before.</td>
<td>Int i = 1;</td>
</tr>
<tr>
<td>+=</td>
<td>Assigns the current variable value plus the value after the equal sign.</td>
<td>int I ; I += 1;</td>
</tr>
<tr>
<td>++</td>
<td>Increments the variable by 1.</td>
<td>int I; i++;</td>
</tr>
<tr>
<td>-=</td>
<td>Assigns the current variable value minus the expression after the equal sign.</td>
<td>int I; I -= 1;</td>
</tr>
<tr>
<td>--</td>
<td>Decrements the variable by 1.</td>
<td>int I; i--;</td>
</tr>
</tbody>
</table>
<p>Arithmetic operators are used to make numeric calculations.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;&lt;</td>
<td>The left shift operator multiplies the left value by 2 by the number of times equal to the value on the right.</td>
<td>int a = 1 &lt;&lt; 2 (this equals 1*2*2.)</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>The right shift operator divides the left value by 2 by the number of times equal to the value on the right.</td>
<td>int a = 1 &gt;&gt; 2 (this equals 1/2/2.)</td>
</tr>
<tr>
<td>*</td>
<td>This operator multiplies operands.</td>
<td>int a = 1*2</td>
</tr>
<tr>
<td>/</td>
<td>This operator divides the left value by the right value.</td>
<td>int a = 1/2</td>
</tr>
<tr>
<td>div</td>
<td>The integer division operator performs an integer division of the left value and the right value.</td>
<td>int a = 20 div 6 (This returns a division of 3 with a remainder of 2. A = 3)</td>
</tr>
<tr>
<td>mod</td>
<td>The integer remainder operator returns the remainder of an integer of the left value and the right value.</td>
<td>int a = 20 mod 6 (This returns a division of 3 with a remainder of 2. A = 2)</td>
</tr>
<tr>
<td>~</td>
<td>The not operator performs a binary not operation.</td>
<td>int a = ~1 (This returns -2.)</td>
</tr>
<tr>
<td>&amp;</td>
<td>The binary AND operator performs a binary operation on the left and right value. This returns the bits in common.</td>
<td>int a = 1 &amp; 3 (This returns 1.)</td>
</tr>
<tr>
<td>^</td>
<td>The binary XOR operator performs a binary XOR operation on the left and right value. This returns the bits set in one, but not the other.</td>
<td>int a = 1 ^ 3 (This returns 2.)</td>
</tr>
<tr>
<td>|</td>
<td>The binary OR operator performs a binary operation on the left and right value. This returns the bits set in either.</td>
<td>int a = 1 | 3 (This returns 3.)</td>
</tr>
<tr>
<td>+</td>
<td>The plus operator adds operands.</td>
<td>int a = 1 + 4 (This returns 5.)</td>
</tr>
<tr>
<td>-</td>
<td>The minus operator subtracts the left or right values.</td>
<td>int a = 4 - 1 (This returns 3.)</td>
</tr>
<tr>
<td>?</td>
<td>The ternary operator takes three values. If value 1 is true, value 2 is returned. Else, value 3 is returned.</td>
<td>int a = (x &gt; 3) ? 1:5 (If x is greater than 3, then return 1, else return 5.)</td>
</tr>
</tbody>
</table>
<p>Relational operators are used in X++ to compare the values between variable values of similar types. Some limitations with complex data types such as GUIDs apply.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Like</td>
<td>This operator is exclusively used in SQL statements and returns true if the criteria are found within the second value. For example, select a table where a field such as ‘12*’ returns all rows from a table where the field values start with 12.</td>
</tr>
<tr>
<td>==</td>
<td>Returns true if the values are equal.</td>
</tr>
<tr>
<td>!=</td>
<td>Returns true if the first value isn't equal to the second value.</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Returns true if the first value is greater than or equal to the second value.</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Returns true if the first value is less than or equal to the second value.</td>
</tr>
<tr>
<td>&gt;</td>
<td>Returns true if the first value is greater than the second value.</td>
</tr>
<tr>
<td>&lt;</td>
<td>Returns true if the first value is less than the second value.</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>Returns true if the first and second value are true.</td>
</tr>
<tr>
<td>||</td>
<td>Returns true if the first or second value is true.</td>
</tr>
<tr>
<td>!</td>
<td>Returns true if the value is false, and it returns false if the value is true.</td>
</tr>
</tbody>
</table>
<p>A ternary operator allows you to evaluate if an expression is true or
false to get a result. This is like an <code>if</code> statement, which is
discussed in the Use conditional and iterative statements and Exception
handling units. However, where an <code>if</code> statement provides conditional
branching for the code that is being run, the ternary operator result can be assigned to a variable. The following example checks if the variable x is equal to 5. If it's equal to 5, then the ternary operator assigns the value <strong>Yes</strong> to the result variable.
If x doesn't equal 5, the ternary operator assigns the value <strong>No</strong> to the result variable.</p>
<pre><code class="lang-xpp">result = (x==5) ? "Yes" : "No";
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Common structured programming constructs of X++</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Common structured programming constructs of X++</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>X++ uses classes to define data and create objects. The data that is defined in a class represents the state of the object and is stored in variables. Classes also contain methods, which will tell the object what to do.</p>
<p>The first piece of a class is the class declaration. The class
declaration holds the name of the class, the instance variables, and
other modifiers. In X++, all classes are treated as public, even if they're not explicitly declared. However, you can control the accessibility of methods within those classes using access modifiers like <strong>private</strong>, <strong>protected</strong>, and <strong>public</strong>. It's best practice to provide one of the following modifiers.</p>
<ul>
<li><strong>Private</strong> - Restricts access to methods and variables so that they can only be accessed within the same class.</li>
<li><strong>Protected</strong> - Allows methods and variables to be accessed within the same class and by subclasses.</li>
<li><strong>Public</strong> - Allows methods and variables to be accessed from any other class.</li>
</ul>
<p>The following is an example of a class declaration plus declaration of a member variable:</p>
<pre><code class="lang-xpp">public class CustomerDetails
{
    private str custName;
}
</code></pre>
<p>Classes must be instantiated before they can be used. The following example demonstrates how to create an instance of the <em>TruckLoad</em> class with another class, <em>Truck</em>. In the `createNewTruckLoad method of the <em>Truck</em> class, a variable of type <em>TruckLoad</em> is declared. An instance of the TruckLoad object is then created using the default constructor new and returned to the caller.</p>
<p>The instance method <em>shipTruckLoad</em> will accept an instance of the <em>TruckLoad</em> class to perform a shipping operation on that instance as well as a static method to calculate a total weight.</p>
<pre><code class="lang-xpp">public class Truck
{
	public TruckLoad createNewTruckLoad()
	{
		TruckLoad myTruckLoad = new TruckLoad();
		return myTruckLoad;
	}
	public void shipTruckLoad(TruckLoad _truckLoad)
	{
		_truckLoad.ship();
	}
	public static int calcTotalWeight(int  netWeight,int tareWeight)
	{
		return netWeight+tareWeight;
	}
}
</code></pre>
<p>Methods can be as follows:</p>
<ul>
<li><p><strong>Instance methods (or object methods)</strong> - Are embedded in the
object that was created from a class. The object must be instantiated before you can use this method. An instance method can access the instance and static state, whereas a static method can only access the static state.</p>
</li>
<li><p><strong>Static methods (also known as class methods)</strong> - You do not need
to instantiate an object to use these methods. You can declare a
method as static with the keyword <code>static</code>. A specific type of
static method is the Main method, which can be called directly from
a menu option.</p>
</li>
</ul>
<p>Methods are made up of a signature and a body. The method header holds
the method's name, return type, method modifiers, and parameters. If
there is no return type, then the keyword <code>void</code> is used. The body
holds the variable declarations, method declarations, and statements.</p>
<p>The following is an example of a method. The method is a public method that returns a real data type. The method is called ReturnCalculation. It
also has a real data type parameter <code>_expression1</code>. Parameters should
begin with "_" to easily identify parameters within the code.</p>
<pre><code class="lang-xpp">public real ReturnCalculation(real _expression1)
{
	real expression2 = 2;
	return _expression1 * expression2;
}
</code></pre>
<p>Now, you can collect all the different pieces of a class to create your
own class.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Collection classes</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Collection classes</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>X++ in finance and operations apps provides distinct types of constructs that you can use to store data:</p>
<ul>
<li><strong>Composite types</strong> - Refer to arrays and containers, which are excellent for storing primitive types.</li>
<li><strong>Collection classes</strong> - Refer to arrays, lists, maps, sets, and <em>structs</em> (short for <strong>structures</strong>), which you can use to store primitive types and objects to maximize performance.</li>
</ul>
<p>You can convert a collection into an array, which is why it’s a composite type of construct and can be a collection class.</p>
<p>Collection classes can contain any data type, including objects, and they provide reliable performance. X++ includes several collection classes:</p>
<ul>
<li><strong>Array</strong> - Includes a collection class and composite data type, and the class resembles the array type in X++.</li>
<li><strong>List</strong> - Contains a list, in sequential order, of one data type. You can use the addStart and addEnd methods to insert values.</li>
<li><strong>Map</strong> - Contains a list with a key to another value for a specified data type.</li>
<li><strong>Set</strong> - Contains values for a single data type. A value can exist only once, and you can check whether a value is already in the set. You can use the remove method to remove a value from a set class.</li>
<li><strong>Struct</strong> - Contains values for multiple data types.</li>
</ul>
<h2 id="collection-class-list">Collection class: List</h2>
<p>The <strong>List</strong> collection class contains values for a single data type, which you set up when you construct the list, in a sequential order. You can add values to the beginning (addStart) or at the end (addEnd), and you can use <code>ListEnumerator</code> or <code>ListIterator</code> to traverse values, as the following code sample shows.</p>
<pre><code class="lang-xpp">internal final class CollectionClassListJob 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        List list = new List(Types::Integer);

        list.addEnd(10);
        list.addEnd(20);
        list.addStart(30);

        // traverse values using ListIterator

        ListIterator listI = new ListIterator(list);

        while (listI.more())
        {
            Info(strFmt('%1', listI.value()));

            listI.next();
        }

        // traverse value using ListEnumerator

        ListEnumerator listE = list.getEnumerator();

        while (listE.moveNext())
        {
            Info(strFmt('%1',listE.current()));
        }
    }

}
</code></pre>
<p>This code returns 30, 10, and 20, and it uses <code>ListIterator</code> and <code>ListEnumerator</code> to traverse values that you inserted at the start and end of the list. You can insert the same value multiple times, but you can’t check whether it already exists in the list.</p>
<h2 id="collection-class-map">Collection class: Map</h2>
<p>The <strong>Map</strong> collection class has values associated to a key, while a single data type specifies the key-value pair.</p>
<p>Similar to the <strong>List</strong> collection class, you can use <code>MapEnumerator</code> or <code>MapIterator</code> to traverse the map’s key-value pair, and you can check whether a key value already exists and look up specific key values, as the following code sample shows.</p>
<pre><code class="lang-xpp">internal final class CollectionClassMapJob 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {   
        Map myMap = new Map(Types::Integer, Types::String);

        myMap.insert(10, 'Key value 10');

        myMap.insert(20, 'Key value 20');

        MapEnumerator mapE = myMap.getEnumerator();

        while (mapE.moveNext())
        {
            Info(strFmt('Key = %1 Value = %2', 0,0));
        }

        if (! myMap.exists(30))
        {
            myMap.add(30, 'Key value 30');
        }

        Info(strFmt('%1', myMap.lookup(30)));
        
    }

}
</code></pre>
<p>This code shows two types for a map: key value and a specified value. You can add items by using the <code>insert</code> method, and you can traverse all item sets. To check if a key already exists, use the <code>exists</code> method and then the <code>lookup</code> method to find its value. If you insert an item that has an existing value, you overwrite it.</p>
<p>A typical use case for maps is storing virtual fields in a form when you're working in the form.</p>
<h2 id="collection-class-set">Collection class: Set</h2>
<p>The <strong>Set</strong> collection class is a list of values for a single data type. The value is the key and the value, so you can test if an item already exists. For lists and maps, you can use a <code>SetEnumerator</code> or <code>SetIterator</code> to traverse values in the set, and you can check if a value already exists.</p>
<pre><code class="lang-xpp">internal final class CollectionClassSetJob 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        Set         mySet = new Set(Types::Int64);

        SalesPool   salesPool;

        while select salesPool
        {
            if (mySet.in(salesPool.RecId))
            {
                continue;
            }

            // do some code

            mySet.add(salesPool.RecId);
        }
    }
}
</code></pre>
<p>This code adds <strong>RecIds</strong> for the <strong>SalesPool</strong> table into a map. If <strong>RecId</strong> is in the set already, the code continues with the next record.
Sets are good for small lists that you use to check values. For example, it could be a set with active inventory dimensions, and you could check if the ledger is actively using that set.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Use X++ to write SQL statements</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use X++ to write SQL statements</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use SQL statements in X++ to retrieve and manipulate data in the Finance and operations database.</p>
<h2 id="select-statements">Select statements</h2>
<p>You can use <code>select</code> statements to choose what data is retrieved from
the database. In a <code>select</code> statement, you must define the table you retrieve data from and which field. You can use conditions to further filter the data, and select the sequence in which the data is listed.</p>
<p>The <code>select</code> statement contains the keyword <strong>select</strong> and parameters. Parameters contain the pieces of the <code>select</code> statement that determine how and what data is retrieved.</p>
<p>The following is an example of the <code>select</code> statement syntax:</p>
<pre><code class="lang-xpp">Select [FindOptions] [FieldList] from [Table] [Options] [OrderByClause] [WhereClause] [JoinClause] method()
</code></pre>
<p>The <strong>Find options</strong> parameters give additional options for retrieving
data. For example, <code>crossCompany</code> retrieves data across legal entities,
<code>firstOnly</code> retrieves only the first record, <code>firstOnly10</code> only fetches
the first ten records, and <code>forUpdate</code> selects the data with a lock.</p>
<p>The <strong>Field list</strong> specifies which data to retrieve. You can also use aggregate functions, like <code>sum</code>, <code>avg</code>, <code>minof</code>, <code>maxof</code> or
<code>count</code>.</p>
<p>After the <strong>Field list</strong>, the keyword "from" is used, followed by the
table to retrieve from. You can then include options to sequence or group the data by using "order by" and "group by" keywords. The <code>where</code> clause uses expressions to define the criteria for the statement.</p>
<p>Here's an example of a select statement. This statement retrieves all account numbers from the CustTable.</p>
<pre><code class="lang-xpp">	Select AccountNum from custtable;
</code></pre>
<p>You can add parameters to make more complex <code>select </code>statements. In
this example, doing so retrieves all the records from CustTable where the
AccountNum values are greater than 1000 and less than 2000. The records are also sorted by the AccountNum values in descending order.</p>
<pre><code class="lang-xpp">Select forUpdate  CustTable order by AccountNum desc
	where custTable.accountNum &gt; '1000'
	&amp;&amp; custTable.accountNum &lt; '2000';
</code></pre>
<h2 id="join-methods">Join methods</h2>
<p>A <code>join</code> can be used to combine more tables to a <code>select</code> statement. You can use relational operators such as <code>equal to</code>, <code>not equal to</code>, <code>greater than</code>, <code>less than</code> in <code>where</code> clauses in <code>select</code> statements.</p>
<p>The following is an example of a <code>join</code> statement. The statement joins a SalesLine record to the related SalesTable where the sales ID on the sales line matches the sales table sales ID.</p>
<p>A <code>select</code> statement returns all records, and remaining records can be
fetched by using a <code>next</code> statement.</p>
<p>A <code>while select</code> statement loops through every record that matches the select criteria, which is common for data manipulation.</p>
<pre><code class="lang-xpp">SalesTable SalesTable;
SalesLine SalesLine;

// Select with join (first query)
select SalesLine
     join SalesTable
     where SalesLine.SalesId == SalesTable.SalesId;

{
     // Process the results of the select
     info(strFmt("SalesId: %1, ItemId: %2, CustAccount: %3",
SalesLine.SalesId, SalesLine.ItemId, SalesTable.CustAccount));
}
// While select with join (second query)
while select SalesLine
     join SalesTable
     where SalesLine.SalesId == SalesTable.SalesId

{ 
// Process each record in the while loop 
Info(strFmt("Processing SalesId: %1, ItemId: %2, CustAccount: %3",
salesLine.SalesId, salesLine.ItemId, salesTable.CustAccount));
}
</code></pre>
<p>In the following example, instead of retrieving the first record that matches the criteria, the <code>while select</code> statement loops through each record where the criterion is true. In the code below, all account numbers that begin with <strong>US</strong> are retrieved, and the <strong>CreditMax</strong> for each record is updated to <strong>5000</strong>.</p>
<pre><code class="lang-xpp">{
    CustTable custTable;

while select forUpdate custTable
      where custTable.AccountNum like 'US*'
      {
      custTable.CreditMax = 5000;
      custTable.update();

Info(strFmt("Account number %1 has been updated", custTable.AccountNum));
      }
}
</code></pre>
<h2 id="insert-methods">Insert methods</h2>
<p>Insert methods can be used to add a new record to a table. Insert methods only insert the columns that are selected by the query. You can override the insert method's validations and processes by using the
<code>doInsert()</code> method. The <code>insert_recordset</code> statement can insert
multiple records by copying the records from one table and inserting them into another.</p>
<p>Insert methods need <code>ttsBegin</code> and <code>ttsCommit</code> to ensure that the data insertion process is handled as a single transaction.</p>
<p>The following is an example of using an <code>insert</code> method statement to create a new customer.</p>
<pre><code class="lang-xpp">{
FMCustomer fmCustomer;

ttsBegin;  
fmCustomer.FirstName = "John";
fmCustomer.LastName = "Doe";
fmCustomer.Email = "JohnDoe@microsoft.com";
fmCustomer.CellPhone = "555-555-5555";
fmCustomer.insert();
ttsCommit;

Info("New customer has been created.");
}
</code></pre>
<h2 id="update-methods">Update methods</h2>
<p>Update methods can change existing values on a table record. To update a
record, you must use a <code>select forUpdate</code> command to indicate that the
records are for update. Update methods also need to be wrapped in a
<code>ttsbegin</code> and <code>ttscommit</code> statement. You can also use the
<code>update_recordset</code> to update multiple records at the same time.</p>
<p>The following is an example of using an <code>update</code> method and the <code>update_recordset</code> statement.</p>
<pre><code class="lang-xpp">{
    FMCustomer fmcustomer;
    select forUpdate fmcustomer
    where fmcustomer.firstname == 'John';
    ttsbegin;
    fmcustomer.firstname = 'Johnny';
    fmcustomer.update();
    ttscommit;

    Info("Record has been updated");
}

</code></pre>
<h2 id="delete-methods">Delete methods</h2>
<p>Delete methods can remove an existing record from a table. You
can use the <code>doDelete()</code> method to override the standard <code>delete</code> method
behavior. You can also delete multiple records simultaneously with the <code>delete_from</code> statement. Delete Methods also need to be wrapped in a <code>ttsBegin</code> and <code>ttsCommit</code> statement, where you delete the data.</p>
<p>The following is an example of using a <code>delete</code> method statement to delete a customer.</p>
<pre><code class="lang-xpp">{
     FMCustomer fmcustomer;
     select forUpdate fmcustomer
     where fmcustomer.firstname == 'Johnny';
     ttsbegin;
     fmcustomer.delete();
     ttscommit;
     info("Record has been removed");
 }

</code></pre>
<p>You can use this information as the building blocks to create more
complex queries.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Use conditional and iterative statements</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use conditional and iterative statements</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Conditional statements are used to determine if a block of code should
be run. Different conditional statements have different advantages
and uses depending on the situation. The four conditional statements are: if, if...else, switch, and ternary operators.</p>
<h2 id="if-statement">If statement</h2>
<p>The <code>if</code> statement evaluates whether an expression is true. If the
expression is true, it runs the set of statements that are listed in the braces. In the following <code>if</code> statement, the statement checks
the expression in parentheses. In this case, the statement checks if the
variable x is equal to 5. If the expression is true, then the code in
the braces runs. If the expression is false, the code in the braces
is skipped. The <code>if</code> statement takes exactly one statement to run. The
braces can contain a list of statements that are enclosed into one
statement, called a compound statement.</p>
<pre><code class="lang-xpp">if (x == 5)
{
	info('x equals five');
}
</code></pre>
<h2 id="ifelse-statement">If...else statement</h2>
<p>You can set statements to run when the expression is false by using
the <code>if...else</code> statement. You can create a normal <code>if</code> statement, but
at the end of the <code>if</code> statement, you use the keyword <code>else</code>
followed by brackets, as shown in the following example. You can add more code in the brackets that runs when the expression in the <code>if</code>
statement is false. In the following example, the statement checks if x is equal to 5. If it is, it runs the info x statement. If it is not
equal to 5, it runs the info "X does not equal 5" statement.</p>
<pre><code class="lang-xpp">if (x == 5)
{
	info('x equals five');
}
else
{
	info('x does not equal five');
}
</code></pre>
<p>You can use operators in the condition’s relational operators to
determine if the expression is true or false. You can use the operators
&amp;&amp; and || in your expressions to determine if two or more expressions
must be true, or only one expression out of many must be true.
Additionally, you can nest <code>if</code> statements to check for multiple
expressions, but if you are nesting multiple <code>if</code> statements, you might want to consider a switch statement.</p>
<h2 id="switch-statement">Switch statement</h2>
<p>A <code>switch</code> statement is a multibranch conditional statement that is
checked against multiple cases. If one of the case values are equal to
the switch expression, then the case statement is run. The case
statements use a break statement to tell the code to stop running the
switch statement, which will prevent the next statement from being run.
You can also set a default statement if no case expressions match. The following example shows a switch statement where the value for
variable x is checked against different cases. If x is 5, then it runs
the code under that case until it comes to a break statement. If x is 10, it runs the code under that case. If x is not 5 or 10, it runs the
code under the default statement.</p>
<pre><code class="lang-xpp">switch (x)
{
	case 5:
		//do something
		break;
	case 10:
		//do something
		break;
	default:
		//do something
		break;
}
</code></pre>
<h2 id="using-iterative-statements">Using iterative statements</h2>
<p>Iterative statements, or loops, repeat a statement block until a condition has been satisfied. These types of iterative statements are used in X++.</p>
<p>Loops are repetitive constructs. X++ has three kinds of loops:</p>
<ul>
<li>while</li>
<li>do...while</li>
<li>for</li>
</ul>
<p>Loops can be combined with the following:</p>
<ul>
<li>break statements</li>
<li>continue statements</li>
</ul>
<h2 id="while-loops">While loops</h2>
<p>A <code>while</code> loop enables you to repeatedly run one statement or a
compound statement if a condition is true. The statement is run
from zero (not at all) to many times, depending on how many times the
condition evaluates to true. This contrasts with a <code>do...while</code> loop,
where the statements are always run at least once before the condition is evaluated.</p>
<pre><code class="lang-xpp">int loopCount = 1;
container cont;

while (loopCount &lt;= conlen(cont))
{
	print conpeek(cont,loopCount);
	loopCount = loopCount + 1;
}
</code></pre>
<h2 id="dowhile-loops">Do...while loops</h2>
<p>The <code>do...while</code> loop is like the <code>while</code> loop but differs in that
the condition follows the statements. The statements are always
performed at least once. The <code>do...while</code> loop is well suited for
tasks that always must be done at least once, for example, to get
parameters for a report.</p>
<pre><code class="lang-xpp">int findPower(real _value)
	{
		int ex=-1;
		real curVal;

		do
		{
			ex += 1;
			curVal = power(10, ex);
		}

		while (_value &gt; curVal);

		return ex;
	}
</code></pre>
<h2 id="for-loops">For loops</h2>
<p>The <code>for</code> loop is similar to the <code>while</code> loop, but has the
following additions:</p>
<ul>
<li>The initial value to a control variable can be assigned.</li>
<li>It contains a statement for updating the variable.</li>
</ul>
<p>These additions make it especially useful for traversing lists,
containers, and arrays because they have a fixed number of elements. You
can also apply a statement to each element and increment your way
through the elements, setting the condition to test for the last
element.</p>
<pre><code class="lang-xpp">for (int i=1; i&lt;=100; i+=1)
{
	print ra[i];
}
</code></pre>
<h2 id="break-statements">Break statements</h2>
<p>X++ provides a <code>break</code> statement for the following:</p>
<ul>
<li>Terminating loops</li>
<li>Separation of case statements in a switch statement</li>
</ul>
<p>When used within a <code>while</code>, <code>do...while</code>, or <code>for</code> loop, the loop
is terminated and implementation continues from the statement that follows the loop, as shown in the following example.</p>
<pre><code class="lang-xpp">mainMenu = SysDictMenu::newMainMenu();
enum = mainMenu.getEnumerator();
found = false;

while (enum.moveNext())
{
	menuItem = enum.current();
	if (menuItem.label() == parentDictsecuritykey.label())
	{
		found = true;
		break;
	}
}
if (found) //Belongs in Navigation Pane.
{
	...
}
</code></pre>
<p>When break is used within
a <a data-linktype="absolute-path" href="/en-us/dynamicsax-2012/developer/switch-statements/?azure-portal=true">Switch Statement</a> statement,
the running of the case branch terminates and the statement that follows
the switch is run as shown in the following example.</p>
<pre><code class="lang-xpp">switch (Debtor.AccountNo)
{
	case "1000":  do_something;
			break;
	case "2000": do_something_else;
			break;
	default: default_statement; 
			break;
}
</code></pre>
<p>If the Debtor account number is 1000, the program runs
<code>do_something</code> and then continues running after the switch
statement. If you have a break within a loop, you need to break out of the loop. If you have a continue within a loop, it ends the current iteration and reevaluates the loop condition.</p>
<p>Watch the following video to learn about conditional statements:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=fd282c33-cbea-4aa7-879b-0372e0c08ed5"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Exception handling</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exception handling</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>While conditional statements are great for handling the running of
different code blocks, exception handling is used to deal with errors.
Statements like <code>throw</code>, <code>try...catch</code>, <code>finally</code>, and <code>retry</code>
can be used to handle exceptions. An exception is a way for the code to
jump away from the runnable code when an error occurs.</p>
<p>The throw statement can be used to give an error exception. A throw
statement can specify an exception enum value, but it is best practice
to use the global error, info, or warning methods. This method allows
you to use a label to display to the user in an Infolog, as shown in the following example:</p>
<pre><code class="lang-xpp">throw error("This is an error.");
</code></pre>
<p>Here is what an error, warning, and info message looks like in the user interface:</p>
<p><img alt="Screenshot showing error, warning, and info messages." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/get-started-xpp-finance-operations/media/error-1.png"/></p>
<p>Static methods on the Global class can be called without the <code>Global::</code> prefix, so the <code>Global::error</code> method can also be called as shown in the following example:</p>
<pre><code class="lang-xpp">error("This is an error.");
</code></pre>
<p>You can also use a <code>try...catch</code> statement to process some code in the
try block, and then use the catch block to handle an exception if it
occurs. In the following example, the <code>try</code> block runs some code. If a
numeric exception occurs, the first <code>catch</code> block gives an info
message to display: "Found a Numeric." The second <code>catch</code> block
handles any other errors that might be found. You should only catch
exceptions that you know your code inside the <code>try</code> block might throw. All other exceptions should rise to the next stack frame.</p>
<pre><code class="lang-xpp">try
{
	//Run some code that might throw a numeric or other type of exception.
}
catch (Exception::Numeric)
{
	info('Found a Numeric exception.');
}
catch
{
	info('Caught an exception');
	retry;
}
finally
{
        // Executed no matter how the try block exits.
}
</code></pre>
<p>A <code>retry</code> can be written in a catch block to jump back to the first
line of code within the try block. This can be used if the issue in the
implementation can be fixed by code in the catch block. Then, the try block will run again to give it a second chance to succeed. Make sure that the retry does not cause an infinite loop. A <code>finally</code> clause can be
added to a <code>try...catch</code> statement. Statements in the <code>finally</code>
clause are run when the implementation of the code leaves the <code>try</code>
block. The statements in the <code>finally</code> block will run no matter
how the <code>try</code> block exits.</p>
<p>If an exception is not handled, then the call to the current method is
unraveled and the exception will be handled, or not handled, in the
caller's scope.</p>
<h2 id="user-messages">User messages</h2>
<p>By using the <strong>Message()</strong> API, you can have more control over the lifecycle of a message, you can explicitly add and remove messages. This can be used if you need validation messages removed at times other than when a save boundary has been crossed, or for displaying an informational message about a specific aspect of the user’s experience that is directly related to data validation.</p>
<p>Let’s look at an example:</p>
<pre><code class="lang-xpp">messageId = Message::Add(MessageSeverity::Informational, "The customer is marked as inactive");
</code></pre>
<p>In this example, the message can then be cleared when a new record is shown on the page.</p>
<p>In addition to using the <strong>Message()</strong> API, you can use the <code>Message::AddAction()</code> method so you can embed an action within a message that is sent to the message bar. This method supports adding a single action that is associated with a display or action menu item, that can then be visualized as a <strong>Link</strong> button.</p>
<p>In the following example, a message is triggered for a system administrator letting them know that a batch job is not running and then exposes an action to go directly to the <strong>Batch jobs</strong> page.</p>
<pre><code class="lang-xpp">MenuItemMessageAction actionData = new MenuItemMessageAction();

actionData.MenuItemName("BatchJob");

str jsonData = FormJsonSerializer::serializeClass(actionData);

int64 messageId = Message::AddAction(MessageSeverity::Informational, "The Test batch job is not currently running", "Go to Batch jobs", MessageActionType::DisplayMenuItem, jsonData);
</code></pre>
<p>Here is the output:</p>
<p><img alt="Screenshot showing the  output message The test batch job is not currently running." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/get-started-xpp-finance-operations/media/add-action-method-ss.png"/></p>
<h2 id="exceptions-inside-transactions">Exceptions inside transactions</h2>
<p>If an exception is thrown inside a transaction, the transaction is
automatically aborted (a <code>ttsAbort</code> operation occurs). This applies
for exceptions that are thrown manually and for exceptions that are thrown by the system.</p>
<p>When an exception is thrown inside a <code>ttsBegin - ttsCommit</code>
transaction block, no catch statement inside that transaction block can
process the exception. Instead, the innermost catch statements that are
outside the transaction block are the first catch statements to be
tested.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Use const values</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use const values</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Constant values can be used to define a variable and assign it a value
that does not change. You can define a constant variable by adding the
keyword <code>const</code> before defining a variable. The following example shows
how to make a variable a constant variable.</p>
<pre><code class="lang-xpp">const str constantVariable = "Value";
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement global functions in X++</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement global functions in X++</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can implement global functions as static methods in the Global class, and you can use them in an application.</p>
<h2 id="create-new-global-functions-in-x">Create new global functions in X++</h2>
<p>To create new global functions with a code extension of the Global class, follow these steps:</p>
<ol>
<li><p>Find the <strong>Global</strong> class in Application Explorer.</p>
</li>
<li><p>Right-click the <strong>Global</strong> class to open the context menu, and then select <strong>Create Code Extension</strong>.</p>
<div class="NOTE">
<p>Note</p>
<p>The <strong>Global</strong> class belongs to the Application Platform model, and your model must reference it.</p>
</div>
<p>A code extension is now created in your project.</p>
</li>
<li><p>The <strong>Global</strong> class is static, so you must use the <strong>static</strong> modifier in the class description.</p>
</li>
<li><p>Add the new method as a static method. The following example shows a new global method:</p>
<pre><code class="lang-xpp"> [ExtensionOf(classStr(Global))] 
 final static class Global_MB500_Extension
 {
     /// &lt;summary&gt;
     /// Add a with b
     /// &lt;/summary&gt;
     /// &lt;param name="a"&gt;
     /// First number to add
     /// &lt;/param&gt;
     /// &lt;param name="b"&gt;
     /// Second number to add.
     /// &lt;/param&gt;
     /// &lt;returns&gt;
     /// A + B.
     /// &lt;/returns&gt;
     static real addAandB(real a, real b)
     {
         return a + b;
     }
 }
</code></pre>
</li>
<li><p>Build your project by using the new global function.</p>
</li>
</ol>
<h2 id="extend-a-global-function">Extend a global function</h2>
<p>You can extend existing global functions by using Chain of Command.
The following example shows an extended method that uses Chain of Command:</p>
<pre><code class="lang-xpp">   /// &lt;summary&gt; 
   /// Add MB-500 to formCaption
   /// &lt;/summary&gt;
   /// &lt;param name="formName"&gt;
   /// formName
   /// &lt;/param&gt;
   /// &lt;returns&gt;
   /// MB-500 form caption.
   /// &lt;/returns&gt;
   static str formCaption(FormName formName)
   {
       str txt = next formCaption(formName);

       return 'MB-500 ' + txt;
   }
</code></pre>
<p>The system extends the <code>formCaption</code> method and then returns <strong>MB-500</strong> and the normal <code>formCaption</code>.</p>
<h2 id="call-a-new-global-function">Call a new global function</h2>
<p>You can call global functions without using the class name. Normally, the syntax for using static methods is <code>className::MethodName</code>, such as <code>MyClass::MyMethod</code>.
However, you can call all global functions by using only the method name.</p>
<p>The following example shows a call to your newly created global function:</p>
<pre><code class="lang-xpp">internal final class RunnableClass1 
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        real    mySum = addAandB(100, 500);

        Info(strFmt("%1", mySum));
    }

}
</code></pre>
<p>Global functions are straightforward to use, and you don’t need to enter the class name in code.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Use X++ runtime functions for common tasks</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use X++ runtime functions for common tasks</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>X++ provides several system functions that can be run with code. These
functions run business operations, container operations, conversions,
date operations, mathematical operations, reflection operations, session
operations, and string operations.</p>
<ul>
<li><strong>Business operations</strong> - Enter financial data and calculate financial formulas.</li>
<li><strong>Container operations</strong> - Run functions to manipulate the container    data type.</li>
<li><strong>Conversions</strong> - Translate the data from one type to another data type.</li>
<li><strong>Date operations</strong> - Manipulate the date data type.</li>
<li><strong>Mathematical operations</strong> - Used to perform additional calculations.</li>
<li><strong>Reflection operations</strong> - Access an object's metadata and return other metadata for the object.</li>
<li><strong>Session operations</strong> - Change or report current user connection to    finance and operations apps.</li>
<li><strong>String operations</strong> - Like the date operations, string operations can manipulate the string data type.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Call .NET libraries by using X++ code</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Call .NET libraries by using X++ code</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps projects in Visual Studio contain X++ code that
interacts smoothly with code that is written in other .NET languages.</p>
<p>You can create a reference from a finance and operations apps project to a C# class library, or to any type of C# project that generates an assembly, by following these steps:</p>
<ol>
<li>Perform a build of the C# project before your finance and operations apps project that references and depends on it.</li>
<li>Finance and operations apps comprehends the references and ensures that  the C# assemblies are deployed correctly to the cloud before being run.</li>
<li>Add a C# class library project and a Unified Operations project to your solution by selecting the <strong>File</strong> menu in Visual Studio and  selecting <strong>New &gt; Project</strong>. When a Finance Operations project is created, a <strong>References</strong> folder is automatically created within it.</li>
<li>You can add a reference to a C# project or other .NET assemblies within Solution Explorer. Right-click the <strong>References</strong> folder and  select <strong>Add Reference</strong>.</li>
<li>A reference element is then added to your project and a .dll file is copied to the bin folder of your package.</li>
</ol>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/consume-external-web-service/?azure-portal=true">Consume external web services</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to create and assign a data type to a variable. The variable should only have access to a defined list of values <strong>Invent</strong>, <strong>Sale</strong>, and <strong>Purchase</strong>. Which data type should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The string data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>The enum data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The integer data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>The container composite data type should be used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You need a conditional statement that checks if a variable equals <strong>In progress</strong>, <strong>Completed</strong>, or <strong>Canceled</strong>. Different code needs to run, depending on what the variable equals. A default block of code needs to run if the variable doesn't equal any of the values. What conditional statement is most appropriate?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Error handling</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A ternary operation</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>If statement</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Switch statement</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>An error is sometimes thrown in a certain try…catch block. You know that the issue can be fixed within the code during the error handling code block. What statement could you use when the error is found to run the code again?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The throw statement should be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>The finally statement should be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The retry statement could be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A business system function should be used in the catch statement to rerun the try block.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>You want to call a new global function to use in an application that someone else created by using extensions. What recommended method should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Call it the same way that you would call other static methods on a class by using the following syntax <code>&lt;ClassName&gt;::&lt;MethodName&gt;</code>.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Call it by using only the method name.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Create a new global function with extensions blocked.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-5" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-5">
<span class="font-weight-semibold">5.</span>
<p>You created a new form with a grid that lists records. The grid has a virtual field that should save the value for each record temporarily, and you want to ensure that you’re using the correct collection class. What is the recommended collection class?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-0">
<input class="radio-dot choice-input" id="quiz-choice-4-0" name="4" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>List collection class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-1">
<input class="radio-dot choice-input" id="quiz-choice-4-1" name="4" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Map collection class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-4-2">
<input class="radio-dot choice-input" id="quiz-choice-4-2" name="4" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Set collection class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Several pieces of X++ code come together to perform tasks.</p>
<ul>
<li>Variables can be used with a data type to assign values to an object.</li>
<li>Operators and global functions compare, manipulate, and calculate the variable values.</li>
<li>Methods are written to perform specific tasks with those variables.</li>
<li>Conditional statements determine the flow of code within those  methods.</li>
<li>Error handling deals with exceptions that might occur during the code runtime.</li>
</ul>
<p>All these pieces are tied together within a class to perform processes. With the knowledge gained in this module, you can begin developing in finance and operations apps by using X++.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Object-oriented programming (OOP) is a programming paradigm that is
modeled around objects and how you manipulate them. Objects can be
physical objects, such as a car or a bicycle, or more abstract concepts,
such as messages, collections, and parameters. Objects have attributes
(data) and behavior (methods).</p>
<p>When developing with an object-oriented language, you will first need to
define the objects to manipulate and how they relate to each
other. Finance and operations apps are developed by using the
object-oriented language X++, which provides system classes for a broad
range of system programming areas. This module will discuss concepts for
object-oriented programming so you can develop customizations in finance
and operations.</p>
<p>In this module, you will learn the basic concepts of object-oriented-programming because as a finance and operations apps developer, X++ is the programming language used for development and it is an object-oriented language.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Explore inheritance and abstract classes</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Explore inheritance and abstract classes</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Inheritance and abstract classes are two important programming
constructs that are found in object-oriented programming languages. These
concepts are used to create parent-child relationships between classes.
Inheritance allows a subclass to extend a super class. The subclass inherits all the attributes and methods of the
super class. Subclasses can also override the behavior of or add
more functionality to methods that are inherited from the super class.</p>
<h2 id="inheritance">Inheritance</h2>
<p>To better understand the concept of inheritance in object-oriented programming, lets review a real-world example. In this example, <strong>Vehicle</strong> is the parent class. There are many different types of vehicles, for instance: cars, buses, and trucks. In this scenario, <strong>Vehicle</strong> is the parent class. Cars, buses, and trucks are derived classes that inherit from <strong>Vehicle</strong>. The <strong>Vehicle</strong> class has characteristics that  are shared across all the vehicle types (speed, color, and gears for example). The characteristics for each of the vehicles types may be different. For instance, a truck might have all-wheel drive, but a car does not.</p>
<p><img alt="Diagram of the Inheritance from the Vehicle parent class to the car, bus, and truck derived classes." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/develop-object-oriented-code-finance-operations/media/inheritance.png"/></p>
<h3 id="example">Example</h3>
<p>The following example demonstrates how a class uses inheritance. The
Car class extends the Vehicle class to get the height and width but
also adds the number of passengers variable.</p>
<pre><code class="lang-xpp">class Vehicle
   {
	// Instance fields.
 		real height;
  		real width;
	// Constructor to initialize fields height and width.
	new(real _height, real _width)
   	{
    height = _height;
		  width = _width;
  	}
   }
</code></pre>
<pre><code class="lang-xpp">class Car extends Vehicle
	{
	  // Additional instance field numberOfPassengers. Fields height and width are inherited.
 	  int numberOfPassengers;

	 // Constructor is overridden to initialize numberOfPassengers.
	 new(real _height, real _width, int _numberOfPassengers)
 	 {
	   // Initialize the fields.
	   super(_height, _width);
 	   numberOfPassengers = _numberOfPassengers;
 	 }
	}
</code></pre>
<h2 id="abstract">Abstract</h2>
<p>Abstract classes are identified by the keyword <em>abstract</em>. They cannot
be instantiated but require a subclass that is inherited from the
abstract class. Abstract classes are used to implement a concept that
the subclass will then complete. Abstract methods can also be declared
in abstract classes. Abstract methods do not allow code or declarations
in the method. A subclass must extend the abstract class to use the
abstract method.</p>
<h3 id="example-1">Example</h3>
<p>The following is an example of an abstract class. The Car class extends the abstract class Vehicle. This allows the Car class to override the
<code>printInfo()</code> method and it allows you to add functionality
to the <code>operate()</code> method that was not included in the
abstract class.</p>
<pre><code class="lang-xpp">abstract class Vehicle
{
      str owner;
      int age;

	void printInfo()
      {
    	Info(strfmt("%1, %2",owner, age));
      }
    abstract void operate()
    {
    }
 }
</code></pre>
<pre><code class="lang-xpp">class Car extends Vehicle
{
     str model;
     void printInfo()
     {
            // overriding default functionality
            Info(strfmt("%1, %2, %3",owner, age, model));
     }
   void operate()
   {
        Info('running');
   }
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Use attributes</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use attributes</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Attributes represent or store metadata about the behaviors of classes
and methods. An attribute can be attached by simply typing the name of
the attribute that is enclosed in square brackets before the declaration of class/function where it needs to be applied.</p>
<h3 id="example">Example</h3>
<p>For example, the <code>SysObsoleteAttribute(message,setError)</code> attribute can be used on methods or classes that should no longer be used. During the build process, the user will be notified with a detailed message that appears in the output windows. The first parameter is the
message, and the second parameter indicates if an error (true)
or a warning (false) is to be set. You can have the compiler reject or display a warning.</p>
<p>If the API is no longer functioning, set <code>isError = true</code> in the
<code>SysObsoleteAttribute</code> attribute so the compiler will report any use of
that API as a compiler error</p>
<pre><code class="lang-xpp"> [SysObsoleteAttribute("The Automobile class might have faster performance.", false)]
 internal class Bicycle
 {
    // Members of the Bicycle class go here.
 }

</code></pre>
<h2 id="attribute-classes">Attribute classes</h2>
<p>Attributes can also be created by using attribute classes. To create an
attribute class, extend the <code>SysAttribute</code> class by adding
<code>extend SysAttribute</code> at the end of your class declaration.
You can then decorate a class with the attribute that was created from the attribute class. You can specify the attribute parameters from the
constructor. In the following code, the <code>PracticeAttribute</code>
attribute class is created, and then the <code>RegularClass</code> class uses
<code>PracticeAttribute</code> as an attribute.</p>
<h3 id="example-1">Example</h3>
<p>The following example shows the declaration and design of an ordinary
attribute class that you could create.</p>
<pre><code class="lang-xpp"> public class PracticeAttribute extends SysAttribute
 {
   // Fields in the classDeclaration.
   StartEnd startEndEnum;
   str reason;
 }
</code></pre>
<pre><code class="lang-xpp">   // Constructor.
   public void new(StartEnd _startEndEnum, str _reason)
  {
    startEndEnum = _startEndEnum;
    reason = _reason;
  }
</code></pre>
<pre><code class="lang-xpp">[PracticeAttribute(StartEnd::End, "Use the RegularClass class at the end.")]
 public class RegularClass
 {
    [PracticeAttribute(Startend::Start, "Use the rehearse method at the start.")]
	public int rehearse()
    {
      // Logic goes here.
        int rehearse;
        return rehearse;
    }
      // More fields and methods belong here.
 }
</code></pre>
<p>Attributes have many uses, including the following:</p>
<ul>
<li>Using the <code>WebMethod</code> attribute in Web services to indicate if the method should be callable over the Simple Object Access Protocol (SOAP) to exchange information.</li>
<li>Using <code>DLLImportAttribute</code> to call unmanaged code.</li>
<li>Describing the title, version, description, or trademark of an assembly.</li>
<li>Describing how to map between classes, members, and eXtensible Markup Language (XML) nodes for serialization.</li>
<li>Describing the security requirements for methods.</li>
<li>Specifying characteristics to enforce security.</li>
<li>Getting information about the caller to a method.</li>
</ul>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-classes-methods/?azure-portal=true">Classes and methods</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement Chain of Command</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement Chain of Command</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Chain of Command (CoC) is a functionality for class extensions. You can
use CoC to wrap X++ code around methods that are defined in the base class. CoC allows you to customize standard classes without using event
handlers. This function allows you to add custom logic that will run
before and/or after the standard code runs. You can only extend the
logic of public and protected methods. When you wrap a method, you can also access the base class's protected methods, public methods, and
variables. It is important to understand this concept, as base code cannot be changed in Dynamics 365 finance and operations apps development.</p>
<p>To use CoC, you need to create a new class that uses the same name as
the class that you are extending with <code>_Extension</code> added to
the name as a suffix. The class declaration also needs to use the
<strong>final</strong> keyword to indicate that it cannot be further inherited from.
Finally, the <code>ExtensionOf</code> attribute must be used when you are
declaring the class. You can then reuse the same method declaration from
the base class in the extended class. Inside the extended method, you
can add your custom code. You are required to use the <strong>next</strong> keyword
to create a CoC. The next command will call the next method in the Chain
of Command. When no more methods exist in the chain, the original (in other words, extended) method is called.</p>
<h3 id="example">Example</h3>
<p>The following code example shows how the class must be declared to
use CoC. When the <code>ExampleClass.doSomething()</code> method is
called, the code will first run all the code before the next
keyword. Then, the original code in the
<code>ExampleClass.doSomething()</code> method will run. Finally, all
code after the next keyword will run.</p>
<pre><code class="lang-xpp">[ExtensionOf(classStr(ExampleClass))]
final class ExampleClass_Extension
{
   str doSomething(int arg)
   {
     // Custom logic before standard code.
     var s = next doSomething(arg);
     // Custom logic after standard code.
     return s;
   }
}

</code></pre>
<p>Certain methods cannot be wrapped by using CoC. If the
method uses a hookable attribute that is set to false,
<code>[Hookable(false)]</code>, or a wrappable attribute that is set to
false, <code>[Wrappable(false)]</code>, the method cannot be wrapped.
Methods that use the final keyword cannot be wrapped in an extension class. Private methods are also excluded from extensibility.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement X++ scoping and access identifiers</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement X++ scoping and access identifiers</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Scope is the area where an item is located or can be accessed. X++ variables and methods are within a defined scope. The scope can be set by the placement of declaration and the use of access identifiers.</p>
<p>Access identifiers are <code>[public]</code>, <code>[protected]</code>, and <code>[private]</code>.</p>
<ul>
<li><strong>Public</strong> - Methods that are declared as public can be called from
anywhere that the class is accessible. In addition, a public method can be overridden by a subclass unless the method is declared as final.</li>
<li><strong>Protected</strong> - Methods that are protected can be overridden in
subclasses. Methods that are declared as protected can be called
only from:
<ul>
<li>Methods in the class.</li>
<li>Methods in a subclass of the class that contains the
protected method.</li>
</ul>
</li>
<li><strong>Private</strong> - Methods that are declared as private can be called only from methods in the class where the private method is declared.
No private method can be overridden in a subclass. When you create a new method, the default accessor keyword that appears in the code
editor is private. Private is the most conservative default for maximum security.</li>
</ul>
<h2 id="internal">Internal</h2>
<p><em>Internal</em> is a keyword in X++. It has the same semantics as in C# see <a data-linktype="absolute-path" href="/en-us/dotnet/csharp/language-reference/keywords/internal/?azure-portal=true">internal (C# Reference)</a>.</p>
<p>When you select a class or method as internal, it can only be accessed from within the model where it's defined.</p>
<pre><code class="lang-xpp">internal class MyInternalClass
{
   internal void myInternalMethod()
   {
   }
}
</code></pre>
<p>Notice that you can also define internal methods on public classes.</p>
<h2 id="instance-variables">Instance variables</h2>
<p>Instance variables have a large scope and are also referred to as class fields in X++. These variables are declared in the class declaration and can be accessed from any method in the class and subclasses that extend the class, if they're declared public or protected.</p>
<h2 id="local-variables">Local variables</h2>
<p>Local variables have a small scope. These variables are defined in a method and can only be accessed in that method.</p>
<p>Parameters are a kind of local variable that is defined on a method.</p>
<p>To use a variable from one scope to another scope, the variable must be passed by using parameters. Methods can use multiple parameters. The parameters are treated like local variables and initialized with the value from the parameter in the method-call. In the following example, the class method has two parameters that give <em>method1</em> access to four variables. The instance variables <em>a</em> and <em>b</em> can be accessed, and the parameters <em>x</em> and <em>y</em> act like local variables. Using parameters allows values to be assigned to those parameters when the method is called. If <em>method1</em> is called by using the code <code>Test.method1(a,b);</code>, the <em>x</em> variable will be assigned the value <strong>Car</strong>, and the <em>y</em> variable will be assigned the value <strong>20</strong>. You can then use the values of the parameter variables to assign values to the instance variables <em>c</em> and <em>d</em>.</p>
<pre><code class="lang-xpp">class Test
{
   	 str a = "Car";
     int b = 20;
 	 str c;
 	 int d;

    void method1(str x, int y)
        {
          c = x;
          d = y;
        }
}
</code></pre>
<p>Keep in mind that when you pass a value through parameters, you don't by
default change the value of the original variable. The term for
this is "call by value" as opposed to "call by reference." Only the
local variable is changed.</p>
<h3 id="example">Example</h3>
<p>In the following example, <em>method2</em> has a local variable <em>a</em> with a value of 5. The first <code>info()</code> statement displays the value of <em>a</em>, which is 5. It calls <em>method1</em> and passes the value of its local variable <em>a</em>. <em>Method1</em> now has a different local variable <em>a</em>, with the value of 5. <em>Method1</em> then increments the value by one, making <em>a</em> the value of 2. The <code>info()</code> statement then displays the value of 2. The code will go back to <em>method2</em> and run the second <code>info()</code> statement and display a value of 5. This result is because even though the variable name is the same, and the scope is unique to their respective methods.</p>
<pre><code class="lang-xpp">class infoValue
{
     void method1(int a)
     {
       a = 1;       
       a = a ++;
       info(int2str(a));
     }

	  void method2()
      {
        int a = 5;
        info(int2str(a));
        this.method1(a);
        info(int2str(a));
      }
}

</code></pre>
<p>The following image shows how the <em>info</em> displays in the user interface.</p>
<p><img alt="This screenshot shows how the info method displays in the user
interface." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/develop-object-oriented-code-finance-operations/media/info.png"/></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Interfaces</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Interfaces</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>An <em>interface</em> is a specification for a set of public instance methods.
An interface defines and enforces similarities between unrelated classes
without having to derive one class from the other. All interfaces are
public, even if you don't explicitly add the <code>public</code> keyword in
front of the <code>interface</code> keyword in the <code>classDeclaration</code> code. The
methods on an interface are also public.</p>
<p>To create an interface, follow these steps:</p>
<ol>
<li>In Solution Explorer, right-click the project, and then select <strong>Add</strong>.</li>
<li>In the <strong>New Item</strong> dialog box, select <strong>Interface</strong> and then enter a name for the interface.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
<p>When you add the <code>implements</code> keyword on a class declaration, the
class must declare the methods that are specified by the interface. A
class declaration can implement multiple interfaces. List the
interfaces after the single occurrence of the <code>implements</code> keyword and
separate the interface names by using commas. All interface methods that
a class implements must be explicitly declared as <strong>public</strong> by using
the <code>public</code> keyword in the class. A class that implements an
interface must also be declared as <strong>public</strong>. An interface can extend
another interface by using the <code>extends</code> keyword. However, an
interface can't extend more than one interface.</p>
<h3 id="interface-example">Interface example</h3>
<p>In the following example, an <strong>Automobile</strong> class implements
an <strong>IDrivable</strong> interface. The <code>is</code> keyword is supported and lets you test whether a class implements an interface.</p>
<pre><code class="lang-xpp">public interface IDrivable
{
    public int getSpeed()
     {
     }

    public void setSpeed(int newSpeed)
     {
     }
}
</code></pre>
<pre><code class="lang-xpp">class Automobile implements IDrivable
 {
   int m_speed;

   public int getSpeed()
    {
         return m_speed;
    }

   public void setSpeed(int newSpeed)
    {
         m_speed = newSpeed;
    }
 }
</code></pre>
<pre><code class="lang-xpp">class UseAnAutomobile
 {
   void DriveAutomobile()
    {
       IDrivable yourIDrivable;
       Automobile myAutomobile;
       str sTemp = "object is not an IDrivable";
	
       myAutomobile = new Automobile();

       if (myAutomobile is IDrivable)
       {
          yourIDrivable = myAutomobile;
          yourIDrivable.setSpeed(42);
          sTemp = int2str(yourIDrivable.getSpeed());
       }

       Global::info(sTemp);
       return;
    }
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create an extension by using Chain of Command</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create an extension by using Chain of Command</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You are a developer that must make a customization to the
<code>CustTable</code> insert method. Upon customer creation, if the
customer credit rating is less than 200, then the customer should be
blocked for all delivery and invoicing. A prompt should appear to alert
the person who is entering the customer details.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>To get the most benefit from this exercise, we recommend that you have
the standard sample data available in finance and operations apps installed by using Lifecycle Services. You will also need a
developer environment and trial or permanent license for using Visual
Studio.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Open Visual Studio, running as an administrator, and open the <strong>File</strong> menu.</li>
<li>Select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>New Project</strong> dialog box, ensure that <strong>Dynamics 365</strong> is selected on the left pane under <strong>Templates</strong>.</li>
<li>On the middle pane, select <strong>Finance Operations</strong>.</li>
<li>Name the project <strong>ChainOfCommand</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Open the <strong>Dynamics 365</strong> menu in the ribbon.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select    <strong>Projects</strong>.</li>
<li>Select the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>In the <strong>Solution explorer</strong>, right-click your project name and select <strong>Properties</strong>.</li>
<li>In the properties page, change the <strong>Model</strong> field to <strong>Fleet Management</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Now you need to ensure you have the correct references.</li>
<li>Go to the <strong>Dynamics 365</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>In the <strong>Model name</strong> dropdown, select <strong>Fleet Management</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Selected references packages</strong> page, ensure <strong>Directory</strong> and <strong>Application</strong> Suite are checked.</li>
<li>Once finished, select <strong>Finish</strong>.</li>
</ol>
<h2 id="create-an-extension-of-a-method-in-the-custtable-class">Create an extension of a method in the CustTable class</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project
<strong>ChainOfCommand</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>In the left pane, select <strong>Dynamics 365 Items</strong>.</li>
<li>Select <strong>Class</strong> in the middle pane.</li>
<li>Enter <strong>CustTable_Extension</strong> as the name.</li>
<li>Select <strong>Add</strong>.</li>
<li>In the <strong>CustTable_Extension</strong> class, add the following code to set the field <strong>Invoicing and Delivery on hold</strong> to <strong>All</strong> and to display a message after the insert.</li>
</ol>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(CustTable))]
final class CustTable_Extension
{
    public void insert(DirPartyType _partyType, Name _name,boolean _updateCRM)
   {
        if (str2Int(this.creditRating) &lt; 200)
        {
            this.blocked = CustVendorBlocked::All;
			info("The customer has been placed on hold due to low credit rating. Please review.");
        }
        next insert();       
   } 
}
</code></pre>
<ol start="8">
<li><strong>Save</strong> the class.</li>
<li><strong>Build</strong> the project.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What methods can you extend to use Chain of Command?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Methods declared with the keyword final</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Private methods</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Protected and public methods</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Methods tagged with the attribute hookable(false)</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following statements is NOT true about variable declarations?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>You can use var to declare local variables for declarations of for loop counters</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>You can declare a variable wherever statements can be provided.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You can declare a variable after the variable is used.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>You can declare variables in smaller scopes, outside which the variables can’t be referenced.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This module provided a basic overview of object-oriented
programming.</p>
<p>In this module, you learned that you can use core concepts like abstract classes, inheritance, and Chain of Command (CoC) to create a parent-child relationship between classes for customizations.</p>
<p>Attributes can be used to define and store metadata about classes and method. Attributes are used frequently with the CoC functionality.</p>
<p>You should also be aware of how scoping is used to determine which variable methods that you have access to use, and how to pass variable values between scopes by using parameters.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">ALM methodologies</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">ALM methodologies</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Application lifecycle management (ALM) has a broad perspective that continues until the application is no longer used. Methodologies for ALM can vary, so choosing the correct methodology for your needs is crucial for development. The goal of this module and ALM is to help increase developer productivity, improve collaboration between teams, and provide transparency for work items.</p>
<p>This unit explores the methodologies for ALM and helps you determine
which methodology should be used based on software development needs.</p>
<p>There are several approaches to ALM. Each methodology has advantages and
disadvantages, depending on the type of project and software being used.</p>
<p>The three common methodologies are Waterfall, Agile, and Spiral.</p>
<h2 id="waterfall-methodology">Waterfall methodology</h2>
<p><img alt="Diagram showing the five stages of the Waterfall methodology: requirements, system design, implementation, integration and testing, and maintenance." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/application-lifecycle-finance-operations/media/waterfall.jpg"/></p>
<p>The Waterfall methodology is a sequential approach. The project is
divided into different phases that flow from the previous phase to the
next phase until the project is finished. Each phase is thoroughly
documented with clear deliverables, reviews, and approvals. Usually,
the next phase in the Waterfall methodology does not start until the
previous phase is finished. For example, if you were to implement
finance and operations apps, all the requirements for every
integration would need to be defined before developers could begin
development.</p>
<p>The Waterfall methodology should be considered when the project is
simple, the requirements are known and well-defined, the full scope of
the project is not intended to change, and the project is implemented
all at once.</p>
<h2 id="agile-methodology">Agile methodology</h2>
<p><img alt="Cyclical diagram showing the six steps in the Agile methodology: Plan, design, develop, test, release, and feedback." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/application-lifecycle-finance-operations/media/agile.jpg"/></p>
<p>The Agile methodology is iterative and focuses on continuous feedback to
alter and add deliverables to the project. Unlike the Waterfall
methodology, the Agile phases can loop back into each other. This means
that different phases can be worked simultaneously. For example, if
requirements are defined for one integration, the developers can begin
working on that integration even if other integrations are still in a requirements-gathering phase. Usually, Agile projects are
separated into sprints, which have a defined duration (usually one or
two weeks). These sprints have a list of deliverables to be finished
during the sprint.</p>
<p>The Agile approach is useful when the requirements are unclear when the
project starts, additional requirements or deliverables are expected
over the lifecycle of the application, or if the project does not need
to be released all at once. Agile is also great for user-driven
projects, especially if the project team is fully devoted to the
project. Because the Agile approach involves many players who are working
on different pieces of the project at the same time, communication and
coordination of the project can be difficult. Therefore, it is beneficial to have the project team in the same location.</p>
<p>Because of the iterative nature of Agile, this method can be complex to
track. Work is frequently reprioritized when deliverables go past the
original sprint or if new sprints need to be added later.</p>
<h2 id="spiral-methodology">Spiral methodology</h2>
<p>Spiral methodology combines aspects of the Waterfall and Agile
methodologies. Spiral focuses on risk assessment by breaking up the
project into smaller segments or cycles. At the beginning of each cycle,
requirements and objectives are identified to create a prototype. Each
cycle goes through the same steps to create a prototype. At the end of a
cycle, the prototype is reviewed and the next cycle is planned.</p>
<p><img alt="Diagram of the four areas of the spiral: Determine objectives, identify and resolve risks, development and test, and plan next iteration." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/application-lifecycle-finance-operations/media/spiral.jpg"/></p>
<p>The Spiral methodology works well for large-scale, complex systems.
Proper risk assessment is required to identify risk areas for issues.
Without risk assessment, issues can appear in the software that might
increase costs.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Design and create models</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Design and create models</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This unit reviews how to identify, apply, and manipulate a model, as
well as providing an overview of models and their importance in
development.</p>
<p>A model is a group of elements, including metadata and source files that
define a solution with customizations. These models are included in
packages, which can be turned into a deployable package. Finance and
operations uses deployable packages to deploy customizations and updates
to your environments.</p>
<h2 id="importance-of-models">Importance of models</h2>
<p>In finance and operations apps, models are mandatory for customizations.
Models can be thought of as a collection of Microsoft Visual Studio
projects. Projects can only be assigned to a single model. Models can
help identify where certain objects are stored. For example, a warehouse
management model will contain warehouse management-related objects. A
customized model can be created to hold all customizations that are made to the system.</p>
<h2 id="create-a-model">Create a model</h2>
<p>In Visual Studio, you can use the <strong>Create model</strong> wizard under the <strong>Dynamics 365</strong> button to create two types of models:</p>
<ul>
<li>A model that is deployed in its own package</li>
<li>A model that is part of an existing package</li>
</ul>
<p>A model in its own package can be used to create new model elements and
extend elements. You can also select reference models. Because this
model is compiled in its own assembly and binaries, it simplifies
deployment and the ALM.</p>
<p>A model that is part of an existing package lets you overlay source
code and metadata. However, overlaying source code can cause future
issues with deploying Microsoft updates. We recommend that you always
use extensions or create new elements.</p>
<p>You can also update model parameters in Visual Studio from the
<strong>Dynamics 365</strong> menu.</p>
<p>To do this, select <strong>Model Management</strong> and then select <strong>Update model
parameters</strong>. Then, select the model name to update the parameters
and dependencies of the model.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Plan the build, test, and quality control processes</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Plan the build, test, and quality control processes</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This unit reviews development processes that you can use to manage the build, test, and quality control processes. It also provides information about how to plan for managing these processes.</p>
<h2 id="create-a-project-plan-for-builds">Create a project plan for builds</h2>
<p>Depending on the methodology that you choose, you need to select times and locations for builds. You also need to decide in what order your builds occur. For example, you wouldn't want to build your code from the Development environment to the Production environment without going through the Testing environment first.</p>
<p>You also need to consider how to handle development that doesn't pass testing because you need to roll back that development. This approach prevents you from promoting errors. You can use Microsoft Dynamics 365 Lifecycle Services to help manage your build from environment to environment.</p>
<p>For example, a build might roll back any code with errors from your Testing environment to your Development environment, promote the successful code from Testing to Production, and then finally promote your finished code from the Development environment to Testing.</p>
<h2 id="decide-what-environments-are-needed">Decide what environments are needed</h2>
<p>You should plan the selection of your environments at the beginning of the implementation. When planning your environments, you should:</p>
<ul>
<li>Decide the environment's purpose. Consider whether you plan to use the environments for development, system testing, user acceptance testing (UAT), or operations.</li>
<li>Consider the environment topology, such as <strong>Develop</strong> or <strong>Build and Test</strong>.</li>
<li>Consider the environment tier (Tier-1 or Tier-2).</li>
</ul>
<p>A Tier-1 environment is a single-box environment with all the components installed on the same server. A Tier-1 environment uses Microsoft SQL Server and is structured to maximize development efficiency. This tier isn't a good option for UAT or performance testing.</p>
<p>A Tier-2 or higher environment is a multiple-box environment with components that are installed on multiple servers. Instead of Microsoft SQL Server, Tier-2 environments use Microsoft Azure SQL Database. The architecture in this environment is the same as the Production environment, but it doesn't use disaster recovery. You should use this environment for UAT and performance testing.</p>
<p>The standard cloud offer for environments includes a Tier-1 environment for development and testing, a Tier-2 environment for UAT, and a production environment. The system provides these environments at different times:</p>
<ul>
<li><strong>Tier-2 environment</strong> - During the installation process.</li>
<li><strong>Tier-1 Develop and Test environment</strong> - When the Design phase starts and after you configure Microsoft Azure DevOps.</li>
<li><strong>Production environment</strong> - During production system readiness with Microsoft. You must request this environment through Lifecycle Services.</li>
</ul>
<p>You can also add another add-on environment for Tier-1 and Tier-2 environments if needed. Additionally, you can deploy Tier-1 environments as a
cloud-hosted environment or an environment image. Customers or partners manage the cloud-hosted environments. The environment image is an on-premises environment that uses a virtual hard disk.</p>
<p>You can select which environments you need and when you need them. You must summarize your required environment lists in a matrix for Microsoft.</p>
<p>You can use the environment plan to help choose the flow for building code in all your environments and to structure your ALM.</p>
<h2 id="plan-for-how-much-testing-is-required">Plan for how much testing is required</h2>
<p>While implementing finance and operations apps, you need to decide how to test your development for approval, who is testing, what criteria you use for approval, and how to track testing. You can use unit tests, regression tests, and performance testing to test the system.</p>
<p>Unit testing is useful for testing whether a specific piece of functionality is working. Unit testing doesn't check if the new code affects existing features in the system.</p>
<p>Regression testing runs a test against an entire process to make sure that existing features still function with the new development. For instance, if you make a modification to add functionality that's related to customers, you might want to perform regression tests to make sure that the new functionality doesn't interfere with existing functionality, such as sales orders.</p>
<p>You might also consider performance testing the system to make sure that the system is stable. To do so, have multiple users enter the system and perform high-volume taxing processes. This approach can help you find opportunities for increasing performance.</p>
<p>Finance and operations apps includes the Task recorder tool to help you document the steps of a process that a user takes. With Microsoft Azure DevOps, you can link
tasks to a development project solution. Then, you can use the task to track updates, testing documents, and other notes.</p>
<h2 id="source-control-and-quality-control-for-developers">Source control and quality control for developers</h2>
<p>Occasionally, several developers might be working in finance and operations apps simultaneously. To prevent developers from interfering with each other's work, you can set up source control with an Azure DevOps project.</p>
<p>The Azure DevOps project hosts the source code of your model, which allows users to check objects in and out. When checking out an object, you're telling the system that you're making changes. When you check in the object, the system creates a new version of that object.</p>
<p>Version control allows you to view previous changes that someone made. You can undo pending changes to the most recent checked-in changes. Additionally, you can select <strong>Get latest</strong> on objects, which pulls in the most recent checked-in version of the object. Developers should use this feature regularly to make sure that they're using the most up-to-date code.</p>
<p>To ensure quality among development, follow the Microsoft Dynamics 365 X++ best practices. Also, you might want to develop your own best practice, such as naming conventions, to keep all development standardized throughout the organization.</p>
<h2 id="select-a-version-control-system">Select a version control system</h2>
<p>In finance and operations apps, a version control system is mandatory. Azure DevOps supports Team Foundation Version Control (TFVC) and Git.</p>
<h3 id="azure-devops-team-foundation-version-control">Azure DevOps Team Foundation Version Control</h3>
<p>The Azure DevOps Team Foundation Version Control system is a one-version control system for finance and operations apps. It’s a centralized version control system, which means that developers work in one branch and have one version of each file on their development machines. Each branch belongs to a server workspace, and each developer works in a local workspace. When a developer checks in source code, they must ensure that they check in the latest version and resolve existing conflicts.</p>
<p>By default, TFVC repositories are deactivated in the <strong>Organization settings</strong> area of Azure DevOps. You need to activate the repositories before you can create a new Azure DevOps project with TFVC as the version control system.</p>
<p>To activate Team Foundation Version Control (TFVC) in your organization, follow these steps:</p>
<ol>
<li>Open Azure DevOps by going to <strong>dev.azure.com/&lt;your organization&gt;</strong>.</li>
<li>Select <strong>Organization settings</strong> in the lower-left corner of the dashboard.</li>
<li>Open <strong>Repos &gt; Repositories</strong>.</li>
<li>Turn off the <strong>Disable creation of TFVC repositories</strong> toggle in the <strong>All Repository Settings</strong> section.</li>
</ol>
<p><img alt="Screenshot of the All Repository Settings section, showing the Disable creation of TFVC repositories option." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/application-lifecycle-finance-operations/media/all-repositories-settings.png"/></p>
<p>You can create new Azure DevOps projects with TFVC as the version control system.</p>
<h3 id="git">Git</h3>
<p>Git is the recommended Microsoft default version control system for development.</p>
<p>While TFVC is a centralized version control system, Git is a distributed system. Each developer has their own copy of a source repository (or lightweight branch) and can commit changes into it. Developers can create new private branches and switch from one branch to another. In TFVC, it's more difficult to switch from one branch to another, and it often requires multiple development environments.</p>
<p>It’s important to note that you can migrate from TFVC to Git, and vice versa.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Identify upgrade scenarios and appropriate tools</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify upgrade scenarios and appropriate tools</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Upgrades, updates, and hotfixes can include moving to new product versions, code migration and upgrade, moving to an update, or deploying a hotfix.</p>
<ul>
<li>Upgrade from Microsoft Dynamics AX 2012 to finance and operations apps</li>
<li>Apply updates to an on-premises version of finance and operations apps</li>
<li>Apply updates to cloud version of finance and operations apps</li>
<li>Install hotfixes in development environments</li>
</ul>
<p>The processes for each type of upgrade are similar, but we recommend that you review the link provided with information on several types of upgrades. Always check the most recent info on upgrade using Microsoft Learn.
The process to upgrade from Microsoft Dynamics AX 2012 to finance and operations apps  is divided into three phases:</p>
<ol>
<li><p><strong>Analyze</strong> - The tasks in the analyzing phase assist you in estimating the effort that is needed for the upgrade. These tasks help you prepare a project plan. During the Analyze phase, developers receive several reports that aid in project estimation.</p>
</li>
<li><p><strong>Execute</strong> - After completing the tasks that are identified in the analyze phase, a resource needs to work on code and data upgrades in the Execute phase. Hotfixes related to each task need to be installed in the development machine.</p>
</li>
<li><p><strong>Validate</strong> - Validation is the last step before going live. During this phase, users must perform cutover testing, complete functional testing, and create a cutover plan.</p>
</li>
</ol>
<h2 id="apply-updates-to-an-on-premises-version-of-finance-and-operations-apps">Apply updates to an on-premises version of finance and operations apps</h2>
<p>Updates are applied as deployable packages to on-premises environments from Lifecycle Services. Depending on the type of update, users need to complete the following steps to generate a deployable package. Updates can be of type Platform binary update, Application binary update, or Application X++ update.</p>
<h2 id="apply-updates-to-the-cloud-version-of-finance-and-operations-apps">Apply updates to the cloud version of finance and operations apps</h2>
<p>For non-production environments, upgrades are started manually from the <strong>Maintain in Lifecycle Services environment</strong> page. For continuous updates to the production and sandbox, update settings under project settings must be configured in Lifecycle Services before going live.</p>
<p>For more information about upgrades and updates, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/migration-upgrade/upgrade-home-page/?azure-portal=true">Upgrades, updates, and hotfixes resources - Finance &amp; Operations</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Plan the release, change, and risk management processes</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Plan the release, change, and risk management processes</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Microsoft releases regular updates to finance and operations apps. These
releases come in Platform and Application releases. They can
include updates to new functionality, bug fixes, or general system
performance improvements.</p>
<p>Releases are classified as upgrades and updates. Upgrades include moving
from one official release to the next release. For instance, an upgrade
would be from 7.1 to 7.3. An upgrade involves a code and data upgrade.
An update applies a binary package to an environment. This process has
lower downtime and does not include a data upgrade.</p>
<p>Before deploying any of the releases in your environment, consider
reading the
<a data-linktype="absolute-path" href="/en-us/dynamics365/release-plans/?azure-portal=true">Dynamics 365 and Microsoft Power Platform Release Plans</a> to discover what new updates are being added. This
will give you an idea of what areas will be affected.</p>
<p>You will need to know which version that you want to select for
upgrade. Because Microsoft removes the oldest version of the software
when a new version is released, we recommend that you always move to the
latest version available. This will give you two months to upgrade your
environments before that release is no longer available. For example, if
you start upgrading your environments to version x instead of the latest
version x.2, and Microsoft releases x.3 before you can upgrade your
production environment, version x will no longer be available for
you to upgrade your production environment.</p>
<p>You might run into compatibility issues if the release extends an
enumeration. The compiler will check if there are any custom
enumerations that are unsafe because of the integer value of a
non-extensible enumeration. This will need to be modified to compile.
Your model should reference top-level modules and sub modules. A
Microsoft change can add a new resource in an unreferenced sub module.
This can cause errors during the compile. Some methods or objects might
also be selected as obsolete, meaning that the object will be fully
deprecated eventually. If any customized code is selected for
deprecation, it should be investigated so that the expected code path can be fixed. Performing code reviews can help catch any issues with customized code early on.</p>
<h2 id="identify-risk">Identify risk</h2>
<p>Upgrades and updates to the system can bring a lot of change. It is
important to identify risk groups to identify specific risks to a
company. A business process owner should be selected to hold
responsibility for a specific risk. Some risks might include downtime
to upgrade the system, availability of resources to test, or additional
development. Applying some risk management skills might help reduce these
risks:</p>
<ol>
<li>Identify any potential threats.</li>
<li>Assess what areas are vulnerable to those threats.</li>
<li>Determine the likelihood, or risk, of areas that are being affected.</li>
<li>Identify ways to reduce the risk.</li>
<li>Prioritize the risk reduction plans.</li>
</ol>
<p>Using the release plans that Microsoft provides can help
determine what areas in finance and operations apps are changing and what changes are being made. To reduce the risk of a new release plan, you should have available resources to test the areas that are changing. Microsoft also has a Regression Suite Automation Tool (RSAT) to automate tests based on task recordings.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You're working on a project that has undefined requirements and new requirements are expected to occur during the project. What methodology would best suit this type of project?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Waterfall</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Agile</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Spiral</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>A new developer is joining the project team. You, as the project manager, must request a new environment for the developer to use. What kind of environment should you request?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A Tier 1 environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A Tier 2 environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A production environment</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Implementing the correct Application Lifecycle Management (ALM)
methodology will prepare you for the development process. Creating a
plan for builds and testing can increase productivity, and using
source control can ensure quality code. Additionally, identifying
risk will help mitigate any issues during new finance and operations apps
releases.</p>
<p>Whether you choose the Waterfall, Agile, or Spiral methodology, your
finance and operations apps implementation experience will be improved by
using ALM.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Extended Data Types (EDTs) and enumerations are essential components in finance and operations apps that enable developers to standardize, organize, and enhance the usability of data across the system. EDTs extend primitive data types with custom properties, making data structures more consistent and maintainable, while enumerations simplify the management of predefined sets of values. Together, these features contribute to a more efficient and user-friendly application experience.</p>
<p>While base enums and EDTs are not new to all developers, it's important
to understand how these data types are used in development for finance and operations apps.</p>
<p>In this module, you learn when to use base enums and EDTs and about the benefits of using each type.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Extended data types and element properties</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extended data types and element properties</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>X++ data types are divided into primitive data types and composite data
types. In the AOT, you can create EDTs and base enums that build on the
primitive data types. The basic set of primitive data types in the
system maps to underlying data types that exist in the physical
database. These primitive data types can be expanded to create EDTs.</p>
<p>By design, finance and operations apps have a limited number of primitive data types. This limitation significantly reduces the number of data type conversions, improves data integrity, and creates a programming
language that is simpler to use.</p>
<p>The following primitive data types exist in the AOT and can be created
in Visual Studio:</p>
<ul>
<li><strong>Booleans</strong> - Can only contain the values "false" and "true."</li>
<li><strong>Dates</strong> - Contain the numbers for day, month, and year.</li>
<li><strong>Enums</strong> - An abbreviation for "enumerated text," or a set of literals.</li>
<li><strong>GUIDs</strong> - Globally unique identifiers.</li>
<li><strong>Integers</strong> - Numbers without a decimal point.</li>
<li><strong>Real</strong> - Numbers with a decimal point and are sometimes called decimals.</li>
<li><strong>String</strong> - A series of characters, such as a text block.</li>
<li><strong>TimeofDay</strong> - Contain the numbers for hour, minute, and second.</li>
<li><strong>UTCDateTime</strong> - Contain the numbers for year, month, day, hour, minute, and second.</li>
</ul>
<h2 id="benefits-of-using-edts">Benefits of using EDTs</h2>
<p>We recommend that you use EDTs in development for many reasons.</p>
<ul>
<li><p>Code is easier to read when you are using EDTs because the variables are named in a significant way. For example, you can declare a string variable to be called "Name" for a field where you want a user to
enter a name in the user interface.</p>
</li>
<li><p>The properties that you set for an EDT are used by all instances of
that type, which reduces work and promotes consistency. For
example, account numbers (<strong>AccountNum</strong> data type) have
the same properties throughout the system.</p>
</li>
<li><p>You can create hierarchies of EDTs, which inherit the properties
that are appropriate from the parent and change the other
properties. For example, the <strong>ItemCode</strong> EDT is used
as the basis for the <strong>MarkupItemCode</strong> and
<strong>PriceDiscItemCode</strong> EDTs. In the <strong>Properties</strong> window,
if you leave the display length and style set to <strong>Auto</strong> for an
EDT, finance and operations apps will make the best choice for how the
EDT is displayed. This will make the EDT flexible throughout the
system.</p>
</li>
<li><p>Most fields in the tables of finance and operations apps are based on EDTs.
After the EDT is created, it can be reused as many times as it is
needed in the application.</p>
</li>
<li><p>EDTs have various behaviors that you can use in your development. For example, EDTs can help enable lookup behavior on controls.  You can also enable these controls to have drop-down lists and lookup capabilities for multiline string controls. To learn more about this capability, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/lookups-controls/?azure-portal=true">Lookup controls</a>.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Base enums and element properties</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Base enums and element properties</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>A base enum is a list of literals with an assigned value. You will need to create base enumerations in Visual Studio before you can use them in
X++ code. Enum values are represented internally as integers, and they are stored in the database as a number instead of the value, which is useful because it saves space. The first literal has the number 0, the next has the number 1, and so on.</p>
<p>Enums can be used as integers in expressions when you are writing code. Each literal or enumeration is assigned a text value through a label and name property. That property is displayed to users in the finance and operations user interface. The system automatically displays this conversion in the user interface, so no more programming is required on the forms that display to the user.</p>
<p>To add a base enum to your project, right-click your project, select <strong>Add &gt; New Item</strong>. Then, under <strong>Dynamics 365 Items</strong>, select <strong>Data Types &gt; Base Enum</strong>.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/base-enum.png#lightbox"><img alt="Screenshot showing how to add a base enum to your project in the Solution Explorer window." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-edt-enums-finance-operations/media/base-enum.png"/></a></p>
</div>
<h2 id="examples">Examples</h2>
<p>Many enumerable types are built into the standard finance
and operations apps. Each enum has various properties that
control the appearance and function of the base enum.</p>
<p>For example, the enum <strong>NoYes</strong> has two associated literals, where <strong>No</strong> has the value 0, and <strong>Yes</strong> has the value 1. Typically, this
type of enumeration appears as a selectable option in the finance and operations user interface. This is also referred to as the Boolean
primitive data type.</p>
<p>A base enum can appear as a drop-down menu in the user interface, where a user is presented a list of options and one can be selected
from the list.</p>
<p>A base enum can also be displayed as various buttons. When each button is selected, the user interface updates with new values or information that is related to the selected button.</p>
<h2 id="properties-and-elements">Properties and elements</h2>
<p>Defining properties for a base enum allows you to modify the look of the base enum in the finance and operations apps user interface. While the
process of adding a base enum to a project is constant, you can adjust the display length, style, label, and behaviors of the enum by using the
<strong>Properties</strong> window.</p>
<p>Elements that are added to a base enum are stored in the database as a numeric value. The first element that you add is stored as the value 0, the next element is stored as the value 1, and so on. You can use these numeric values as integers when writing X++ code. To give the numeric value a meaningful display name in the user interface, you will edit the <strong>Label</strong> property in the <strong>Properties</strong> window.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a base enumeration, add elements, and update properties</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a base enumeration, add elements, and update properties</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been tasked with creating a new
base enumeration for the Fleet Management company. The company needs to
collect information about the vehicle type when a new vehicle is checked
in for service. They would like a drop-down list to use in the user
interface with the options for car, truck, SUV, and van.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Navigate to Visual Studio and right-click to <strong>Run as administrator</strong>.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>New Project</strong> dialog box, search for <strong>Finance Operations</strong>, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model Management &gt; Update model parameters</strong>.</li>
<li>Select the <strong>FleetManagement</strong> model from the <strong>Model name</strong> dropdown list.</li>
<li>Select <strong>Next</strong>, then select the <strong>ApplicationSuite</strong> in the <strong>Select referenced packages</strong> drop-down list.</li>
<li>Select <strong>Next</strong> until the form closes.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu again.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure the check boxes are selected for <strong>Organize projects by element type</strong> and   <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-base-enumeration-for-vehicle-type">Create a base enumeration for vehicle type</h2>
<ol>
<li><p>In the <strong>Solution Explorer</strong> window, right-click the project     <strong>FleetManagementProject (ISV) [Fleet Management]</strong>. (In this lab, (ISV) and [Fleet Management] denote parameters of the project or object)</p>
</li>
<li><p>Select <strong>Add &gt; New Item</strong>.</p>
</li>
<li><p>On the left pane, select <strong>Dynamics 365 Items</strong> and then select    <strong>Data Types</strong>.</p>
</li>
<li><p>Select <strong>Base Enum</strong>.</p>
</li>
<li><p>Enter  <strong>VehicleType</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Select <strong>Add</strong>. The VehicleType base enumeration will now be open in    the element designer window.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> heading in the element designer and    select <strong>Properties</strong>.</p>
</li>
<li><p>In the <strong>Properties</strong> window, in the <strong>Label</strong> field, enter
<strong>Vehicle type</strong>.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/vehicle-type.png#lightbox"><img alt="Screenshot showing the VehicleType property." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-edt-enums-finance-operations/media/vehicle-type.png"/></a></p>
</div>
</li>
</ol>
<h2 id="add-elements-to-the-new-base-enumeration">Add elements to the new base enumeration</h2>
<ol>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong>  base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>Car</strong> in the <strong>Name</strong> field and in the <strong>Label</strong> field.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>Truck</strong> in the <strong>Name</strong> field and in the <strong>Label</strong> field.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>SUV</strong> in the <strong>Name</strong> field  and in the <strong>Label</strong> field.</p>
</li>
<li><p>Right-click the <strong>VehicleType (ISV) [Fleet Management]</strong> base enum in the element designer.</p>
</li>
<li><p>Select <strong>New Element</strong>.</p>
</li>
<li><p>Select <strong>BaseEnumValue1</strong> in the element designer.</p>
</li>
<li><p>In the <strong>Properties</strong> window, enter <strong>Van</strong> in the <strong>Name</strong> field  and in the <strong>Label</strong> field.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/vehicle-types.png#lightbox"><img alt="Screenshot showing the three vehicle types." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-edt-enums-finance-operations/media/vehicle-types.png"/></a></p>
</div>
</li>
<li><p>Perform a build by right-clicking the project <strong>FleetManagementProject (ISV) [Fleet Management]</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>How are base enums represented and stored in the database?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A literal string value</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A numerical value</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>An alphabetical character</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A series of numerical and alphabetical characters</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>We recommend that you use EDTs whenever possible in coding for finance and operations apps. Which of these statements is not a benefit of using EDTs?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>EDTs are more easily compiled.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>EDTs are reusable throughout the system.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The code is easy to read.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Properties can be inherited from parent EDTs.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>A base enumeration can be viewed in multiple ways in the user interface of finance and operations apps. Which of the following is not an example of how a base enum can be viewed in the user interface?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Option buttons</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A slider bar</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A date field</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A drop-down menu</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Visual Studio contains many primitive data types, including base enums and EDTs.</p>
<p>EDTs are shown as text boxes, date fields, or numeric entries. We recommend that you use EDTs in development because they can be reused throughout the system and their code is easier to read. Base enums are represented as slider bars, drop-down menus, and option buttons.</p>
<p>Both EDTs and base enums can be pulled from the AOT in Visual Studio and added to a project, or you can create them through the <strong>Solution Explorer</strong> window. These data types are viewable in the user interface of finance and operations apps, by being added to tables and forms in Visual Studio.</p>
<p>After base enums and EDTs are created, they are usually added to a table to enable data capture.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The data model in finance and operations apps is the foundation of application development. It comprises key components such as tables, views, queries, and other elements that enable effective data management. All the data within these apps, whether related to company transactions, inventory, or journals, is stored in tables and maintained through the data model within Microsoft Visual Studio.</p>
<p>Understanding and working with these components is essential important for creating robust, scalable solutions.</p>
<p>This module provides you with the skills to build and manage data models, helping you to create efficient and functional finance and operations applications.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create tables and table fields</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create tables and table fields</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Tables contain rows and columns, just like a spreadsheet. They are
stored in a database and work together to deliver data to the user
in outputs such as forms and reports. Tables can also contain metadata,
which is descriptive data such as system settings. Developers can
modify existing table properties and components through extensions, or they can create new tables.</p>
<p>Tables are made up of fields, which are organized into field groups. An
index can be created from fields within a table, and aids in data
retrieval. When data in one table is connected to another table, such as
customer information that is spread across multiple tables, you will
create a table relation between the two tables.</p>
<p>While many system tables exist, it's important to know how
to create new tables and fields so you can personalize the finance and operations apps experience. Tables are added to a project through the <strong>Solution Explorer</strong> window by right-clicking the project and selecting <strong>Add &gt; New item</strong>. You can then modify these tables through the table designer and <strong>Properties</strong> windows.</p>
<p>The screenshot below shows the CustTable (Customer Table).</p>
<p><img alt="Screenshot of the Customer Table which is called CustTable." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/cust-table.png"/></p>
<p>The <strong>Table designer</strong> window contains a top-level node with the table name,
and various components beneath it, such as:</p>
<ul>
<li><strong>Fields</strong> - Make up the data in the table and can be base
enumerations or extended data types.</li>
<li><strong>Field groups</strong> - Are logical groupings of physical
database fields. Groups can be used on forms and reports so that
when a modification is made to a field group, related objects are
automatically updated to reflect the new content of the group.</li>
<li><strong>Indexes</strong> - Are a method for speeding up retrieval of
data from a table.</li>
<li><strong>Relations</strong> - Define how a table relates to records in other tables.</li>
<li><strong>Delete actions</strong> - This node is used on tables that are
upgraded from earlier Microsoft Dynamics AX versions. It is used to detail what should happen when data in a related table is deleted. With finance and operations apps, delete actions are specified on the properties of a table relation.</li>
<li><strong>State machines</strong> - Enable you to perform state
transitions within the workflow without writing any additional code.
These are primarily used with workflows.</li>
<li><strong>Mappings</strong> - With a map, you can associate a map field with a field
in one or more tables. This enables you to use the same field name
to access fields with different names in different tables.</li>
<li><strong>Methods</strong> - Methods are pieces of code that are added to a table that can be run when certain events or changes in the data occur.</li>
<li><strong>Events</strong> - Are also pieces of code that are raised as
preceding and succeeding operations around base methods.</li>
</ul>
<p>Fields are added to a table by using a click-and-drag motion from your
project in the <strong>Solution Explorer</strong> window, or from the <strong>Application
Explorer</strong> window. Fields are commonly base enumerations (base enums) or
extended data types (EDTs). Because EDTs are reusable throughout the
system, it is beneficial to check the Application Object Tree (AOT) to
see if your desired field exists already before creating a new EDT and
adding it to your project. You can also add a field to a table by
right-clicking the table name in the table designer and adding a new
field. You would then specify in the <strong>Properties</strong> window which element you will be referencing for that field, such as a base enum or EDT.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Populate table and field properties</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Populate table and field properties</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When a new element, such as a table or field, is added to a project, we recommend that you update and modify the element's properties.</p>
<p><a data-linktype="relative-path" href="media/table-properties.png#lightbox"><img alt="Screenshot of the Properties page showing CustTable properties." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/table-properties.png"/></a></p>
<p>While many properties can be manipulated, only a few will commonly be used.</p>
<ul>
<li><strong>Table type</strong> - Determines if the table is considered a
regular database table or a temporary table, such as a TempDB or
InMemory table.</li>
<li><strong>Name</strong> - If used in a form to display in the user
interface as a page, the name is what the user will see on the page.
Names and labels should use camel case for consistency, but table
names will display in capital letters.</li>
<li><strong>Label</strong> - Will be added from a label file and is used
to identify the table in Visual Studio.</li>
<li><strong>Primary index</strong> - Specifies which field in the table should
be used as the primary index and is used for database optimization
purposes.</li>
<li><strong>Cluster index</strong> - Specifies the field by which the table
should be organized. This property should never be left blank.</li>
<li><strong>Configuration key</strong> - Allows a system administrator to
enable and disable certain parts of the application and ensures that
a table is removed when the key is disabled.</li>
<li><strong>Support inheritance</strong> - Determines whether the
table can become a base table by using inheritance. Setting this
property to <strong>Yes</strong> indicates that this table can be extended, or that it can inherit properties from an existing table.</li>
<li><strong>Extends</strong> - Used when the Support Inheritance
property is set to <strong>Yes</strong>. The Extends property chooses the base
table that will become the parent table to the current table.</li>
</ul>
<p>The following animation shows the <strong>Properties</strong> window for the CustTable that is opened from the <strong>Application Explorer</strong> window.</p>
<p><a data-linktype="relative-path" href="media/table-properties.gif#lightbox"><img alt="Animated gif of the Properties window for the CustTable opened from the Application Explorer window" data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/table-properties.gif"/></a></p>
<p>Field properties are commonly adjusted at the element level instead of
within the table. For example, if you added an EDT as a field to a
table, you would open the EDT in the element designer to adjust
any properties before adding it to the table.</p>
<p>Base enum properties determine if the property should be displayed as a drop-down menu, option buttons, or a slider bar in the finance and operations apps user interface. EDT properties vary depending on the type of EDT, such as string, integer, or date. For a string EDT, for example, you can control how many characters can be entered in the text field. For a date EDT, you can choose if the month and day are listed as one or two numbers and if the year should be listed as two or four numbers. It is best practice to leave properties set to <strong>Auto</strong> so that the system can adjust the field as necessary in the user interface.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Add fields, field groups, indexes, and relations</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add fields, field groups, indexes, and relations</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When you create a table and fields, you add those fields to
the table, and then create field groups to pool associated fields. Then, you drag fields, such as EDTs and enums, from the AOT or from your
project in Solution Explorer. If you do not define any field groups, by
default you only see data from two fields (the primary key and
description fields) in the primary table because these are indexed
automatically.</p>
<p>Field groups improve consistency in form design and reduces occurrences of users having to individually choose fields for form patterns. When a modification is made to a field group, such as a changed property or a new added field, any forms that contain that field group automatically updates to show the new changes. Field groups are added through the table designer by right-clicking the Field groups node to select a new group. Then, you can drag fields from your table into the various field groups that are listed under the Field groups node.</p>
<p>The following animation shows a field being selected and dragged from the
<strong>Application Explorer</strong> window to the <strong>Fields</strong> node of a new table in the <strong>Table designer</strong> window.</p>
<p><a data-linktype="relative-path" href="media/add-fields.gif#lightbox"><img alt="Animated gif of the CustTable in the Table designer window." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/add-fields.gif"/></a></p>
<h1 id="optimize-data-retrieval-with-table-indices-and-relations">Optimize data retrieval with table indices and relations</h1>
<p>Indices are created on a table to improve efficiency with data
retrieval. They are added by using the table designer. An index is defined by using one or more fields as the lookup criteria. When you are
determining which fields to use for the index, consider fields that are
often searched by a range or query, fields that are frequently used in
joins, or fields that are often used to order or group results.</p>
<p>The order of the columns in an index is important. For efficiency,
an index should be organized from the most granular column (highest
number of unique values) to the least granular column.</p>
<p><a data-linktype="relative-path" href="media/table-index.png#lightbox"><img alt="Screenshot of the CustTable highlighting the Table indexes." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/table-index.png"/></a></p>
<p>The three types of indices that are used in finance and operations apps are:</p>
<ul>
<li><strong>Primary index</strong> - Provides a unique key to each
record in a table. The property for <strong>Allow Duplicates</strong> must be set
to <strong>No</strong> because multiple values with the same result cannot exist. An example of a primary index is a phone number or account number.</li>
<li><strong>Clustered</strong> - This type of index organizes the data for a table
according to the order of the index. For example, the data in a
phone book is first sorted by last name and then by first name. For
each last and first name, there is a corresponding phone number. The
clustered index in this case would be the last name.</li>
<li><strong>Non-clustered</strong> - This type of index provides a way to quickly
reference data that is found in the clustered index by using a specified set of columns. An example of this is the index at the back of a textbook. You can look up a specific topic, and the index provides a list of page numbers that have information on that topic.</li>
</ul>
<p>Multiple tables are often used to collect data about a similar
subject. You can create a table relation on the primary table to define
how it is related to a secondary table. A relation is added on the
Relations node under the table heading in the Table designer window.
You can use table relations for several reasons, including associating rows in one table to another, creating auto joins in forms to join one table to another, looking up values in other tables, and validating data
by providing constraints.</p>
<p>When you are creating forms, it is common to have related tables as underlying data sources so that lookups can be performed. You can establish this relationship so you can access the information in both tables by using a common field, such as an account number. Relations can also be used to restrict the rows that are returned in a table.</p>
<p>The following table lists the different properties of relation notes.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Cardinality</td>
<td>NotSpecified, ZeroOne, ExactlyOne, ZeroMore,   OneMore</td>
<td>Specify   the cardinality between the current table and a related table.      The   relation between a header table and lines could be ZeroMore, meaning one   header exists and has zero-to-many lines.</td>
</tr>
<tr>
<td>EDTRelation</td>
<td>No,   Yes</td>
<td>Specify whether the relation migrated from   an EDT, meaning the relations were in previous versions defined on the EDT?</td>
</tr>
<tr>
<td>Index</td>
<td>index</td>
<td>Specify the index used to find the related   item.</td>
</tr>
<tr>
<td>Name</td>
<td>Relation   name</td>
<td>Specify the Relation name, which  is typically the name of the related table.</td>
</tr>
<tr>
<td>On Delete</td>
<td>None,   Cascade, Restricted, CascadeRestricted</td>
<td>Specify how the <strong>Delete</strong> action is used   with the relation. It indicates how deletions in the main table are handled   in related tables.</td>
</tr>
<tr>
<td>Related Table</td>
<td>table</td>
<td>Specify the reference table.</td>
</tr>
<tr>
<td>Related Table Cardinality</td>
<td>NotSpecified,   ZeroOne, ExactlyOne</td>
<td>Specify the cardinality between a related   table and the current table.      The relation between lines and a header   is ExactlyOne, and a header always exists.</td>
</tr>
<tr>
<td>Relationship Type</td>
<td>NotSpecified,   Association, Composition, Link, Specialization, Aggregation</td>
<td>Specify the type of relationship:     <strong>NotSpecified</strong> -The system infers the value from the following sequence:   Specialization, Link, Composition, Aggregation, Association.     <strong>Specialization</strong> -   Applies only to table inheritance.     <strong>Link</strong>   - Used in migration tools to support earlier   versions. You should not use Link as a relationship type.     <strong>Composition</strong>   - Use if the current relation only exists once. It   could be a specific pallet in a warehouse.     <strong>Aggregation</strong> - Use if the parent table has a delete action defined to be used   in the current relation.     <strong>Association</strong> - Standard foreign key relation.</td>
</tr>
</tbody>
</table>
<h2 id="define-table-relations-and-delete-actions">Define table relations and delete actions</h2>
<p>The <strong>Field</strong>, <strong>Related field</strong>, and <strong>Value</strong> properties are used
to add details about the relation and dictate the fields that are
related between two tables. Relations have one or more relation field types defined.</p>
<p>Relation types are defined as follows:</p>
<ul>
<li><strong>Normal relation</strong> - Specifies relation fields without conditions.</li>
<li><strong>Field fixed relation</strong> - Specifies relation fields to restrict the records in the primary table.</li>
<li><strong>Related field fixed relation</strong> - Specifies relation fields that
restrict the records in the related table.</li>
<li><strong>Foreign key relation</strong> - Specifies a correspondence between a
foreign key field in the present table and the primary key field in
another parent table.</li>
</ul>
<p>Delete actions use relations for validation when deleting:</p>
<ul>
<li><strong>Restricted</strong> - Delete is restricted when data exists in a related table.</li>
<li><strong>Cascade</strong> - Delete occurs for a table and related table.</li>
<li><strong>CascadeRestricted</strong> - Depending on the parent table, select <strong>Restricted</strong> or <strong>Cascade</strong>.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Table methods</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Table methods</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Tables are main elements of finance and operations apps development. Many standard tables are already available in the application. You can also create a new custom table.</p>
<p>Each table has methods, which can be classified as standard methods or custom methods. Standard tables must have a <code>super()</code> call to run the framework logic. This requirement also applies to custom tables because they're derived from the same base type.</p>
<p>You can extend the existing table methods and include code by using the chain of command option. Additionally, you can create table delegates to include code in an existing method. These delegates should be subscribed to add functionality to an existing table method.</p>
<h2 id="standard-table-methods">Standard table methods</h2>
<p>The following sections explain the various methods that are used in standard tables in the finance and operations apps development platform.</p>
<h3 id="initvalue">initValue()</h3>
<p>The <code>initValue()</code> method is a standard method that's called when a new record is created. You can use this method to address the requirement of initializing some field values while a new record is being created.</p>
<p><strong>Scenario</strong></p>
<p>You are using the table named <strong>CustTable</strong>. The requirement is to initialize the <strong>Party</strong> field of that table with enum element <strong>0</strong> while a new record is inserted into this table.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">
    public void initValue()
    {
        super();
        this.Party = 0;
    }
</code></pre>
<h3 id="find">find()</h3>
<p>The <code>find()</code> method is a custom method that's usually created with all tables. The <code>find()</code> method returns a specific record based on primary key or other unique keys. This method is a static method.</p>
<p><strong>Scenario</strong></p>
<p>You have a custom table named <strong>TrainingParameters</strong>. You need to create the <code>find()</code> method that will return one record.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">static TrainingParameters find(boolean _forupdate = false)
    {
        TrainingParameters parameter;

        if (_forupdate)
        {
            parameter.selectForUpdate(_forupdate);
        }

        select firstonly parameter
            index Key
            where parameter.Key == 0;

        if (!parameter &amp;&amp; !parameter.isTmp())
        {
            Company::createParameter(parameter);
        }

        return parameter;
    }
</code></pre>
<h3 id="insert">insert()</h3>
<p>The <code>insert()</code> method is a standard method that's called when a new record is inserted into a table. You can use this method in these scenarios:</p>
<ul>
<li>Populate data in a field based on the value of some other field in the table.</li>
<li>Run a process while data is inserted in a table.</li>
</ul>
<p><strong>Scenario</strong></p>
<p>In the custom table <strong>TrainingMaster</strong>, you need to populate data into the <strong>Price</strong> field. The value of this field is a multiplication of the following two fields:</p>
<ul>
<li><strong>NoofDays</strong> field from the <strong>TrainingMaster</strong> table</li>
<li><strong>PerDayPrice</strong> field from the <strong>TrainingParameter</strong> table</li>
</ul>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">public void insert()
    {
        this.Price = this.NoofDays * TrainingParameters::find().PerDayPrice;
        super();
    }
</code></pre>
<h3 id="modifiedfield">modifiedField()</h3>
<p>The <code>modifiedField()</code> method is a standard method that's called when a field of a record is modified. You can use this method in these scenarios:</p>
<ul>
<li>Populate data into a field while some other field is modified in the same record.</li>
<li>Run a process while some field is modified in a record.</li>
</ul>
<p><strong>Scenario</strong></p>
<p>The requirement is to erase the value from the <strong>Venue</strong> field of the <strong>TrainingMaster</strong> table, while the <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">public void modifiedField(FieldId _fieldId)
    {
        super(_fieldId);

        switch (_fieldId)
        {
            case fieldNum(TrainingMaster, TrainingType):
                this.Venue = (this.TrainingType == TrainingType::Online ? "" : this.venue);
                break;
        }
    }
</code></pre>
<h3 id="validatefield">validateField()</h3>
<p>The <code>validateField()</code> method is a standard method that's called to validate the data that's entered into a field. You can use this method to perform data validation while data is being entered into the field.</p>
<p><strong>Scenario</strong></p>
<p>The requirement is to restrict entering data into the venue field of the <strong>TrainingMaster</strong> table, if the <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">public boolean validateField(FieldId _fieldIdToCheck)
    {
        boolean ret = super(_fieldIdToCheck);
        
        switch(_fieldIdToCheck)
        {
            case fieldNum(TrainingMaster, Venue):
                if (this.TrainingType == TrainingType::Online &amp;&amp; this.Venue)
                {
                    ret = ret &amp;&amp; checkFailed("Online training does not require venue");
                }
                break;
        }
        return ret;
    }
</code></pre>
<h3 id="validatewrite">validateWrite()</h3>
<p>The <code>validateWrite()</code> method is a standard method on tables. This method is called when the <strong>Save</strong> button is selected or a user attempts to navigate out of a record after inserting a new record or updating an existing one. Override this method if a condition should be validated before you leave the record.</p>
<p><strong>Scenario</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>TrainerID</strong> that creates a foreign key with the <strong>TrainerTable</strong>. <strong>TrainerTable</strong> has a real field <strong>Rate</strong>, which captures the daily rate of the trainers. When you save the record in the <strong>TrainingMaster</strong> table, the system should check if <strong>Rate</strong> is defined for the corresponding trainer.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">public boolean validateWrite()
    {
        boolean ret;
         
        ret = super();

        if(!TrainerTable::find(this.TrainerID).Rate)
        {
            ret = checkFailed("Please enter Trainer's rate");
        }
    
        return ret;
    }
</code></pre>
<h2 id="extension-of-table-methods">Extension of table methods</h2>
<p>Chain of command is an option that helps you enhance the functionality of a table method. This option is applicable for standard methods and custom methods.</p>
<p>In the following example, the requirement is to initialize the <strong>Price Rounding</strong> rule of the <strong>Currency</strong> table with <strong>0.01</strong> whenever a new record is created. A table extension class will be created with this code snippet of the <code>initValue()</code> method.</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(Currency))]
final class CurrencyTable_Extension
{
    public void initValue()
    {
        this.RoundOffPrice = 0.01;
        next initValue();
    }

}
</code></pre>
<p>The <code>next</code> keyword is calling the parent method from the extended method. If a new custom method is created in the extended table, you don't need to use the <code>next</code> keyword.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend views</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend views</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Like tables, a view has rows and columns that deliver data to the user in outputs such as queries, forms, and reports. A view can have fields from joined tables, and it provides focused and simplified access to data.</p>
<p>The components in views are similar to tables and include fields, field groups, indexes, relations, mappings, state machines, methods, and events.</p>
<p>You can create view extensions to enhance views, but you can’t create code extensions. Use an event handler class to create pre-events and post-events for methods.</p>
<p>Additionally, you can use Microsoft Visual Studio to create, manage, and extend views.</p>
<h2 id="create-views">Create views</h2>
<p>Add views to a project by using the <strong>Solution Explorer</strong> window. Right-click the project or activate the context menu and then select <strong>Add</strong> &gt; <strong>New item</strong>. You can modify the views that you create by using the <strong>Designer</strong> and <strong>Properties</strong> windows.
The <strong>Designer</strong> window has a top-level node with a view name, and the node should be unique for tables and views.</p>
<p>For queries, data sources, and similar, the system creates one list for all table and view names when you select a table name.
The top-level properties include properties that are like tables, such as <strong>Label</strong>, <strong>Title Field1</strong>, and <strong>Title Field2</strong>.</p>
<p>The following table lists the top-level properties for views. For more properties, see <a data-linktype="absolute-path" href="/en-us/training/modules/build-tables-finance-operations/2-properties/?azure-portal=true">Populate table and field properties</a>.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Option</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Query</td>
<td>Blank   or a query</td>
<td>Use a blank value in the Query   property to create view metadata manually.     Then, you can select a query in the   property, and the system will use it as view metadata, including its fields, ranges,   sorting, joins, and similar. You can’t change the view metadata if you’re selecting   a query.</td>
</tr>
</tbody>
</table>
<p>The following table lists the nodes that are available for a view in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Metadata</td>
<td>Create   manually or use the Query property on the view’s top   level</td>
<td>The underlying data that the system uses for   the view. Typically, it includes one or more tables or other views (data   sources).     Metadata isn’t stored in the database as a   table. You can define views as a virtual table whose contents are defined by   a query. The rows and columns of data come from tables that the metadata   references.     It’s important that you’re aware of   performance issues when building a view’s metadata.</td>
</tr>
<tr>
<td>Fields</td>
<td>Field   from the view metadata, a virtual field, or a computed column (virtual field)</td>
<td>Use this node to add fields from the view metadata   by selecting a field on the view’s defined data source and then dragging it to   the node fields on the view.     Create fields manually by right-clicking   the Fields node or by activating the context menu and   then selecting New, Field.     The system defines a virtual field as a   computed column, but the property is set to virtual, and the field value is   set in the view’s postLoad method.     Add computed fields (calculated fields) as   a field on the view by right-clicking the Fields   node or by activating the context menu and then selecting the corresponding   type for the computed column (described in a subsequent section).     For fields and computed columns, you can create   an Extended data type as a best practice.</td>
</tr>
<tr>
<td>Field groups</td>
<td></td>
<td>Similar to tables, field groups can be system   created and custom groups.</td>
</tr>
<tr>
<td>Indexes</td>
<td></td>
<td>Use this node to optionally create an index   on a view and store it on the view’s database.</td>
</tr>
<tr>
<td>Relations</td>
<td></td>
<td>View relations work, such as table   relations.</td>
</tr>
<tr>
<td>State machines</td>
<td></td>
<td>Specify a data field to use.</td>
</tr>
<tr>
<td>Mappings</td>
<td></td>
<td>Specify a map to map to another object.</td>
</tr>
<tr>
<td>Methods</td>
<td></td>
<td>Typically, you use this node for display   methods (as you would on tables) or methods for computed columns that return values   by using Microsoft   Transact-SQL (T-SQL).     NOTE: The   purpose of a view is to write to data, so the insert, update, or delete   methods aren’t necessary.</td>
</tr>
<tr>
<td>Events</td>
<td></td>
<td>The node exists but isn’t used.</td>
</tr>
</tbody>
</table>
<p>A computed column is a virtual calculated column in the view, and the system calculates it on the database with T-SQL from a method.</p>
<p>Create computed columns on the <strong>Fields</strong> node by selecting the corresponding type for the computed column, which in earlier versions was called an unmapped field. Then, specify the <code>View Method</code> property, which is the calculation for the computed column that’s defined in the view’s <strong>Methods</strong> node.</p>
<p>Create methods by right-clicking the view in Solution Explorer or by activating the context menu and then selecting <strong>View Code</strong> (F7). If you already have the view open in the designer, you can right-click at the top level or activate the context menu and then select <strong>View Code</strong> (F7). When you’re creating a new method for a computed column, it must be static and it must return type str (T-SQL to be implemented on the database).</p>
<p>The method uses the following components to calculate the result:</p>
<ul>
<li>View name, which helps you find the <strong>DictView</strong> class.</li>
<li>Data source name that’s found in view metadata, which helps you find the table’s data source.</li>
<li>The field in the field list on the data source.</li>
</ul>
<p>In the global <strong>DictView</strong> class, you can call the computedColumnString method with the data source and field to generate T-SQL to the return.
If you’re creating more complicated expressions, such as <code>and</code>, <code>or</code>, <code>compare</code>, or <code>if</code>, see the help methods in the <strong>SysComputedColumn</strong> class.</p>
<p>The following example shows the use of a method for a computed column (view <strong>AssetTransReverse</strong>):</p>
<pre><code class="lang-xpp">

    /// &lt;summary&gt;
    /// Defines the computed column for the negative &lt;c&gt;AmountMST&lt;/c&gt; view field.
    /// &lt;/summary&gt;
    /// &lt;returns&gt;
    /// The SQL statement which defines the negative &lt;c&gt;AmountMST&lt;/c&gt; view field.
    /// &lt;/returns&gt;
    public static str negativeAmountMST()
    {
        #define.ViewName(AssetTransReverse)
        #define.DataSourceName("AssetTrans_1")
        #define.AmountMSTField("AmountMST")

        str amountMST;
        DictView dictView;

        dictView = new DictView(tableNum(#ViewName));
        amountMST = dictView.computedColumnString(#DataSourceName, #AmountMSTField, FieldNameGenerationMode::FieldList, true);

        return SysComputedColumn::negative(amountMST);
    }
</code></pre>
<p>When you’ve creating the view, save and build it as you would for other elements.</p>
<h2 id="manage-views">Manage views</h2>
<p>Make sure that you sync views to the database to create the view in the underlying database.</p>
<p>During synchronization, the system detects computed columns by using the name on fields that have <strong>View Method</strong> selected and by adding the column to the view creation. Synchronization can fail if the computed column generates invalid T-SQL syntax.
Using an unsynchronized view results in errors that display to the user.</p>
<h2 id="extend-views">Extend views</h2>
<p>You can change views by creating an extension.
Extend a view by locating it in the <strong>Application Explorer</strong>, right-clicking it or activating the context menu, and then selecting <strong>Create extension</strong>.</p>
<p><a data-linktype="relative-path" href="media/create-extensions.png#lightbox"><img alt=" Screenshot of the Application Explorer that shows the Create extension option." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/create-extensions.png"/></a></p>
<p>You can create extensions in a current project or a new one and then use them to complete the following tasks:</p>
<ul>
<li>Add new fields. You can’t add computed columns because you can’t add code to the view.</li>
<li>Change view metadata, such as adding a range or a new data source.</li>
<li>Add or change field groups.</li>
<li>Add new mappings.</li>
</ul>
<p>You can’t create a code extension for a view, but you can create an event handler class for the view so that pre-events and post-events are available for the methods.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend queries</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend queries</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In finance and operations, you can use query objects in the development platform to build SQL statements.</p>
<p>You can predefine, build, or modify queries with code at run time. Use queries to render data into forms, reports, views, and more. Additionally, you can write SQL statements by using select queries.</p>
<p>We recommend that, rather than using tables directly, you use query objects in forms so that you can select the fields that you want to display in the form. This approach helps reduce the size of the SQL statement that's running behind the form, and it helps improve performance. The same notion also applies to reports and views.
Additionally, you can use Microsoft Visual Studio to create predefined queries.</p>
<h2 id="create-queries">Create queries</h2>
<p>To add predefined queries to a project, right-click the project or activate the context menu in the Solution Explorer window. Then, select <strong>Add</strong> &gt; <strong>New Item</strong> and <strong>Data Model</strong> &gt; <strong>Query</strong>.</p>
<p><a data-linktype="relative-path" href="media/add-new-item.png#lightbox"><img alt=" Screenshot of the Solution Explorer that shows how to add a new item." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/add-new-item.png"/></a></p>
<p>You can use the <strong>Designer</strong> and <strong>Properties</strong> windows to change a predefined query. The <strong>Designer</strong> window contains a top-level node with the view name.</p>
<p>The following table lists the top-level properties for queries (options in bold are default values).</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Description</td>
<td>Label reference</td>
<td>Describes   the query</td>
</tr>
<tr>
<td>Title</td>
<td>Label reference</td>
<td>The   query title</td>
</tr>
<tr>
<td>Interactive</td>
<td>No or <strong>Yes</strong></td>
<td>Specifies   whether the query might open a dialog for query or not</td>
</tr>
<tr>
<td>Literals</td>
<td>Default, ForceLiterals, ForcePlaceholder</td>
<td>Specifies   how literals are represented in SQL statements</td>
</tr>
<tr>
<td>Allow Check</td>
<td><strong>No</strong> or Yes</td>
<td>Allows   the checking of table rights</td>
</tr>
<tr>
<td>Allow Cross Company</td>
<td><strong>No</strong> or Yes</td>
<td>Enables   a cross-company query</td>
</tr>
<tr>
<td>Form</td>
<td><strong>SysQueryForm</strong></td>
<td>Provides   a form for user interaction</td>
</tr>
<tr>
<td>Name</td>
<td></td>
<td>The   query’s system name</td>
</tr>
<tr>
<td>Query Type</td>
<td><strong>Join</strong> or Union</td>
<td>Indicates   the query type</td>
</tr>
<tr>
<td>Searchable</td>
<td><strong>No</strong> or Yes</td>
<td>Specifies   whether query results are searchable</td>
</tr>
<tr>
<td>User Update</td>
<td>No or <strong>Yes</strong></td>
<td>Indicates   whether a user can update the query or not</td>
</tr>
</tbody>
</table>
<p>The following table lists the nodes for a query in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Methods</td>
<td>Indicates the methods for the query</td>
</tr>
<tr>
<td>Events</td>
<td>The node exists but isn’t used</td>
</tr>
<tr>
<td>Data Sources</td>
<td>Indicates data sources in the query     To add new data sources, right-click or activate   the context menu and then select <strong>New Data Source</strong>.</td>
</tr>
</tbody>
</table>
<p>The following table lists important properties for data sources.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Enabled</td>
<td>No or <strong>Yes</strong></td>
<td>Indicates whether the data source is active   or not</td>
</tr>
<tr>
<td>Update</td>
<td><strong>No</strong> or Yes</td>
<td>Indicates data that’s selected with the forupdate   keyword</td>
</tr>
<tr>
<td>Dynamic Fields</td>
<td><strong>Clear</strong>, No or Yes</td>
<td>Specifies how the field list is built for   the data source      The <strong>Clear</strong> value results in a build error.</td>
</tr>
<tr>
<td>Name</td>
<td></td>
<td>Indicates the data source name     This property isn’t the table name; rather,   it’s the name for the data source.</td>
</tr>
<tr>
<td>Table</td>
<td></td>
<td>Indicates the table or view name for the   data source</td>
</tr>
</tbody>
</table>
<p>The following table lists the various nodes that a data source has and which you can access in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Fields</td>
<td></td>
<td>Indicates a dynamic field list if the <strong>Dynamic Fields</strong> property is set to <strong>Yes</strong>     The system automatically adds new fields by   using the <strong>Dynamic Fields</strong> property. To create fields, you can   also right-click the <strong>Field</strong> node or activate the <strong>Context</strong> menu and then select <strong>New</strong>. You could also use aggregate   functions.</td>
</tr>
<tr>
<td>Ranges</td>
<td></td>
<td>Specifies the field range that the query   uses</td>
</tr>
<tr>
<td>Data sources</td>
<td></td>
<td>Indicates that a data source can join to   another data source with <strong>InnerJoin</strong>, <strong>OuterJoin</strong>,   <strong>ExistsJoin</strong>, or <strong>NoExistsJoin</strong></td>
</tr>
<tr>
<td>Group by</td>
<td></td>
<td>Groups the returned data</td>
</tr>
<tr>
<td>Having</td>
<td></td>
<td>Use to filter aggregate data</td>
</tr>
<tr>
<td>Order by</td>
<td></td>
<td>Use to order returned data</td>
</tr>
</tbody>
</table>
<p>You can modify and create queries from code by using the query class. The following example depicts a query being created with the name <code>MyCustTable</code>. It has only one data source <code>custTable</code>, with two fields: <strong>AccountNum</strong> and <strong>CustGroup</strong>. Then, you need to add the <strong>CustGroup</strong> to the range in code, which the following sample code illustrates.</p>
<p><a data-linktype="relative-path" href="media/mycusttable.png#lightbox"><img alt=" Screenshot of the MyCustTable data source and CustGroup field." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/mycusttable.png"/></a></p>
<p>The following example shows the result in code:</p>
<pre><code class="lang-xpp">
 internal final class MyCustTableQueryModifyInCode
 {
 
   /// &lt;summary&gt;
   /// Class entry point. The system will call this method when a designated menu 
   /// is selected or when execution starts and this class is set as the startup class.
   /// &lt;/summary&gt;
   /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
   
   public static void main(Args _args)
   {
       Query                   query = new Query('MyCustTable'); // using the existing query named MyCustTable
       QueryBuildDataSource    qbds;
       QueryBuildRange         qbr;
 
       qbds = query.dataSourceTable(tableNum(CustTable)); // finding data source for table CustTable
       qbr = qbds.addRange(fieldNum(CustTable, CustGroup)); // adding range on CustGroup to the data source.
 
       QueryRun queryRun = new QueryRun(query);
       while (queryRun.next())
       {
           CustTable custTable = queryRun.get(tableNum(CustTable));
           info(strFmt('%1, %2', custTable.AccountNum, custTable.CustGroup));
       }
   }

}
</code></pre>
<p>Typically, you use the following classes to modify or create queries by code:</p>
<ul>
<li>Query</li>
<li>QueryRun</li>
<li>QueryBuildDataSource</li>
<li>QueryBuildRange</li>
</ul>
<p>Other classes are available for you to use, but they’re beyond the scope of this module. For more information, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/sysda/?azure-portal=true">Access data by using the SysDa classes</a>.</p>
<p>Additionally, developers can use the SysDa framework to create extensible queries without a user interface, such as the select statement. See [Implement query objects and query builder](/tra
ining/modules/build-reports-finance-operations/query-objects-query-builder /?azure-portal=true) for more information.</p>
<h2 id="manage-and-use-queries">Manage and use queries</h2>
<p>You can use predefined queries for reports, forms, views, and much more. They’re available in the Application Explorer or Solution Explorer, and you can drag them to your data source node to use them. Additionally, you can select them on the query property in the data source.</p>
<p>Before using a query or query extension, you need to build them.</p>
<h2 id="extend-queries">Extend queries</h2>
<p>To extend a query, locate it in the Application Explorer, right-click the view or activate the <strong>Context</strong> menu, and then select <strong>Create extension</strong>, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/create-extension-project.png#lightbox"><img alt=" Screenshot of the Create extension and Create extension in new project options." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/create-extension-project.png"/></a></p>
<p>After you’ve created an extension for a query, it appears in the project in Solution Explorer. The name of the original query is appended to the extension name with the model name, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/extension-name-model-name.png#lightbox"><img alt=" Screenshot of the CustTable simple query extension name." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/extension-name-model-name.png"/></a></p>
<p>When extending a query, you can:</p>
<ul>
<li>Change labels.</li>
<li>Add new data sources.</li>
<li>Add new fields.
<div class="TIP">
<p>Tip</p>
<p>If you set the <strong>Dynamic Fields</strong> property to <strong>Yes</strong> on the data source, the system adds new fields automatically to the query field list. Therefore, an extension for the query isn’t needed for new fields.</p>
</div>
</li>
<li>Add a new grouping, ordering, and having.</li>
</ul>
<p>However, you can’t remove existing data sources, fields, grouping, ordering, or having.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend table maps</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, manage, and extend table maps</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Table maps define the fields and methods that operate on one or more record types.</p>
<p>Using table maps that are defined in Application Explorer under Data Model and Maps is a way to capture commonalities between record types more safely. Additionally, using table maps can help prevent incompatible record assignments and simplify business logic for similar tables.</p>
<p>You can create a mapping between tables in the <strong>Mapping</strong> node or by using the mapping node on the table together with an interface class. You can create some mapping on the map, some on the table, and some on an interface class because you can’t create extensions for table maps.</p>
<p>For example, if you right-click a map or activate the context menu, the Create Extension option is available; however, if you select it, nothing happens.
You can create, manage, and extend table maps by using Visual Studio.</p>
<h2 id="create-a-map">Create a map</h2>
<p>To add maps to a project, go to the <strong>Solution Explorer</strong> window, right-click the project or activate the context menu, and then select <strong>Add</strong>, <strong>New item</strong>. Then, you can modify these views through the designer and Properties windows.
The <strong>Table map designer</strong> window has a top-level node with a table map name.</p>
<p>The following table lists the top-level property for maps (other nodes work as they would on tables).</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Name   of the map</td>
</tr>
</tbody>
</table>
<p>The following table lists the nodes that are available for a table map in the designer.</p>
<table>
<thead>
<tr>
<th><strong>Node</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Fields</td>
<td>To create fields manually, right-click the <strong>Fields</strong>   node or activate the context menu. Then, select <strong>New</strong>, <strong>Field</strong>.   You can set the Extended data type on the   field.</td>
</tr>
<tr>
<td>Field groups</td>
<td>Field groups work similar as they do with   tables.</td>
</tr>
<tr>
<td>Mappings</td>
<td>Use to create mapping to tables and to   point to map fields in the table.     Typically, you perform mappings on a table   to do extensions and use interface classes for table-specific logic.</td>
</tr>
<tr>
<td>Methods</td>
<td>Like methods for tables; however,   instead of having the same method on similar tables, you can create them on a   table map.</td>
</tr>
<tr>
<td>Events</td>
<td>The node exists but isn’t used.</td>
</tr>
</tbody>
</table>
<h2 id="manage-table-maps">Manage table maps</h2>
<p>You need to build table maps before you can use them.</p>
<h2 id="extend-table-maps">Extend table maps</h2>
<p>While you can extend tables and classes, you can’t extend table maps. To find the <strong>Create extension</strong> menu item, right-click the item or activate the context menu. No action occurs if you select <strong>Create extension</strong>. You must set up mappings in the table-to-table maps, and you can extend those tables.  Additionally, if you require special logic, you need to use an interface class.</p>
<p>To set up mappings in a table, locate the table in Application Explorer and then open it in the designer. In the <strong>Mappings</strong> node, as the following image shows, right-click the table or activate the context menu, and then select <strong>New Mapping</strong>. Then, enter the map name and field mapping that you want to use.</p>
<p><a data-linktype="relative-path" href="media/mappings.png#lightbox"><img alt=" Screenshot of the Mappings node." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/mappings.png"/></a></p>
<p>If you need special logic, create an abstract class for the interface. First, you need to create an abstract class for mapping by using the table-map name prefixed with <em>Interface</em>, as shown in the following code sample:</p>
<pre><code class="lang-xpp">public abstract class MyCustVendMapInterface
{
   protected   MyCustVendMap           myCustVendMap;
   private     MyCustVendMapInterface  origInstance;
 
   protected void new()
   {
   }
 
   private void initializeMyCustVendMap(MyCustVendMap _myCustVendMap = myCustVendMap)
   {
       myCustVendMap = _myCustVendMap;
   }
 
   public final MyCustVendMap getMyCustVendMap()
   {
       return myCustVendMap;
   }
 
   /// &lt;summary&gt;
   /// Creates a &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object based on the provided &lt;c&gt;MyCustVendMap&lt;/c&gt; record.
   /// &lt;/summary&gt;
   /// &lt;param name = "_myCustVendMap"&gt;A &lt;c&gt;MyCustVendMap&lt;/c&gt; record from which to create a &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; instance.&lt;/param&gt;
   /// &lt;returns&gt;The instantiated &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object.&lt;/returns&gt;
   public static MyCustVendMapInterface createInstance(MyCustVendMap _myCustVendMap)
   {
       SysPluginMetadataCollection metadataCollection = new SysPluginMetadataCollection();
 
       metadataCollection.SetManagedValue(classStr(MyCustVendMapInterface), tableId2Name(_myCustVendMap.tableId));
       MyCustVendMapInterface instance = SysPluginFactory::Instance(identifierStr(Dynamics.AX.Application), classStr(MyCustVendMapInterface), metadataCollection);
 
       if (!instance)
       {
           throw error(strFmt("@SYS19306", funcName()));
       }
 
       instance.initializeMyCustVendMap(_myCustVendMap);
 
       return instance;
   }
 
   /// &lt;summary&gt;
   /// Create a &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object based on the &lt;c&gt;MyCustVendMap&lt;/c&gt; orig-record.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The instantiated &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; object.
   /// &lt;/returns&gt;
   public final MyCustVendMapInterface origInstance()
   {
       if (!origInstance)
       {
           origInstance = MyCustVendMapInterface::createInstance(this.getMyCustVendMap().orig());
       }
 
       return origInstance;
   }
 
   /// &lt;summary&gt;
   /// Gets module type.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The &lt;c&gt;ModuleCustVend&lt;/c&gt; module type.
   /// &lt;/returns&gt;
   /// &lt;exception cref="Exception::Error"&gt;
   /// TableId is not associated with any module type.
   /// &lt;/exception&gt;
   public ModuleCustVend getModule()
   {
       throw error(strFmt("@SYS19306", funcName()));
   }
 
   /// &lt;summary&gt;
   ///    Initializes the current record by copying all fields from another record.
   /// &lt;/summary&gt;
   /// &lt;param name="_bomMap"&gt;
   ///    A record that is related to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.
   /// &lt;/param&gt;
   /// &lt;remarks&gt;
   ///    Both records relate to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.The &lt;c&gt;inventDimId&lt;/c&gt; value will be copied as
   ///    well.
   /// &lt;/remarks&gt;
   [Hookable(false)]
   public final void initFromMyCustVendMap(MyCustVendMap _map)
   {
       myCustVendMap.data(_map);
   }
 
}
</code></pre>
<p>For each table that requires specific mapping logic, you need to create a new class that extends the interface class, as the following code sample shows:</p>
<pre><code class="lang-xpp">using System.ComponentModel.Composition;
 
/// &lt;summary&gt;
/// The &lt;c&gt;MyCustVendMapMyCustTable&lt;/c&gt; class contains &lt;c&gt;MyCustTable&lt;/c&gt; table specific functionality and mapped fields
/// related to the &lt;c&gt;MyCustVendMapInterface&lt;/c&gt; table map.
/// &lt;/summary&gt;
[ExportMetadata(classStr(MyCustVendMapInterface), tableStr(MyCustVendMap)), ExportAttribute('Dynamics.AX.Application.MyCustVendMapInterface')]
public class MyCustVendMapMyCustTable extends MyCustVendMapInterface
{
   public ModuleCustVend getModule()
   {
       return ModuleCustVend::Cust;
   }
 
}
</code></pre>
<p>Next, you need to initiate the interface class in methods for the map, as the following code sample shows:</p>
<pre><code class="lang-xpp">public class MyCustVendMap extends common
{
   /// &lt;summary&gt;
   /// Create an interface instance.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The &lt;c&gt;MyCustVendMapInterface&lt;/c&gt;.
   /// &lt;/returns&gt;
   public MyCustVendMapInterface myCustVendMapInterface()
   {
       return MyCustVendMapInterface::createInstance(this);
   }
 
   /// &lt;summary&gt;
   /// Gets module type.
   /// &lt;/summary&gt;
   /// &lt;returns&gt;
   /// The &lt;c&gt;ModuleCustVend&lt;/c&gt; module type.
   /// &lt;/returns&gt;
   /// &lt;exception cref="Exception::Error"&gt;
   /// TableId is not associated with any module type.
   /// &lt;/exception&gt;
   public ModuleCustVend getModule()
   {
       return this.custVendTransOpenInterface().getModule();
   }
 
   /// &lt;summary&gt;
   ///    Initializes the current record by copying all fields from another record.
   /// &lt;/summary&gt;
   /// &lt;param name="bomMap"&gt;
   ///    A record that is related to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.
   /// &lt;/param&gt;
   /// &lt;remarks&gt;
   ///    Both records relate to the map of &lt;c&gt;BOMMap&lt;/c&gt; type.The &lt;c&gt;inventDimId&lt;/c&gt; value will be copied as
   ///    well.
   /// &lt;/remarks&gt;
   public void initFromMyCustVendMap(MyCustVendMap   _map)
   {
       this.MyCustVendMap::myCustVendMapInterface().initFromMyCustVendMap(_map);
   }
 
}
</code></pre>
<p>When you create your maps by using the outlined methods, you can make extensions, including:</p>
<ul>
<li>Table extensions that enable you to use mapping for a table.</li>
<li>Code extensions that enable you to change a map’s logic by right-clicking the class or activating the context menu and then selecting <strong>Create code extension</strong> (Chain of Command). Additionally, you can create pre-event and post-events for methods and use them in an event handler class.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a table, add fields, and create field groups</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a table, add fields, and create field groups</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>You need to turn off the batch service. Here are the steps to shut off the batch service:</p>
<ol>
<li>Open the command prompt in the environment and run as administrator.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Type <strong>sc queryex DynamicsAxBatch</strong>.</li>
<li>Find the <strong>PID number</strong>.</li>
<li>Then enter <strong>"taskkill /f /pid <em><strong>PID number</strong></em></strong> .</li>
</ol>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been asked to create a new
table for the Fleet Management company. The Fleet Management company needs to collect
customer information in a different way than the out-of-the-box <strong>All
Customers</strong> page. They want the table to contain both personal and
location data by using existing elements in the AOT.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Right-click Visual Studio and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>New Project</strong> dialog box, search for <strong>Finance Operations</strong> , and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>Select <strong>Fleet Management</strong> as the model in the first page.</li>
<li>Ensure that the <strong>Application suite</strong> model is referenced.</li>
<li>Select <strong>Next</strong> and finish the update.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu again.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure that the checkboxes for <strong>Organize projects by element type</strong> and
<strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-table">Create a table</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project
<strong>FleetManagementTableProject</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong> and then select
<strong>Data Model</strong>.</li>
<li>On the middle pane, select <strong>Table</strong>.</li>
<li>Enter <strong>FleetCustomersTable</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>.</li>
<li>The <strong>FleetCustomersTable</strong> will now be open in the <strong>Element Designer</strong> window.</li>
<li>Right-click the <strong>FleetCustomersTable</strong> heading in the element
designer and select <strong>Properties</strong>.</li>
<li>In the <strong>Properties</strong> window, in the <strong>Label</strong> field, enter <strong>Fleet
customers</strong>.</li>
</ol>
<h2 id="add-fields-to-the-table">Add fields to the table</h2>
<ol>
<li><p>In the Application object tree (AOT) in the <strong>Application Explorer</strong> window, expand the <strong>Data types</strong> node.</p>
</li>
<li><p>Expand the <strong>Extended Data Types</strong> node.</p>
</li>
<li><p>Select and drag the following EDTs onto the <strong>Fields</strong> node of the table <strong>FleetCustomersTable</strong>.</p>
<ul>
<li>FirstName</li>
<li>LastName</li>
<li>Email</li>
<li>Phone</li>
<li>AddressStreet</li>
<li>AddressCity</li>
<li>AddressStateId</li>
<li>AddressZipCodeId</li>
</ul>
</li>
<li><p>Select <strong>Save</strong> in the ribbon.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/fleetcustomers-table.png#lightbox"><img alt="Screenshot showing the FleetCustomersTable." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/fleetcustomers-table.png"/></a></p>
</div>
</li>
<li><p>Right-click the project in the Solution Explorer and click <strong>Synchronize FleetManagementTableProject(ISV) [Fleet Management]with Database</strong>.</p>
</li>
<li><p>Perform a build by right-clicking the project  <strong>FleetManagementTableProject</strong> in the <strong>Solution Explorer</strong> window and selecting <strong>Build</strong>.</p>
</li>
</ol>
<h2 id="create-field-groups-and-add-fields-to-the-field-groups">Create field groups and add fields to the field groups</h2>
<ol>
<li>In the Table designer, right-click the <strong>Field groups</strong> node of the  <strong>FleetCustomersTable</strong> heading.</li>
<li>Select <strong>New group</strong>.</li>
<li>Right-click the new field group and rename it <strong>PersonalInfo</strong>.</li>
<li>Expand the <strong>Fields</strong> node of the <strong>FleetCustomersTable</strong>.</li>
<li>Select and drag the <strong>FirstName</strong>, <strong>LastName</strong>, <strong>Email</strong>, and <strong>Phone</strong> fields from the <strong>Fields</strong> node to the <strong>PersonalInfo</strong> Field group.</li>
<li>In the table designer, right-click the <strong>Field groups</strong> node of the <strong>FleetCustomersTable</strong> heading.</li>
<li>Select <strong>New group</strong>.</li>
<li>Right-click the new field group and rename it <strong>LocationInfo</strong>.</li>
</ol>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/fleetcustomers-group.png#lightbox"><img alt="Screenshot showing the field groups in the FleetCustomersTable." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-tables-finance-operations/media/fleetcustomers-group.png"/></a></p>
</div>
<ol start="9">
<li>Expand the <strong>Fields</strong> node of <strong>FleetCustomersTable</strong>.</li>
<li>Select and drag the <strong>FirstName</strong>, <strong>LastName</strong>, <strong>Email</strong>, and <strong>Phone</strong> fields from the Fields node to the <strong>PersonalInfo</strong> field group.</li>
<li>Select and drag the <strong>AddressStreet</strong>, <strong>AddressCity</strong>, <strong>AddressStateId</strong>, and <strong>AddressZipCodeId</strong> fields from the Fields node to the <strong>LocationInfo</strong> field group.</li>
<li>Right-click the project in the Solution Explorer and click <strong>Synchronize FleetManagementTableProject(ISV) [Fleet Management] with Database</strong>.</li>
<li>Perform a build by right-clicking the project <strong>FleetManagementTableProject</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build</strong>.</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>A child table inherits properties from a parent table. Which two properties work together to control table inheritance?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The Support Inheritance and Table Type properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>The Table Type and Extends properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>The Extends and Supports Inheritance properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>The Allow Inheritance and Extends properties</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Is it correct that if a modification is made to a field group, such as the addition of a new field, any forms that contain that field group are updated to reflect that addition.</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>An index is an important element that is added to a table. Which of the following statements is true regarding indices?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The order of columns in an index isn't important.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A primary index should have the <strong>Allow Duplicates</strong> property set to <strong>Yes</strong>.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A non-clustered index organizes data in a table according to the order of the index.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>An index is used to improve the speed of data retrieval.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>A computed column is added to a view. Which data type should the static view method return for the computed column?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>The same type as the data type for the column.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A string with T-SQL</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A query object</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Tables are used when developing forms in Visual Studio, and they appear to the user as pages in finance and operations apps.</p>
<p>Tables contain data such as transactional information, journal entries,
products, and metadata such as system settings.</p>
<p>You can add EDTs and base enums to tables from your project in <strong>Solution
Explorer</strong> or from the AOT to populate the <strong>Fields</strong> node in the Table
designer.</p>
<p>Fields and field groups record data in rows and columns, like a
spreadsheet. The <strong>Properties</strong> window allows you to specify not only the
Name and Label of the table, but also the Table type, such as TempDB or
InMemory, as well as the Primary index and Cluster index. Indices are
created to speed up data retrieval in a table. They should be used if
the speed improvements that are gained outweigh the cost to maintain the index.</p>
<p>A table should always have a specified clustered index so you can determine how the table should be organized, and a specified primary index so you can determine the unique key on the table. An index is required when you are creating a table relation of type Foreign key relation.</p>
<p>If two tables contain related data, such as multiple tables that are used to collect customer information, you should create a table relation on the Relations node of the primary table in the table designer. You can
specify which fields are related and dictate if fields should restrict
records in the primary or related table.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps use an HTML web client that runs
in all major browsers, including Microsoft Edge, Google Chrome, and Safari.</p>
<p>Forms are created and managed in Visual Studio and will display to the
user as web pages in finance and operations apps. The user interface is
optimized for multiple platforms and mobile apps and is an easy-to-use
experience.</p>
<p>As the modern workforce becomes increasingly mobile, it's necessary to
have business applications with you always. With finance and operations apps, business logic is available anytime, any place, and on any device.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Add a new form to a project and apply a pattern</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a new form to a project and apply a pattern</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Form patterns are an integrated part of the form development
experience. These patterns provide form structure based on a style,
which includes required and optional controls. The patterns also provide
many default control properties. While applying a form pattern is not a
required part of the form development process, we recommend it as
a best practice. In addition to top-level form patterns, subpatterns can
be applied to container controls and provide guidance and consistency
for sub content on a form, such as a FastTab.</p>
<p>Patterns make form development easier by providing a guided experience
to ensure that the forms are correct and consistent. Patterns help validate form and control structures and validate the use of controls in some places. Patterns also help guarantee that each new form that a user
encounters is immediately recognizable in appearance and function. Because patterns provide many default layout properties, forms help ensure a responsive layout. Finally, patterns also help guarantee better
compatibility with patches, hotfixes, and upgrades.</p>
<p>Many form styles and templates from Microsoft Dynamics AX 2012 are still supported in finance and operations apps. For legacy styles or templates that are no longer supported, migration paths to current patterns are typically available. Numerous form patterns are used in these apps, and the most common ones you encounter and develop are highlighted in the following list. For a complete list of supported form patterns and subpatterns, refer to the <strong>Summary</strong> unit of this module.</p>
<ul>
<li><strong>Simple List pattern</strong> - Used to maintain data for entities that contain six or fewer fields and no parent/child relationships.</li>
<li><strong>Simple List and Details pattern</strong> - Used to maintain data for    entities that contain six or more fields.</li>
<li><strong>Simple Details pattern</strong> - Used to present a simple set of fields    to the user; generally, it is in view mode instead of in edit mode.</li>
<li><strong>Master Details pattern</strong> - Used as a primary method for entering    data. Users can view and edit data that is organized into expandable    and collapsible FastTabs.</li>
<li><strong>Details Transaction pattern</strong> - Used to present data details in a    Header view and a Line view.</li>
<li><strong>List Page pattern</strong> - Used to present data in a manner that is    optimized for browsing records and allows the user to take action on a specific record.</li>
<li><strong>Table of Contents pattern</strong> - Used when at least two forms are    required for setup configuration.</li>
<li><strong>Workspace pattern</strong> - Used to create a finance and operations apps    workspace, which is a grouping of tasks and specific pages that are used for significant business activity.</li>
<li><strong>Wizard pattern</strong> - Used to guide a user through a specific task    by using an ordered series of tab pages.</li>
</ul>
<h2 id="working-with-forms-in-visual-studio">Working with forms in Visual Studio</h2>
<p>In Visual Studio, a form is added to a project in the Solution Explorer
window. The form designer window looks different from other element
designers because of the additional panes.</p>
<p><a data-linktype="relative-path" href="media/form-designer.png#lightbox"><img alt="Screenshsot of the Visual Studio Form designer window." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/form-designer.png"/></a></p>
<p>The left and right panes are used to manage the form and design options, while the bottom pane shows the pattern design as well as a preview of how the form is viewed in the user interface. The form's left pane is used to manage methods, events,
and data sources, while the right pane is used to apply patterns and
subpatterns. The bottom pattern pane is like a wizard because it guides
you through the necessary steps to complete the pattern. If elements are
added in a different order than what the pattern pane commands or not
all the elements are added, you will encounter errors when performing a
build.</p>
<p>The following video shows how to add a form to a project and apply a pattern to the form:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=40c5f4bb-6608-4daa-9681-891a80fe0937"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Add a data source to a form</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a data source to a form</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>To display content on a page in the user
interface, a data source must be added to a form in the <strong>Form designer</strong> window of Visual Studio. You can select and drag a table or query from
your project in the <strong>Solution Explorer</strong> window or drag a system table from the <strong>Application Explorer</strong> window. You can choose to use one table or many tables, depending on the number of fields that you will use for your form.</p>
<p><a data-linktype="relative-path" href="media/data-source.png#lightbox"><img alt="Screenshsot of the Visual Studio Form designer window highlighting Data Sources options." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/data-source.png"/></a></p>
<h2 id="add-a-data-source-to-your-form-using-the-application-object-tree-aot">Add a data source to your form using the Application Object Tree (AOT)</h2>
<p>Follow these steps to add a data source from the AOT to your form by using a select and drag process:</p>
<ol>
<li>Ensure that your form is open in the form designer window in Visual    Studio.</li>
<li>In the <strong>Application Explorer</strong> window, expand the <strong>AOT</strong> node. You can view the <strong>Application Explorer</strong> window by going to <strong>View &gt; Application Explorer</strong>.</li>
<li>Expand the <strong>Data Model</strong> node.</li>
<li>Expand the <strong>Tables</strong> or <strong>Table Extensions</strong> node, depending on the    type of data source that you are adding.</li>
<li>Select and drag your desired table from the <strong>AOT</strong> node to the <strong>Data Sources</strong> node in the left pane of the form designer window.</li>
</ol>
<h2 id="add-a-data-source-from-the-data-sources-node">Add a data source from the data sources node</h2>
<p>Alternatively, you can add a data source to your form by using the <strong>Data Sources</strong> node in the form designer.</p>
<p>Follow these steps to add a data source from your project:</p>
<ol>
<li>Ensure that your form is open in the form designer window in Visual     Studio.</li>
<li>In the left pane of the designer, right-click the <strong>Data Sources</strong>    node and select <strong>New Data Source</strong>.</li>
<li>Select <strong>DataSource1</strong> under the <strong>Data Sources</strong> node and go to the <strong>Properties</strong> window.</li>
<li>Select your table in the <strong>Table</strong> property drop-down menu. You can    also select any table from the <strong>AOT</strong> node in this menu.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Add grids, fields, and groups to a form</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add grids, fields, and groups to a form</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When a table is listed under the <strong>Data Sources</strong> node on the left pane
of the Form designer window, it can then be used to add fields to the
<strong>Grid</strong> node of the pattern design. The pattern that you select will
determine the presence and/or location of the grid. Individual fields
can also be dragged from the <strong>Fields</strong> node under the individual table
in the <strong>Data Sources</strong> node to the right pane in the <strong>Grid</strong> node under
the <strong>Design</strong> node.</p>
<p>A grid contains columns and rows and will display to the user as a table
in a finance and operations apps page. Groups are part of multiple form
patterns and are added to the form as filters. You can add quick filters
and customer filters by applying a subpattern to the Group control.</p>
<p>Follow these steps to add more controls to your form:</p>
<ol>
<li>In Visual Studio, ensure that you have applied your desired form pattern by right-clicking the <strong>Design</strong> node on the right pane and selecting <strong>Apply pattern</strong>.</li>
<li>After adding a data source by following the steps in the previous unit, you will now begin adding controls to the form by following the steps in the correct order on the <strong>Pattern</strong> tab on the bottom pane of the form designer window. For example, in a Simple List form pattern, you need to add an Action Pane, then a Group, and lastly, a Grid.</li>
<li>Right-click the <strong>Design</strong> node on the right pane of the form  designer and select <strong>New &gt; Action Pane</strong>.</li>
<li>Right-click the <strong>Design</strong> node and select <strong>New &gt; Group</strong>. Notice  that the Group control requires a pattern. Based on the form type, you will choose a desired subpattern.</li>
<li>Right-click the <strong>Design</strong> node and select <strong>New &gt; Grid</strong>.</li>
<li>From the left pane, expand the <strong>Data Sources</strong> node and then expand your table.</li>
<li>Expand the <strong>Fields</strong> node of your table.</li>
<li>Select the fields that you want displayed in the grid on your form, in the order that you want them displayed in the form. You can select multiple fields by using the <strong>Ctrl</strong> key.</li>
<li>Drag the selected fields from the <strong>Fields</strong> node on the left pane to the <strong>Grid</strong> node on the right pane.</li>
</ol>
<p>For the Simple List form pattern, you have now fulfilled all necessary controls. Depending on your selected form pattern, there could be additional required controls and subpatterns.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Form methods</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Form methods</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Forms are main elements of finance and operations development. Many standard forms are already available in the application.</p>
<p>You can also create new forms. Each form consists of form methods, which can be classified as standard methods or custom methods.
Standard methods must have a <code>super()</code> call to implement the parent method. Standard and custom methods are available with all standard and custom forms. You can extend the existing form methods and include code by using chain of command.</p>
<h2 id="standard-form-methods">Standard form methods</h2>
<p>The following sections explain the standard form methods in the finance and operations apps development platform.</p>
<h3 id="init">init()</h3>
<p>The <code>init()</code> method is a standard method that's called when a form is opened. This method helps to initialize the form, and it's run after the constructor method <code>new()</code>. The <code>init()</code> method is responsible for creating the runtime interface of the form. Mostly, you'll use this method when you need to:</p>
<ul>
<li>Initialize the form level variables.</li>
<li>Get parameter data from args().</li>
<li>Initialize a data source query.</li>
<li>Set the properties of the controls that aren't record dependent.</li>
</ul>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has an enum type field called <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. The form should be opened with those records where <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The code pattern is as follows:</p>
<pre><code class="lang-xpp">public void init()
{
        super();
        TrainingMaster_ds.query().dataSourceName("TrainingMaster")
        .addRange(fieldNum(TrainingMaster,TrainingType))
        .value(enum2Str(TrainingType::Online));
}
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>Modifications to the data source should be done only after the <code>super()</code> call because the base initialization happens there.</p>
</div>
<h3 id="close">close()</h3>
<p>The <code>close()</code> method is a standard method that's called when a form is closed. The <code>super()</code> call in this method closes the form, manages the database updates, and sets the <code>closed()</code> method to true. You can use the <code>closeCancel()</code> or <code>closeOK()</code> methods to initiate the <code>close()</code> method. Additionally, you can use the <code>close()</code> method to forcefully clear the values of some variable or to deallocate a class. Make sure that you complete these actions before the <code>super()</code> call. Often, <strong>NumberSequence</strong> classes are called from the <code>close()</code> method to facilitate an abort operation.</p>
<h3 id="closecancel">closeCancel()</h3>
<p>The <code>closeCancel()</code> method is a standard method that's called when a form is canceled. The <code>super()</code> call in this method updates the Boolean value of <code>closedCancel()</code>and ensures that the modifications in the form aren't saved.</p>
<h3 id="closeok">closeOK()</h3>
<p>The <code>closeOK()</code> method is a standard method that's called when a form is closed by selecting the <strong>OK</strong> button. The <code>super()</code> call in this method updates the Boolean value of <code>closedOK()</code> and calls the <code>close()</code> method.</p>
<h3 id="run">run()</h3>
<p>The <code>run()</code> method is a standard method that's called immediately after the <code>init()</code> method. The <code>super()</code> call in this method makes the form window appear on the screen and performs a database search for the data to be displayed in the form.</p>
<p>Typical reasons for overriding this method include:</p>
<ul>
<li>Activating or deactivating some fields.</li>
<li>Modifying the query.</li>
</ul>
<h2 id="standard-form-data-source-methods">Standard form data source methods</h2>
<p>The following sections explain the standard form data source methods in the finance and operations apps development platform.</p>
<h3 id="init-1">init()</h3>
<p>The <code>init()</code> method is a standard method of a form data source, which is called when a form is opened after the implementation of the form <code>init()</code> method. This method helps create a data source query based on the data source properties.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has an enum type field named <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. The form should be opened with those records, where <strong>TrainingType</strong> is <strong>Online</strong>.</p>
<p>The code pattern should be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {

        public void init()
        {
            super();
            this.query().dataSourceName("TrainingMaster")
            .addRange(fieldNum(TrainingMaster,TrainingType))
            .value(enum2Str(TrainingType::Online));
        }
    }
</code></pre>
<h3 id="active">active()</h3>
<p>The <code>active()</code> method is a standard method of a form data source that's called when a user navigates to a new record.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>Venue</strong> and an enum type field named <strong>TrainingType</strong>, which has two values of <strong>Online</strong> and <strong>Classroom</strong>. While you're navigating through the records, the <strong>Venue</strong> field will be uneditable if <strong>TrainingType</strong> is <strong>Online</strong>. Otherwise, the <strong>Venue</strong> field will be editable.</p>
<p>The code pattern should be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public int active()
        {
            int ret;
        
            ret = super();
            TrainingMaster_ds.object(fieldNum(TrainingMaster, 
            Venue)).allowEdit(TrainingMaster.TrainingType == TrainingType::Classroom);
        
            return ret;
        }
    }
</code></pre>
<h3 id="validatewrite">validateWrite()</h3>
<p>The <code>validateWrite()</code> method is a standard method of a form data source, which is called when a user attempts to save a record to determine whether data is valid and ready to be written.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a date field named <strong>TrainingDate</strong>. No backdated training data should be allowed.</p>
<p>The following code pattern can be a way to achieve this result:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public boolean validateWrite()
        {
            boolean ret;
        
            ret = super() &amp;&amp; (TrainingMaster.TrainingDate &gt;= today());
        
            return ret;
        }
    }
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>You don’t want to let the <code>validateWrite()</code> method fail without a message regarding why. A best practice would be to throw an error with a specific message rather than using the Boolean return of the <code>if</code> statement.</p>
</div>
<h3 id="validatedelete">validateDelete()</h3>
<p>The <code>validateDelete()</code> method is a standard method of a form data source, which is called when a user attempts to delete a record, to confirm the deletion.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a date field named <strong>TrainingDate</strong>. No backdated training data should be deleted.</p>
<p>The following code pattern can be a way to achieve this result:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public boolean validateDelete()
        {
            boolean ret;
        
            ret = super() &amp;&amp; (TrainingMaster.TrainingDate &gt;= today());
        
            return ret;
        }
    }
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>You should throw an error with a message rather than let the <code>validateDelete()</code> method silently fail.</p>
</div>
<h3 id="executequery">executeQuery()</h3>
<p>The <code>executeQuery()</code> method is a standard method of a form data source that runs the data source query and displays the retrieved records. You can apply a filter on the data source that uses a query by overriding <code>executeQuery()</code>. The main difference between this method and the <code>init()</code> method is that the <code>init()</code> method runs once during the opening of the form, whereas the <code>executeQuery() </code> method runs whenever the form is refreshed.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has an enum type field named <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. The data in the form should be filtered with the <strong>Trainingtype</strong> of <strong>Online</strong> only.</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public void executeQuery()
        {
            QueryBuildDataSource  queryBuildDataSource;
 
            queryBuildDataSource = 
               this.query().dataSourceTable(tablenum(TrainingMaster));
            queryBuildDataSource.clearRanges();
            queryBuildDataSource.addRange(fieldnum(TrainingMaster, 
               TrainingType)).value(enum2Str(TrainingType::Online));

            super();
        }
    }
</code></pre>
<h3 id="initvalue">initValue()</h3>
<p>The <code>initValue()</code> method is a standard method of a form data source. While you're inserting a new record, <code>initValue()</code> can help you initialize field values. This method is called when a new record is created.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a date field named <strong>TrainingDate</strong>. During the creation of a new record, the <strong>TrainingDate</strong> field should be initialized with today’s date.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public void initValue()
        {
            super();
            TrainingMaster.TrainingDate = today();
        }
    }
</code></pre>
<h3 id="write">write()</h3>
<p>The <code>write()</code> method is a standard method of a form data source. This method is called when a record is modified and when you've attempted to save it by selecting the <strong>Save</strong> button or navigating out of the record.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a real field called <strong>Price</strong> that indicates the total price of the trainer. It also contains an integer field called <strong>NoofDays</strong> that indicates the duration of the training. Additionally, the table has a field named <strong>TrainerID</strong>, which creates a foreign key with the <strong>TrainerTable</strong>. The <strong>TrainerTable</strong> has a real field called <strong>Rate</strong>, which captures the daily rate of the trainers.</p>
<p>After you've saved the record in the <strong>TrainingMaster</strong> table, the <strong>Price</strong> field of the <strong>TrainerMaster</strong> table should be updated with the multiplication of <strong>NoofDays</strong> and <strong>Rate</strong> of the <strong>TrainerTable</strong>.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        public void write()
        {
            TrainingMaster.Price = TrainerTable::find(TrainingMaster.TrainerID).Rate * TrainingMaster.NoofDays;
            super();
        }
    }
</code></pre>
<h3 id="delete">delete()</h3>
<p>The <code>delete()</code> method is a standard method of a form data source. This method is called when a record is deleted.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>TrainerID</strong>, which has a foreign key relation with the <strong>TrainerTable</strong>. <strong>TrainerTable</strong> has a field named <strong>TrainingCount</strong>. The requirement is to reduce the <strong>TrainingCount</strong> number by one if a record is deleted from the <strong>TrainingMaster</strong> table.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">public void delete()
        {
            TrainerTable    trainerTable;
            ttsbegin;
            trainerTable = TrainerTable::find(TrainingMaster.TrainerID, true);
            trainerTable.TrainingCount = trainerTable.TrainingCount - 1;
            trainerTable.update();
            ttscommit;
            super();
            
        }
</code></pre>
<h2 id="standard-form-data-source-field-methods">Standard form data source field methods</h2>
<p>The following sections explain the standard form data source field methods in the finance and operations apps development platform.</p>
<h4 id="modified">modified()</h4>
<p>The <code>modified()</code> method is a standard method on the field of the form data source. This method is called when the value of a specific field is modified.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>Venue</strong> and an enum type field named <strong>TrainingType</strong> that has two values: <strong>Online</strong> and <strong>Classroom</strong>. If <strong>Online</strong> is selected for the <strong>TrainingType</strong>, the <strong>Venue</strong> field should become blank.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class TrainingType 
        {
            public void modified()
            {
                super();
                if(TrainingMaster.TrainingType == TrainingType::Online)
                    TrainingMaster.Venue = "";
            }
        }
    }
</code></pre>
<h3 id="validate">validate()</h3>
<p>The <code>validate()</code> method is a standard method on the field of the form data source. This method is called when a value is entered in a specific field, and it's overridden if extra field validation is needed.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>Participants</strong>, where entering a number higher than <strong>20</strong> isn't allowed.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class Participants 
        {
            public boolean validate()
            {
                boolean ret;
                ret = super() &amp;&amp; (TrainingMaster.Participants &lt;= 20);
                return ret;
            }
        }
    }
</code></pre>
<p>Make sure that you offer a reason for errors that are thrown, as shown in the following code example:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class Participants 
        {
            public boolean validate()
            {
                boolean ret;
                if (TrainingMaster.Participants &gt; 20)
                {
                    throw error("Maximum 20 participants");
                    return false;
                }
                ret = super();
                return ret;
            }
        }
    }

</code></pre>
<h3 id="lookup">lookup()</h3>
<p>The <code>lookup()</code> method is a standard method on the field of the form data source. This method is called when a lookup operation is attempted on a data source field. If data that's shown in the lookup form must be customized with some filter, the <code>lookup()</code> method should be overridden.</p>
<p><strong>Example</strong></p>
<p>You have a custom form with a table named <strong>TrainingMaster</strong>. The table has a field named <strong>TrainerID</strong> that creates a foreign key with the <strong>TrainerTable</strong>. <strong>TrainerTable</strong> has an enum field called <strong>TrainerType</strong> that has two values: <strong>Technical</strong> and <strong>Functional</strong>. The lookup in the <strong>TrainerID</strong> field should display only technical trainers.</p>
<p>The coding pattern can be as follows:</p>
<pre><code class="lang-xpp">[DataSource]
class TrainingMaster
    {
        [DataField]
        class TrainerID 
        {
            public void lookup(FormControl _formControl, str _filterStr)
            {
                SysTableLookup sysTableLookup = 
                   SysTableLookup::newParameters(tableNum(TrainerTable),_formControl);
                
                Query query = new Query();
                QueryBuildDataSource qbds;
                qbds= query.addDataSource(tableNum(TrainerTable));
                qbds.addRange(fieldNum(TrainerTable, 
                     TrainerType)).value(enum2Str(TrainerType::Technical));

                sysTableLookup.addLookupfield(fieldNum(TrainerTable,TrainerID));
                sysTableLookup.addLookupfield(fieldNum(TrainerTable,TrainerName));

                sysTableLookup.parmQuery(query);
                sysTableLookup.performFormLookup();
            }
        }
    }
</code></pre>
<h2 id="extension-of-a-form-method">Extension of a form method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>init()</code> method of the form:</p>
<pre><code class="lang-xpp">[ExtensionOf(formStr(Currency))]
final class CurrencyForm_Extension
{
    public void init()
    {
        //code
        next init();
        //code
    }
}
</code></pre>
<h2 id="extension-of-a-form-data-source-method">Extension of a form data source method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form data source method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>initValue()</code> method of the form data source:</p>
<pre><code class="lang-xpp">[ExtensionOf(FormDataSourceStr(Currency, Currency))]
final class CurrencyFormCurrencyTableDataSource_Extension
{
    public void initValue()
    {
        //code
        next initValue();
        //code
    }
}
</code></pre>
<h2 id="extension-of-a-form-data-source-field-method">Extension of a form data source field method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form data source field method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>lookup()</code> method of the form data source fields:</p>
<pre><code class="lang-xpp">[ExtensionOf(formDataFieldStr(CustTable, CustTable, CustGroup))]
final class CustTableFormDataFieldCustGroup_Extension
{
    public void lookup(FormControl _formControl, str _filterStr)
    {
        //Code
        next lookup(_formControl, _filterStr);
        //Code
    }
}
</code></pre>
<h2 id="extension-of-a-form-control-method">Extension of a form control method</h2>
<p>Chain of command is an option that helps you enhance the functionality of a form control method. This option is applicable for standard methods and custom methods of the form.</p>
<p>You can use the following code pattern if you need to extend the <code>clicked()</code> method of the form button control:</p>
<pre><code class="lang-xpp">[ExtensionOf(formControlStr(CustTable, DirPartyEntityAssociationUpdate))]
final class CustTableFormControlDirPartyEntityAssociationUpdate_Extension
{
    public void clicked()
    {
        //code
        next clicked();
        //Code
    }
}
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create, populate, and extend menu items</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create, populate, and extend menu items</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Menu items are used in the finance and operations apps user interface to
present the user with a button that will link to a page, dialog box,
report, or perform a task. Different types of menu items are available in Visual Studio:</p>
<ul>
<li><strong>Display menu item</strong> - For runnable application objects that primarily present forms and dialogs to the user.</li>
<li><strong>Output menu item</strong> - For runnable application objects whose  primary function is to print a result, such as a report.</li>
<li><strong>Action menu item</strong> - For runnable application objects whose primary function is to do a job, such as creating or updating transactions in the database.</li>
</ul>
<p>Without a menu item, the user would have to manually type in a web
address for the form. Menu items give the user simpler way to go
to a page by selecting a button or link. The finance and operations apps
navigation pane can be extended to add a new module or to add a page to
an existing module.</p>
<p>The screenshot shows a menu item that has been added to a form in the developer environment:</p>
<p><a data-linktype="relative-path" href="media/form-designer.png#lightbox"><img alt="Screenshot of a menu item that has been added to a form in the developer environment." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/form-designer.png"/></a></p>
<h2 id="extend-menu-items">Extend menu items</h2>
<p>You can use menu items in the UI to navigate forms, jobs, and reports, and you can make extensions of existing menu items to enable developers to make small adjustments to the UI.</p>
<p>With menu item extensions, you can change the following on all three types of menu items:</p>
<ul>
<li><strong>Help text</strong> - Help text appears in the UI.</li>
<li><strong>Label</strong> - Label is the name of the menu item.</li>
<li><strong>Tags</strong> - Tags for the element.</li>
</ul>
<p>For menu items that have an <strong>Action</strong> or <strong>Output</strong> type, you also can change the <strong>Object</strong>, that refers to the object to run. You can use your own object rather than the standard object. It’s important to note that <strong>Object type</strong> can’t be changed.</p>
<p>When you extend menu items, it enables you to make minor changes to the UI and for some types of the object’s menu items.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and extend menus</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and extend menus</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can create new menus in finance and operations apps. Then, you can connect them to menu items so that new customizations are available in the navigation pane for users.</p>
<p>When you connect the display and output menu items, you can open forms and reports directly from the finance and operations apps user interface (UI). Similarly, you can run classes from the UI and connect action menu items to the menu.</p>
<p>In finance and operations apps, the navigation pane is on the left side of the UI. Expanding the <strong>Modules</strong> section opens all menus to which you have access. Selecting a module opens the menu, as shown in the following screenshot.</p>
<p><a data-linktype="relative-path" href="media/modules-navigation.png#lightbox"><img alt="Screenshot of the modules section in the navigation pane." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/modules-navigation.png"/></a></p>
<p>You can create all menus in Microsoft Visual Studio.</p>
<h2 id="create-menus">Create menus</h2>
<p>To add menus to a project, follow these steps:</p>
<ol>
<li>Open the <strong>Solution Explorer</strong> window, right-click the project or activate the context menu.</li>
<li>Select <strong>Add</strong>, <strong>New Item</strong>.</li>
<li>Under <strong>User Interface</strong>, select <strong>Menu</strong>, and then provide a name for the new item.</li>
<li>Then, you can modify these menus in the <strong>Designer</strong> and <strong>Properties</strong> windows. A menu’s designer window contains a top-level node with the menu name.</li>
</ol>
<p>The following table lists the most common properties that you can use for menus.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Disabled Image</td>
<td>Specifies   the image to display when the control is disabled</td>
</tr>
<tr>
<td>Label</td>
<td>Indicates   the menu’s label</td>
</tr>
<tr>
<td>Normal Image</td>
<td>Specifies   the image to display when the control is enabled</td>
</tr>
<tr>
<td>Configuration Key</td>
<td>Indicates   the control’s security access</td>
</tr>
<tr>
<td>Parameters</td>
<td>Specifies   the parameters to pass to the object</td>
</tr>
<tr>
<td>Short Cut</td>
<td>Specifies   the shortcut key combination for the menu</td>
</tr>
</tbody>
</table>
<p>In the designer window, right-click a menu or activate the context menu, and then select <strong>New</strong> to create one of the following components:</p>
<ul>
<li>Menu item reference (Display, Action, or Output)</li>
<li>Separator</li>
<li>Sub menu (has almost the same properties as Menu)</li>
<li>Menu reference: a menu can consist of other menus. Select a menu in the <strong>Menu Name</strong> property.</li>
<li>Tile (use for workspaces)</li>
</ul>
<p>You can move Menu item references from Solution Explorer or Application Explorer to the menu for quick creation.</p>
<p>The following image shows the designer view of a standard menu with groups of submenus.</p>
<p><a data-linktype="relative-path" href="media/designer-view-standard-menu.png#lightbox"><img alt="Screenshot of the designer view of a standard menu with groups of submenus." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/designer-view-standard-menu.png"/></a></p>
<p>If you can’t find a menu item, check whether extensions exist. You can add workspaces to a menu by using an extension in model workspaces.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Test form functionality and data connections</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Test form functionality and data connections</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When the requirements for a form pattern have been completed, and before
a form goes into production, you should test its functionality in Visual
Studio.</p>
<p>From the <strong>Solution Explorer</strong> window, right-click the form and select
<strong>Set as Startup Object</strong>. You can then perform a build and preview
the form in a browser window inside of the virtual machine. This will
allow you to verify that you applied the correct form pattern based on
the desired look of the page. You can also check the various form
components, ensuring that the correct fields are showing in a grid and the filters are displaying correctly.</p>
<p>Watch the following video to see the process for setting a form as a startup object and previewing it in a web browser.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=81606ad4-f370-49c7-9c2b-1a2a14610a79"></iframe></div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Diagnose and optimize client performance</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Diagnose and optimize client performance</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use various browser-based tools and the Performance timer tool
to diagnose and optimize client performance of finance and operations apps.</p>
<h2 id="diagnose-and-optimize-client-performance-by-using-browser-based-tools">Diagnose and optimize client performance by using browser-based tools</h2>
<p>To optimize the performance of forms and diagnose any potential issues,
you can use browser-based tools, such as Fiddler, the Developer tools
option in Chrome, and Trace Parser. You can test your form's performance in a browser by setting the form as a startup object and previewing the form in a browser window.</p>
<p>When you troubleshoot service authentication issues, a few basic and
common procedures can help resolve the issues that are most often
encountered. Poorly performing forms can slow down a system, degrading
the user experience, and sometimes rendering a module unusable.
Optimizing your forms for higher performance will ensure that your work
is useful and appreciated by users. Fiddler is a free, browser-based
debugger tool that is used to diagnose authentication issues. It is customizable and uses a robust extensibility model, where you can run simple Fiddler Script tests or write your own test by using any .NET
language. Fiddler also has a timeline that shows the duration of a
selected session so you can better understand how finance and operations apps
is using your network. You can then use the performance analysis data to
make adjustments to enhance order requests in finance and operations apps and
optimize the network performance.</p>
<p>In Google Chrome, you can open the <strong>Developer tools</strong> window by selecting <strong>Ctrl+Shift+i</strong>. On the <strong>Performance</strong> tab, you can record your scenario, such as loading the page or performing other actions within the page. When you have finished performing the action that you want to test, stop the recording and then perform an analysis. You will see a breakdown on time spent loading, scripting, and rendering the page. On the <strong>Network</strong> tab, you can capture <strong>ProcessMessage</strong> calls and analyze each call independently.</p>
<p>Trace Parser is built into finance and operations apps and is used to analyze
performance issues. In the top-right corner of the application, select
the <strong>Help &amp; Support</strong> question mark button and then select <strong>Trace</strong>.
Enter a name for your trace in the <strong>Trace name</strong> field and then
select <strong>Start trace</strong>. Next, perform the action that you want to
analyze, such as loading a page or performing an action on a page. When
you finish, select <strong>Stop trace</strong>. The trace is now available to be
downloaded to your local machine or you can upload it to the cloud. The
trace is analyzed by using the desktop version of Trace Parser. Select the <strong>Captured traces</strong> button on the <strong>Trace</strong> page to manage or delete
uploaded traces. Uploaded traces are automatically deleted
after seven days.</p>
<p>For more information on performance testing, see the modules that are listed in the Summary unit of this module.</p>
<h2 id="diagnose-and-optimize-client-performance-by-using-performance-timer">Diagnose and optimize client performance by using Performance timer</h2>
<p>Performance timer is a tool that aids in diagnosing performance
issues on the client and server. Performance timer is generated by
opening a web page with the added parameter <code>debug=develop: https://&lt;yoursite&gt;.cloud.test.dynamics.com/en/?cmp=USMF&amp;debug=develop</code>.
The Performance timer will appear in the top-right corner of finance and
operations where you can see the separations between client time and
server time, as well as the total time when selecting a page. The Performance timer provides links for you to view information regarding forms, garbage collection, web client sessions, and services session providers.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Optimize form loading and performance</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize form loading and performance</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>When navigating in finance and operations apps, users want pages to load
quickly and performance to be high. While development or sandbox
environments are lower tier environments that perform at a
slower pace, production environments will move much quicker.</p>
<p>An important part of form development is to run the form in a browser
window. You can do this by setting the form as a startup object in
the Solution Explorer and starting it with or without the debugger.
By running the debugger and using the <strong>Debug</strong> menu in Visual Studio, you can go through your code and view information about the state
of the application.</p>
<p>In code that is on a form, you can use <code>info()</code> statements to log
status messages that you can view through the <strong>Infolog</strong> window. In the
browser window, you will be able to note any delays that occur in
loading the form, whether you are running with or without debugging.</p>
<p>To close out of the debugger, close the browser for finance and
operations apps, and then Visual Studio will automatically exit debugging mode.</p>
<p>By analyzing the data that is displayed on a form and removing any unnecessary fields, you can increase performance on forms.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a form</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a form</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer is asked to create a new form
for the Fleet Management company. The company wants a simple page to
enter customer information. They want the form to pull fields from
the <code>CustTable</code> element.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Close Microsoft Edge, and finance and operations in the Lab environment.</li>
<li>Right-click Visual Studio and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>In the <strong>Model name</strong> field, select <strong>Fleet Management</strong>.</li>
<li>Select <strong>Next</strong>.</li>
<li>Select the following models, by selecting the checkmark next to the model. Any models that are already selected should remain selected.
<ul>
<li>ApplicationCommon</li>
<li>ApplicationFoundation</li>
<li>ApplicationPlatform</li>
<li>ApplicationSuite</li>
<li>ContactPerson</li>
<li>Currency</li>
<li>GeneralLedger</li>
<li>Ledger</li>
<li>Personnel</li>
<li>Retail</li>
<li>Tax</li>
</ul>
</li>
<li>Select <strong>Next</strong> until the form closes.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog box, if you don't see <strong>Finance Operations</strong> in the <strong>Recent project templates</strong> list, search for it, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementFormProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select  <strong>Projects</strong>.</li>
<li>Ensure that the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected already. If they are not, then do so.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-form">Create a form</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click the project <strong>FleetManagementFormProject (ISV)</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> select <strong>User Interface</strong>.</li>
<li>On the middle pane, select <strong>Form</strong>.</li>
<li>Enter <strong>FleetCustomersForm</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>. The <strong>FleetCustomersForm</strong> form opens in the form designer window.</li>
</ol>
<p><a data-linktype="relative-path" href="media/create-form.png#lightbox"><img alt="Screenshsot of the FleetCustomersForm form in the form designer window." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/create-form.png"/></a></p>
<h2 id="add-a-pattern-and-data-source-to-the-form">Add a pattern and data source to the form</h2>
<ol>
<li>In the form designer window, right-click the <strong>Design</strong> node of the Simple List on the right pane.</li>
<li>Select <strong>Apply pattern &gt; Simple List</strong>.</li>
<li>On the left pane of the form designer window, right-click the <strong>Data Sources</strong> node.</li>
<li>Select <strong>New Data Source</strong>.</li>
<li>With the new item <strong>DataSource1</strong> selected, right-click and select <strong>Properties</strong>.</li>
<li>In the <strong>Properties</strong> window in the bottom right of the screen, select <strong>CustTable</strong> from the drop-down menu, or simply type it in for the <strong>Table</strong> property,.</li>
<li>Select the <strong>Save</strong> icon in the ribbon.</li>
</ol>
<h2 id="build-the-simple-list-form-pattern">Build the simple list form pattern</h2>
<ol>
<li><p>Click in the bottom <strong>Pattern</strong> pane of the form designer. You need an <strong>ActionPane</strong>, <strong>Group</strong>, and <strong>Grid</strong> to complete the form pattern.</p>
</li>
<li><p>On the right pane of the form designer, right-click the <strong>Design</strong> of the Simple List node .</p>
</li>
<li><p>Select <strong>New &gt; Action Pane</strong>.</p>
</li>
<li><p>With the new Action Pane node selected, go to the <strong>Properties</strong> window and change the <strong>Name</strong> property to <strong>ActionPane</strong>.</p>
</li>
<li><p>Collapse the <strong>ActionPane</strong> node to keep the right pane of the design node simplified.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the <strong>Design</strong> node of the Simple List on the right pane of the form designer.</p>
</li>
<li><p>Select <strong>New &gt; Group</strong>.</p>
</li>
<li><p>With the new group selected, go to the <strong>Properties</strong> window and change the <strong>Name</strong> property to <strong>Filters</strong>.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Right-click the <strong>Filters</strong> node on the right pane of the form designer.</p>
</li>
<li><p>Select <strong>Apply pattern &gt; Custom and Quick Filters</strong>.</p>
</li>
<li><p>Right-click the <strong>Filters</strong> node on the right pane of the form designer again.</p>
</li>
<li><p>Select <strong>New &gt; QuickFilter</strong>.</p>
</li>
<li><p>With the new QuickFilter selected, go to the <strong>Properties</strong> window and change the <strong>Name</strong> property to <strong>QuickFilter</strong>.</p>
</li>
<li><p>On the right pane of the form designer, collapse the <strong>Filters</strong> node.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
<p><a data-linktype="relative-path" href="media/quick-filter.png#lightbox"><img alt="Screenshsot of the QuickFilter property." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/quick-filter.png"/></a></p>
</li>
<li><p>Right-click the main <strong>Design</strong> node on the right pane of the form designer.</p>
</li>
<li><p>Select <strong>New &gt; Grid</strong>.</p>
</li>
<li><p>With the new Grid selected, change the <strong>Name</strong> property in the <strong>Properties</strong> window to <strong>MainGrid</strong>.</p>
</li>
<li><p>On the left pane of the form designer, under the <strong>Data Sources</strong> node, and under the  <strong>CustTable</strong> node, expand the <strong>Fields</strong> node.</p>
</li>
<li><p>Select and drag the <strong>Party</strong>, <strong>SalesGroup</strong>, <strong>CustGroup</strong>, and <strong>AccountNum</strong> fields from the <strong>Fields</strong> node onto the <strong>MainGrid</strong> node on the right pane.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
<p><a data-linktype="relative-path" href="media/accountnum.png#lightbox"><img alt="Screenshsot of the AccountNum fields." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/accountnum.png"/></a></p>
</li>
<li><p>Perform a build by right-clicking the project <strong>FleetManagementFormProject (ISV)</strong> in the <strong>Solution Explorer</strong> window and then selecting <strong>Build.</strong></p>
</li>
</ol>
<h2 id="preview-the-form-in-a-browser">Preview the form in a browser</h2>
<ol>
<li>After the build is completed without errors, right-click the form <strong>FleetCustomersForm</strong> in the <strong>Solution Explorer</strong> window.</li>
<li>Select <strong>Set as Startup Object</strong>.</li>
<li>Select <strong>Ctrl + F5</strong> or select <strong>Start</strong> in the ribbon to begin running the project. Microsoft Edge opens to display the newly created form (this can take a couple of minutes).</li>
<li>Add a few records to the form by selecting the <strong>New</strong> button in the Action Pane.</li>
</ol>
<p><a data-linktype="relative-path" href="media/fleetcustomersform.png#lightbox"><img alt="Screenshsot of the FleetCustomersForm page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-forms-optimize-finance-operations/media/fleetcustomersform.png"/></a></p>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions and see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>When you develop a new form for finance and operations apps, is it true that applying a form pattern is a mandatory step?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Yes</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>No</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>When all requirements for a form pattern are satisfied, what must be done before you can build and preview the form in a browser window?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Run the forms pattern report.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Check the form statistics add-in.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Set the form that you want to preview as the startup object for the project.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Perform a rebuild of the form.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You want to attach a report to a menu item so that the report displays when a user selects the menu item. Which type of menu item should be used to perform the task?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Display menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Output menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Action menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Window menu item</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Forms in Visual Studio are composed of elements such as fields, tables,
filters, and grids, which display to a finance and operations apps user as
pages. Out of the box, every module contains many pages that are related to the module's topic. You can create new pages and new modules through development in Visual Studio. It is best practice when developing a new
form that you apply a form pattern. Many form patterns are used throughout the application, each of which determines the layout, structure, and contents of the page. Some elements of a form pattern require a subpattern to be applied as well. Forms are managed in the form designer window, which contains a pattern pane that shows steps to follow for creating the form and previewing pane where you can see how the
form changes as you add and modify elements.</p>
<p>As a developer, you have multiple tools that you can use to test and
improve a form's performance. You can set the form as a startup object
in the <strong>Solution Explorer</strong> window, and then preview the form in a browser window inside of the developer environment. This will allow you to make tweaks to the display and structure of the form. Browser-based tools such as Fiddler and the Performance timer can be used to optimize a form's performance.</p>
<p>Users want a seamless experience when exploring finance and
operations apps. By analyzing a form's load and refresh
times, a developer can ensure that the user has the navigation experience that they desire.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Form guidelines and details for form patterns</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/general-form-guidelines/?azure-portal=true">General form guidelines</a></td>
</tr>
<tr>
<td>Form pattern descriptions</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/user-interface/form-styles-patterns/?azure-portal=true">Form styles and patterns</a></td>
</tr>
<tr>
<td>Performance timer</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/perf-test/performance-timer/?azure-portal=true">Performance timer</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Classes contain data and methods that represent the state and the
behavior of an object. Some elements in the Application Object Tree
(AOT), such as tables and forms, contain classes out of the box.
Many types of methods and statements can be called to dictate the behavior of objects.</p>
<p>Classes can be added to a project to declare new elements, variables, or methods. You can also use classes to manipulate data, such as inserting or deleting data from a table. You can comment on code in new classes to help define the purpose of the block of code. This is helpful when you are working as part of a team to increase collaboration and communication.</p>
<p>To fit your business needs, you will write code in a class to adjust the
functionality of finance and operations apps.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Add a class to a project</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add a class to a project</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>A class is a software construct that expresses the data and methods of
the objects, which are later constructed from that class. These objects
are also referred to as instances. Data in a class defines the state of
an object, and the methods in a class define the behavior of that
object. Methods are a sequence of statements that operate on the data in
a class.</p>
<p>Usually, methods are declared to operate on the instance
variables of a class. These methods are referred to as instance or
object methods. An instance variable is a variable that is bound within the instance or within an instantiated object, as opposed to a static or
class variable that is bound to a class.</p>
<p>You can add a class to your project in <strong>Solution Explorer</strong>. Additionally, you can select the type of class that you want to create during this process.</p>
<ol>
<li>In Visual Studio, while running as an administrator, go to <strong>Solution Explorer</strong>.</li>
<li>Right-click your project.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong>, select <strong>Code</strong>.</li>
<li>Select either <strong>Class</strong> or <strong>Runnable Class (Job)</strong>, depending on the purpose of the class.</li>
<li>Enter a name for the class.</li>
<li>Select <strong>Add</strong> to add the class to your project.</li>
</ol>
<p>When you are creating a class, it is declared as <code>public</code>, even if
you remove the <code>public</code> modifier. In addition to the
<code>public</code> modifier, you can add the <code>final</code>
and/or <code>extends</code> modifiers. Using the <code>final</code>
modifier helps prevent the class from being inherited. The
<code>extends</code> modifier is used when your class is derived from
another class.</p>
<p>A runnable class for finance and operations apps, known previously as a job,
is similar to a standard class, except that it contains a <code>main</code>
method. You can manually add methods to your class, including a main
method. Methods will be described in further detail in the next unit.
The following screenshot shows the code editor window when you create a
runnable class named <code>RunnableClass1</code>.</p>
<p><img alt="This screenshot shows the code displayed when a runnable class is added to a project." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/create-classes-finance-operations/media/runnable-class.png"/></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement the global cache and singleton</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement the global cache and singleton</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use caching to improve the performance of your code. The benefits increase for frequently used data or code. You can implement global caching on a specific client session or apply it to all clients on a server. In some scenarios, you can use global caching for extra parameters in a method signature because method signatures are unchangeable with extensions.</p>
<div class="IMPORTANT">
<p>Important</p>
<p>You must handle caching with care because it impacts memory consumption. Global caching stores values in-memory, and as a developer, you’re responsible for updating and removing outdated data from the cache. Ignoring the cleanup of global caching can negatively impact performance.</p>
</div>
<p>Best practices for the implementation of caching depend on your use cases.</p>
<h2 id="sysglobalcache-and-singleton">SysGlobalCache and singleton</h2>
<p>SysGlobalCache and singleton refer to a single client session cache that isn’t accessible in other system threads. The system cleans this cache when the client session is complete, but it’s best practice to clean up the cache after you use it.</p>
<p>You can create <strong>SysGlobalCache</strong> of an instance of the <strong>SysGlobalCache</strong> class, but we recommend that you create it from the following system classes so that cleanup is easier:</p>
<ul>
<li>From the <strong>Application</strong> class by using the <code>appl</code> system variable</li>
<li>From the <strong>ClassFactory</strong> class by using the <code>classFactory</code> system variable</li>
<li>From the <strong>Info</strong> class by using the <code>Infolog</code> system variable</li>
</ul>
<p>All listed system classes have globalCache already defined and you can use it.</p>
<p>The <strong>SysGlobalCache</strong> class stores data on a specific key, and it has several commonly used methods:</p>
<ul>
<li><code>Construct</code> - Allows you to create a new instance of <strong>SysGlobalCache</strong>. By using one of the system classes, such as <strong>Application</strong>, <strong>ClassFactory</strong>, or <strong>Info</strong>, this method automatically creates an instance if it doesn’t already exist.</li>
<li><code>Get</code> - Retrieves a value from a specific owner and key.</li>
<li><code>Set</code> - Sets a value on a specific owner and key.</li>
<li><code>IsSet</code> - Checks whether the cache is set for a specific owner and key.</li>
</ul>
<p>The system stores values in <strong>SysGlobalCache</strong> by using an owner and a key.</p>
<p>The following example shows how to check if a value exists, get a value, and set a value by using <strong>SysGlobalCache</strong>.</p>
<pre><code class="lang-xpp">internal final class RunnableClass1
{

    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        const str   mySysGlobalCacheKey   = 'MySysGlobalCacheKey';
        str         mySysGlobalCacheOwner = classStr(RunnableClass1);

        SysGlobalCache cache = classFactory.globalCache();

        container       cacheValue;

        if (cache.isSet(mySysGlobalCacheOwner, mySysGlobalCacheKey))
        {
            cacheValue = cache.get(mySysGlobalCacheOwner, mySysGlobalCacheKey);
        }
        else
        {
            cacheValue = ['MyValue'];

            cache.set(mySysGlobalCacheOwner, mySysGlobalCacheKey, cacheValue);
        }

        cache.remove(mySysGlobalCacheOwner, mySysGlobalCacheKey);

    }

}
</code></pre>
<p>You can achieve the same result by using a <strong>Singleton</strong> class (for the user session), which is an instance of the class that the system creates inside the class. One common use of this instance in finance and operations apps is for the flight classes, as the following code illustrates.</p>
<pre><code class="lang-xpp">/// &lt;summary&gt;
/// When &lt;c&gt;AccountingFinTagFlight&lt;/c&gt; is enabled, the uptake of financial tags functionality in the
/// Source Document and Accounting Framework is turned on. This allows documents implementing SDAF
/// to opt into processing of financial tags and provide their values during accounting distribution.
/// &lt;/summary&gt;
public final class AccountingFinTagFlight extends Flight
{
    private static AccountingFinTagFlight singleton = new AccountingFinTagFlight();

    [Hookable(false)]
    protected boolean isEnabledByDefault()
    {
        return false;
    }

    [Hookable(false)]
    public static AccountingFinTagFlight instance()
    {
        return singleton;
    }

}
</code></pre>
<p>In this example from the standard application, the system creates an instance of the <strong>AccountingFinTagFlight</strong> class, but only once for the user session.</p>
<p>The use case defines the approach, and the system uses SysGlobalCache and singleton in the standard application.</p>
<h2 id="sysglobalobjectcache">SysGlobalObjectCache</h2>
<p><strong>SysGlobalObjectCache</strong> is server-shared caching across all user sessions on a specific server.</p>
<p>The <strong>SysGlobalObjectCache</strong> cache is a singleton, and you can only use it once in the system. Getting it from the <strong>ClassFactory</strong> class or initializing a new <strong>SysGlobalObjectCache</strong> always refers to the first created instance of the <strong>SysGlobalObjectCache</strong> class.</p>
<p>You would define <strong>SysGlobalObjectCache</strong> on a scope rather than associating it with an owner, as in <strong>SysGlobalCache</strong>.</p>
<p>The purpose of using <strong>SysGlobalObjectCache</strong> is to store static values in a cache for all sessions so that the system doesn't need to reread or calculate them for each session.</p>
<p>The following example from finance and operations apps illustrates a new instance of <strong>SysGlobalObjectCache</strong>. However, if the instance is already created, the system refers to the existing <strong>SysGlobalObjectCache</strong>, so only one, or a singleton, exists in the system.</p>
<pre><code class="lang-xpp">public boolean findExternalDescription()
{
    boolean                     found;
    container                   cacheKey;
    container                   cacheValueExistsCheck;
    boolean                     continueProcessing;
    SysGlobalObjectCache        sysGlobalObjectCacheExistCheck = new SysGlobalObjectCache();

    cacheKey = [custVendAccountId, this.parmCustVendItemGroupId(), this.moduleType(), curExt()];

    //Check for existence
    cacheValueExistsCheck = sysGlobalObjectCacheExistCheck.find(CustVendExternalItemDescription::cacheScopeExistsCheck(), cacheKey);

    //We have not checked this combination before
    if (cacheValueExistsCheck == conNull())
    {
        if (CustVendExternalItem::existsForCustVendRelation(custVendAccountId, this.parmCustVendItemGroupId(), this.moduleType()))
        {
            // at least 1 record available for the customer/vendor group or customer/vendor
            continueProcessing = true;
        }
        else
        {
            // no record available for the customer/vendor group or customer/vendor
            continueProcessing = false;
        }
        sysGlobalObjectCacheExistCheck.insert(CustVendExternalItemDescription::cacheScopeExistsCheck(), cacheKey, [continueProcessing]);
    }
    else
    {
        [continueProcessing] = cacheValueExistsCheck;
    }

    if (continueProcessing)
    {
        [found, externalItemId, externalItemFreeTxt, custVendExternalItem] =
                CustVendExternalItemDescription::findExternalItemDescription(this.moduleType(), itemId, inventDim,
                                                                             custVendAccountId,this.parmCustVendItemGroupId());
    }

    return found;
}
</code></pre>
<p>You can remove all entries in <strong>SysGlobalObjectCache</strong> for a server by running a class that uses the following URL:
https://[your finance and operations apps url]/?mi=SysClassRunner&amp;cls=SysFlushAOD.</p>
<p>The <strong>SysFlushAOD</strong> class clears all cache in <strong>SysGlobalObjectCache</strong>.</p>
<h2 id="context-classes">Context classes</h2>
<p>With extensions, you can't change the method signature, which means that you can’t add new parameters to an existing method.</p>
<div class="NOTE">
<p>Note</p>
<p>As previously mentioned, you can change the method signature with over-layering by adding a new parameter for a method. However, you can extend the method signature by using a <strong>Disposable</strong> context. When you implement <strong>IDisposable</strong> on the context class, it forces you to have a dispose method to use for cleanup.</p>
</div>
<p>The following example creates a context class for SalesPool with one parameter named <code>myParameter</code>.</p>
<pre><code class="lang-xpp">internal final class MySalesPoolContext
{
    static MySalesPoolContext salesPoolContext;
 
    public  boolean myParameter;
  
    public void new()
    {
        salesPoolContext = this;
    }
 
    public void dispose()
    {
        salesPoolContext = null;
 
    }
  
    static public MySalesPoolContext current()
    {
        return  salesPoolContext;
 
    }

}
</code></pre>
<p>Now you can add an extension to the <code>find</code> method for the <strong>SalesPool</strong> table. You must test the new parameter that you created in the context class without changing the signature of the find method, as follows:</p>
<pre><code class="lang-xpp">[ExtensionOf(tableStr(SalesPool))]
final class SalesPool_MB500_Extension
{
    static SalesPool find(SalesPoolId  _salesPoolId,
                          boolean     _forUpdate)
    {
        SalesPool  salesPool = next find(_salesPoolId, _forUpdate);

        MySalesPoolContext  salesPoolContext = MySalesPoolContext::current();

        if (salesPoolContext &amp;&amp; salesPoolContext.myParameter)
        {
            // some code...
        }

        return salesPool;
    }

}
</code></pre>
<p>For test purposes, the following example creates a new runnable class, and you can configure the <code>context parameter</code> variable to call the disposal methods to clean up after using the class.</p>
<pre><code class="lang-xpp">internal final class MySalesPoolContextTest
{
    /// &lt;summary&gt;
    /// Class entry point. The system will call this method when a designated menu 
    /// is selected or when execution starts and this class is set as the startup class.
    /// &lt;/summary&gt;
    /// &lt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;
    public static void main(Args _args)
    {
        SalesPool           salesPool;
        MySalesPoolContext  mySalesPoolContext = new MySalesPoolContext();

        mysalesPoolContext.myParameter = true;

        salesPool = SalesPool::find('10');

        if (mySalesPoolContext)
        {
            mySalesPoolContext.dispose();
        }
    }

}
</code></pre>
<p>Creating a context class as a singleton helps you transfer parameters without changing the method signature.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Add code and methods to meet business requirements</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Add code and methods to meet business requirements</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps use X++ development language in its classes.
X++ is an object-oriented language. If you haven't used it before, but
are familiar with another object-oriented language, you will find it
easy to learn.</p>
<p>After you create a class from <strong>Solution Explorer</strong>, you can add code to the class. Data provides the state of an object, while a
method provides behavior to an object. Methods that you will encounter and create in development for finance and operations apps include:</p>
<ul>
<li><p><strong>New method</strong> - Creates an instance of the class by using the <code>new</code> keyword. The default constructor is <strong>new()</strong>. The following is an example of declaring a variable and creating an instance of an object by calling the new method:</p>
<pre><code class="lang-xpp">Sample mySample; //this declares a variable to refer to a sample object

mySample = new Sample(); //this creates an instance of a sample object
</code></pre>
</li>
<li><p><strong>Finalize method</strong> - A destructor method that finalizes an instance of a class by using the <code>finalize</code> keyword. The following is an example, using an <code>if</code> statement, which shows how to call a finalize method:</p>
<pre><code class="lang-xpp">if (condition) //state the condition that should be met
{
  this.finalize();
}
</code></pre>
</li>
<li><p><strong>Main method</strong> - Creates an instance of an object and calls the required member methods. It is a class method that is run directly from a menu option. To transfer data to the method, use the <code>_args</code> parameter. The following is an example of the syntax that is used to define a main method:</p>
<pre><code class="lang-xpp">Static void main (Args _args)
{
	//This comment represents where you would insert your code.
}
</code></pre>
</li>
<li><p><strong>Instance method</strong> - Also referred to as an object method, it is embedded in each object that is created from the class that contains the instance method. Before you can use the method, you must instantiate that object. The following is an example of the syntax that is used to call an instance method:</p>
<pre><code class="lang-xpp">ClassName objectReference = new ClassName();
objectReference.methodname();
</code></pre>
</li>
<li><p><strong>Static method</strong> - Also referred to as a class method, it uses the <code>static</code> keyword and belongs to a class. With a static method, unlike with an instance method, you don't need to instantiate an object before you use the method. Static methods are commonly used to work with data that is stored in tables. The following is an example of the syntax that is used to call a static method:</p>
<pre><code class="lang-xpp">ClassName::methodName();
</code></pre>
</li>
</ul>
<p>Accessor keywords can be used to control whether the methods in other
classes can call the methods in your class. Class inheritance is also
affected by the following accessor keywords.</p>
<ul>
<li><p><strong><code>public</code></strong> - Methods declared as <code>public</code> can be called from anywhere that the class is accessible. A <code>public</code> method can be overridden by a subclass, unless that method is declared as <code>final</code>.</p>
</li>
<li><p><strong><code>protected</code></strong> - Methods declared as <code>protected</code> can only be called from methods in the same class or methods in a subclass of that class. A <code>protected</code> method can still be overridden in a subclass.</p>
</li>
<li><p><strong><code>private</code></strong> - Methods declared as <code>private</code> can only be called from methods within the same class. Unlike <code>public</code> and <code>protected</code> methods, <code>private</code> methods can't be overridden in a subclass.</p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Data manipulation</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Data manipulation</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can write code to manipulate data that is stored in the database.</p>
<ul>
<li>Use a <code>select</code> method to declare the data to modify.</li>
<li>An <code>insert</code> method is used to add one or more records to a table.</li>
<li>An <code>update</code> method is used to modify the current record in the appropriate system fields.</li>
<li>Use a <code>where</code> clause to specify a condition that the <code>update</code> method tests as it processes each row of the table.</li>
<li>A <code>delete</code> method is used to remove records from a table. Before using an <code>update</code> or <code>delete</code> method, you must use a <code>select</code> method to define the data to update or delete.</li>
<li>To select multiple records or fields, you initially use a <code>select</code> method and then use a <code>next</code> method to fetch the next record in a table.</li>
<li>To loop over many records that meet specific criteria, you can use a <code>while select</code> method.</li>
</ul>
<p>The <code>select</code> statement fetches or manipulates data from the database using X++. You can use the <code>select</code> statement to fetch one record or field. You can use other statements such as <code>next</code> to fetch more records, or use a <code>while select</code> to traverse multiple records.</p>
<p>For example, the following code sample fetches all columns in the first row of the <strong>CustTable</strong>, then it prints the value in the <strong>AccountNum</strong> column of that row:</p>
<pre><code class="lang-xpp">CustTable custTable;
select firstonly custTable; //this is a short notation for 'select firstonly * from custTable;'  
info("AccountNum: " + custTable.AccountNum); 
</code></pre>
<p>The following are code samples for <code>insert</code>, <code>update</code>, and <code>delete</code> methods. The samples use a fictitious <strong>MyCustomerTable</strong> table containing fictitious fields for <strong>AccountNumber</strong> and <strong>CustomerName</strong>.</p>
<ul>
<li><p><code>insert</code> method</p>
<pre><code class="lang-xpp">//This will insert a new record into a sample MyCustomerTable table. The only mandatory field that is set on this table is AccountNumber.

private void AddCustomer()
{
    MyCustomerTable myCustomerTable;
    ttsBegin;
         myCustomerTable.AccountNumber = "1234";
         //The new record will have the account number 1234.
         myCustomerTable.insert();
    ttsCommit;
}
</code></pre>
</li>
<li><p><code>update</code> method</p>
<pre><code class="lang-xpp">//This will update the record where the AccountNumber field is set to 1234 by adding more information in the CustomerName field.

private void UpdateCustomer()
{
    MyCustomerTable myCustomerTable
    ttsBegin;
        select forUpdate myCustomerTable
        where myCustomerTable.AccountNumber == "1234";
        //Now we will update the CustomerName field to be Sally
        myCustomerTable.CustomerName = "Sally";
        myCustomerTable.update();
    ttsCommit;
}
</code></pre>
</li>
<li><p><code>delete</code> method</p>
<pre><code class="lang-xpp">//This will delete the record from the MyCustomerTable table where the AccountNumber field is set to 1234.

private void DeleteCustomer()
{
    ttsBegin;
        while select forUpdate myCustomerTable
        where myCustomerTable.AccountNumber == "1234"
        {
        myCustomerTable.delete();
        }
    ttsCommit;
}

</code></pre>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Insert records by using a runnable class</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Insert records by using a runnable class</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As the finance and operations apps developer, you have been tasked with
inserting customer records into a table for your Fleet Management
company. You need to create a runnable class and add code that will
insert two records into the <code>FMCustomer</code> table.</p>
<h2 id="create-a-runnable-class">Create a runnable class</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Open Visual Studio, and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Start creating a new project by opening the <strong>File</strong> menu and selecting <strong>New &gt; Project</strong>.</li>
<li>Search for <strong>Finance Operations</strong>, select the <strong>Finance and Operations project</strong>, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementClassProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure that the proper settings are in place, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select  <strong>Projects</strong>.</li>
<li>Ensure the check boxes are selected for <strong>Organize projects by element type</strong> and  <strong>Synchronize database on build for newly created project</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>In the <strong>Solution Explorer</strong>, right-click the project    <strong>FleetManagementClassProject</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>On the left pane, select <strong>Dynamics 365 Items</strong> and then select <strong>Code</strong>.</li>
<li>On the middle pane, select <strong>Runnable Class (Job)</strong>.</li>
<li>Enter <strong>FMInsertCustomers</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>Add</strong>. The <strong>FMInsertCustomers</strong> class opens in the <strong>Code designer</strong> window.</li>
</ol>
<h2 id="add-code-to-insert-customer-records">Add code to insert customer records</h2>
<ol>
<li><p>In the <strong>Code designer</strong> window, insert a blank line between lines 6 and 7 by using the <strong>Enter</strong> key and remove the slashes (///).</p>
</li>
<li><p>First, you must declare your variables. You insert records into the FMCustomer table, so you enter the following code on line 7:</p>
<pre><code class="lang-xpp">   FMCustomer FMCustomer;
</code></pre>
</li>
<li><p>In the <strong>Code designer</strong> window, insert a blank line between the curly braces for the <strong>main</strong> method  by using the <strong>Enter</strong> key.</p>
</li>
<li><p>Now, you create a class object named <strong>FMInsertCustomers</strong> and instantiate a new instance of the object. Then you call the <strong>run()</strong> method on the new object.</p>
<pre><code class="lang-xpp">   FMInsertCustomers FMInsertCustomers = new  FMInsertCustomers();
   FMInsertCustomers.run();
</code></pre>
</li>
<li><p>Now, you create the methods needed to insert records into the FMCustomer table and use <code>ttsbegin</code> and <code>tts</code> commit to insert the data. This code should go before the <strong>main</strong> method.</p>
<pre><code class="lang-xpp">      public void run()
     {
        this.insertRecords();
     }
     private void insertRecords()
     {
        ttsBegin;

            FMCustomer.FirstName = "John";
            FMCustomer.LastName = "Smith";
            FMCustomer.Email = "johnsmith@contoso.com";

            FMCustomer.insert();

            FMCustomer.clear();
            FMCustomer.FirstName = "Sally";
            FMCustomer.LastName = "Smith";
            FMCustomer.Email = "sallysmith@contoso.com";

            FMCustomer.insert();

         ttsCommit;
    }
</code></pre>
</li>
<li><p>In this code sample, you are inserting John Smith’s record, then clearing the table buffer with clear() method. Then the code inserts another record for Sally.</p>
</li>
<li><p>In the <strong>Solution Explorer</strong>, right-click the <code>FMInsertCustomers</code> class.</p>
</li>
<li><p>Select <strong>Set as Startup Object</strong>.</p>
</li>
<li><p>Perform a build by right-clicking the project <strong>FleetManagementClassProject</strong> in the <strong>Solution Explorer</strong> and then selecting <strong>Build</strong>.</p>
</li>
<li><p>Run the class without debugging by selecting the <strong>Debug</strong> menu. Select <strong>Start Without Debugging</strong>. You can also use the keyboard shortcut <strong>Ctrl + F5</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What method is automatically added when you're creating a runnable class instead of a class?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>new</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>static</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>main</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>finalize </code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which method will allow the method to be called from anywhere that its class is accessible?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>public</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>private</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>An <code>access</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>A <code>protected</code> method</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You want to update a record in your <code>SampleTable</code> table that contains the account number 1234 by using the update method. Before you call the update method, which clause is used at the beginning of this statement to locate the record sampleTable.AccountNum == “1234”?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>where sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>locate sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>join sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>forUpdate sampleTable.AccountNum == “1234”</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>How many instances of SysGlobalObjectCache are available in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Many</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>One for each user session</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>One for all shared sessions from a server.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-3">
<input class="radio-dot choice-input" id="quiz-choice-3-3" name="3" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>One for all sessions that syncs across service instances.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Classes for finance and operations apps use the X++ development language, which is an object-oriented programming language. Classes contain data that define an object's state and methods that define an object's behavior. Elements such as tables and forms contain classes out of the box. These elements can be modified through extension to add more methods that control the element's behavior. Through the <strong>Solution Explorer</strong> window in Visual Studio, you can add a new class or runnable
class to your project.</p>
<p>A runnable class contains an empty main method and is declared as <code>public static void</code>. Many types of methods can be called in classes. Some methods dictate access to the method from other classes, like <code>public</code>, <code>private</code>, and <code>protected</code> methods. Others are used when you are manipulating data, such as <code>select</code>, <code>insert</code>, <code>update</code>, and <code>delete</code> methods. Methods, or any code within a class, can be commented on to explain the purpose of that code.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Overview of various class types and methods</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-classes-methods/?azure-portal=true">Classes and methods</a></td>
</tr>
<tr>
<td>Data manipulation methods</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-data-query/?azure-portal=true">X++ data selection and manipulation</a></td>
</tr>
<tr>
<td>Learn the basics of X++</td>
<td><a data-linktype="absolute-path" href="/en-us/training/modules/get-started-xpp-finance-operations/?azure-portal=true">Get started with development using X++ in finance and operations apps</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement Business document management</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement Business document management</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Business document management in finance and operations apps allows you to set up business documents, such as invoices within the web client. In the <strong>Business document</strong> workspace, you can edit business document templates by using the Microsoft 365 service or an appropriate Microsoft Office desktop application. Edits to the documents might include changing business document designs and adding placeholders for extra data, without you needing to complete source code changes and new deployments. The tool is dependent on the Electronic reporting framework for setting up the document, and it uses the Print management framework to link the custom document to the printing option.</p>
<p>Business document management allows users to create and modify output documents, without relying on SQL Server Reporting Services (SSRS) report development. Business document management currently supports output to Microsoft Word, Microsoft Excel, and PDF.</p>
<h2 id="set-up-parameters">Set up parameters</h2>
<p>Before setting up Business document management, you'll need to set up the required document type in the <strong>Document management framework</strong>. Use the <strong>Template</strong> document type to specify a temporary storage of documents in Office formats (Excel and Word) that are used as templates for Electronic reporting reports. Then, make sure that you provide the SharePoint address for the temporary storage. You can edit the temporary storage template by using the Office desktop applications.</p>
<div class="mx-imgBorder">
<p>[<img alt="Screenshot of the Document types page, showing a template." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-reports-finance-operations/media/document-management-template.svg"/>](../media/document-management-template.svg    #lightbox)</p>
</div>
<p>You can set up basic Business document management parameters on the <strong>Business document parameters</strong> page. Only specific users can access the page. On the <strong>Attachments</strong> tab of the <strong>Business document parameters</strong> page, you'll need to define the document type in the <strong>SharePoint document type</strong> field. This document type is the one that you should use to temporarily store templates in Office formats while they're edited by using the Office desktop applications. The selected document type is company-specific and will be used when the user is working with Business document management in the company for which the selected document type is set up.</p>
<h2 id="use-business-document-management-to-edit-a-template">Use Business document management to edit a template</h2>
<p>Business users can access business document templates for editing in the <strong>Business document management</strong> workspace.</p>
<p>Follow these procedures to edit a document template in the <strong>Business document management</strong> workspace. For the initial setup, you can import the template from Microsoft Dynamics Lifecycle Services, such as Electronic reporting. Additionally, you can create a new template by selecting <strong>Create template</strong>. The selected template is then imported from the global repository and created in the <strong>Business document management</strong> workspace. When you import the template, you will see a list of templates that are specific to your user role.  The system will not download the templates that are not applicable to your assigned role.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/lifecycle-services-shared-asset-library.png#lightbox"><img alt="Screenshot of the Shared asset library in Lifecycle Services, with GER Configuration highligted." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-reports-finance-operations/media/lifecycle-services-shared-asset-library.png"/></a></p>
</div>
<p>The Business document management module works with the <em>tags</em> functionality to structure documents, which is expanded with a new tag called <strong>Business Document Type</strong>. The <strong>Business Document Type</strong> tag determines the output document for which current configuration will be used. After you've added this tag, you can link the document to Print management.</p>
<p>You can edit a business document from the <strong>Business document management</strong> workspace when it's set up with Electronic reporting. You can edit Excel and Word files directly from the workspace.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/business-document-management-workspace.png#lightbox"><img alt="Screenshot of the Business document management workspace." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-reports-finance-operations/media/business-document-management-workspace.png"/></a></p>
</div>
<h2 id="set-up-access-permissions">Set up access permissions</h2>
<p>By default, when access to Business document management permissions isn't enabled, every user with access to the Business document management workspace can view all Electronic reporting solution templates that are available. The <strong>Business document management</strong> workspace will show only those templates that reside in Electronic reporting format configurations and that are marked by a <strong>Business Document Type</strong> tag.</p>
<p>You can restrict the list of available templates in the <strong>Business document management</strong> workspace by setting up access permissions. This approach might be beneficial when different templates are used to produce business documents for different business domains (functional areas), and when specific user access is allowed to different templates for editing in the <strong>Business document management</strong> workspace.</p>
<p>You can set the Business document management access permissions to <strong>Configurator</strong> of access permissions.
Only the following users can access the page:</p>
<ul>
<li>Users who are assigned to the System administrator role.</li>
<li>Users who are assigned to any other role that is set up to perform the duty <strong>Configure permissions to access Business document templates for editing</strong>.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports that use SSRS</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports that use SSRS</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Many pre-generated SSRS reports come out of the box with finance and
operations apps. SSRS reports allow you to print reports to different
locations, such as your screen, a printer, a file, or an email. You can
use SSRS reports to create parameterized views with drill-down
navigation. You can also embed hyperlinks from a report to finance and operations apps pages.</p>
<p>You can also schedule your reports to run periodically by using a batch job. SSRS reports can also help you create precise compliance documents for your local regulatory business. In addition to the out-of-the-box reports, you can create and modify more reports by using X++ development to suit your organization's needs.</p>
<h2 id="design-ssrs-reports">Design SSRS reports</h2>
<p>When designing a report, consider the data that you need. SSRS
reports can be appropriate if you need a high-volume,
transaction-focused report. SSRS is great for documents that are meant for email, print, archive, and bulk distribution.</p>
<p>SSRS report design can use an autodesign to determine the report
layout, which is useful for simple reports. For more complex reports,
you can use the precision designer, which uses a free-form design
surface to customize the layout and content of the report. Fields and
tables can be inserted and moved around freely, and you can adjust
margins and spacing between fields. You can also add expressions to
calculate totals, set fonts, add logos, and use labels to automatically
translate any text.</p>
<p>After you determine the report design, you can move on to creating
a report.</p>
<h2 id="create-ssrs-reports">Create SSRS reports</h2>
<p>To create a report, you need to use Microsoft Visual Studio and
a finance and operations apps development environment. In Visual Studio, you
first create a new report object. Then, you need to assign a
data set to the report.</p>
<p>A data set defines what data is used in the report. In the data set parameters, you can select the data source for the data set and the data source type. The data source type explains how the data from the data source is retrieved.</p>
<p>The four data source types are:</p>
<ul>
<li><p><strong>Query</strong> - Uses an existing Application Object Tree (AOT) query. Using an existing query allows for faster filtering of data in SQL to quickly generate reports and requires limited X++ code to  develop. The only X++ code used is for the display methods in the tables.</p>
</li>
<li><p><strong>Business logic</strong> - Is used to get a data source other than finance and operations. The Business Logic data source type can only be used with a single report because the name of the class must match the name of the report.</p>
</li>
<li><p><strong>Report data provider (RDP)</strong> - Is used when a query cannot be used alone; additional logic is needed to run the report. This is usually the case when you use dynamic filters, when business classes must be called to use data, or if a parameter is used on the UI that is entered in X++ code.</p>
</li>
<li><p><strong>AX enum provider</strong> - Can be used to filter the report view when the report parameter is an enum type.</p>
</li>
</ul>
<p>After the data set is created, you can set the report design by
selecting an auto design (for simple reports) or a precision design (for
more customized reports). After your report is finished, you need
to deploy the report. When you have deployed, your report is ready to
run in finance and operations apps.</p>
<h2 id="modify-ssrs-reports">Modify SSRS reports</h2>
<p>Occasionally, you might not need to create a new report. Instead, you can choose to modify an existing report by using the extensibility
of X++ objects in Visual Studio. You can use extensions on tables or
report data provider classes to add new columns. You can also extend menu items and other classes to redirect navigation to your custom
designed reports.</p>
<p>Extending your reports lets you make changes to existing reports
without affecting the standard report solutions. This means that you can still use your modified and standard report.</p>
<h2 id="resources">Resources</h2>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/create-nextgen-reporting-solutions/?azure-portal=true">Create reporting solutions</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement query objects and query builder</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement query objects and query builder</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>In Dynamics 365, you can use query objects in the development platform to build SQL statements. You can use these queries to render data into forms, reports, views, and more. Additionally, you can write SQL statements by using select queries. The query object helps you create the SQL dynamically at runtime.</p>
<p>We recommend that you use query objects in forms instead of using tables directly. By using query objects, you can select those fields that you want to display in the form, unlike tables. This approach will help reduce the size of the SQL statement that's running behind the form, and it helps improve performance. The same notion applies for reports and views also.</p>
<h2 id="querybuilddatasource-class">QueryBuildDataSource class</h2>
<p>The <strong>QueryBuildDataSource</strong> class is the building block for creating the query. It defines the data source to be added to the query. It can specify the table fields to be added, sort order of the records, and so on. Additionally, it can establish the relationship by applying joins between data sources.</p>
<h3 id="example">Example</h3>
<p>You have a <strong>TrainingMaster</strong> table with two fields: <strong>TrainingID</strong> and <strong>TrainingDate</strong>. You need to display both fields in the ascending order of <strong>TrainingID</strong> by building a query object. The coding pattern is as follows:</p>
<pre><code class="lang-xpp"> class TrainingMasterQuery
 {
    public static void main(Args _args)
    {
        QueryBuildDataSource    qbds;

        Query query = new Query();
 
        qbds = query.addDataSource(tableNum(TrainingMaster));
        qbds.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }
}
</code></pre>
<h2 id="querybuildrange-class">QueryBuildRange class</h2>
<p>The <strong>QueryBuildRange</strong> class defines filtering for the records that are fetched from the data source.</p>
<h3 id="example-1">Example</h3>
<p>In the <strong>TrainingMaster</strong> table, a new field named <strong>TrainingType</strong> has been added. This new field has two values: <strong>Online</strong> and <strong>Classroom</strong>. You need to filter all online trainings by building a query object. The coding pattern is as follows:</p>
<pre><code class="lang-xpp">class TrainingMasterQuery
{
    public static void main(Args _args)
    {
        Query query = new Query();
 
        QueryBuildDataSource qbds = query.addDataSource(tableNum(TrainingMaster));
        qbds.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryBuildRange qbr = qbds.addRange(fieldNum(TrainingMaster, TrainingType));
        qbr.value(queryValue(TrainingType::Online));

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }

}
</code></pre>
<h2 id="advanced-query-syntax">Advanced query syntax</h2>
<p>A range of advanced query syntax exists for string, number, or date fields. For string fields, you can filter by equal, not equal, range, wildcard, and so on. For number fields, the filter options can be equal, not equal, greater than, less than, and so on. For date fields, the filter options can be day-based, day range, month range, year range, greater/less than dates, and so on.</p>
<h3 id="example-2">Example</h3>
<p>A new field called <strong>NoofDays</strong> has been added to the <strong>TrainingMaster</strong> table. An advanced filter will be applied to the query to show all trainings that have a number of days greater than <strong>2</strong>. The coding pattern is as follows:</p>
<pre><code class="lang-xpp">class TrainingMasterQuery
{
    public static void main(Args _args)
    {
        Query query = new Query();
 
        QueryBuildDataSource qbds1 = query.addDataSource(tableNum(TrainingMaster));
        qbds1.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryBuildRange qbr1 = qbds1.addRange(fieldNum(TrainingMaster, NoofDays));
        qbr1.value(queryValue("&gt;2"));

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }

}
</code></pre>
<h2 id="build-a-query-that-includes-a-relational-table">Build a query that includes a relational table</h2>
<p>By using a query object, you can build a query that includes related tables. You can define all types of joins as required by your query.</p>
<h3 id="example-3">Example</h3>
<p>A new table named <strong>TrainerTable</strong> has been created with three fields: <strong>TrainerID</strong>, <strong>TrainerName</strong>, and <strong>TrainerType</strong> (enum values: <strong>Functional</strong>, <strong>Technical</strong>, and <strong>Softskill</strong>). Additionally, the <strong>TrainerID</strong> field has been added to the <strong>TrainingMaster</strong> table, establishing a foreign key relationship between the tables. You need to filter all online trainings that are delivered by technical trainers by building a query object.</p>
<p>The coding pattern is as follows:</p>
<pre><code class="lang-xpp">class TrainingMasterQuery
{
    public static void main(Args _args)
    {
        Query query = new Query();
 
        QueryBuildDataSource qbds1 = query.addDataSource(tableNum(TrainingMaster));
        qbds1.addSortField(fieldNum(TrainingMaster, TrainingID), SortOrder::Ascending);

        QueryBuildRange qbr1 = qbds1.addRange(fieldNum(TrainingMaster, TrainingType));
        qbr1.value(queryValue(TrainingType::Online));

        QueryBuildDataSource qbds2 = qbds1.addDataSource(tableNum(TrainerTable));
        qbds2.relations(true);
        qbds2.joinMode(JoinMode::ExistsJoin);

        QueryBuildRange qbr2 = qbds2.addRange(fieldNum(TrainerTable, TrainerType));
        qbr2.value(queryValue(TrainerType::Technical));

        QueryRun queryRun = new QueryRun(query);
 
        while (queryRun.next())
        {
            TrainingMaster trainingMaster = queryRun.get(tableNum(TrainingMaster));
            info(strFmt("%1, %2", trainingMaster.TrainingID, date2Str(trainingMaster.TrainingDate, 123, DateDay::Digits1or2, DateSeparator::Hyphen, DateMonth::Digits1or2, DateSeparator::Hyphen, DateYear::Digits4)));
        }
    }

}
</code></pre>
<h2 id="learn-more">Learn more</h2>
<p>For more information about query objects and the query builder, see the following sites:</p>
<ul>
<li><p><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/sysda/?azure-portal=true">Access data by using the SysDa classes</a></p>
</li>
<li><p><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/fin-ops/get-started/advanced-filtering-query-options/?azure-portal=true">Advanced filtering and query syntax</a></p>
</li>
<li><p><a data-linktype="absolute-path" href="/en-us/dotnet/api/dynamics.ax.application.querybuilddatasource/?azure-portal=true">QueryBuildDataSource Class</a></p>
</li>
<li><p><a data-linktype="absolute-path" href="/en-us/dynamicsax-2012/developer/how-to-create-queries-by-using-x/?azure-portal=true">How to: Create Queries by Using X++</a></p>
</li>
<li><p>The <strong>Query object model</strong> section of <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-library-objects/?azure-portal=true">X++ class library</a></p>
</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports by using Power BI</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports by using Power BI</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Power BI is a tool that promotes data exploration. By using Power BI tools, you can interactively explore data to truly understand it. You can
pivot columns, change the shape of charts, filter data, and share
reports. These reports can then be embedded within a workspace in
finance and operations apps. Power BI is especially useful for creating
dashboards and non-document reports or any report that does not require
printing.</p>
<p>Ready-made Power BI reports are available in Lifecycle Services and the PowerBI.com marketplace. However, sometimes you will need to create and modify your own Power BI reports.</p>
<h2 id="create-a-power-bi-report-with-finance-and-operations-apps-data">Create a Power BI report with finance and operations apps data</h2>
<p>To create a report, you will need to use a finance and operations
development environment, Visual Studio, and either Power BI Online or
Power BI Desktop. Power BI uses the Open Data Protocol (OData) endpoints
that are available from finance and operations entities. To connect to Dynamics 365 Unified Operations data, you can connect using an OData feed in Power BI. You can then select the database and entities that you want to load.</p>
<p>When you have the data loaded, you can drag fields to the canvas to
manipulate the data. You can select from a variety of visualizations to
explore data, create calculations, and combine multiple aggregate
measurements. After the report is finished, you can then push the report
to your production environment.</p>
<p>Watch the following video to learn how to connect to your data in finance and operations by using Power BI:</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=20cf566e-9875-4e61-9c5f-06670cf85d3f"></iframe></div>
<blockquote>
</blockquote>
<h2 id="modify-a-power-bi-report">Modify a Power BI report</h2>
<p>Unlike SSRS reports, which require multiple reports to see different
views of the same data, Power BI can be used for quick and simple
manipulation of how your data is viewed. You can adjust existing reports
to filter data as you need it.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports by using Excel</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify reports by using Excel</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Excel can be used for viewing and analyzing transactional data. Finance
and operations uses an out-of-the-box application called the Excel Data
Connector to view, update, and edit data within an Excel workbook. You
will need to download the Microsoft Dynamics Add-in to use this feature.</p>
<p>On certain pages, you can select the <strong>Open in Office</strong> icon on the
Action Pane. From there, you can select <strong>Open in Excel</strong> or <strong>Export to
Excel</strong>.</p>
<p>Open in Excel lets you use the data entity that is related to the form data. The columns that appear on your Excel workbook are defined in the
<strong>AutoReport</strong> field group on the entity. You can also add or remove
fields from the entity by using the <strong>Design</strong> button. Additionally, you
can filter the data by using the <strong>Filter</strong> button. The Open in Excel
feature also gives you the ability to change the data in the grid and
publish the changes back to finance and operations apps.</p>
<p>The Export to Excel feature exports all the grid data to an Excel
workbook. When the data is in a workbook, you can use the tools in Excel
to manipulate the data and create visual charts for your reporting
needs.</p>
<h2 id="optimize-data-source-queries">Optimize data source queries</h2>
<p>Some reports in finance and operations apps can take a long time to run due
to large queries on reports that are processing data. This unit discusses ways to optimize these queries for SSRS and Power BI reports.</p>
<p>To optimize your queries for SSRS reports, make sure that you are only
pulling the data that you need. Unnecessary joins or additional fields that you do not need from the query will increase the time that it takes for a report to run. You should only pull data that the report will need to run.</p>
<p>In Power BI, large queries can also cause slow performance. To
increase performance, try removing unused fields. You might want to consider avoiding unique fields with high cardinality where possible. In addition, avoid excessive slicers on data, which can also cause slow performance.</p>
<h2 id="ensure-correct-use-of-display-fields">Ensure correct use of display fields</h2>
<p>You can use grouping to group specific types of data together and expressions to format the data. With SSRS, you can also use labels to automatically translate text to multiple languages, and properties to allow you to change the font and margins of text and fields.</p>
<p>Having all the data simply appear on the report can lead to a cluttered
display. Groupings can help you organize the data into a meaningful
layout. For example, you can create a header and footer grouping that
appears on a page. For transaction data, you could create a grouping
with a table layout to include columns and rows to display the data.
Grouping data allows you to share expressions for a data set. Groupings
can help you create lists, charts, and tables.</p>
<p>Expressions are functions that can be used on fields to retrieve,
calculate, display, group, sort, filter, parameterize, and format data
on the report appearance by using Microsoft Visual Basic. You can use
expressions on a field or group by right-clicking the field or group and
selecting <strong>Expressions</strong>. All expressions will begin with an equal
sign. You can use expressions to call data from a data set, run math functions
such as rounding, data type functions to manipulate strings and dates,
and perform aggregate functions such as sum. Power BI also has a formula
bar for columns that can be used to perform calculations.</p>
<p>Any text that you use on an SSRS report should be used through labels. Labels allow the text to be automatically translated if the report is run for a country or region with a different language. This gives organizations with global locations or partners the ability to create one report that can be used globally instead of having to create an individual report for each location with a different language.</p>
<p>Additional properties are available for SSRS reports for fields. These
properties can control the font and style of text to make it more
readable. You can also control the margin sizes to determine how much
space should be between each data field and group.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create and deploy a report</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create and deploy a report</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This exercise uses the standard demo data set available in finance and operations apps.</p>
<p>First, you need to create a query.</p>
<ol>
<li>Open Visual Studio as administrator.</li>
<li>From the <strong>File</strong> menu, select <strong>New</strong> &gt; <strong>Project</strong>. Select the <strong>Finance Operations</strong> template in the middle pane or by searching for it. Enter <strong>ReportingProject</strong> in the <strong>Name</strong> field. Select <strong>OK</strong>.</li>
<li>In the Solution Explorer, right-click your project node, and then    select <strong>Add &gt; New Item</strong>.</li>
<li>Select <strong>Data Model</strong> and then select <strong>Query</strong>.</li>
<li>For the <strong>Name</strong> field, enter <strong>FMVehicleModelQuery</strong> and then select <strong>Add</strong>.</li>
<li>Open the Application Explorer view, if it is not already open.</li>
<li>In the AOT, open <strong>Data Model &gt; Tables</strong>, and then select and drag FMVehicleModel table to the data source of your query.</li>
<li>In the properties of the <strong>QueryRootDataSource</strong> <strong>FMVehicleModel</strong>, set the <strong>Dynamic Fields</strong> property to <strong>Yes</strong>.</li>
<li>Select <strong>Save all</strong>.</li>
<li>Right-click the Project and build (Ctrl+Shift+B).</li>
</ol>
<p>Now, you will create the report.</p>
<ol>
<li>In the Solution Explorer, right-click your project node and then select <strong>Add &gt; New Item</strong>.</li>
<li>Select the <strong>Reports</strong> node on the left pane and then select <strong>Report</strong> on the middle pane.</li>
<li>In the <strong>Name</strong> field, type <strong>FMVehicleModelReport</strong> and then select    <strong>Add</strong>.</li>
<li>Right-click the <strong>Datasets</strong> node and then select <strong>New Data Set</strong>.</li>
<li>In <strong>Properties</strong>, set the <strong>Dynamic Filters</strong> property to <strong>True</strong>.</li>
<li>Enter <strong>FMVehicleModelDS</strong> in the <strong>Name</strong> property.</li>
<li>Select the <strong>Query</strong> property and then select the ellipsis (...) to view a list of Queries.</li>
<li>On the <strong>Select a Query</strong> page, select <strong>FMVehicleModelQuery</strong> and    then select <strong>Next</strong>.</li>
<li>Select the <strong>All Fields</strong> check box and then select <strong>OK</strong>.</li>
<li>Drag and drop <strong>FMVehicleModelDS</strong> from the <strong>Datasets</strong> node to the <strong>Designs</strong> node.</li>
<li>On the <strong>Designs</strong> node, expand the newly created <strong>AutoDesign1</strong>.</li>
<li>Expand the <strong>FMVehicleModelDSTable1</strong>.</li>
<li>On the <strong>Datasets</strong> node, expand the <strong>FMVehicleModelDS</strong>.</li>
<li>Expand the <strong>Fields</strong> node if it is not already expanded.</li>
<li>Drag and drop <strong>Make_Make</strong> from the <strong>Fields</strong> node to <strong>Designs &gt; AutoDesign1 &gt; FMVehicleModelDSTable1 &gt; Groupings</strong>.</li>
<li>Save all.</li>
<li>Right-click Solution and build (Ctrl+Shift+B).</li>
<li>In the Solution Explorer, right-click <strong>FMVehicleModelReport</strong> and then select <strong>Deploy Reports</strong>.</li>
</ol>
<p>Next, you will create a menu item to run the report.</p>
<ol>
<li>In the Solution Explorer, right-click your project node and then    select <strong>Add &gt; New Item</strong>.</li>
<li>Select <strong>User Interface</strong> and then select <strong>Output Menu Item</strong>.</li>
<li>Name the Output menu item <strong>FMVehicleModelReport</strong> and then select <strong>Add</strong>.</li>
<li>Drag the <strong>FMVehicleModelReport</strong> report from the Solution explorer onto the Menu Item that you just created.</li>
<li>Save all.</li>
<li>Right-click <strong>Solution and build</strong> (Ctrl+Shift+B).</li>
</ol>
<p>Finally, you will run the report.</p>
<ol>
<li>In the Solution explorer, select the <strong>FMVehicleModelReport</strong> Output menu item, and then right-click and select <strong>Set as Startup object</strong>.</li>
<li>Select <strong>Start</strong> on the Standard Toolbar in Visual Studio.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What data source types can you use when creating a report?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Query</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Business logic</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>RDP class</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>AX enum provider</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-4">
<input class="radio-dot choice-input" id="quiz-choice-0-4" name="0" type="radio" value="4"/>
<div class="margin-inline-sm radio-label-text">
<p>All listed options</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>What does the function Open in Excel do that Export to Excel doesn't?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>There's no difference.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Open in Excel uses data entities that let you publish changes to the data back to finance and operations.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Open in Excel uses the grid data.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>You can’t filter data through Open in Excel, but you can with Export to Excel.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>A report is taking a long time to run. When looking at the query, you notice that several fields are not being used in the report. To optimize this report, how should these unused fields be handled to increase performance?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Remove the unused fields from the report.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Keep the unused fields.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a data slicer to filter the data.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Delete the unused fields from the table.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>SSRS, Power BI, and Excel are powerful tools that offer finance and
operations apps developers and power users the ability to design, create, and
modify reports based on report requirements.</p>
<p>In this module, you learned how to create and modify SSRS reports, Power
BI reports, and Excel reports by using finance and operations apps data.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Workspaces in finance and operations apps are links, tiles, and lists specific to each user to help aid in completing their role at their organization. You can use Workspaces as a single point of entry into the application.</p>
<p>In workspaces you can design and embed KPIs to monitor business performance and use Report Definition Language (RDL) to create reusable report functions. Workspaces can be used to manage day to day responsibilities specific to each user.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/dashboard.svg#lightbox"><img alt="Screenshot of the finance and operations dashboard showing a workspace." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/dashboard.svg"/></a></p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Design KPIs</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Design KPIs</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>KPIs can be created in the developer environment and then embedded into
workspaces to provide users with key measurable values that
allow them to see how business is performing. The below image shows an example of a KPI tile in a workspace.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/kpi.png#lightbox"><img alt="Screenshot of the KPI tile in a workspace." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/kpi.png"/></a></p>
</div>
<p>KPIs should have clear objectives that are periodically reviewed to ensure that the objectives are being met. KPIs can be created by using aggregate data contained in aggregate measurements, which is a model that contains a collection of measures and their corresponding dimensions. The
measures that are used are aggregate numbers, such as total sales. Aggregate measurements can be set to measure the sum, minimum, maximum, count, distinct count, or average by using the Default aggregate property.</p>
<p>By default, the <strong>Default aggregate</strong> property uses the count measure. You can deploy the aggregate measurement two ways by using the Usage property.</p>
<ul>
<li><strong>InMemoryRealTime</strong> uses Column store indexes of
the SQL Server database to get real-time data.</li>
<li><strong>StagedEntityStore</strong> uses the Entity store that uses near
real-time Power BI reporting. This option allows you to deploy the
measure to the Entity store and have the data refreshed periodically.</li>
</ul>
<p>Dimensions are slicers that can be used to analyze data. From these
aggregate measurements and dimensions, you can create an
aggregate data entity. You can use the aggregate data to define a KPI
by using X++. After the KPI has been defined, users can customize it at run time.</p>
<p><img alt="Diagram of the relation between aggregate measurements and dimensions and the KPI that they define." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/measure-dimension.png"/></p>
<h2 id="create-a-new-project-in-visual-studio">Create a new project in Visual studio</h2>
<p>To create a new project in Visual studio, follow these steps:</p>
<ol>
<li>Open Visual Studio as an Administrator and under Get started, select <strong>Create a new project</strong>.</li>
<li>In the search box, type <strong>Finance Operation</strong> and select the template for finance and operations project and select <strong>Next</strong>.</li>
<li>Name your Project <strong>NewKPI</strong> and select <strong>Create</strong> at the bottom of the page. This will create your <strong>NewKPI</strong> project.</li>
</ol>
<h2 id="create-aggregate-measurements">Create aggregate measurements</h2>
<p>To create aggregate measurements, follow these steps:</p>
<ol>
<li>In the <strong>Solution explorer</strong>, right-click your project and select
<strong>Add &gt; New item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> select <strong>Analytics &gt; Aggregate Measurement</strong>.
<a data-linktype="relative-path" href="media/aggregate-measurement.png#lightbox"><img alt="Screenshot of the Aggregate Measurement option." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/aggregate-measurement.png"/></a></li>
<li>Open <strong>Application Explorer</strong> by going to <strong>View &gt; Application Explorer</strong> if it does not already show up on your page.</li>
<li>Go to <strong>Data Model &gt; Views</strong> and select the <strong>FMVehicleExtendedView</strong> view to create measurements. Because the project model is Fleet Management the <strong>FMVehicleExtendedView</strong> view is compatible.</li>
<li>In the <strong>FMVehicleExtendedView</strong> pane, under fields, drag and drop the <strong>FMVehicleExtendedView</strong> view in the <strong>MeasureGroup1</strong> group for the <strong>Aggregate</strong> measure.</li>
<li>In the <strong>Dimensions</strong> group, right click on <strong>Date</strong> and select <strong>Delete</strong>.</li>
<li>In the Application Explorer, right click the <strong>FMVehicleExtendedView</strong> and select <strong>Open designer</strong>. Split the resulting pane alongside the <strong>Design</strong> pane for your <strong>AggregateMeasurement</strong> object.</li>
<li>Drag and drop the <strong>Mileage</strong> field from the view to the <strong>Measures</strong> group in your <strong>AggregateMeasurement</strong>.</li>
<li>Each measure has a default <strong>Aggregate</strong> property that you can set:
<ul>
<li>Count</li>
<li>Sum</li>
<li>AverageOfChildren</li>
<li>DistinctCount</li>
<li>Max</li>
<li>Min</li>
</ul>
</li>
<li>Save all, and then build the project to see if it compiles correctly. This can be done by right clicking the project and selecting <strong>Build</strong>.</li>
</ol>
<h2 id="create-aggregate-dimensions">Create aggregate dimensions</h2>
<p>To create aggregate dimensions, follow these steps:</p>
<ol>
<li>In the <strong>Solution explorer</strong>, right-click your project and select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 Items</strong> select <strong>Analytics &gt; Aggregate Dimension</strong>, and then select <strong>Add</strong>.
<a data-linktype="relative-path" href="media/aggregate-dimension.png#lightbox"><img alt="Screenshot of the Aggregate Dimension option." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/aggregate-dimension.png"/></a></li>
<li>In the <strong>Application Explorer</strong>, go to <strong>Data model &gt; Views</strong> and select the **FMVehicleExtendedView ** view to pull measurements.</li>
<li>Drag the selected item onto the root of the <strong>AggregateDimensions</strong> object that you’ve created.</li>
<li>If you don’t have an attribute or didn’t change the <strong>Dimension</strong> field on the original attribute, drag the <strong>Model</strong> field from the view into <strong>Aggregate dimension &gt; Attribute</strong>s.</li>
<li>Save all, and then build the project to see if it compiles correctly. This can be done by right clicking the project and selecting <strong>Build</strong>.</li>
</ol>
<h2 id="create-model-dimension-references">Create model dimension references</h2>
<p>To create model dimension references, follow these steps:</p>
<ol>
<li>From the Solution Explorer, drag and drop the Aggregate dimension into the Aggregate measurement's <strong>Dimension</strong>.</li>
<li>Right-click the <strong>Dimension</strong> node and select <strong>New Dimension</strong>, and rename the new dimension.</li>
<li>Select the newly created dimension, and then right-click and select <strong>New relation</strong>.</li>
<li>Name the new relation.</li>
<li>Right-click on the relation, go to properties and then change the <strong>Dimension attribute</strong> to <strong>Model</strong>.
<a data-linktype="relative-path" href="media/model.png#lightbox"><img alt="Screenshot of the DimensionRelation." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/model.png"/></a></li>
<li>Save all.</li>
</ol>
<h2 id="deploy-aggregate-measurements">Deploy aggregate measurements</h2>
<p>To deploy aggregate measurements, follow these steps:</p>
<ol>
<li>Select the aggregate measurement.</li>
<li>Set the <strong>Usage</strong> property in <strong>Properties</strong> to one of the following:
<ul>
<li>InMemoryRealTime</li>
<li>StagedEntityStore</li>
</ul>
</li>
<li>Right-click the aggregate measurement in the <strong>Solution Explorer</strong>, and select <strong>Add Column Store Indices</strong>.</li>
</ol>
<h2 id="create-the-aggregate-data-entity">Create the aggregate data entity</h2>
<p>To create the aggregate data entity, follow these steps:</p>
<ol>
<li>In the <strong>Solution explorer</strong>, right-click your project and select <strong>Add new &gt; New item</strong>.</li>
<li>Under <strong>Dynamics 365 items</strong> select <strong>Analytics &gt; Aggregate Data Entity</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Drag and drop the aggregate measure from the <strong>Solution Explorer</strong> to the data source of the aggregate data entity shown on the <strong>Designer Window</strong>.</li>
<li>In the data source, expand the DataSource, expand the Aggregate data measurement, expand the measure group (<strong>Mileage</strong>), and <strong>Measures</strong>, and then drag <strong>Mileage</strong> into <strong>Fields</strong>.</li>
<li>In the data source, expand the DataSource, expand the Aggregate data measurement, Expand the measure group (<strong>Mileage</strong>), and <strong>Dimensions</strong>, then drag <strong>AggregateDimension</strong> into <strong>Fields</strong>.</li>
<li>Right-click on the added field and open <strong>Properties</strong>.</li>
<li>In <strong>Properties</strong>, go to the <strong>Attribute</strong> property in the <strong>Data</strong> section. Set the attribute value to any value.</li>
<li>Save and build the solution.</li>
</ol>
<h2 id="create-a-kpi">Create a KPI</h2>
<p>To create a KPI, follow these steps:</p>
<ol>
<li>Right-click the project and select <strong>Add &gt; New Item</strong>.</li>
<li>Under <strong>Dynamics 365 items</strong> select <strong>Analytics &gt; Key Performance Indicator</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Set the <strong>Measurement</strong> property to select the measurement for the KPI in the <strong>Properties</strong> section.</li>
<li>Select the <strong>Value</strong> node of the KPI.</li>
<li>Set the measurement group on the <strong>Measure group</strong> property.</li>
<li>Set the measure on the <strong>Measure</strong> property.</li>
<li>Select the <strong>Goal</strong> node of the KPI.</li>
<li>Set the <strong>Goal Type</strong> property to <strong>BasedOnMeasure</strong>.</li>
<li>Set the measurement group on the <strong>Measure group</strong> property.</li>
<li>Set the measure on the <strong>Measure</strong> property.</li>
<li>Select <strong>Save</strong> and <strong>Build</strong>.</li>
</ol>
<h2 id="add-the-kpi-to-a-workspace">Add the KPI to a workspace</h2>
<p>To add the KPI to a workspace, follow these steps:</p>
<ol>
<li>Right-click the project and select <strong>Add &gt; New item</strong>.</li>
<li>Select <strong>User Interface &gt; Tile</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>Drag and drop the KPI from <strong>Solution explorer</strong> onto the tile in the <strong>Tile designer</strong>.</li>
<li>Save.</li>
<li>Create an extension of an existing workspace form or create a new  workspace form. Ensure the solution model matches the workspace form model, otherwise you cannot make an extension of that form. Create an extension by right-clicking on the form in the AOT.</li>
<li>In the Designer, add a <strong>Tile</strong> button. You may need to change the pattern of the form to custom to do this.</li>
<li>Set the <strong>Tile property</strong> drop-down option to the KPI tile that you created.</li>
<li>Save all and build the solution.</li>
<li>The workspace will show the new KPI that was created. Select the KPI tile to view details.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create drill-through workspace elements</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create drill-through workspace elements</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Drill-through elements might be necessary in a workspace to help you view
additional data within the page. For instance, you might have a view on
your workspace to see the total number of sales, but by selecting a link
in the data, you can access a more detailed view of each sale.</p>
<p>Tiles are buttons added to a workspace that allow the user to view data.
Tiles can display a record count of data, and they can also provide
drill-through access to view more record details. You can create tiles
and add them to a workspace through X++ development. To create a new tile
for a workspace, you first need to create a query to pull the
information and a menu item that uses that query. Then, you must create a
tile that uses the menu item. On the <strong>Workspace</strong> form, you can add a
<strong>Tile</strong> button to the workspace that points at the tile.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/tiles.svg#lightbox"><img alt="Screenshot of the Personnel management workspace page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/tiles.svg"/> </a></p>
</div>
<h2 id="add-a-tile-button-to-your-workspace-in-the-user-interface">Add a tile button to your workspace in the user interface</h2>
<p>To add a <strong>Tile</strong> button to your workspace in the user interface, follow these steps:</p>
<ol>
<li>Right-click the dashboard below the header image and select
<strong>Personalize</strong>.</li>
<li>Select the <strong>+Add a workspace</strong> button. A new workspace will be
created, titled <strong>My Workspace 1</strong>.</li>
<li>Right-click <strong>My Workspace 1</strong> and enter a new name for your
workspace. </li>
<li>Open the navigation pane and go to <strong>Modules &gt; Accounts
Receivable &gt; Customers &gt; All customers</strong>.</li>
<li>On the Action Pane, select the <strong>Options</strong> tab.</li>
<li>In the <strong>Personalize button</strong> group, select <strong>Add to workspace</strong>.</li>
<li>In the <strong>Workspace</strong> drop-down menu, select your workspace. </li>
<li>In the <strong>Presentation</strong> drop-down menu, select <strong>Tile</strong>.</li>
<li>Select <strong>Configure</strong>.</li>
<li>In the <strong>Add as</strong> list pane, keep all defaults and select <strong>OK</strong>.</li>
<li>Select the <strong>finance and operations</strong> button to return to the
dashboard.</li>
<li>Select your workspace. The tile now shows the properties that you configured.</li>
</ol>
<h2 id="add-a-tile-button-to-an-existing-workspace-in-the-developer-environment">Add a tile button to an existing workspace in the developer environment</h2>
<p>To add a <strong>Tile</strong> button to an existing workspace, follow these steps:</p>
<ol>
<li>Create a new project in Visual Studio and make sure that the model that your project is in references "Fleet Management." Verify that the model that your project is in references "Fleet Management" by following these steps:
<ol>
<li>Select the <strong>Dynamics 365</strong> menu.</li>
<li>Select <strong>Model management &gt; Update model parameters</strong>.</li>
<li>Select the model that you are using in the <strong>Model name</strong> drop-down list.</li>
<li>Select <strong>Next</strong>.</li>
<li>Ensure that the <strong>Fleet Management</strong> model is selected in the <strong>References models</strong> screen.</li>
</ol>
</li>
<li>With the new project open in the Solution Explorer, right-click the
project and select <strong>Add &gt; New item</strong>.</li>
<li>In the <strong>Add new item</strong> window, select <strong>User Interface</strong> on the left
pane.</li>
<li>Select <strong>Tile</strong> on the middle pane.</li>
<li>Name the new tile <strong>MyTile</strong>.</li>
<li>Select <strong>Add</strong>.</li>
<li>In the <strong>Properties</strong> window for the new MyTile object, select
<strong>Wide</strong> in the <strong>Size</strong> field.</li>
<li>Select <strong>My Tile</strong> in the <strong>Label</strong> field.</li>
<li>Select <strong>Display</strong> in the <strong>Menu item type</strong> field.</li>
<li>Select <strong>FMSetup</strong> in the <strong>Menu item name</strong> field.</li>
<li>Select <strong>Save</strong>.</li>
<li>By linking this tile to the FMSetup menu display item, when the tile is selected in the application, it will open the <strong>Fleet Management Setup</strong> page.</li>
<li>Now, you will extend the <strong>Reservation management</strong> workspace and add the tile to the <strong>Summary</strong> section.</li>
<li>In <strong>Application Explorer</strong>, find the <strong>FMClerkWorkspace</strong> page.</li>
<li>Right-click <strong>FMClerkWorkspace</strong> and select <strong>Create extension</strong>.</li>
<li>A new form is added to your project called
<strong>FMClerkWorkspace.Extension</strong>.</li>
<li>Right-click <strong>FMClerkWorkspace.Extension</strong>, select <strong>Rename</strong>, and rename the object to <strong>FMClerkWorkspace.myExtension</strong>.</li>
<li>Double-click <strong>FMClerkWorkspace.myExtension</strong> to open it in the element designer.</li>
<li>On the design pane of the form designer, open <strong>FormTabControl1 &gt;  Workspace &gt; PanoramaBody &gt; SummaryTileSection</strong>.</li>
<li>Right-click <strong>SummaryTileSection</strong> and select <strong>New &gt; Tile button</strong>.</li>
<li>A new control will be added to the form called
<strong>TileButtonControl1</strong>.</li>
<li>Select <strong>TileButtonControl1</strong> and go to the properties window.</li>
<li>Select <strong>MyTile</strong> in the <strong>Name</strong> field.</li>
<li>Select <strong>MyTile</strong> in the <strong>Tile</strong> field.</li>
<li>Select <strong>My Tile</strong> in the <strong>Tile text</strong> field.</li>
<li>Save and build the project.</li>
<li>To view the new tile, open finance and operations apps,    and go to the <strong>Reservation management</strong> workspace. The tile should display in the <strong>Summary</strong> section.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create custom reusable report functions by using RDL</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create custom reusable report functions by using RDL</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Report Definition Language (RDL) is an XML representation of an SQL Server Reporting Services (SSRS) report definition. A report definition contains data retrieval and layout information for a report. You can add your own custom functions for controlling report item values, styles, and formatting by accessing code assemblies within report definition files.</p>
<p>RDL can be used to define charts, graphs, calculations, text, images, and other report objects. RDLs can be created by using the Microsoft .Net Framework classes. Specifically, the XmlTextWriter class can write an RDL. You can also extend existing RDLs to add items with custom properties. The reports that are created by using RDL can be exported as a .rdl file, which contains the report data, calculations, and report layout. All SSRS reports generate a .rdl file.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement built-in KPIs, charts, and other reporting components</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement built-in KPIs, charts, and other reporting components</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Workspaces can contain main elements, such as those discussed in this
module. Workspaces can also include built-in KPIs, charts, and other
components that make the user interface experience more efficient and
useful. In finance and operations apps, users can create a workspace and add
existing elements to a workspace from the user interface.</p>
<p>When adding an element to a workspace from the user interface, you can
select the presentation of the data. The presentation types are Tile,
List, and Link. The <strong>Tile</strong> option has additional configuration where
you can enter the tile name and display the record count. Before
creating the tile, you can filter the form to view only the records that you want to see on the tile. The <strong>List</strong> option allows you to name the tab and select the list style. You can also select the columns that you want to display. The <strong>Link</strong> option will create a hyperlink to the workspace so you can quickly access other form.</p>
<div class="mx-imgBorder">
<p><a data-linktype="relative-path" href="media/customize.svg#lightbox"><img alt="Screenshot of the Add to workspace form in the Personalize group under the Options tab." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/build-workspaces-finance-operations/media/customize.svg"/> </a></p>
</div>
<p>In the developer environment, developers can create KPI tiles that
display calculated measures. To create a KPI in the developer
workspace, you can create and modify KPIs by using aggregate data that is
contained in aggregate measures. A key benefit of developing KPIs is
that after a KPI is defined, users can customize it at run time. To
develop and create a KPI in the developer environment you should follow
these high-level steps:</p>
<ol>
<li>Create the KPI object.</li>
<li>Define KPI range, goals, and/or tends.</li>
<li>Create a tile for the KPI to display on.</li>
<li>Add the KPI to the tile.</li>
</ol>
<p>You can also embed Power BI reports into your workspace. To do this, you
will need to populate the local Entity Store database with the
appropriate aggregate measurement. You can set up a batch job to
periodically update the aggregate measurement. You will then need to
connect Power BI to the Entity Store database and choose which tables
and views to report on. From there, you can create reports, charts, and
dashboards, and then publish the report and pin it to the workspace.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create a workspace and add a tile, list, link, and Power BI element</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Create a workspace and add a tile, list, link, and Power BI element</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Watch this video to see how to build a custom workspace.</p>
<div class="embeddedvideo"><iframe allowfullscreen="true" data-linktype="external" frameborder="0" src="https://learn-video.azurefd.net/vod/player?id=7e75e180-3180-43df-82ae-a7c7adda5c30"></iframe></div>
<h2 id="scenario">Scenario</h2>
<p>As a customer relations manager, you want to create a workspace to quickly view certain information. You want to see the total number of customers and be able to drill through to see more details on customers. You also want to see a list of all the leads that you can filter. You only need to see the date that the lead was opened, the lead ID, status of the lead, the subject of the lead, and comments made on the lead. A chart of the sales of customer groups would be useful, as would having a way to quickly go from the workspace to the quotations page.</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>To complete this exercise, you will need access to an environment that has a standard sample of data in finance and operations apps, and is connected to Power BI.</p>
<p>To connect your environment to Power BI, follow these steps:</p>
<ol>
<li>Go to <strong>System Administration &gt; Setup &gt; PowerBI.com configuration</strong>.</li>
<li>Select <strong>Edit</strong> and toggle the <strong>Enable PowerBI.com integration</strong> to <strong>Yes</strong>.</li>
<li>Select <strong>Save</strong>.</li>
</ol>
<h2 id="create-a-new-workspace">Create a new workspace</h2>
<ol>
<li>Open the user interface.</li>
<li>On the <strong>Home</strong> screen, right-click in the workspace area.</li>
<li>Select the <strong>Personalize: Workspaces</strong> option.</li>
<li>Select the <strong>Add a Workspace</strong> option.</li>
<li>Right-click the <strong>My Workspace 1</strong> tile.</li>
<li>Select the <strong>Personalize: My Workspace 1</strong> option.</li>
<li>In the <strong>Text</strong> field, enter <strong>CRM</strong>.</li>
</ol>
<h2 id="add-a-tile-to-your-workspace">Add a tile to your workspace</h2>
<ol>
<li>Open <strong>Sales and marketing &gt; Customers &gt; All customers</strong>.</li>
<li>Select the <strong>Options</strong> tab on the Action Pane.</li>
<li>In the <strong>Personalize</strong> section, select <strong>Add to workspace</strong>.</li>
<li>In the drop-down form, select <strong>CRM</strong> in the <strong>Workspace</strong> field.</li>
<li>Select the <strong>Tile</strong> option in the <strong>Presentation</strong> field.</li>
<li>Select the <strong>Configure</strong> button.</li>
<li>On the <strong>Add as tile</strong> form, enter <strong>Customers</strong> in the <strong>Name on
tile</strong> field.</li>
<li>Select <strong>Yes</strong> on the <strong>Show count on the tile</strong> field and then select <strong>OK</strong>.</li>
</ol>
<h2 id="add-a-list-to-your-workspace">Add a list to your workspace</h2>
<ol>
<li>Open <strong>Sales and marketing &gt; Relationships &gt; Leads &gt; All leads</strong>.</li>
<li>Select the <strong>Options</strong> tab on the Action Pane.</li>
<li>In the <strong>Personalize</strong> section, select <strong>Add to workspace</strong>.</li>
<li>In the drop-down form, select <strong>CRM</strong> in the <strong>Workspace</strong> field.</li>
<li>Select <strong>List</strong> in the <strong>Presentation</strong> field.</li>
<li>Select the <strong>Configure</strong> button.</li>
<li>On the <strong>Add as list</strong> form, enter <strong>Leads</strong> in the <strong>Name for tab</strong>
field.</li>
<li>In the <strong>List style</strong> field, select the <strong>Tabular (up to 8
columns)</strong> option.</li>
<li>Select the check box for the following columns:
<ul>
<li>Date opened</li>
<li>Lead ID</li>
<li>Status</li>
<li>Subject</li>
<li>Name</li>
<li>Comments</li>
</ul>
</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="add-a-link-to-your-workspace">Add a link to your workspace</h2>
<ol>
<li>Open <strong>Sales and marketing &gt; Relationships &gt; Opportunities &gt; All    opportunities</strong>.</li>
<li>Select the <strong>Options</strong> tab on the Action Pane.</li>
<li>In the <strong>Personalize</strong> section, select <strong>Add to workspace</strong>.</li>
<li>In the drop-down form, select <strong>CRM</strong> in the <strong>Workspace</strong> field.</li>
<li>Select <strong>Link</strong> in the <strong>Presentation</strong> field.</li>
<li>Select the <strong>Configure</strong> button.</li>
<li>On the <strong>Add as link</strong> form, enter <strong>Opportunities</strong> in the <strong>Name</strong>
field.</li>
<li>On the <strong>Group name</strong> field, enter <strong>Favorites</strong>.</li>
<li>Select the <strong>OK</strong> button.</li>
<li>Close the page.</li>
</ol>
<h2 id="embed-a-power-bi-report">Embed a Power BI report</h2>
<ol>
<li>To embed a Power BI report, open your CRM workspace.</li>
<li>On the Action Pane, select the <strong>Options</strong> tab.</li>
<li>Select <strong>Personalize this page</strong>.</li>
<li>A personalization menu will appear. Select the <strong>Add a field</strong> button.</li>
<li>Select an open area on the workspace form.</li>
<li>A <strong>Workspace options</strong> sidebar will appear. Set the <strong>Allow Power BI
Control</strong> option to <strong>Yes</strong> and then select <strong>OK</strong>.</li>
<li>In the workspace, the Power BI tile will be available. In the <strong>Power
BI</strong> tile, select <strong>Get started</strong>.</li>
<li>When prompted on the Authorize Power BI side pane, select <strong>Click here to provide authorization to Power BI</strong>.</li>
<li>When you are connected, you will have a list of available Power BI
reports. Select the <strong>Sales</strong> tab.</li>
<li>Select the <strong>Sales by Customer Group</strong> chart.</li>
<li>Select <strong>OK</strong> to embed the Power BI reports to your workspace.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned.</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Why would a KPI need to be used by a business?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs send alerts to users in their workspaces when a certain action occurs.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs give users a task list that must be completed.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs can be used to find errors in the system.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>KPIs can be used to measure performance.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You want to add an element to your workspace to quickly see sales orders that are marked as Pending confirmation. Normally, you filter the Sales order list page to find if you have any orders that are waiting for confirmation. What workspace element would help you quickly identify the pending confirmation orders that you must process?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI line chart</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Power BI pie chart</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Link</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Tile</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>What are the benefits of using a workspace?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Users can create and edit workspaces through the user interface without the need of a developer.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Workspaces can be personalized and shared across users.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>You can embed Power BI reports to generate data visualizations.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Workspaces let users work from one location to view required data in one location.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-4">
<input class="radio-dot choice-input" id="quiz-choice-2-4" name="2" type="radio" value="4"/>
<div class="margin-inline-sm radio-label-text">
<p>All of the above</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Workspaces increase users' productivity by helping them make decisions based on real-time data and quickly view reporting and
analytics. This module
introduced you to the steps and information necessary to design, create, and
modify these workspaces to work for your business, and to provide users with
what they need.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>With role-based security, access to finance and operations apps is not granted to individual users, but to security roles to which users are
assigned. A user who is assigned to a security role has access to the
set of privileges that is associated with that role. If a user isn't
assigned to a role, they are unable to access the finance and operations apps
application.</p>
<p>To access finance and operations apps and be assigned to a role, a user must have an authenticated Microsoft Entra ID account.</p>
<p>In finance and operations apps, role-based security is aligned with the structure of an organization. Users are assigned to security roles based on their daily job responsibilities. Depending on the user, one role or many roles might be assigned. Roles contain duties, privileges, and permissions that control access to system components.
The administrator grants access to the user for the duties that they
perform. After security roles, duties, and privileges have been set up,
business managers can control user access as their business needs
change.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify duties, privileges, and permissions</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create and modify duties, privileges, and permissions</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps offers many duties, privileges, and permissions out of the box. If needed, you can create a new role, duty, privilege, or permission in Visual Studio.</p>
<p>While you can manage security roles in finance and operations apps, we recommend that you have a system administrator
manage roles or modify duties and privileges behind the scenes in Visual
Studio. Permissions can only be created or modified in the development
environment. Each role has various duties assigned to it. A privilege
can be directly assigned to a role, but it is best practice to assign a
privilege to a duty. Within each privilege, various permissions are assigned. Permissions represent the most granular access to
finance and operations apps.</p>
<p><img alt="This flow shows the hierarchy of security in finance and operations apps from role to duty to privilege to permission." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/hierarchy-1.png"/></p>
<p>Permissions represent access to individual securable objects, such as
menu items and tables. Privileges are composed of permissions, and they
represent tasks, such as generating a sales order. Privileges give the user access to perform a specific action. For example, one
privilege might have read-only access to view a record, while another
privilege grants access to create and edit a record.</p>
<p>Duties are composed of privileges and represent parts of a business process, such as maintaining vendor information. A single set of roles applies across all companies and organizations. An administrator no longer must create and maintain separate user groups for each company, as was the case in earlier versions. Even though roles are not specific to a
company or organization, the administrator can control access by specifying a company or organization for a user in a role.</p>
<p><strong>Example</strong></p>
<p>An accounting example can help better explain duties,
privileges, and permissions in the user interface of finance and operations apps.</p>
<p>In the accounting process cycle, there are the <strong>Maintain
ledgers</strong> and <strong>Maintain bank transactions</strong> duties. The <strong>Maintain bank
transactions</strong> duty contains the <strong>Generate deposit slips</strong> and <strong>Cancel
payments</strong> privileges. The <strong>Cancel payments</strong> privilege contains
permissions to the menu items, fields, and tables that are required to
cancel payments. Each permission, privilege, and duty can be reused in
other roles, duties, and privileges. For example, an Accounts payable
manager would have the same permissions as an Accounts payable clerk, but
would have additional managerial permissions as well.</p>
<h2 id="create-new-roles-duties-and-privileges">Create new roles, duties, and privileges</h2>
<p>In Visual Studio, you can create new roles, duties, and privileges by adding an item to your project in the <strong>Solution Explorer</strong> window. Additionally, you can create new permissions directly through a privilege in the element designer window.</p>
<p>Two ways to assign duties to a role are:</p>
<ul>
<li>Add a new duty within the <strong>Duties</strong> node of the role in the    element designer window.</li>
<li>Select a duty from the Application Object Tree (AOT) and drag it to the <strong>Duties</strong> node in the element designer window.
This same process applies to assigning privileges to roles. You can
also create an extension of an existing role, duty, or privilege.
This would allow you to add or remove a duty from a role, or perhaps
change a view-only privilege to an edit privilege for a certain page
in finance and operations apps.</li>
</ul>
<p>Follow these steps to create a new security element:</p>
<ol>
<li>In <strong>Visual Studio</strong>, go to the <strong>Solution Explorer</strong> window.</li>
<li>Right-click your project and select <strong>Add &gt; New Item</strong>.</li>
<li>In the left column, under the <strong>Dynamics 365 Items</strong> node, select    <strong>Security</strong>.</li>
<li>Select <strong>Security Role</strong>, <strong>Security Duty</strong>, or <strong>Security
Privilege</strong>, depending on the type of element that you need to create.</li>
<li>Enter a <strong>Name</strong> for the security element.</li>
<li>Select <strong>Add</strong> to add this element to your project. The element will now be open in the element designer window.</li>
</ol>
<p><a data-linktype="relative-path" href="media/security-element.png#lightbox"><img alt="Screenshot showing the steps to create a new security element." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/security-element.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Enforce permissions policy</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Enforce permissions policy</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Permissions policies are used in role-based security to grant access to
users for specific purposes. The most common type of security policy
originates from a query that is stored in the AOT.</p>
<p>A query specifies the criteria that each row or record must satisfy to be
returned by using the <strong>Ranges</strong> node in its data source. The <strong>Fields</strong>
node specifies which fields should be returned. You can create a field
security profile to use the permissions policies to restrict access to a
certain field. After you create the profile, you can assign users or teams to that profile and then set up specific read, create, or write permissions for the field.</p>
<p>You can use permissions policies to ensure that users can view and access all necessary areas of finance and operations apps, from pages within the navigation pane to specific buttons on a page. A new security policy is added to a project through the <strong>Solution Explorer</strong> window by following the same steps as adding a new role, duty, or privilege to a project. In the <strong>Properties</strong> window, you can specify the details of the policy, such as the query that is the basis for the policy and the <strong>Primary Table</strong>, which is the first data source in the query that is assigned to the policy. Additionally, you can specify the <strong>Context Type</strong>, which is used to determine whether the policy is applicable.</p>
<p>The following image shows the <strong>Properties</strong> window of the
<code>RetailCustomer</code> security policy that uses the
<code>RoleName</code> context type. The <strong>Role Name</strong> property has been filled in to specify that the <code>RetailStoreManager</code> role is
associated with this policy.</p>
<p><a data-linktype="relative-path" href="media/retail-policy.png#lightbox"><img alt="RetailCustomer security policy Properties window." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/retail-policy.png"/></a></p>
<p>The following image is the <strong>Properties</strong> window of the
<code>FMSelfServ</code> security policy that uses the
<code>ContextString</code> context type. Notice that different fields
are used as you select a different context type.</p>
<p><a data-linktype="relative-path" href="media/fm-policy.png#lightbox"><img alt="Properties window for the FMSelfServpolicy." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/fm-policy.png"/></a></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Extensible data security framework</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Extensible data security framework</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>To grant access to tables, fields, and rows in the finance and operations apps user interface, authorization is used. To restrict or deny
access to those elements, you need to use data security. You can assign data security policies to security roles by using the extensible data security (XDS) framework.</p>
<p>XDS is an evolution of record-level security (RLS) that was available in
Microsoft Dynamics AX 2012 and earlier versions. The XDS framework in finance and operations apps allows you and the administrators at your organization to help secure data in shared tables in such a way that users will have access to the part of the table that is allowed by the enforced policy. XDS policies are enforced, regardless of whether data is being accessed through the finance and operations apps cloud-based application, an SQL Server Reporting Services (SSRS) report, or other services.</p>
<p>The flow for an XDS policy is as follows:</p>
<ol>
<li>Start with a query to define the filters or limits that should be placed on the primary table or tables.</li>
<li>Create a security policy that links to the query and primary table for which you want to restrict data access.</li>
<li>Define the context for the rule. This could be based on a string,  which would require additional development, or based on a role or group of roles.</li>
<li>Define the list of constrained tables, which are related tables that store data from the primary tables for which you are attempting to restrict a subset of data.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Apply security permissions</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Apply security permissions</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Users are assigned to security roles in the System administration module in finance and operations apps by going to <strong>Security administration &gt; Security &gt; Security configuration.</strong></p>
<p><a data-linktype="relative-path" href="media/security-1.png#lightbox"><img alt="Screenshot of the Security configuration page." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/security-1.png"/></a></p>
<p>You can automatically assign users to roles by using queries from Visual Studio, or you can manually assign an individual user to a role. Additionally, you can choose to have a user excluded from automatic role assignment by resetting her or his status.</p>
<p>Follow these steps to assign users to roles automatically:</p>
<ol>
<li>In finance and operations apps, open the
Navigation pane by selecting the menu icon in the top-left corner of the page.</li>
<li>Under the <strong>Modules</strong> node, select <strong>System administration</strong>.</li>
<li>Select <strong>Security</strong> to expand the node, and then select <strong>Assign    users to roles</strong>.</li>
<li>In the left column, select the role that you want to assign users to, such as <strong>Accounts payable clerk</strong>.</li>
<li>In the middle column, beneath the <strong>Rules for dynamically assigning    users to role</strong> heading, select <strong>Add rule</strong>.</li>
<li>Select your desired query name for the rule, such as
<strong>LedgerJournalPostControl</strong>.</li>
<li>To modify the query, such as removing a company from the rule or adding a table join, select <strong>Edit query</strong>.</li>
<li>In the Action Pane, select <strong>Run automatic role assignment</strong>. You will see the users that have been added in the middle column under the <strong>Users assigned to role</strong> heading.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a new security role and add duties</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create a new security role and add duties</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>The finance and operations apps developer has been asked by the Fleet
Management company to create a new role based on a new position that they are filling for a Fleet Service Manager. The manager needs duties to manage cars and customers, as well as the basic duties that are associated with Fleet Management.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Open Visual Studio.</li>
<li>Select <strong>Yes</strong> in the <strong>Do you want to allow this app to make changes to your device?</strong> window.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the <strong>Recent project templates</strong> section, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>FleetManagementSecurityProject</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select
<strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-the-fmservicemanager-role">Create the FMServiceManager role</h2>
<ol>
<li>In the <strong>Solution Explorer</strong> window, right-click
<strong>FleetManagementSecurityProject</strong>.</li>
<li>Select <strong>Add &gt; New Item</strong>.</li>
<li>In the left column, under the <strong>Dynamics 365 Items</strong> node, select    <strong>Security</strong>.</li>
<li>In the middle column, select <strong>Security Role</strong>.</li>
<li>In the <strong>Name</strong> field at the bottom of the page, enter <strong>FMServiceManager</strong>.</li>
<li>Select <strong>Add</strong> to add the new security role to your project. The <strong>FMServiceManager</strong> role will now be open in the element designer window.</li>
</ol>
<h2 id="add-duties-to-the-fmservicemanager-role">Add duties to the FMServiceManager role</h2>
<ol>
<li>Select <strong>View</strong>, and then <strong>Application Explorer</strong>.</li>
<li>In the <strong>Application Explorer</strong>, in the <strong>AOT</strong>, expand the <strong>Security</strong> node.</li>
<li>In the <strong>Application Explorer</strong> window, in the <strong>AOT</strong>, expand the    <strong>Security</strong> node.</li>
<li>Expand the <strong>Security Duties</strong> node.</li>
<li>Select and drag the <strong>FMBasicDuties</strong> duty from the <strong>AOT</strong> in the    <strong>Application Explorer</strong> window to the element designer window (in the middle of the page) in the <strong>Duties</strong> node beneath the <strong>FMServiceManager</strong> role.</li>
<li>Select and drag the <strong>FMManageCars</strong> duty from the <strong>AOT</strong> in the    <strong>Application Explorer</strong> window to the element designer window in the    <strong>Duties</strong> node beneath the <strong>FMServiceManager</strong> role.</li>
<li>Select and drag the <strong>FMManageCustomers</strong> duty from the <strong>AOT</strong> in the <strong>Application Explorer</strong> window to the element designer window in the <strong>Duties</strong> node beneath the <strong>FMServiceManager</strong> role. You should have three duties under the <strong>Duties</strong> node now, <strong>FMBasicDuties</strong>, and <strong>FMManageCars</strong>.</li>
<li>Perform a build by right-clicking the project
<strong>FleetManagementSecurityProject</strong> in the <strong>Solution Explorer</strong>    window and selecting <strong>Build</strong>.</li>
</ol>
<p>You may see an error because the batch server needs to be turned off in the environment. However, this does not affect the build. This may be because of a batch job that is currently running in the environment that would be interfering with any of the objects, such as security privileges, in the current build. Stopping the batch server would prevent an error occurring because of any currently running batch jobs.</p>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Microsoft Entra ID and OAuth 2.0 authentication</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Microsoft Entra ID and OAuth 2.0 authentication</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Finance and operations apps use Microsoft Entra ID (formerly Microsoft Azure Active Directory) for authentication. OAuth 2.0 authentications allow integrations on behalf of a user. OAuth is an abbreviation for “Open Authorization.”</p>
<p>To access finance and operations apps and be assigned to a role, a user must have an authenticated Microsoft Entra ID account. By default, only authenticated users with user rights can establish a connection.</p>
<p>Microsoft Entra ID is a primary identity provider. To access the system, users must be provisioned into a finance and operations apps instance and should have a valid Microsoft Entra ID account in an authorized tenant.</p>
<p>OAuth 2.0 is a standard that allows a website or application to access resources, on behalf of a user, that other web apps are hosting, as shown in the following diagram.</p>
<p><a data-linktype="relative-path" href="media/diagram-security.png#lightbox"><img alt="Diagram of how Microsoft Entra ID and OAuth 2.0 work with data security in finance and operations apps." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/diagram-security.png"/></a></p>
<p>For finance and operations apps, OAuth 2.0 provides authentication for the web application programming interface (API), services, and integrations.</p>
<h2 id="oauth-20">OAuth 2.0</h2>
<p>In finance and operations apps, OAuth 2.0 is used for integrations to allow external systems to access it in the following scenarios:</p>
<ul>
<li>Batch data API</li>
<li>OData</li>
<li>Custom services</li>
<li>Data management package API</li>
<li>Other integration scenarios</li>
</ul>
<p>To register finance and operations apps with OAuth 2.0 in Microsoft Entra ID, follow these steps:</p>
<ol>
<li><p>Go to portal.azure.com.</p>
</li>
<li><p>Search for <strong>App Registrations</strong> and then select <strong>New registration</strong>.</p>
</li>
<li><p>Choose the appropriate option under <strong>Supported Account Type</strong>. The most common option is <strong>Single tenant</strong>.</p>
</li>
<li><p>Enter the applicable Redirect URI, which should be your environment’s URL and your environment’s URL + /OAuth, as the following image depicts.</p>
<p><a data-linktype="relative-path" href="media/redirect-urls.png#lightbox"><img alt="Screenshots of Redirect URLs." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/role-security-finance-operations/media/redirect-urls.png"/></a></p>
</li>
<li><p>Select <strong>Register</strong>, and then select <strong>Certificates &amp; secrets</strong> in the navigation pane.</p>
</li>
<li><p>Select <strong>New client secret</strong>, and then enter a description and expiration period.</p>
</li>
<li><p>Select <strong>Add</strong> to create the secret.</p>
</li>
<li><p>Copy the value to a text document. Remember to save the value because you won’t be able to copy it later.</p>
</li>
<li><p>Select <strong>API permissions</strong> in the navigation pane and then select <strong>Add a permission</strong> &gt; <strong>Dynamics ERP</strong>.</p>
</li>
<li><p>Select <strong>Delegated permissions</strong> and then enable <strong>Ax.FullAccess</strong>, <strong>CustomService.FullAccess</strong>, and <strong>Odata.FullAccess</strong>.</p>
</li>
<li><p>Select <strong>Add permissions</strong> to close the dialog.</p>
</li>
<li><p>Select <strong>Overview</strong> in the navigation pane.</p>
</li>
<li><p>Copy the <strong>Application (client) ID</strong> and the <strong>Directory (tenant)</strong> to the same text document in which the <strong>Directory (tenant) ID</strong> value resides.</p>
</li>
</ol>
<p>Now setup continues in finance and operation apps.</p>
<h2 id="set-up-finance-and-operations-apps">Set up finance and operations apps</h2>
<p>Follow these steps to set up finance and operations apps:</p>
<ol>
<li>Sign in to the finance and operations apps environment, and then select <strong>System Administration</strong> &gt; <strong>Setup</strong> &gt;<strong>Microsoft Entra ID Applications</strong>.</li>
<li>Enter the client ID from the app registration in Azure.</li>
<li>Enter a name and a user ID, and then select <strong>Save</strong>.</li>
</ol>
<p>Now, you can generate an authentication token based on the value from the secret, the Application (client) ID, and the Directory (tenant) ID.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>Which of the following security elements would be used to grant access to a specific menu item or field in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Duty</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Role</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Permission</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Privilege</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>Which of the following security elements is assigned directly to a user and represents the least granular security control?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Duty</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Role</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Permission</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Privilege</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>What framework is used to assign data security policies to security roles in finance and operations apps?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Extensible data security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Security permissions framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Permissible data security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-3">
<input class="radio-dot choice-input" id="quiz-choice-2-3" name="2" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>Record level security framework</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The security structure in finance and operations apps is role-based, and all users must be assigned a role to gain access to the application.</p>
<p>Role-based security uses a hierarchy, with permissions representing the most granular security control and roles representing the least granular
control. Permissions are assigned to privileges, privileges are assigned
to duties, and duties are assigned to roles. A role represents the broad,
daily responsibilities for a job. A duty correlates to a business
process. A privilege represents access to perform a job task. Lastly, a
permission represents access to a securable object, such as a specific
button, field, or page in the user interface.</p>
<p>While users are assigned to roles in the finance and operations apps
application by using the System administration module, new roles,
duties, privileges, and permissions are created in Visual Studio. A data
security policy denies access to certain elements in the user interface.
By using the XDS framework, you can assign data security policies to roles.</p>
<p>Security permissions policies define access to various parts of the
system and are created based on queries. Many security policies exist in the AOT, but like other security elements, you can create new security
policies by adding an item to your project in the <strong>Solution Explorer</strong>
window.</p>
<h2 id="links-to-related-modules-and-sites-for-specific-topics">Links to related modules (and sites) for specific topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Role-based security overview</td>
<td><a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/sysadmin/role-based-security/?azure-portal=true">Role-based security</a></td>
</tr>
</tbody>
</table>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>People use computers because they can complete tasks accurately and
quickly. When a certain task takes a computer too long to complete, it can be frustrating, distracting, and cause lower productivity. Therefore, considering optimal computer performance should be a requirement in any project. Doing so will ensure that finance and operations apps run as efficiently as possible.</p>
<p>By optimizing your development for performance, you can ensure that users appreciate and value your work. As a finance and operations apps
developer, you should understand how your designs can be properly
optimized for performance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Identify and apply caching mechanisms</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Identify and apply caching mechanisms</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Cached data is information that’s retrieved from an outside source,
such as a website, app, or database that’s stored on your computer.
Caching data decreases loading times by reducing the number of calls that are made to the database. While caching data can improve performance, it
takes up space on your computer, so you should consider clearing
your cache periodically.</p>
<h2 id="table-caching">Table caching</h2>
<p>You can set up a table’s cache settings for finance and operations apps in the <strong>CacheLookup</strong> table property. Caching tables involves using set-based or single-record based caching. The differences between the two types are:</p>
<ul>
<li><p><strong>Set-based caching</strong> - Caches all groups of records at once. To
implement set-based caching, you need to set the
<strong>CacheLookup</strong> property to <strong>EntireTable</strong>.</p>
<p>This type caches all of a table’s records after your first selection. You should avoid this type of caching for large tables because, when the cache size reaches 128 kilobytes (KB), the cache moves from memory to disk. A disk search is slower than an in-memory search and can decrease performance.</p>
</li>
<li><p><strong>Single-record caching</strong> - Caches one single record at a time. Two conditions must be met to use single-record caching.</p>
<ul>
<li><p>The <strong>CacheLookup</strong> property must be set to <strong>NotInTTS</strong>, <strong>Found</strong>, or <strong>FoundAndEmpty</strong>.</p>
</li>
<li><p>The record buffer <strong>disableCache</strong> method doesn't
return true. Single-record caches are used on the client and the
Application Object Server (AOS). If a select query is run on the
client side, the system searches the client-side browser cache. If no record is found in
the browser cache, finance and operations apps searches the record's AOS cache. After the system searches through the client and server caches,
the data is retrieved from the database. You can also
run queries on the server. These queries look in the
server cache for the record and then call the database if the
record isn't found. You can set up the number of records that the cache should maintain by going to <strong>System administration &gt;
Setup &gt; System &gt; Server configuration</strong> page in finance and
operations apps.</p>
</li>
</ul>
</li>
</ul>
<h2 id="display-method-caching">Display method caching</h2>
<p>In finance and operations apps, you can use display methods to show a calculated field. Whenever the form refreshes, the display method is calculated.</p>
<p>To improve performance, you can cache a display method, which means that it’s calculated only once when it's received from the cache.</p>
<p>To enable caching for a display method, add it to the <code>init</code> method on the form by using the following syntax:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt; 
    /// Adding cache for display field 
    /// &lt;/summary&gt; 
    public void init() 
    { 
      super(); 
      this.cacheAddMethod(tableMethodStr(CustTable,
         myDisplayMethod)); 
    }
</code></pre>
<p>Using <code>cacheAddMethod</code> activates the caching mechanism for the display method, and it loads into the cache.
Another way to activate caching is to use <strong>[SysClientCacheDataMethodAttribute]</strong> on the display method. The method is automatically added to the caching mechanism.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Optimize temporary table usage</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Optimize temporary table usage</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>This unit explains temporary tables, the different types of temporary
tables, and when they should be used.</p>
<p>Temporary tables allow you to efficiently create and clean up temporary
data. The two types of temporary tables are:</p>
<ul>
<li><code>InMemory</code></li>
<li><code>TempDB</code></li>
</ul>
<p>The table type can be determined on the table's <code>TableType</code>
property.</p>
<p><a data-linktype="relative-path" href="media/tables-1.png#lightbox"><img alt="Screenshot of the Properties table page highlighting the Table Type property." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/apply-basic-performance-optimization-finance-operations/media/tables-1.png"/></a></p>
<p><code>InMemory</code> tables use an indexed sequential access method
(ISAM) file that exists on the client tier or the AOS tier. Microsoft
SQL Server has no connection to the ISAM file. The data is stored in
memory until it reaches 128 KB, and then the dataset is written to a
disk file on the server tier. <code>InMemory</code> tables are
instantiated when the first record is inserted. The table exists and
memory is only allocated to the table while a record buffer exists.</p>
<p>An <code>InMemory</code> table might be used when you need to store and
retrieve data without writing data to the database. This is like a
container, but <code>InMemory</code> tables allow you to use indexes to
speed up data retrieval. If you are only using a few records, you should
use a container, not an <code>InMemory</code> table. You can use X++
SQL syntax to join an <code>InMemory</code> table, however, joins and SQL
operations are usually inefficient.</p>
<p><code>TempDB</code> tables use the <code>TempDB</code> database of the
SQL Server. This type of table causes the data to be removed when it is
no longer used by the current method or when the system is restarted. Regular tables are automatically turned into <code>TempDB</code> tables by
disabling the configuration key for the table, which allows references
to the disabled table in the system to continue to compile and run.
Additionally, <code>TempDB</code> tables are commonly used on reports to manipulate data.</p>
<p>The capabilities of <code>TempDB</code> tables include the following:</p>
<ul>
<li>Joining to regular tables.</li>
<li>Using foreign keys.</li>
<li>Being per company or global.</li>
<li>Having indexes.</li>
<li>Having methods but an inability to override the methods.</li>
<li>Instantiating from the client or server tier.</li>
<li>Being used as a query.</li>
<li>Having no requirements for a configuration key.</li>
</ul>
<p><code>TempDB</code> tables also have the following limitations:</p>
<ul>
<li>Inability to manage date-effective data.</li>
<li>They do not contain delete actions.</li>
<li>Record Level Security does not apply.</li>
<li>You cannot use them in views.</li>
</ul>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Create or modify temporary tables to optimize data</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Create or modify temporary tables to optimize data</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The system stores <code>InMemory</code> tables in memory, so you might find them useful for a small number of records. You can’t use <code>InMemory</code> tables in a query because they don’t exist on SQL Server. Records in a temporary table of the <code>InMemory</code> type exist as long as the object in which you create the table exists.</p>
<p>The following code shows an example of how to insert data into a temporary table.</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        SalesShippingLabelTmp       salesShippingLabelTmp;

        ttsbegin;

        salesShippingLabelTmp.Label = 1;
        salesShippingLabelTmp.Name  = 'Finance and operations apps';
        salesShippingLabelTmp.insert();

        ttscommit;

        while select salesShippingLabelTmp
            order by Label
        {
            Info(strFmt('%1 %2', salesShippingLabelTmp.Label, salesShippingLabelTmp.Name));
        }
    }

</code></pre>
<p>The code sample appears similar to how code for a normal table would appear. The scope for <code>InMemory</code> tables depends on how you declare it. If you declare it in a method, the scope is only in the method.</p>
<div class="NOTE">
<p>Note</p>
<p>You can declare an <code>InMemory</code> table at all levels, so it would be in scope for a class or a form, too.</p>
</div>
<p>You can link <code>InMemory</code> tables from one object to another with the <code>setTempData</code> method, thereby creating a new instance link, as follows:</p>
<pre><code class="lang-xpp">        SalesShippingLabelTmp salesShippingLabelTmp2;
 
        salesShippingLabelTmp2.setTmpData(salesShippingLabelTmp);
</code></pre>
<p>You can use all tables as an <code>InMemory</code> table by using the <code>setTmp</code> method of <code>salesShippingLabelTmp2.setTmp();</code></p>
<p>To use an <code>InMemory</code> table as a form datasource, you need to:</p>
<ul>
<li>Add the <code>InMemory</code> table as a form datasource.</li>
<li>Use the <code>setTempData</code> to configure data to the record set for the form datasource in the <code>Init</code> method for the <code>InMemory</code> table form datasource, as follows:</li>
</ul>
<pre><code class="lang-xpp">    [DataSource]
    class SalesShippingLabelTmp
    {
        public void init()
        {
            super();
            salesShippingLabelTmp.setTmpData(mySalesCalcLabel.parmSalesShippingLabelTmp());
        }
    }
</code></pre>
<p>The code example shows how to set <code>InMemory</code> table data to a form datasource. When you're using the <code>setTmpData</code> method in a method other than <code>Init</code>, follow it with <code>executeQuery</code> on the datasource.</p>
<h2 id="create-a-temporary-table-with-the-tempdb-table-type">Create a temporary table with the TempDB table type</h2>
<p><code>TempDB</code> temporary tables are useful for larger amounts of data, and you can create them in the TempDB table in SQL Server. You can create indexes for performance optimization similar to how you’d do it for a regular table in finance and operations apps.</p>
<p>The use of <code>TempDB</code> tables is similar to using <code>InMemory</code> tables, though a few key differences exist, where <code>TempDB</code> tables:</p>
<ul>
<li>Require the <code>linkPhysicalTableInstance</code> method when you link data from one <code>TempDB</code> table to another, rather than the <code>InMemory</code> method of <code>setTmpData</code>.</li>
<li>Can be global or according to company data.</li>
<li>Support transaction scope or the transaction tracking system (TTS).</li>
<li>Support indexes.</li>
<li>Support joins to regular tables.</li>
</ul>
<p>The following code shows the use of a <code>TempDB</code> table, which is similar to the use of an <code>InMemory</code> table, with <code>linkPhysicalTableInstance</code> used for linking data to a new instance.</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        SalesIdTempTable            salesIdTempTable;

        ttsbegin;

        salesIdTempTable.SalesId = 'SO-1';
        salesIdTempTable.insert();

        salesIdTempTable.SalesId = 'SO-2';
        salesIdTempTable.insert();

        ttscommit;

        while select salesIdTempTable
            order by SalesId
        {
            Info(strFmt('%1', salesIdTempTable.SalesId));
        }

        SalesIdTempTable salesIdTempTable2;
 
        salesIdTempTable2.linkPhysicalTableInstance(salesIdTempTable);
    }
</code></pre>
<p>You can use <code>TempDB</code> in the Extensible Data Security (XDS) framework to build a temporary table with allowed data for users. Then, you can update it depending on the refresh frequency.</p>
<p>When the user closes their session, the system removes all data in the <code>TempDB</code> table.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">When to use set-based statements and row-based operations</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">When to use set-based statements and row-based operations</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Set-based statements are used to update, insert, or delete multiple
records of data from a table.</p>
<p>Row-based, or non-set-based, operations are used to update, insert, or
delete a single record from a table.</p>
<p>Using set-based queries can greatly increase performance by reducing the
number of calls that are made to the database.</p>
<p>A row-based operation requires a call to the database for each record
that needs to be manipulated, while a set-based statement only calls the
database once.</p>
<p>For example, if you need to update 100 records on a table, a row-based
operation would call the update method and call the database 100 times
to update all the records. A set-based statement would call the <code>update_recordset</code> method once and call the database once to update all the records.</p>
<p>Three examples of set-based statements that can be used are:</p>
<ul>
<li><strong><code>Update_recordset</code></strong> - Used to update multiple records at once.</li>
<li><strong><code>Delete_from</code></strong> - Used to delete multiple records at once.</li>
<li><strong><code>Insert_recordset</code></strong> - Used to copy multiple
records from one or more tables into another table.</li>
</ul>
<p>The <code>update_recordset</code> can update multiple fields on a
table. You can also specify a where clause to determine what records are
updated. The following is an example of an <code>update_recordset</code> where
you declare the table and call the <code>update_recordset</code> to
update the customer <strong>PaymMode</strong> and <strong>Currency</strong> fields only
for the customers with a <code>CustGroup</code> field that equals "US."
Keep in mind that if the update method is overridden, the
<code>update_recordset</code> will call the update method one at a
time instead of all at once.</p>
<pre><code class="lang-xpp">CustTable custTable;
Update_recordset custTable
Setting
	 PaymMode = 'Check',
	 Currency = 'USD'
Where custTable.CustGroup == 'US';
</code></pre>
<p>The <code>delete_from</code> method is like the <code>update_recordset</code>. You can delete multiple records at the same time from a table, and you can use a where clause to determine which records to delete. In the following example, the table is declared and then the <code>delete_from</code> is called to delete all the records where the customer's <code>CustGroup</code> field equals "US."</p>
<pre><code class="lang-xpp">CustTable custTable;
Delete_from custTable
	Where custTable.CustGroup == 'US';
</code></pre>
<p><code>Insert_recordset</code> lets you insert multiple records
from one table into another table. You can use a where clause to determine which records to insert, and you can use variables to insert. In the following example, the table that will be inserted into and the table that you are pulling data from are declared. The <code>insert_recordset</code> is then called to insert data into the fields that are listed in parentheses. The fields from the staging table are then called in the order that the fields were listed in the parentheses. Now, those fields will be inserted into the <code>CustTable</code> where the staged customer's <code>CustGroup</code> field equals "US."</p>
<pre><code class="lang-xpp">CustTable custTable;
CustCustomerBaseStaging custCustomerBaseStaging;

Insert_recordset custTable (accountNum, custGroup, paymMode, currency)
	Select CustomerAccount, CustomerGroupId, PaymentMethod,SalesCurrencyCode
		From custCustomerBaseStaging
		Where custCustomerBaseStaging.CustGroupID == 'US';
</code></pre>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Query optimization principles</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Query optimization principles</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Poorly created queries can cause performance issues. You can apply a few best practices to queries to help avoid unnecessary impacts, including:</p>
<ul>
<li><strong>All queries should pull only the required data needed</strong> - Your queries should pull from a defined list of fields. For example, if you need to pull a customer’s account number, you should limit your query to only pull the <strong>Account number</strong> field. Pulling unnecessary fields decreases performance.</li>
<li><strong>Avoid nested queries</strong> - Nested queries are queries within a query. For example, a nested query occurs if you create a query to pull the <strong>Customer</strong> table and then create a second query to pull the <strong>Sales</strong> table based on the first query. Instead, use a join to link the two tables into a single query.</li>
</ul>
<p>The four types of joins that you can make with select queries are:</p>
<ul>
<li><strong>Join</strong> - Pulls records that match on both tables, such as an inner join.</li>
<li><strong>Outer join</strong> - Pulls records regardless of whether those records match on both tables.</li>
<li><strong>Exists join</strong> - Pulls all records from the first table that match the records in the second table. No records from the second table are returned.</li>
<li><strong>Notexists join</strong> - Pulls all records from the first table that don’t match records in the second table. No records from the second table are returned.</li>
</ul>
<p>Using the appropriate join can increase performance by reducing the
number of unneeded records and fields that are pulled.</p>
<p>On large tables and rapidly growing tables, such as an inventory
transaction table, you should use an <em>index</em> and <em>index hint</em> in queries
to sort the data. The keyword <em>index</em> tells the system to look for
an optimal index to use to sort the data. The <em>index hint</em> suggests an index.</p>
<h2 id="maintain-diagnostic-validation-rules">Maintain diagnostic validation rules</h2>
<p>Some tools can help you identify areas to
optimize performance. The <strong>Optimization advisor</strong> workspace within finance and operations apps is where you can view a list of messages from the last performance check of possible opportunities toward better performance.</p>
<p>You can maintain the rules and frequency of the performance check from <strong>System administration &gt; Periodic tasks &gt; Maintain diagnostics validation rule</strong> and <strong>System administration &gt; Periodic tasks &gt; Schedule diagnostics validation rule</strong>.</p>
<p>Dynamics 365 Lifecycle Services provides tools to help you monitor
performance. To access these tools, go to the <strong>Cloud-hosted
environments</strong> page and select the <strong>Full details</strong> link.</p>
<h2 id="optimization-tools">Optimization tools</h2>
<p>Finance and operations apps can use different tools for monitoring and diagnosing performance issues, including:</p>
<ul>
<li>Trace Parser, which includes long-running X++ methods, time-consuming SQL queries, and client server calls.</li>
<li>Performance SDK, which is for performance load test.</li>
<li>SQL Insights in Lifecycle Services, which includes performance metrics, index analysis, live view, queries, and actions for a specific environment.</li>
<li>SQL trace, which uses a SQL profiler on a Tier-1 environment.</li>
<li>Monitoring of server health metrics in Lifecycle Services for healthcheck for AOS, batch frameworks, the Data Import/Export framework, Microsoft Azure SQL, and Management reporter.</li>
</ul>
<h2 id="optimize-data-migration">Optimize data migration</h2>
<p>Data migration is a key success factor in almost every implementation. A primary concern for customers is how long a data migration might take, which depends on the amount of data that’s being migrated. Not all data entities are optimized for migration and the data volume that a migration might have.</p>
<p>You can make certain configurations to the <strong>Data management</strong> framework to help improve performance in data-migration scenarios, including:</p>
<ul>
<li><strong>Turn off change tracking</strong> - Change tracking is useful when you’re performing incremental data exports, and it slows down the migration process. Turning off change tracking helps improve performance.</li>
<li><strong>Turn on set-based processing</strong> - The <strong>Set-based processing</strong> field on the <strong>Data entity</strong> page is typically turned off. Set-based processing means bulk operations to the database instead of single record operations. You can also set the set-based processing feature at the top node for the data entity by setting the <strong>Enable Set Based SQL Operations</strong> and <strong>Support Set based SQL Operations</strong> properties to <strong>On</strong>.</li>
<li><strong>Create a data migration batch group</strong> - You should perform migration when few or no other activities are occurring on your system. Then, it might be helpful to run the jobs in a batch group.</li>
<li><strong>Enable priority-base batch scheduling</strong> - Optimize how batch jobs are run, which can use reserved capacity.</li>
<li><strong>Set up the maximum number of batch threads</strong> - The default maximum number of batches on a server configuration is eight. However, you can increase that to 12 or 16 threads. We recommend that you don’t set the number of threads higher than 16 without conducting full performance testing to determine potential system impacts.</li>
<li><strong>Import in batch mode</strong> - Use this configuration to use optimization configuration instead of a single thread.</li>
<li><strong>Clean staging tables</strong> - We recommend that you clean up staging tables. For more information, see <a data-linktype="absolute-path" href="/en-us/training/modules/work-data-management-finance-operations/7-export-import-copy-data/?azure-portal=true">Clean up the staging tables</a>.</li>
<li><strong>Update statistics</strong> - Updating statistics across associated tables can be helpful, and you can do so by using Lifecycle Services.</li>
<li><strong>Entity execution parameters</strong> - In the data import/export framework parameters on the <strong>Entity settings</strong> page, you can select the <strong>Configure entity execution</strong> parameters. Additionally, use the <strong>Import threshold record count</strong> and <strong>Import task count</strong> fields for optimization.</li>
<li><strong>Validations</strong> - You can turn off the ability to perform migration business validations and business logic by inserting and updating, which means that <code>validateWrite()</code> won’t run for validation and <code>insert()</code> and <code>update()</code> won’t run on the table. Also, you can turn off validation at the field level.</li>
</ul>
<p>General recommendations for optimizing data migration include:</p>
<ul>
<li>Separate files into smaller chunks.</li>
<li>Test performance in an appropriate Tier-2 or higher environment.</li>
<li>Test performance in a mock cutover before going live.</li>
</ul>
<p>Take notes when testing migration performance so that you’ve collected information on how to set up entities, batches, parameters, and other items.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Modify the scope of a variable</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Modify the scope of a variable</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>The scope of a variable defines where the variable can be accessed.
Variables that are declared in the class declarations are called <em>instance variables</em>. Instance variables, if they aren't declared private, can be accessed from any method in the class and from methods within a class that are extended from the original class.</p>
<p>Local variables are declared in a method and can only be accessed in the
method that they are declared in. When a variable is declared, it takes up memory to store the value.</p>
<p>Declaring all your variables in the class declaration allocates memory
for every variable until the process is finished. Using local variables
can help reduce overhead by only allocating memory during the time when
the method is running. When the code block in which the variable is
declared finishes, the memory is freed. We recommend that you declare
variables at the smallest scope possible to optimize memory efficiency.</p>
<h2 id="example">Example</h2>
<p>Here is an example of an instance variable versus a local variable.</p>
<pre><code class="lang-xpp">class ExampleClass
{
    private int instanceVariable; // Instance variable: accessible throughout the class

    public void demonstrateVariableScope()
    {
        int localVariable = 10; // Local variable: accessible only within this method
        instanceVariable = localVariable * 2;
        info(strFmt("Instance Variable: %1, Local Variable: %2", instanceVariable, localVariable));
    }
}

// Output: Instance Variable: 20, Local Variable: 10
</code></pre>
<h2 id="best-practices-for-variable-declaration">Best practices for variable declaration</h2>
<p>Follow these best practices for variable declaration:</p>
<ul>
<li><strong>Use local scope whenever possible</strong> - Declare variables within the smallest scope required to achieve functionality.</li>
<li><strong>Avoid unnecessary instance variables</strong> - Overusing instance variables can lead to excessive memory consumption.</li>
<li><strong>Organize your code for clarity</strong> - Group related variable declarations and avoid declaring unused variables.</li>
</ul>
<p>To learn more, see <a data-linktype="absolute-path" href="/en-us/dynamics365/fin-ops-core/dev-itpro/dev-ref/xpp-variables-data-types/?azure-portal=true">X++ variables</a>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Analyze and optimize concurrency</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Analyze and optimize concurrency</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Concurrency is used to control when data is available for other
processes. finance and operations apps uses two concurrency models:</p>
<ul>
<li><strong>Pessimistic Concurrency Control (PCC)</strong> - Locks records as soon as    they are retrieved from the database.</li>
<li><strong>Optimistic Concurrency Control (OCC)</strong> - Locks records when they    are being updated.</li>
</ul>
<p>The PCC model should be used when there is serialization logic that
requires locks on the record, or when update conflicts are likely.</p>
<p>OCC should be used on tables where it improves throughput in contrast to
PCC. Also, OCC is preferred if the table is updated or deleted from a
form and not from code.</p>
<p>OCC has advantages that help increase database performance:</p>
<ul>
<li>Fewer resources are used to lock records during updates.</li>
<li>Records are locked for a shorter length of time by using OCC instead of PCC.</li>
<li>Records remain available for other processes while they are selected    from the database.</li>
</ul>
<p>The disadvantage of using OCC happens when two processes try to update the
same record at the same time. When this occurs, the update will fail,
which can lead to reduced database performance if there are multiple
retries to updates.</p>
<p>All standard tables in finance and operations apps have a concurrency model
selected, and most of the tables use OCC. You can set the concurrency
model on the <code>OccEnabled</code> table property. Additionally, you can
override the table concurrency model in a <strong>Select</strong> statement. After
the keyword <em>Select</em>, you can use the keyword <em>optimisticLock</em> or
<em>pessimisticLock</em> to replace the keyword <code>forUpdate</code>.</p>
<p><img alt="Screenshot of the Properties page, highlighting the Concurrency model dropdown menu." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/modules/apply-basic-performance-optimization-finance-operations/media/concurrency-1.png"/></p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Apply parallel processing algorithms</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Apply parallel processing algorithms</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can use different approaches to batch processing by using parallel
processing algorithms. Developers typically use three different types of
parallel processing in their designs:</p>
<ul>
<li><p><strong>Individual task modeling</strong> - Creates a separate batch task
for each work item. This approach works well with a small number of
work items, and it is best at creating dependencies between work
items compared to the other parallel processes. It is also simpler
to develop compared to the other parallel processes. The individual
task modeling approach is not ideal for many tasks because the extra
overhead will affect performance and cause delays between batch
tasks that are running.</p>
</li>
<li><p><strong>Batch bundling</strong> - Uses a limited number of batch tasks that
have a bundle size value (the number of work items in each batch
task). This approach works well for a simple, even workload where
processing times are similar. In this case, the batch table is not
overly populated by batch tasks. Performance can be increased if the
bundle size is appropriate. A bundle size that is too large or
too small can experience performance issues. Uneven workloads can decrease performance with this approach because batch tasks will finish
processing at different times.</p>
</li>
<li><p><strong>Top picking</strong> - Creates a limited number of batch tasks
where each batch task picks and processes the first free work item.
This process requires a staging table to store work items for batch
tasks to process from. This approach works well if the workload is
uneven with varying processing times. The batch table is also not
overpopulated with batch tasks that are using this approach. If
several small work items need to be processed, tracking the work
items in the staging table can affect performance.</p>
</li>
</ul>
<p>Some key considerations for selecting an approach are:</p>
<ul>
<li><strong>Workload characteristics</strong>
<ul>
<li>Select individual task modeling for small, interdependent workloads.</li>
<li>Opt for batch bundling for uniform tasks with predictable processing times.</li>
<li>Use top picking for uneven workloads requiring flexibility.</li>
</ul>
</li>
<li><strong>Performance Optimization</strong>
<ul>
<li>Minimize overhead by avoiding unnecessary batch task creation.</li>
<li>Experiment with bundle sizes in batch bundling to find an optimal balance.</li>
</ul>
</li>
<li><strong>Implementation Complexity</strong>
<ul>
<li>Start with individual task modeling for simple requirements.</li>
<li>Transition to batch bundling or top picking as workload complexity increases.</li>
</ul>
</li>
</ul>
<h2 id="example-scenario">Example Scenario</h2>
<p>Consider the problem that a company processes sales orders daily. Small orders (under USD 1000) take a few seconds to validate, while large orders (above USD 10,000) require manual approval, taking several minutes.</p>
<p>A solution to this problem is to use <em>top picking</em>. Use a staging table to dynamically allocate tasks to batch processes based on order size and priority.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Implement the Async framework</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Implement the Async framework</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Long-running processes can time out in finance and operations apps. To overcome this issue, asynchronous processing lets users continue working while the process runs in the background.</p>
<p>For example, you might need to run processing in the application that deals with a large amount of data or transactions, and you don’t want to interrupt daily business processes. Therefore, you can use the asynchronous framework to run these processes in the background while users continue their work without interruption.</p>
<p>To run a process asynchronously, you need to use the
<code>runAsync</code> methods from the <code>FormRun</code> and
<code>Global</code> classes to call the static method that you want to run.
If the process is run on the client side, we recommend that you use the
<code>FormRun</code> class's <code>runAsync</code> method. The Global
class has a <code>runAsync</code> method that we recommend for running
code outside of the client.</p>
<p>You can use a callback method to display a message when the process is
completed. Only the <code>FormRun</code> class <code>runAsync</code>
method displays the message immediately. If you use the
<code>Global</code> class <code>runAsync</code> method, you need to refresh the page.</p>
<p>The static method’s signature must:</p>
<ul>
<li>Be static.</li>
<li>Return a container as an output parameter.</li>
<li>Have a container for in-parameters. The container can hold more values if needed.</li>
<li>Have a cancellation token for in-parameters.</li>
</ul>
<p>The following example shows a static method that you can use as <code>runAsync </code>:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// Create entities asynchronously
    /// &lt;/summary&gt;
    /// &lt;param name = "_params"&gt;Parameters&lt;/param&gt;
    /// &lt;param name = "_cancellationToken"&gt;CancellationToken object&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    static container runAsyncJob(container _params, System.Threading.CancellationToken _cancellationToken)
    {
        System.Exception _ex;

        try
        {
            // do something
        }
        catch(_ex)
        {
            throw error("Unsuccessfull");
        }

        return ["Successfull"];
    }
</code></pre>
<p>You can use another static method for the result, which is successful or an exception, and its signature must:</p>
<ul>
<li>Be static.</li>
<li>Return void.</li>
<li>Have AsyncTaskResult as an in-parameter.</li>
</ul>
<p>The following example is of a static method for a result:</p>
<pre><code class="lang-xpp">    /// &lt;summary&gt;
    /// Async callback
    /// &lt;/summary&gt;
    /// &lt;param name = "taskResult"&gt;Result of async import or export processing&lt;/param&gt;
    static public void processAsyncDataExecutionResult(AsyncTaskResult taskResult)
    {
        container returnValue;
        System.Exception exception;

        if (taskResult != null)
        {
            // Return value from async method
            returnValue = taskResult.getResult();

            // Exception thrown by async method invocation.
            exception = taskResult.getException();

            if (ClrInterop::isNull(exception))
            {
                info(con2Str(returnValue));
            }
            else
            {
                error(exception.Message);
            }
        }
    }
</code></pre>
<p>Now, the runAsync function can use the two methods (functions without a class name is defined in global class).</p>
<pre><code class="lang-xpp">    public static void main(Args _args)
    {
        System.Threading.CancellationTokenSource tokenSource = new System.Threading.CancellationTokenSource();
        
        // run job asynchronously
        
        runAsync(classNum(MyASyncClass),
                 staticMethodStr(MyASyncClass, runAsyncJob),
                 conNull(),
                 tokenSource.Token,
                 classNum(MyASyncClass),
                 staticMethodStr(MyASyncClass, processAsyncDataExecutionResult));
    }
</code></pre>
<p>The parameters that the runAsync function uses must have the following components:</p>
<ul>
<li>Class number for the class to be run.</li>
<li>Static method that runs asynchronously.</li>
<li>Container for in-parameters. The value from the container parameters is set as a parameter list for the implementation method.</li>
<li>Fallback token. The value from the fallback token parameter is set as a token for the implementation method.</li>
<li>Class number for the return result.</li>
<li>Static method for the result.</li>
</ul>
<p>To review an example of the preceding information in a standard application, we recommend that you review the <strong>Refresh entity list</strong> function in finance and operations apps, <strong>Data management</strong> workspace, <strong>Framework parameters</strong>, and <strong>Entity settings</strong>.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Develop Windows PowerShell scripts</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Develop Windows PowerShell scripts</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>You can develop Windows PowerShell scripts to interact with finance and operations apps and consume management functions.</p>
<p>Windows PowerShell is a task-based command-line shell and scripting language built on .NET. PowerShell helps system administrators and power-users to rapidly automate tasks that manage operating systems (Linux, macOS, and Windows) and processes.</p>
<p>PowerShell commands let you manage computers from the command line. PowerShell providers let you access data stores, such as the registry and certificate store, as easily as you access the file system. PowerShell includes a rich expression parser and a fully developed scripting language.</p>
<p>As a developer, you can create Windows PowerShell scripts in your developer box to automate tasks. In many cases, there may be several steps to a process you perform often. To help streamline and work more efficiently, you can write Windows PowerShell scripts to automate the steps. Your PowerScripts would be used in your developer environment.</p>
<p>The following are some scenarios where you can use PowerShell:</p>
<ul>
<li><strong>Database Sync</strong> – A PowerShell script can be used to synchronize the database. This is especially useful when you're copying a database between environments or during an upgrade.</li>
<li><strong>Restart services</strong> – You can create a script to restart services. You might want to do this when you're troubleshooting an environment.</li>
<li><strong>Reset the data mart</strong> – If your organization uses Financial Reports design for financial reporting, you can write a script that resets the data mart for financial reporting.</li>
<li><strong>Deploy and install models</strong> – If you want to automate deployment and installation of models, you can use a PowerShell script. You can do this for software deployable packages as well.</li>
</ul>
<h1 id="best-practices-for-powershell-scripting">Best practices for PowerShell scripting</h1>
<p>Here some best practices for working with PowerShell scripting.</p>
<h2 id="use-error-handling">Use error handling</h2>
<p>Ensure that scripts can gracefully handle unexpected issues.</p>
<p>Example:</p>
<pre><code class="lang-xpp">try {
    # Attempt to restart a service
    Restart-Service -Name 'MyService' -Force
} catch {
    Write-Error "Failed to restart service: $_"
}
</code></pre>
<h2 id="log-activities">Log activities</h2>
<p>Implement logging to track the success or failure of scripts for auditing and troubleshooting purposes.</p>
<p>Example:</p>
<pre><code class="lang-xpp"># Log the restart of a service
Write-Output "Service restarted successfully: $(Get-Date)" | Out-File "ServiceLog.txt" -Append
</code></pre>
<h2 id="test-thoroughly">Test thoroughly</h2>
<p>Always test scripts in a nonproduction environment to ensure reliability and prevent unintended consequences.</p>
<h2 id="follow-security-best-practices">Follow security best practices</h2>
<p>Restrict access to sensitive scripts and avoid hardcoding credentials.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create runnable classes in Visual Studio to test code</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Lab - Create runnable classes in Visual Studio to test code</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2 id="read-this-first---before-you-start-the-lab">Read this first - before you start the lab!</h2>
<div class="IMPORTANT">
<p>Important</p>
<p>For this lab, you CAN'T sign in with your own credentials. Use the following steps to sign in to your lab environment with the correct credentials.</p>
</div>
<ol>
<li>Ensure that you're signed in to Microsoft Learn.</li>
<li>Select <strong>Launch VM mode</strong> or <strong>Sign in to launch VM mode</strong> in this unit.</li>
<li>In the <strong>Resources</strong> tab on the lab side bar, select the <strong>T</strong> icon next to <strong>Password</strong> in the <strong>Finance and Operations</strong> box, to have the administrator password for the Virtual Machine (VM) entered for you.</li>
<li>Select <strong>Enter</strong>.</li>
<li>Microsoft Edge opens. Wait for it to navigate to the <strong>Sign in</strong> page for finance and operations. If you experience an issue with the <strong>Sign in</strong> page loading, try to restart the browser in the VM.</li>
<li>On the Microsoft <strong>Sign in</strong> page in finance and operations, place your mouse cursor into the <strong>Username</strong> field.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to <strong>Username</strong>, then press <strong>Enter</strong>.</li>
<li>Your mouse cursor is now in the <strong>Password</strong> page.</li>
<li>On the <strong>Resources</strong> tab of the lab side bar, below the <strong>Azure portal</strong> heading, select the <strong>T</strong> icon next to select <strong>Password</strong>, then press <strong>Enter</strong>.</li>
<li>In the <strong>Save password</strong> window, select <strong>Never</strong>.</li>
<li>Select <strong>Accept</strong> in the <strong>Permissions requested</strong> page.</li>
<li>To see the lab instructions, select the <strong>Instructions</strong> tab on the lab side bar.</li>
</ol>
<p>You can now begin your work on this lab.</p>
<h2 id="scenario">Scenario</h2>
<p>As a finance and operations apps developer, you can use runnable classes to test your code. In this lab, you will create a new project in Visual Studio, write a runnable class, then run the code within the application to ensure it is working as expected.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<ol>
<li>Minimize the Microsoft Edge window.</li>
<li>Right-click the Visual Studio shortcut and select <strong>Run as administrator</strong>.</li>
<li>Select <strong>Continue without code</strong>.</li>
<li>Open the <strong>File</strong> menu and select <strong>New &gt; Project</strong>.</li>
<li>Ensure that <strong>Finance Operations</strong> is selected in the left pane, and then select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog box, enter <strong>RunnableClass</strong> in the <strong>Project name</strong> field.</li>
<li>Select <strong>Create</strong>.</li>
<li>To ensure the correct applications suite is referenced, select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu.</li>
<li>Select <strong>Model Management &gt; Update model parameters</strong></li>
<li>Select the <strong>FleetManagement</strong> model from the <strong>Model name</strong> dropdown list.</li>
<li>Select <strong>Next</strong>, then ensure <strong>ApplicationSuite</strong> (not <strong>ApplicationSuiteFormAdaptor</strong>) is selected in the <strong>Select referenced packages</strong> drop-down list.</li>
<li>Select <strong>Next</strong> until the form closes.</li>
<li>Select <strong>Dynamics 365</strong> in the <strong>Extensions</strong> menu again.</li>
<li>Select <strong>Options</strong>.</li>
<li>Under the <strong>Dynamics 365</strong> node on the left pane, select <strong>Projects</strong>.</li>
<li>Ensure the check boxes for <strong>Organize projects by element type</strong> and <strong>Synchronize database on build for newly created project</strong> are selected.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
<h2 id="create-a-runnable-class">Create a runnable class</h2>
<ol>
<li><p>In the <strong>Solution Explorer</strong> window, right-click the <strong>RunnableClass</strong> project.</p>
</li>
<li><p>Select <strong>Add &gt; Class</strong>.</p>
</li>
<li><p>On the left pane, select <strong>Code</strong> under <strong>Dynamics 365 Items</strong>.</p>
</li>
<li><p>On the middle pane, select <strong>Runnable class (Job)</strong>.</p>
</li>
<li><p>Enter <strong>SampleClass</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Select <strong>Add</strong>.</p>
</li>
<li><p>The <strong>SampleClass</strong> runnable class will now be open in the element designer window. It may take a few seconds to open.</p>
</li>
<li><p>Remove the code present in <strong>Element designer</strong> window and then enter the following code line by line. Notice that the main method is already added for you since you selected a runnable class.</p>
<pre><code class="lang-xpp">class SampleClass
{
 /// &lt;summary&gt;
 /// Runs the class with the specified arguments.
 /// &lt;/summary&gt;
 /// &gt;param name = "_args"&gt;The specified arguments.&lt;/param&gt;

 Public static void main(Args _args)
     {
     	FMCustomer fmcustomers;

 	fmcustomers.FirstName = "Jane";
 	fmcustomers.LastName = "Doe";
 	fmcustomers.Email = "jane.doe@contoso.com";
 	fmcustomers.insert();

 	Info("Your record has been inserted.");
    }
}
</code></pre>
</li>
<li><p>Save the runnable class.</p>
</li>
<li><p>Right-click the <strong>RunnableClass</strong> project and select <strong>Build</strong>.</p>
</li>
<li><p>Right-click the <strong>Sample Class</strong> runnable class and select <strong>Set as Startup Object</strong>.</p>
</li>
<li><p>From the toolbar, select the option <strong>Debug &gt; Start Without Debugging</strong> to run the class.</p>
</li>
<li><p>The class runner will appear in a browser window after a couple of minutes, when the code executes, and an Infolog appear with <strong>Your record has been inserted.</strong>.</p>
</li>
</ol>
<h2 id="close-the-lab-environment">Close the lab environment</h2>
<ol>
<li>Select <strong>Done</strong> in the <strong>Instructions</strong> pane in the lab side bar.</li>
<li>In the <strong>Lab is complete</strong> window, select <strong>Continue</strong>, and then select <strong>Leave</strong> to return to the next unit in the module.</li>
</ol>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Check your knowledge</h1>


<div hidden="" id="module-unit-notification-container"></div>
<h2>Answer the following questions to see what you learned</h2>
<form aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>You need to update the unit price of multiple sales orders. What method would be best to use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Update()</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>doUpdate()</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>update_recordSet</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-3">
<input class="radio-dot choice-input" id="quiz-choice-0-3" name="0" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>insert_recordSet</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>You are writing a query to retrieve the customers that are not associated with a sales order. What join between the Customer table and the Sales table should you use?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Outer join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Exists join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-3">
<input class="radio-dot choice-input" id="quiz-choice-1-3" name="1" type="radio" value="3"/>
<div class="margin-inline-sm radio-label-text">
<p>NotExists join</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>You need to run a process in parallel. There are around 1,000 work items that would need to run with a bundle size of 100. You know that the run time for each work item will vary. What approach should you take to run this process?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Individual task modeling</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Batch bundling</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Top picking</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-4" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-4">
<span class="font-weight-semibold">4.</span>
<p>What is the best method to link data between two table instances of a ´TempDB´ table?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-0">
<input class="radio-dot choice-input" id="quiz-choice-3-0" name="3" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Use the <code>setTempData</code> method.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-1">
<input class="radio-dot choice-input" id="quiz-choice-3-1" name="3" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Use a <code>while select</code> method and copy data records individually to the other table instance.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-3-2">
<input class="radio-dot choice-input" id="quiz-choice-3-2" name="3" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Use the <code>linkPhysicalTableInstance</code> method.</p>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
<h2 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h2>
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>


<div hidden="" id="module-unit-notification-container"></div>
<p>Optimizing finance and operations apps is important during development, to
ensure proper system performance. Without optimization, system
performance will decrease, affecting users' ability to complete tasks in
a timely manner.</p>
<p>To optimize your system, use proper queries to only retrieve and
manipulate necessary data and use temporary tables when possible. For
long processes, investigate parallel processing and asynchronous
processing.</p>
<p>Additionally, Lifecycle Services and the <strong>Optimization advisor</strong> workspace can be used
to monitor performance.</p>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
